require("./runtime.js");require("./vendor.js");module.exports =
(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["bundle"],{

/***/ "./ sync ^\\.\\/app\\.(css|scss|less|sass)$":
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./app.css": "./app.css"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./ sync ^\\.\\/app\\.(css|scss|less|sass)$";

/***/ }),

/***/ "./ sync recursive (?<!\\bApp_Resources\\b.*)(?<!\\.\\/\\btests\\b\\/.*?)\\.(xml|css|js|(?<!\\.d\\.)ts|(?<!\\b_[\\w-]*\\.)scss)$":
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./app-root.xml": "./app-root.xml",
	"./app.css": "./app.css",
	"./app.js": "./app.js",
	"./assignments/assignment/assignment-page.js": "./assignments/assignment/assignment-page.js",
	"./assignments/assignment/assignment-page.xml": "./assignments/assignment/assignment-page.xml",
	"./assignments/assignments-page.js": "./assignments/assignments-page.js",
	"./assignments/assignments-page.xml": "./assignments/assignments-page.xml",
	"./assignments/assignments-view-model.js": "./assignments/assignments-view-model.js",
	"./bundle-config.js": "./bundle-config.js",
	"./committees/committee/committee-page.js": "./committees/committee/committee-page.js",
	"./committees/committee/committee-page.xml": "./committees/committee/committee-page.xml",
	"./committees/committee/committee-view-model.js": "./committees/committee/committee-view-model.js",
	"./committees/committees-page.js": "./committees/committees-page.js",
	"./committees/committees-page.xml": "./committees/committees-page.xml",
	"./committees/committees-view-model.js": "./committees/committees-view-model.js",
	"./components/tab-navigation.js": "./components/tab-navigation.js",
	"./home/home-page.js": "./home/home-page.js",
	"./home/home-page.xml": "./home/home-page.xml",
	"./home/home-view-model.js": "./home/home-view-model.js",
	"./legislators/legislator/bio/bio-page.js": "./legislators/legislator/bio/bio-page.js",
	"./legislators/legislator/bio/bio-page.xml": "./legislators/legislator/bio/bio-page.xml",
	"./legislators/legislator/committees/committees-page.js": "./legislators/legislator/committees/committees-page.js",
	"./legislators/legislator/committees/committees-page.xml": "./legislators/legislator/committees/committees-page.xml",
	"./legislators/legislator/committees/committees-view-model.js": "./legislators/legislator/committees/committees-view-model.js",
	"./legislators/legislator/initiativetiers/initiativetiers-page.js": "./legislators/legislator/initiativetiers/initiativetiers-page.js",
	"./legislators/legislator/initiativetiers/initiativetiers-page.xml": "./legislators/legislator/initiativetiers/initiativetiers-page.xml",
	"./legislators/legislator/initiativetiers/initiativetiers-view-model.js": "./legislators/legislator/initiativetiers/initiativetiers-view-model.js",
	"./legislators/legislator/legislator-page.js": "./legislators/legislator/legislator-page.js",
	"./legislators/legislator/legislator-page.xml": "./legislators/legislator/legislator-page.xml",
	"./legislators/legislator/legislator-view-model.js": "./legislators/legislator/legislator-view-model.js",
	"./legislators/legislator/surveys/select/select-page.js": "./legislators/legislator/surveys/select/select-page.js",
	"./legislators/legislator/surveys/select/select-page.xml": "./legislators/legislator/surveys/select/select-page.xml",
	"./legislators/legislator/surveys/select/select-view-model.js": "./legislators/legislator/surveys/select/select-view-model.js",
	"./legislators/legislator/surveys/survey/question/question-page.js": "./legislators/legislator/surveys/survey/question/question-page.js",
	"./legislators/legislator/surveys/survey/question/question-page.xml": "./legislators/legislator/surveys/survey/question/question-page.xml",
	"./legislators/legislator/surveys/survey/question/response-view-model.js": "./legislators/legislator/surveys/survey/question/response-view-model.js",
	"./legislators/legislator/surveys/survey/survey-page.js": "./legislators/legislator/surveys/survey/survey-page.js",
	"./legislators/legislator/surveys/survey/survey-page.xml": "./legislators/legislator/surveys/survey/survey-page.xml",
	"./legislators/legislator/surveys/survey/survey-view-model.js": "./legislators/legislator/surveys/survey/survey-view-model.js",
	"./legislators/legislator/surveys/surveys-page.js": "./legislators/legislator/surveys/surveys-page.js",
	"./legislators/legislator/surveys/surveys-page.xml": "./legislators/legislator/surveys/surveys-page.xml",
	"./legislators/legislator/surveys/surveys-view-model.js": "./legislators/legislator/surveys/surveys-view-model.js",
	"./legislators/legislators-page.js": "./legislators/legislators-page.js",
	"./legislators/legislators-page.xml": "./legislators/legislators-page.xml",
	"./legislators/legislators-view-model.js": "./legislators/legislators-view-model.js",
	"./login/login-page.js": "./login/login-page.js",
	"./login/login-page.xml": "./login/login-page.xml",
	"./login/login-view-model.js": "./login/login-view-model.js",
	"./main-page.js": "./main-page.js",
	"./main-page.xml": "./main-page.xml",
	"./meetings/meeting/attendeetype/attendeetype-page.js": "./meetings/meeting/attendeetype/attendeetype-page.js",
	"./meetings/meeting/attendeetype/attendeetype-page.xml": "./meetings/meeting/attendeetype/attendeetype-page.xml",
	"./meetings/meeting/attendeetype/attendeetype-view-model.js": "./meetings/meeting/attendeetype/attendeetype-view-model.js",
	"./meetings/meeting/followup/followup-page.js": "./meetings/meeting/followup/followup-page.js",
	"./meetings/meeting/followup/followup-page.xml": "./meetings/meeting/followup/followup-page.xml",
	"./meetings/meeting/initiatives/initiatives-page.js": "./meetings/meeting/initiatives/initiatives-page.js",
	"./meetings/meeting/initiatives/initiatives-page.xml": "./meetings/meeting/initiatives/initiatives-page.xml",
	"./meetings/meeting/initiatives/initiatives-view-model.js": "./meetings/meeting/initiatives/initiatives-view-model.js",
	"./meetings/meeting/meeting-page.js": "./meetings/meeting/meeting-page.js",
	"./meetings/meeting/meeting-page.xml": "./meetings/meeting/meeting-page.xml",
	"./meetings/meeting/meeting-view-model.js": "./meetings/meeting/meeting-view-model.js",
	"./meetings/meeting/meetinglocation/meetinglocation-page.js": "./meetings/meeting/meetinglocation/meetinglocation-page.js",
	"./meetings/meeting/meetinglocation/meetinglocation-page.xml": "./meetings/meeting/meetinglocation/meetinglocation-page.xml",
	"./meetings/meeting/meetinglocation/meetinglocation-view-model.js": "./meetings/meeting/meetinglocation/meetinglocation-view-model.js",
	"./meetings/meeting/notes/notes-page.js": "./meetings/meeting/notes/notes-page.js",
	"./meetings/meeting/notes/notes-page.xml": "./meetings/meeting/notes/notes-page.xml",
	"./meetings/meeting/offeredtomembers/offeredtomembers-page.js": "./meetings/meeting/offeredtomembers/offeredtomembers-page.js",
	"./meetings/meeting/offeredtomembers/offeredtomembers-page.xml": "./meetings/meeting/offeredtomembers/offeredtomembers-page.xml",
	"./meetings/meeting/staffattendees/staffattendees-page.js": "./meetings/meeting/staffattendees/staffattendees-page.js",
	"./meetings/meeting/staffattendees/staffattendees-page.xml": "./meetings/meeting/staffattendees/staffattendees-page.xml",
	"./meetings/meeting/venuetype/venuetype-page.js": "./meetings/meeting/venuetype/venuetype-page.js",
	"./meetings/meeting/venuetype/venuetype-page.xml": "./meetings/meeting/venuetype/venuetype-page.xml",
	"./meetings/meeting/venuetype/venuetype-view-model.js": "./meetings/meeting/venuetype/venuetype-view-model.js",
	"./meetings/meetings-page.js": "./meetings/meetings-page.js",
	"./meetings/meetings-page.xml": "./meetings/meetings-page.xml",
	"./meetings/meetings-view-model.js": "./meetings/meetings-view-model.js",
	"./profiles/profile/familiaritylevel-view-model.js": "./profiles/profile/familiaritylevel-view-model.js",
	"./profiles/profile/profile-page.js": "./profiles/profile/profile-page.js",
	"./profiles/profile/profile-page.xml": "./profiles/profile/profile-page.xml",
	"./profiles/profile/relationshiptype-view-model.js": "./profiles/profile/relationshiptype-view-model.js",
	"./profiles/profiles-page.js": "./profiles/profiles-page.js",
	"./profiles/profiles-page.xml": "./profiles/profiles-page.xml",
	"./profiles/profiles-view-model.js": "./profiles/profiles-view-model.js",
	"./profiles/profilesearch/old/profilesearch-page.js": "./profiles/profilesearch/old/profilesearch-page.js",
	"./profiles/profilesearch/old/profilesearch-page.xml": "./profiles/profilesearch/old/profilesearch-page.xml",
	"./profiles/profilesearch/old/profilesearch-view-model.js": "./profiles/profilesearch/old/profilesearch-view-model.js",
	"./profiles/profilesearch/profilesearch-page.js": "./profiles/profilesearch/profilesearch-page.js",
	"./profiles/profilesearch/profilesearch-page.xml": "./profiles/profilesearch/profilesearch-page.xml",
	"./profiles/profilesearch/profilesearch-view-model.js": "./profiles/profilesearch/profilesearch-view-model.js",
	"./vendor-platform.js": "./vendor-platform.js",
	"./vendor.js": "./vendor.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./ sync recursive (?<!\\bApp_Resources\\b.*)(?<!\\.\\/\\btests\\b\\/.*?)\\.(xml|css|js|(?<!\\.d\\.)ts|(?<!\\b_[\\w-]*\\.)scss)$";

/***/ }),

/***/ "./ sync recursive (page|fragment)\\.(xml|css|js|ts|scss)$":
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./assignments/assignment/assignment-page.js": "./assignments/assignment/assignment-page.js",
	"./assignments/assignment/assignment-page.xml": "./assignments/assignment/assignment-page.xml",
	"./assignments/assignments-page.js": "./assignments/assignments-page.js",
	"./assignments/assignments-page.xml": "./assignments/assignments-page.xml",
	"./committees/committee/committee-page.js": "./committees/committee/committee-page.js",
	"./committees/committee/committee-page.xml": "./committees/committee/committee-page.xml",
	"./committees/committees-page.js": "./committees/committees-page.js",
	"./committees/committees-page.xml": "./committees/committees-page.xml",
	"./home/home-page.js": "./home/home-page.js",
	"./home/home-page.xml": "./home/home-page.xml",
	"./legislators/legislator/bio/bio-page.js": "./legislators/legislator/bio/bio-page.js",
	"./legislators/legislator/bio/bio-page.xml": "./legislators/legislator/bio/bio-page.xml",
	"./legislators/legislator/committees/committees-page.js": "./legislators/legislator/committees/committees-page.js",
	"./legislators/legislator/committees/committees-page.xml": "./legislators/legislator/committees/committees-page.xml",
	"./legislators/legislator/initiativetiers/initiativetiers-page.js": "./legislators/legislator/initiativetiers/initiativetiers-page.js",
	"./legislators/legislator/initiativetiers/initiativetiers-page.xml": "./legislators/legislator/initiativetiers/initiativetiers-page.xml",
	"./legislators/legislator/legislator-page.js": "./legislators/legislator/legislator-page.js",
	"./legislators/legislator/legislator-page.xml": "./legislators/legislator/legislator-page.xml",
	"./legislators/legislator/surveys/select/select-page.js": "./legislators/legislator/surveys/select/select-page.js",
	"./legislators/legislator/surveys/select/select-page.xml": "./legislators/legislator/surveys/select/select-page.xml",
	"./legislators/legislator/surveys/survey/question/question-page.js": "./legislators/legislator/surveys/survey/question/question-page.js",
	"./legislators/legislator/surveys/survey/question/question-page.xml": "./legislators/legislator/surveys/survey/question/question-page.xml",
	"./legislators/legislator/surveys/survey/survey-page.js": "./legislators/legislator/surveys/survey/survey-page.js",
	"./legislators/legislator/surveys/survey/survey-page.xml": "./legislators/legislator/surveys/survey/survey-page.xml",
	"./legislators/legislator/surveys/surveys-page.js": "./legislators/legislator/surveys/surveys-page.js",
	"./legislators/legislator/surveys/surveys-page.xml": "./legislators/legislator/surveys/surveys-page.xml",
	"./legislators/legislators-page.js": "./legislators/legislators-page.js",
	"./legislators/legislators-page.xml": "./legislators/legislators-page.xml",
	"./login/login-page.js": "./login/login-page.js",
	"./login/login-page.xml": "./login/login-page.xml",
	"./main-page.js": "./main-page.js",
	"./main-page.xml": "./main-page.xml",
	"./meetings/meeting/attendeetype/attendeetype-page.js": "./meetings/meeting/attendeetype/attendeetype-page.js",
	"./meetings/meeting/attendeetype/attendeetype-page.xml": "./meetings/meeting/attendeetype/attendeetype-page.xml",
	"./meetings/meeting/followup/followup-page.js": "./meetings/meeting/followup/followup-page.js",
	"./meetings/meeting/followup/followup-page.xml": "./meetings/meeting/followup/followup-page.xml",
	"./meetings/meeting/initiatives/initiatives-page.js": "./meetings/meeting/initiatives/initiatives-page.js",
	"./meetings/meeting/initiatives/initiatives-page.xml": "./meetings/meeting/initiatives/initiatives-page.xml",
	"./meetings/meeting/meeting-page.js": "./meetings/meeting/meeting-page.js",
	"./meetings/meeting/meeting-page.xml": "./meetings/meeting/meeting-page.xml",
	"./meetings/meeting/meetinglocation/meetinglocation-page.js": "./meetings/meeting/meetinglocation/meetinglocation-page.js",
	"./meetings/meeting/meetinglocation/meetinglocation-page.xml": "./meetings/meeting/meetinglocation/meetinglocation-page.xml",
	"./meetings/meeting/notes/notes-page.js": "./meetings/meeting/notes/notes-page.js",
	"./meetings/meeting/notes/notes-page.xml": "./meetings/meeting/notes/notes-page.xml",
	"./meetings/meeting/offeredtomembers/offeredtomembers-page.js": "./meetings/meeting/offeredtomembers/offeredtomembers-page.js",
	"./meetings/meeting/offeredtomembers/offeredtomembers-page.xml": "./meetings/meeting/offeredtomembers/offeredtomembers-page.xml",
	"./meetings/meeting/staffattendees/staffattendees-page.js": "./meetings/meeting/staffattendees/staffattendees-page.js",
	"./meetings/meeting/staffattendees/staffattendees-page.xml": "./meetings/meeting/staffattendees/staffattendees-page.xml",
	"./meetings/meeting/venuetype/venuetype-page.js": "./meetings/meeting/venuetype/venuetype-page.js",
	"./meetings/meeting/venuetype/venuetype-page.xml": "./meetings/meeting/venuetype/venuetype-page.xml",
	"./meetings/meetings-page.js": "./meetings/meetings-page.js",
	"./meetings/meetings-page.xml": "./meetings/meetings-page.xml",
	"./profiles/profile/profile-page.js": "./profiles/profile/profile-page.js",
	"./profiles/profile/profile-page.xml": "./profiles/profile/profile-page.xml",
	"./profiles/profiles-page.js": "./profiles/profiles-page.js",
	"./profiles/profiles-page.xml": "./profiles/profiles-page.xml",
	"./profiles/profilesearch/old/profilesearch-page.js": "./profiles/profilesearch/old/profilesearch-page.js",
	"./profiles/profilesearch/old/profilesearch-page.xml": "./profiles/profilesearch/old/profilesearch-page.xml",
	"./profiles/profilesearch/profilesearch-page.js": "./profiles/profilesearch/profilesearch-page.js",
	"./profiles/profilesearch/profilesearch-page.xml": "./profiles/profilesearch/profilesearch-page.xml"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./ sync recursive (page|fragment)\\.(xml|css|js|ts|scss)$";

/***/ }),

/***/ "./app-root.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Frame defaultPage=\"login/login-page\"></Frame>"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./app-root.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./app-root.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./app.css":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {module.exports = {"type":"stylesheet","stylesheet":{"rules":[{"type":"comment","comment":"\nIn NativeScript, the app.css file is where you place CSS rules that\nyou would like to apply to your entire application. Check out\nhttp://docs.nativescript.org/ui/styling for a full list of the CSS\nselectors and properties you can use to style UI components.\n\n/*\nFor example, the following CSS rule changes the font size of all UI\ncomponents that have the btn class name.\n"},{"type":"rule","selectors":["ActivityIndicator"],"declarations":[{"type":"declaration","property":"color","value":"#0075be"}]},{"type":"rule","selectors":["Page"],"declarations":[{"type":"declaration","property":"background-color","value":"#eee"},{"type":"comment","comment":" margin-top: -20; fix nested frame spacing "}]},{"type":"rule","selectors":[".ios .page"],"declarations":[{"type":"declaration","property":"margin-top","value":"0"}]},{"type":"rule","selectors":[".android TextField"],"declarations":[{"type":"declaration","property":"font","value":"14"}]},{"type":"rule","selectors":[".android .login-field"],"declarations":[{"type":"declaration","property":"margin-bottom","value":"0"},{"type":"declaration","property":"margin-left","value":"10"},{"type":"declaration","property":"margin-right","value":"10"},{"type":"declaration","property":"margin-top","value":"0"}]},{"type":"rule","selectors":[".ios .login-field"],"declarations":[{"type":"declaration","property":"margin-bottom","value":"10"},{"type":"declaration","property":"margin-left","value":"10"},{"type":"declaration","property":"margin-right","value":"15"},{"type":"declaration","property":"margin-top","value":"10"}]},{"type":"rule","selectors":[".android .login-field-switch"],"declarations":[{"type":"declaration","property":"margin-bottom","value":"5"},{"type":"declaration","property":"margin-left","value":"10"},{"type":"declaration","property":"margin-right","value":"10"},{"type":"declaration","property":"margin-top","value":"5"}]},{"type":"rule","selectors":[".ios .login-field-switch"],"declarations":[{"type":"declaration","property":"margin-bottom","value":"5"},{"type":"declaration","property":"margin-left","value":"10"},{"type":"declaration","property":"margin-right","value":"10"},{"type":"declaration","property":"margin-top","value":"5"}]},{"type":"rule","selectors":[".hr-light"],"declarations":[{"type":"declaration","property":"background-color","value":"#e0e0e0"},{"type":"declaration","property":"height","value":"1"},{"type":"declaration","property":"width","value":"100%"}]},{"type":"rule","selectors":[".hr-dark"],"declarations":[{"type":"declaration","property":"height","value":"1"},{"type":"declaration","property":"background-color","value":"#303030"},{"type":"declaration","property":"width","value":"100%"}]},{"type":"rule","selectors":[".android .button"],"declarations":[{"type":"declaration","property":"background","value":"#eee"},{"type":"declaration","property":"border-color","value":"#ccc"},{"type":"declaration","property":"border-radius","value":"3"},{"type":"declaration","property":"border-style","value":"solid"},{"type":"declaration","property":"border-width","value":"1"},{"type":"declaration","property":"color","value":"black"},{"type":"declaration","property":"font-size","value":"12"},{"type":"declaration","property":"height","value":"30"},{"type":"declaration","property":"margin-bottom","value":"10"},{"type":"declaration","property":"margin-top","value":"10"},{"type":"declaration","property":"padding","value":"0"}]},{"type":"rule","selectors":[".ios .button"],"declarations":[{"type":"declaration","property":"background","value":"#eee"},{"type":"declaration","property":"border-color","value":"#ccc"},{"type":"declaration","property":"border-radius","value":"3"},{"type":"declaration","property":"border-style","value":"solid"},{"type":"declaration","property":"border-width","value":"1"},{"type":"declaration","property":"color","value":"black"},{"type":"declaration","property":"font-size","value":"18"},{"type":"declaration","property":"margin-bottom","value":"10"},{"type":"declaration","property":"margin-top","value":"10"},{"type":"declaration","property":"padding","value":"5"}]},{"type":"rule","selectors":[".android .login-button"],"declarations":[{"type":"declaration","property":"background","value":"#ccc"},{"type":"declaration","property":"border-color","value":"#999"},{"type":"declaration","property":"border-radius","value":"3"},{"type":"declaration","property":"border-style","value":"solid"},{"type":"declaration","property":"border-width","value":"1"},{"type":"declaration","property":"color","value":"black"},{"type":"declaration","property":"font-size","value":"12"},{"type":"declaration","property":"height","value":"30"},{"type":"declaration","property":"margin-bottom","value":"10"},{"type":"declaration","property":"margin-top","value":"10"},{"type":"declaration","property":"padding","value":"5"}]},{"type":"rule","selectors":[".ios .login-button"],"declarations":[{"type":"declaration","property":"background","value":"#0075be"},{"type":"declaration","property":"border-color","value":"#0075be"},{"type":"declaration","property":"border-radius","value":"3"},{"type":"declaration","property":"border-style","value":"solid"},{"type":"declaration","property":"border-width","value":"1"},{"type":"declaration","property":"color","value":"white"},{"type":"declaration","property":"font-size","value":"18"},{"type":"declaration","property":"margin-bottom","value":"10"},{"type":"declaration","property":"margin-top","value":"10"},{"type":"declaration","property":"padding","value":"10"}]},{"type":"rule","selectors":[".android .forgot-button"],"declarations":[{"type":"declaration","property":"background","value":"transparent"},{"type":"declaration","property":"border","value":"none"},{"type":"declaration","property":"color","value":"#ea092a"},{"type":"declaration","property":"font-size","value":"11"}]},{"type":"rule","selectors":[".ios .forgot-button"],"declarations":[{"type":"declaration","property":"background","value":"transparent"},{"type":"declaration","property":"border","value":"none"},{"type":"declaration","property":"color","value":"#ea092a"},{"type":"declaration","property":"font-size","value":"16"}]},{"type":"rule","selectors":[".navigation-frame Page"],"declarations":[{"type":"comment","comment":" margin-top: 20; fix nested frame spacing "},{"type":"declaration","property":"background-color","value":"white"}]},{"type":"rule","selectors":[".tab"],"declarations":[{"type":"comment","comment":" padding: 10; "},{"type":"declaration","property":"border-top-color","value":"#ddd"},{"type":"declaration","property":"border-top-width","value":"1"},{"type":"declaration","property":"background-color","value":"#eeeeee"},{"type":"declaration","property":"color","value":"#999"}]},{"type":"rule","selectors":[".tab-selected"],"declarations":[{"type":"declaration","property":"color","value":"#0075be"}]},{"type":"rule","selectors":[".android .tab-icon"],"declarations":[{"type":"declaration","property":"text-align","value":"center"},{"type":"declaration","property":"font-size","value":"22"},{"type":"declaration","property":"font-family","value":"fontawesome"},{"type":"declaration","property":"margin-bottom","value":"5"},{"type":"declaration","property":"margin-top","value":"5"}]},{"type":"rule","selectors":[".ios .tab-icon"],"declarations":[{"type":"declaration","property":"text-align","value":"center"},{"type":"declaration","property":"font-size","value":"22"},{"type":"declaration","property":"font-family","value":"'FontAwesome'"},{"type":"declaration","property":"margin-bottom","value":"5"},{"type":"declaration","property":"margin-top","value":"5"}]},{"type":"rule","selectors":[".tab-label"],"declarations":[{"type":"declaration","property":"text-align","value":"center"},{"type":"declaration","property":"font-size","value":"10"},{"type":"declaration","property":"margin-bottom","value":"1"}]},{"type":"rule","selectors":[".action-bar-title"],"declarations":[{"type":"declaration","property":"font-weight","value":"bold"}]},{"type":"rule","selectors":[".android .list-view-item"],"declarations":[{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"margin-left","value":"10"},{"type":"declaration","property":"margin-right","value":"10"},{"type":"declaration","property":"min-height","value":"38"},{"type":"declaration","property":"padding-bottom","value":"5"},{"type":"declaration","property":"padding-top","value":"5"}]},{"type":"rule","selectors":[".ios .list-view-item"],"declarations":[{"type":"declaration","property":"font-size","value":"16"},{"type":"declaration","property":"margin-left","value":"20"},{"type":"declaration","property":"margin-right","value":"20"},{"type":"declaration","property":"min-height","value":"44"},{"type":"declaration","property":"padding-bottom","value":"8"},{"type":"declaration","property":"padding-top","value":"8"}]},{"type":"rule","selectors":[".android .list-view-item-small"],"declarations":[{"type":"declaration","property":"font-size","value":"11"},{"type":"declaration","property":"margin-left","value":"10"},{"type":"declaration","property":"margin-right","value":"10"},{"type":"declaration","property":"min-height","value":"38"},{"type":"declaration","property":"padding-bottom","value":"5"},{"type":"declaration","property":"padding-top","value":"5"}]},{"type":"rule","selectors":[".ios .list-view-item-small"],"declarations":[{"type":"declaration","property":"font-size","value":"13"},{"type":"declaration","property":"margin-left","value":"20"},{"type":"declaration","property":"margin-right","value":"20"},{"type":"declaration","property":"min-height","value":"44"},{"type":"declaration","property":"padding-bottom","value":"8"},{"type":"declaration","property":"padding-top","value":"8"}]},{"type":"rule","selectors":[".rad-list-view-item"],"declarations":[{"type":"declaration","property":"border-bottom-color","value":"#ddd"},{"type":"declaration","property":"border-bottom-width","value":"0.5"},{"type":"comment","comment":" color: #212121; "},{"type":"declaration","property":"font-size","value":"16"},{"type":"declaration","property":"margin-left","value":"20"},{"type":"declaration","property":"padding-right","value":"20"},{"type":"declaration","property":"min-height","value":"44"},{"type":"declaration","property":"padding-bottom","value":"8"},{"type":"declaration","property":"padding-top","value":"8"}]},{"type":"rule","selectors":[".android .list-view-item-form"],"declarations":[{"type":"declaration","property":"border-bottom-color","value":"#ddd"},{"type":"declaration","property":"border-bottom-width","value":"0.5"},{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"margin-left","value":"10"},{"type":"comment","comment":" margin-right: 20; "},{"type":"declaration","property":"min-height","value":"38"},{"type":"declaration","property":"padding-bottom","value":"8"},{"type":"declaration","property":"padding-right","value":"10"},{"type":"declaration","property":"padding-top","value":"8"}]},{"type":"rule","selectors":[".ios .list-view-item-form"],"declarations":[{"type":"declaration","property":"border-bottom-color","value":"#ddd"},{"type":"declaration","property":"border-bottom-width","value":"0.5"},{"type":"declaration","property":"font-size","value":"16"},{"type":"declaration","property":"margin-left","value":"20"},{"type":"comment","comment":" margin-right: 20; "},{"type":"declaration","property":"min-height","value":"44"},{"type":"declaration","property":"padding-bottom","value":"8"},{"type":"declaration","property":"padding-right","value":"20"},{"type":"declaration","property":"padding-top","value":"8"}]},{"type":"rule","selectors":[".android .list-view-item-form-bottom"],"declarations":[{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"margin-left","value":"10"},{"type":"declaration","property":"min-height","value":"38"},{"type":"declaration","property":"padding-bottom","value":"8"},{"type":"declaration","property":"padding-right","value":"10"},{"type":"declaration","property":"padding-top","value":"8"}]},{"type":"rule","selectors":[".ios .list-view-item-form-bottom"],"declarations":[{"type":"declaration","property":"font-size","value":"16"},{"type":"declaration","property":"margin-left","value":"20"},{"type":"declaration","property":"min-height","value":"44"},{"type":"declaration","property":"padding-bottom","value":"8"},{"type":"declaration","property":"padding-right","value":"20"},{"type":"declaration","property":"padding-top","value":"8"}]},{"type":"rule","selectors":[".list-view-section-blank"],"declarations":[{"type":"declaration","property":"background-color","value":"#ddd"},{"type":"declaration","property":"height","value":"1"}]},{"type":"rule","selectors":[".android .list-view-section-header"],"declarations":[{"type":"declaration","property":"background-color","value":"#eee"},{"type":"declaration","property":"border-bottom-color","value":"#ddd"},{"type":"declaration","property":"border-bottom-width","value":"0.5"},{"type":"declaration","property":"border-top-color","value":"#ddd"},{"type":"declaration","property":"border-top-width","value":"0.5"},{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"10"},{"type":"comment","comment":" height: 30; "},{"type":"declaration","property":"padding-bottom","value":"2"},{"type":"declaration","property":"padding-left","value":"10"},{"type":"declaration","property":"padding-right","value":"10"},{"type":"declaration","property":"padding-top","value":"10"}]},{"type":"rule","selectors":[".ios .list-view-section-header"],"declarations":[{"type":"declaration","property":"background-color","value":"#eee"},{"type":"declaration","property":"border-bottom-color","value":"#ddd"},{"type":"declaration","property":"border-bottom-width","value":"0.5"},{"type":"declaration","property":"border-top-color","value":"#ddd"},{"type":"declaration","property":"border-top-width","value":"0.5"},{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"12"},{"type":"declaration","property":"height","value":"35"},{"type":"declaration","property":"padding-bottom","value":"2"},{"type":"declaration","property":"padding-left","value":"20"},{"type":"declaration","property":"padding-right","value":"20"},{"type":"declaration","property":"padding-top","value":"0"}]},{"type":"rule","selectors":[".android .list-view-section-header-no-border"],"declarations":[{"type":"declaration","property":"background-color","value":"#eee"},{"type":"declaration","property":"border-top-color","value":"#ddd"},{"type":"declaration","property":"border-top-width","value":"0.5"},{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"10"},{"type":"declaration","property":"height","value":"30"},{"type":"declaration","property":"padding-bottom","value":"2"},{"type":"declaration","property":"padding-left","value":"10"},{"type":"declaration","property":"padding-right","value":"10"},{"type":"declaration","property":"padding-top","value":"0"}]},{"type":"rule","selectors":[".ios .list-view-section-header-no-border"],"declarations":[{"type":"declaration","property":"background-color","value":"#eee"},{"type":"declaration","property":"border-top-color","value":"#ddd"},{"type":"declaration","property":"border-top-width","value":"0.5"},{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"12"},{"type":"declaration","property":"height","value":"35"},{"type":"declaration","property":"padding-bottom","value":"2"},{"type":"declaration","property":"padding-left","value":"20"},{"type":"declaration","property":"padding-right","value":"20"},{"type":"declaration","property":"padding-top","value":"0"}]},{"type":"rule","selectors":[".list-view-section-detail"],"declarations":[{"type":"declaration","property":"background-color","value":"white"},{"type":"declaration","property":"border-top-color","value":"#ddd"},{"type":"declaration","property":"border-top-width","value":"0.5"}]},{"type":"rule","selectors":[".android .list-view-item-main-top"],"declarations":[{"type":"declaration","property":"color","value":"black"},{"type":"declaration","property":"font-size","value":"14"}]},{"type":"rule","selectors":[".ios .list-view-item-main-top"],"declarations":[{"type":"declaration","property":"font-size","value":"16"}]},{"type":"rule","selectors":[".android .list-view-item-main"],"declarations":[{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"margin-top","value":"3"}]},{"type":"rule","selectors":[".ios .list-view-item-main"],"declarations":[{"type":"declaration","property":"font-size","value":"16"},{"type":"declaration","property":"margin-top","value":"3"}]},{"type":"rule","selectors":[".android .list-view-item-picker"],"declarations":[{"type":"declaration","property":"color","value":"black"},{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"width","value":"100%"}]},{"type":"rule","selectors":[".ios .list-view-item-picker"],"declarations":[{"type":"declaration","property":"color","value":"black"},{"type":"declaration","property":"font-size","value":"16"},{"type":"declaration","property":"width","value":"100%"}]},{"type":"rule","selectors":[".android .list-view-item-textview"],"declarations":[{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"14"}]},{"type":"rule","selectors":[".ios .list-view-item-textview"],"declarations":[{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"16"}]},{"type":"rule","selectors":[".android .list-view-item-left"],"declarations":[{"type":"declaration","property":"color","value":"black"},{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"text-align","value":"left"}]},{"type":"rule","selectors":[".ios .list-view-item-left"],"declarations":[{"type":"declaration","property":"font-size","value":"16"},{"type":"declaration","property":"text-align","value":"left"}]},{"type":"rule","selectors":[".android .list-view-item-right"],"declarations":[{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"text-align","value":"right"}]},{"type":"rule","selectors":[".ios .list-view-item-right"],"declarations":[{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"16"},{"type":"declaration","property":"text-align","value":"right"}]},{"type":"rule","selectors":[".android .list-view-item-sub-email"],"declarations":[{"type":"declaration","property":"color","value":"#0075be"},{"type":"declaration","property":"font-size","value":"12"},{"type":"declaration","property":"margin-top","value":"3"},{"type":"declaration","property":"text-decoration","value":"underline"}]},{"type":"rule","selectors":[".ios .list-view-item-sub-email"],"declarations":[{"type":"declaration","property":"color","value":"#0075be"},{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"margin-top","value":"3"},{"type":"declaration","property":"text-decoration","value":"underline"}]},{"type":"rule","selectors":[".android .list-view-item-sub-phone"],"declarations":[{"type":"declaration","property":"color","value":"#0075be"},{"type":"declaration","property":"font-size","value":"12"},{"type":"declaration","property":"margin-top","value":"5"}]},{"type":"rule","selectors":[".ios .list-view-item-sub-phone"],"declarations":[{"type":"declaration","property":"color","value":"#0075be"},{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"margin-top","value":"3"}]},{"type":"rule","selectors":[".android .list-view-item-sub-title"],"declarations":[{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"12"},{"type":"declaration","property":"font-weight","value":"bold"},{"type":"declaration","property":"margin-top","value":"3"}]},{"type":"rule","selectors":[".ios .list-view-item-sub-title"],"declarations":[{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"font-weight","value":"bold"},{"type":"declaration","property":"margin-top","value":"3"}]},{"type":"rule","selectors":[".android .list-view-item-sub"],"declarations":[{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"12"},{"type":"declaration","property":"margin-top","value":"3"}]},{"type":"rule","selectors":[".ios .list-view-item-sub"],"declarations":[{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"margin-top","value":"3"}]},{"type":"rule","selectors":[".android .fn-list-view-item"],"declarations":[{"type":"declaration","property":"color","value":"#ccc"},{"type":"declaration","property":"font-family","value":"fontawesome"},{"type":"declaration","property":"font-size","value":"24"},{"type":"declaration","property":"margin-left","value":"10"}]},{"type":"rule","selectors":[".ios .fn-list-view-item"],"declarations":[{"type":"declaration","property":"color","value":"#ccc"},{"type":"declaration","property":"font-family","value":"'FontAwesome'"},{"type":"declaration","property":"font-size","value":"26"},{"type":"declaration","property":"margin-left","value":"10"}]},{"type":"rule","selectors":[".android .fn-list-view-item-small"],"declarations":[{"type":"declaration","property":"color","value":"#0075be"},{"type":"declaration","property":"font-family","value":"fontawesome"},{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"margin-left","value":"10"}]},{"type":"rule","selectors":[".ios .fn-list-view-item-small"],"declarations":[{"type":"declaration","property":"color","value":"#0075be"},{"type":"declaration","property":"font-family","value":"'FontAwesome'"},{"type":"declaration","property":"font-size","value":"16"},{"type":"declaration","property":"margin-left","value":"10"}]},{"type":"rule","selectors":[".login-background"],"declarations":[{"type":"comment","comment":" background-color: #0075be; "},{"type":"declaration","property":"background-color","value":"white"}]},{"type":"rule","selectors":[".android .scroll-view-item"],"declarations":[{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"padding-left","value":"10"},{"type":"declaration","property":"padding-right","value":"10"}]},{"type":"rule","selectors":[".ios .scroll-view-item"],"declarations":[{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"16"},{"type":"declaration","property":"padding-left","value":"15"},{"type":"declaration","property":"padding-right","value":"15"}]},{"type":"rule","selectors":[".android .segmented-bar"],"declarations":[{"type":"declaration","property":"background-color","value":"#33a8f1"},{"type":"declaration","property":"color","value":"white"},{"type":"declaration","property":"font-size","value":"10"},{"type":"declaration","property":"selected-background-color","value":"#0075be"},{"type":"comment","comment":" NEEDED "}]},{"type":"rule","selectors":[".ios .segmented-bar"],"declarations":[{"type":"declaration","property":"background-color","value":"#33a8f1"},{"type":"declaration","property":"color","value":"white"},{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"margin-bottom","value":"10"},{"type":"declaration","property":"margin-top","value":"10"},{"type":"declaration","property":"selected-background-color","value":"#0075be"},{"type":"comment","comment":" NEEDED "}]},{"type":"rule","selectors":[".swipe-icons"],"declarations":[{"type":"declaration","property":"color","value":"#fff"},{"type":"comment","comment":" padding-left: 10;\n    padding-right: 10; "},{"type":"declaration","property":"width","value":"80"}]},{"type":"rule","selectors":[".blue"],"declarations":[{"type":"declaration","property":"background-color","value":"#0075be"}]},{"type":"rule","selectors":[".green"],"declarations":[{"type":"comment","comment":" background-color: green; "},{"type":"declaration","property":"background-color","value":"#35c4af"},{"type":"comment","comment":" #0a573d; "}]},{"type":"rule","selectors":[".orange"],"declarations":[{"type":"comment","comment":" background-color: #f68320; "},{"type":"declaration","property":"background-color","value":"#e88011"}]},{"type":"rule","selectors":[".red"],"declarations":[{"type":"comment","comment":" background-color: #cc2d30; "},{"type":"declaration","property":"background-color","value":"#ea092a"}]},{"type":"comment","comment":" .android .switch {\n    color: #cc2d30;\n} "},{"type":"rule","selectors":[".ios .switch"],"declarations":[{"type":"comment","comment":" background-color: #cc2d30; "},{"type":"declaration","property":"background-color","value":"#ea092a"}]},{"type":"comment","comment":" Switch[checked=true] {\n    color: white ;\n    background-color: #0075be;\n    transform: scale(1.25, 1.25);\n    transform: translate(-5, 0);\n  }\n  \n  Switch[checked=false] {\n    color: gray;\n    background-color: gray;\n  } "},{"type":"rule","selectors":[".view-title"],"declarations":[{"type":"declaration","property":"background-color","value":"#0075be"},{"type":"declaration","property":"color","value":"white"},{"type":"declaration","property":"font-size","value":"20"},{"type":"comment","comment":" height: 44; "},{"type":"declaration","property":"padding-bottom","value":"10"},{"type":"declaration","property":"padding-top","value":"10"},{"type":"declaration","property":"width","value":"100%"}]},{"type":"comment","comment":"\nIn many cases you may want to use the NativeScript core theme instead\nof writing your own CSS rules. For a full list of class names in the theme\nrefer to http://docs.nativescript.org/ui/theme.\n"},{"type":"comment","comment":"@import '~nativescript-theme-core/css/core.light.css';"}],"parsingErrors":[]}};; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./app.css") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "style", path: "./app.css" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./app.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
            __webpack_require__("../node_modules/@nativescript/webpack/helpers/load-application-css-regular.js")();
            
            
        if (true) {
            const hmrUpdate = __webpack_require__("../node_modules/@nativescript/webpack/hmr/index.js").hmrUpdate;
            global.__coreModulesLiveSync = global.__onLiveSync;

            global.__onLiveSync = function () {
                // handle hot updated on LiveSync
                hmrUpdate();
            };

            global.hmrRefresh = function({ type, path } = {}) {
                // the hot updates are applied, ask the modules to apply the changes
                setTimeout(() => {
                    global.__coreModulesLiveSync({ type, path });
                });
            };

            // handle hot updated on initial app start
            hmrUpdate();
        }
        
            const context = __webpack_require__("./ sync recursive (?<!\\bApp_Resources\\b.*)(?<!\\.\\/\\btests\\b\\/.*?)\\.(xml|css|js|(?<!\\.d\\.)ts|(?<!\\b_[\\w-]*\\.)scss)$");
            global.registerWebpackModules(context);
            if (true) {
                module.hot.accept(context.id, () => { 
                    console.log("HMR: Accept module '" + context.id + "' from '" + module.i + "'"); 
                });
            }
            
        __webpack_require__("../node_modules/@nativescript/core/bundle-entry-points.js");
        /*
In NativeScript, the app.js file is the entry point to your application.
You can use this file to perform app-level initialization, but the primary
purpose of the file is to pass control to the appâ€™s first module.
*/

__webpack_require__("./bundle-config.js");
__webpack_require__("../node_modules/@proplugins/nativescript-platform-css/platformcss.js");
const { Page } = __webpack_require__("../node_modules/@nativescript/core/index.js");
const application = __webpack_require__("../node_modules/@nativescript/core/application/index.js");

// Dev, test, prod urls
const apiLoginUrlDev = "https://sts-dev.pciaa.net/api/pci/signin/issue";
const apiLoginUrlTest = "https://sts-test.pciaa.net/api/pci/signin/issue";
const apiLoginUrlProd = "https://sts.apci.org/api/pci/signin/issue";
const apiBaseServiceUrlDev = "https://dev.pciaa.net/pciwebsite/congressapi/legislators/";
const apiBaseServiceUrlTest = "https://test.pciaa.net/pciwebsite/congressapi/legislators/";
const apiBaseServiceUrlProd = "https://www.apci.org/pciwebsite/congressapi/legislators/";
const scopeDev = "http://dev.pciaa.net/";
const scopeTest = "http://test.pciaa.net/";
const scopeProd = "http://www.apci.org/";

// Define all global variables used throughout the entire solution.
global.apiLoginUrl = apiLoginUrlProd;
global.apiBaseServiceUrl = apiBaseServiceUrlProd;
global.scope = scopeProd;
global.token = null;
global.personId = null;
global.currentUser = null;
global.companyId = null;
global.isPci = false;
global.isCongressAdmin = false;
global.isCongressUser = false;
global.isCongressExternalUser = false;

//application.start({ moduleName: "login/login-page" });
//application.run({ moduleName: "login/login-page" });
application.run({ moduleName: "app-root" });

/*
Do not place any code after the application has been started as it will not
be executed on iOS.
*/
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./app.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./app.js" });
    });
} 
    
        
        
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./assignments/assignment/assignment-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

var page;
var navigationContext;

/* ***********************************************************
* Use the "onNavigatingTo" handler to initialize the page binding context.
*************************************************************/
function onNavigatingTo(args) {
    try {
        page = args.object;
        navigationContext = page.navigationContext;

        page.actionBar.title = "Assignment";

        if (args.isBackNavigation) {
            if (global.refreshAssignments !== undefined && global.refreshAssignments === true) {
                // page.bindingContext.set("meetingCreated", "Y");
                // page.bindingContext.set("lobbyistId", global.personId);
                // page.bindingContext.set("lobbyist", global.currentUser);
                page.bindingContext.meetingCreated = "Y";
                page.bindingContext.lobbyistId = global.personId;
                page.bindingContext.lobbyist = global.currentUser;

                var lobbyistGridLayout = page.getViewById("lobbyistGridLayout");
                var lobbyistLabel = page.getViewById("lobbyistLabel");

                lobbyistGridLayout.visibility = "visible";
                lobbyistLabel.text = global.currentUser;
            }
        } else {
            global.refreshAssignments = false;

            page.bindingContext = navigationContext;
        }
    } catch(e) {
        dialogs.alert(e);
    }
    
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onAddTap(args) {
    try
    {
        var model = {
            meetingId: 0,
            meetingDate: new Date(),
            venueTypeId: 1,
            venueType: "In Person",
            attendeeTypeId: 1,
            attendeeType: "Staff Only",
            lobbyistId: global.personId,
            lobbyist: null,
            legislatorId: navigationContext.legislatorId,
            fullName: navigationContext.legislator,
            name: null,
            pciInitiatives: navigationContext.initiative,
            surveys: navigationContext.survey,
            pciAttendees: global.currentUser,
            primaryOfficeContact: null,
            meetingLocationId: 2,
            location: "Meeting in DC",
            legislatorStaffAttendees: null,
            followUpNeeded: false,
            followUpDate: null,
            followUpNotes: null,
            creatorId: global.personId,
            notes: null,
            initiativeId: navigationContext.initiativeId,
            surveyId: navigationContext.surveyId,
            assignmentId: navigationContext.assignmentId
        }

        const navigationEntry = {
            moduleName: "meetings/meeting/meeting-page",
            context: model,
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert(e);
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onBackTap = onBackTap;
exports.onAddTap = onAddTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./assignments/assignment/assignment-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./assignments/assignment/assignment-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./assignments/assignment/assignment-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n        <ActionItem tap=\"onAddTap\" ios.systemIcon=\"4\" android.systemIcon=\"ic_menu_add\" ios.position=\"right\" \n            visibility=\"{{ meetingCreated === 'Y' ? 'collapse' : 'visible' }}\" />\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\" class=\"view-title\">\n            <Label id=\"assignmentId\" text=\"{{ assignmentId }}\" visibility=\"collapsed\" />\n            <Label id=\"legislatorName\" text=\"{{ legislator }}\" horizontalAlignment=\"center\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" width=\"100%\">\n            <GridLayout columns=\"auto, *\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Company\" verticalAlignment=\"middle\" class=\"list-view-item-left\" />\n                <Label row=\"0\" col=\"1\" text=\"{{ company }}\" horizontalAlignment=\"right\" verticalAlignment=\"middle\" textWrap=\"true\" class=\"list-view-item-right\" />\n            </GridLayout>\n            <GridLayout columns=\"auto, *\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Initiative\" verticalAlignment=\"middle\" class=\"list-view-item-left\" />\n                <Label row=\"0\" col=\"1\" text=\"{{ initiative }}\" horizontalAlignment=\"right\" verticalAlignment=\"middle\" textWrap=\"true\" class=\"list-view-item-right\" />\n            </GridLayout>\n            <GridLayout columns=\"auto, *\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Survey\" verticalAlignment=\"middle\" class=\"list-view-item-left\" />\n                <Label row=\"0\" col=\"1\" text=\"{{ survey }}\" horizontalAlignment=\"right\" verticalAlignment=\"middle\" textWrap=\"true\" class=\"list-view-item-right\" />\n            </GridLayout>\n            <GridLayout columns=\"auto, *\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Meeting Created?\" verticalAlignment=\"middle\" class=\"list-view-item-left\" />\n                <Label row=\"0\" col=\"1\" text=\"{{ meetingCreated === 'Y' ? 'Yes' : 'No' }}\" horizontalAlignment=\"right\" verticalAlignment=\"middle\" class=\"list-view-item-right\" />\n            </GridLayout>\n            <GridLayout id=\"lobbyistGridLayout\" columns=\"auto, *\" rows=\"auto\" class=\"list-view-item-form\" visibility=\"{{ meetingCreated === 'Y' ? 'visible' : 'collapse' }}\">\n                <Label row=\"0\" col=\"0\" text=\"Lobbyist\" verticalAlignment=\"middle\" class=\"list-view-item-left\" />\n                <Label id=\"lobbyistLabel\" row=\"0\" col=\"1\" text=\"{{ lobbyist }}\" horizontalAlignment=\"right\" verticalAlignment=\"middle\" textWrap=\"true\" class=\"list-view-item-right\" />\n            </GridLayout>\n        </StackLayout>\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./assignments/assignment/assignment-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./assignments/assignment/assignment-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./assignments/assignments-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const AssignmentsViewModel = __webpack_require__("./assignments/assignments-view-model.js");
const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var gestures = __webpack_require__("../node_modules/@nativescript/core/ui/gestures/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

const MIN_X = -80;
const MAX_X = 0;
const THRESHOLD = 0.5;

var swipeOpen = false;
var swipedItem;

var isScrolling = false;
var isSwiping = false;

var page;
var searchBar;
var assignmentsPageSize = 25;
var assignmentsSearchText = "";
var meetingCreated = "N";
var assignmentsSearchSubmitted = false;

var assignmentsList = new AssignmentsViewModel([]);

var pageData = new ObservableModule.fromObject({
    assignmentsList: assignmentsList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        
        page.actionBar.title = "Assignments";

        if (args.isBackNavigation) {
            if (global.refreshAssignments !== undefined && global.refreshAssignments === true) {
                assignmentsList.empty();

                pageData.set("isLoading", true);

                assignmentsList.load(meetingCreated, assignmentsSearchText, 1, assignmentsPageSize).then(function () {
                    pageData.set("isLoading", false);

                    global.refreshAssignments = false;
                });
            }
        } else {
            if (assignmentsSearchText !== "") {
                var searchBar = page.getViewById("searchBar");

                searchBar.text = assignmentsSearchText;
            }
        
            // Since the Page contains a SegmentedBar,
            // the selectedIndexChanged event will perform the initial load of the ListView.
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSelectedIndexChanged(args) {
    try {
        if (args.newIndex === 0) {
            meetingCreated = "N";
        } else {
            meetingCreated = "Y";
        }

        assignmentsList.empty();

        pageData.set("isLoading", true);

        assignmentsList.load(meetingCreated, assignmentsSearchText, 1, assignmentsPageSize).then(function () {
            pageData.set("isLoading", false);
        });

        page.bindingContext = pageData;
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSearchBarLoaded(args) {
    searchBar = args.object;

    if (platform.isAndroid) {
        searchBar.android.clearFocus();
    } else if (platform.isIOS) {
        // iOS Styling
        searchBar.ios.searchBarStyle = UISearchBarStyle.UISearchBarStyleMinimal;
        searchBar.ios.showsCancelButton = true;
    }
}

function onSubmit(args) {
    searchBar = args.object;

    assignmentsSearchText = searchBar.text.trim();

    assignmentsList.empty();
    
    pageData.set("isLoading", true);

    assignmentsList.load(meetingCreated, assignmentsSearchText, 1, assignmentsPageSize).then(function (){
        pageData.set("isLoading", false);

        assignmentsSearchSubmitted = true;
    
        searchBar.dismissSoftInput();
    });
}

function onClear(args) {
    searchBar.text = "";
    assignmentsSearchText = "";

    if (assignmentsSearchSubmitted) {
        assignmentsList.empty();
        
        pageData.set("isLoading", true);

        assignmentsList.load(meetingCreated, assignmentsSearchText, 1, assignmentsPageSize).then(function (){
            pageData.set("isLoading", false);

            assignmentsSearchSubmitted = false;
        
            searchBar.dismissSoftInput();
        });
    }
}

function onItemLoading(args) {
    if (platform.isIOS) {
        var cell = args.ios;

        cell.selectionStyle = UITableViewCellSelectionStyle.UITableViewCellSelectionStyleNone;
    }
}

function onItemTap(args) {
    try {
        if (platform.isIOS) {
            if (swipeOpen) {
                swipedItem.animate({
                    translate: { x: 0, y: 0 },
                    duration: 200
                });

                swipeOpen = false;
            } else {
                var view = args.view;
                var model = view.bindingContext;

                const navigationEntry = {
                    moduleName: "assignments/assignment/assignment-page",
                    context: model,
                    clearHistory: false
                };

                frameModule.topmost().navigate(navigationEntry);
            }
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onLoadMoreItems(args) {
    try {
        var assignmentsListCount = assignmentsList.length;
        var assignmentsPageNumber = Math.ceil(assignmentsListCount / assignmentsPageSize) + 1;
        var assignmentsRemainder = assignmentsListCount % assignmentsPageSize;

        if (assignmentsRemainder !== 0 && assignmentsRemainder < assignmentsPageSize)
        {
            return;
        }

        pageData.set("isLoading", true);

        assignmentsList.load(meetingCreated, assignmentsSearchText, assignmentsPageNumber, assignmentsPageSize).then(function (){
            pageData.set("isLoading", false);
        });
    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onAddClick(args) {
    var view = args.object;
    
    var model = {
        meetingId: 0,
        meetingDate: new Date(),
        venueTypeId: 1,
        venueType: "In Person",
        attendeeTypeId: 1,
        attendeeType: "Staff Only",
        lobbyistId: global.personId,
        lobbyist: null,
        legislatorId: view.bindingContext.legislatorId,
        fullName: view.bindingContext.legislator,
        name: null,
        pciInitiatives: view.bindingContext.initiative,
        surveys: view.bindingContext.survey,
        pciAttendees: global.currentUser,
        primaryOfficeContact: null,
        meetingLocationId: 1,
        location: "Meeting in District",
        legislatorStaffAttendees: null,
        followUpNeeded: false,
        followUpDate: null,
        followUpNotes: null,
        creatorId: global.personId,
        notes: null,
        initiativeId: view.bindingContext.initiativeId,
        surveyId: view.bindingContext.surveyId,
        assignmentId: view.bindingContext.assignmentId
    }

    const navigationEntry = {
        moduleName: "meetings/meeting/meeting-page",
        context: model,
        clearHistory: false
    };

    frameModule.topmost().navigate(navigationEntry);

    if (swipeOpen) {
        swipedItem.animate({
            translate: { x: 0, y: 0 },
            duration: 200
        });

        swipeOpen = false;
    }
}

function onLayoutLoaded(args) {
    var layout = args.object;

    if (platform.isAndroid) {
        layout.on(gestures.GestureTypes.tap, function(args) {
            try {
                if (swipeOpen) {
                    swipedItem.animate({
                        translate: { x: 0, y: 0 },
                        duration: 200
                    });
    
                    swipeOpen = false;
                } else {
                    var view = args.view;
                    var model = view.bindingContext;
    
                    const navigationEntry = {
                        moduleName: "assignments/assignment/assignment-page",
                        context: model,
                        clearHistory: false
                    };
    
                    frameModule.topmost().navigate(navigationEntry);
                }
            }
            catch(e)
            {
                dialogs.alert({
                    title: "Error",
                    message: e.toString(),
                    okButtonText: "OK"
                });
            }
        });
    }

    layout.on(gestures.GestureTypes.pan, function(args) {
        try {
            var layout = args.object;
            var view = args.view;

            if (swipeOpen && swipedItem !== undefined && swipedItem != layout) {
                swipedItem.animate({
                    translate: { x: 0, y: 0 },
                    duration: 50
                });
            }

            if (!isScrolling && !isSwiping) {
                if (Math.abs(args.deltaY) > Math.abs(args.deltaX)) {
                    isScrolling = true;
                    isSwiping = false;
                } else if (Math.abs(args.deltaX) > Math.abs(args.deltaY)) {
                    isScrolling = false;
                    isSwiping = true;
                }
            }

            if (isScrolling) {
                if (swipeOpen && swipedItem !== undefined) {
                    swipedItem.animate({
                        translate: { x: 0, y: 0 },
                        duration: 50
                    });
                }

                if (args.state === gestures.GestureStateTypes.ended) {
                    isScrolling = false;
                }
            } else if (isSwiping) {
                if (view.bindingContext.meetingCreated === "N") {
                    var assignmentsListView = page.getViewById("assignmentsListView");
    
                    if (platform.isAndroid) {
                        assignmentsListView.nativeView.requestDisallowInterceptTouchEvent(true);
                    } else if (platform.isIOS) {
                        assignmentsListView.ios.scrollEnabled = false;
                    }
    
                    swipeOpen = true;
                    swipedItem = layout;

                    var newX = layout.translateX + args.deltaX;

                    if (newX >= MIN_X && newX <= MAX_X) {
                        layout.translateX = newX;
                    }
                    
                    if (args.state === gestures.GestureStateTypes.ended && !(newX === MIN_X || newX === MAX_X)) {
                        // init our destination X coordinate to 0, in case neither THRESHOLD has been hit
                        let destX = 0;
                        
                        // if user hit or crossed the THESHOLD either way, let's finish in that direction
                        if (newX <= MIN_X * THRESHOLD) {
                            destX = MIN_X;
                        } else if (newX >= MAX_X * THRESHOLD) {
                            destX = MAX_X;
                        }
                        
                        layout.animate({
                            translate: { x: destX, y: 0 },
                            duration: 200
                        });
                    }

                    if (platform.isAndroid) {
                        assignmentsListView.nativeView.requestDisallowInterceptTouchEvent(false);
                    } else if (platform.isIOS) {
                        assignmentsListView.ios.scrollEnabled = true;
                    }

                    isSwiping = false;
                } else {
                    isSwiping = false;
                }
            }
        } catch(e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        }
    });
}

exports.onNavigatingTo = onNavigatingTo;
exports.onSelectedIndexChanged = onSelectedIndexChanged;
exports.onSearchBarLoaded = onSearchBarLoaded;
exports.onSubmit = onSubmit;
exports.onClear = onClear;
exports.onItemLoading = onItemLoading;
exports.onItemTap = onItemTap;
exports.onLoadMoreItems = onLoadMoreItems;
exports.onLayoutLoaded = onLayoutLoaded;
exports.onAddClick = onAddClick;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./assignments/assignments-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./assignments/assignments-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./assignments/assignments-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\" />\n\n    <GridLayout columns=\"*\" rows=\"auto, auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\">\n            <SearchBar id=\"searchBar\" hint=\"Search\" text=\"\" loaded=\"onSearchBarLoaded\" submit=\"onSubmit\" clear=\"onClear\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\">\n            <SegmentedBar class=\"segmented-bar\" selectedIndexChanged=\"onSelectedIndexChanged\">\n                <SegmentedBar.items>\n                    <SegmentedBarItem title=\"Open Assignments\" />\n                    <SegmentedBarItem title=\"Closed Assignments\" />\n                </SegmentedBar.items>\n            </SegmentedBar>\n        </StackLayout>\n        <StackLayout row=\"2\" col=\"0\" verticalAlignment=\"top\">\n            <ListView id=\"assignmentsListView\" items=\"{{ assignmentsList }}\" itemLoading=\"onItemLoading\" itemTap=\"onItemTap\" loadMoreItems=\"onLoadMoreItems\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <AbsoluteLayout>\n                        <!-- BACKGROUND: Swipe Actions -->\n                        <GridLayout columns=\"*, 80\" android:rows=\"67\" ios:rows=\"75\" width=\"100%\">\n                            <Label col=\"0\" />\n                            <GridLayout col=\"1\" columns=\"*\" rows=\"*, auto, auto, *\" tap=\"onAddClick\" class=\"swipe-icons orange\" \n                                visibility=\"{{ meetingCreated === 'Y' ? 'collapse' : 'visible' }}\">\n                                <Label row=\"0\" col=\"0\" text=\"\" />\n                                <Label row=\"1\" col=\"0\" text=\"&#xf073;\" class=\"tab-icon\" />\n                                <Label row=\"2\" col=\"0\" text=\"Add Meeting\" class=\"tab-label\" />\n                                <Label row=\"3\" col=\"0\" text=\"\" />\n                            </GridLayout>\n                        </GridLayout>\n                        <!-- FOREGROUND: List View Item Details -->\n                        <StackLayout loaded=\"onLayoutLoaded\" backgroundColor=\"white\" width=\"100%\">\n                            <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                                <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"middle\">\n                                    <Label text=\"{{ legislator }}\" class=\"list-view-item-main-top\" />\n                                    <GridLayout columns=\"auto, *\" rows=\"*\" visibility=\"{{ initiative.length > 0 ? 'visible' : 'collapse' }}\">\n                                        <Label row=\"0\" col=\"0\" text=\"Initiative: \" class=\"list-view-item-sub-title\" />\n                                        <Label row=\"0\" col=\"1\" text=\"{{ initiative }}\" class=\"list-view-item-sub\" />\n                                    </GridLayout>\n                                    <GridLayout columns=\"auto, *\" rows=\"*\">\n                                        <Label row=\"0\" col=\"0\" text=\"Survey: \" class=\"list-view-item-sub-title\" />\n                                        <Label row=\"0\" col=\"1\" text=\"{{ survey }}\" class=\"list-view-item-sub\" />\n                                    </GridLayout>\n                                </StackLayout>\n                                <Label row=\"0\" col=\"1\" text=\"&#xf105;\" class=\"fn-list-view-item\" verticalAlignment=\"middle\" />\n                            </GridLayout>\n                        </StackLayout>\n                    </AbsoluteLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"3\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./assignments/assignments-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./assignments/assignments-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./assignments/assignments-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function AssignmentsViewModel(items) {
    const viewModel = new ObservableArray(items);
    
    viewModel.load = function(meetingCreated, filter, page, pageSize) {
        return http.request({
            url: global.apiBaseServiceUrl + "assignmentsfilter?meetingCreated=" + meetingCreated + "&filter=" + filter.replace(/ /g, "%20") + "&page=" + page + "&pageSize=" + pageSize + "&companyId=" + global.companyId,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(assignment) {
                if (assignment.AssignmentId !== null && assignment.AssignmentId !== 0) {
                    viewModel.push({
                        assignmentId: assignment.AssignmentId,
                        companyId: assignment.CompanyId,
                        company: assignment.Company,
                        initiativeId: assignment.InitiativeId,
                        initiative: assignment.Initiative,
                        surveyId: assignment.SurveyId,
                        survey: assignment.Survey,
                        legislatorId: assignment.LegislatorId,
                        legislator: assignment.Legislator,
                        party: assignment.Party,
                        partyName: assignment.PartyName,
                        state: assignment.State,
                        stateName: assignment.StateName,
                        committeeIds: assignment.CommitteeIds,
                        committees: assignment.Committees,
                        createdDate: assignment.CreatedDate,
                        completionDate: assignment.CompletionDate,
                        assignmentStatusCode: assignment.AssignmentStatusCode,
                        assignmentStatus: assignment.AssignmentStatus,
                        meetingCreated: assignment.MeetingCreated,
                        meetingId: assignment.MeetingId,
                        lobbyistId: assignment.LobbyistId,
                        lobbyist: assignment.Lobbyist
                    });
                }
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = AssignmentsViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./assignments/assignments-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./assignments/assignments-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./bundle-config.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {if (true) {
    // registers tns-core-modules UI framework modules
    __webpack_require__("../node_modules/@nativescript/core/bundle-entry-points.js");

    // register application modules
    // This will register each `page` postfixed xml, css, js, ts, scss etc. in the app/ folder
    const context = __webpack_require__("./ sync recursive (page|fragment)\\.(xml|css|js|ts|scss)$");
    global.registerWebpackModules(context);
}
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./bundle-config.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./bundle-config.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./committees/committee/committee-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const CommitteeViewModel = __webpack_require__("./committees/committee/committee-view-model.js");
const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var page;

var committeeList = new CommitteeViewModel([]);

var pageData = new observableModule.fromObject({
    committeeList: committeeList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        
        page.actionBar.title = "Committee";

        var navigationContext = page.navigationContext;

        var committeeName = page.getViewById("committeeName");
        var committee = navigationContext.committeeName;
        var maxLength = 35;

        if (committee.length > maxLength) {
            for (var i = maxLength; i > 0; i--) {
                var position = committee.indexOf(" ", i);

                if (position > -1 && position <= maxLength) {
                    committee = committee.substr(0, position) + "..."

                    break;
                }
            }
        }

        committeeName.text = committee;

        committeeList.empty();

        if (committeeList.length === 0) {
            pageData.set("isLoading", true);
    
            committeeList.load(navigationContext.committeeId).then(function () {
                pageData.set("isLoading", false);
            });
        }
    
        page.bindingContext = pageData;
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onItemTap(args) {
    var view = args.view;
    var model = view.bindingContext;

    const navigationEntry = {
        moduleName: "legislators/legislator/legislator-page",
        context: model,
        clearHistory: false
    };

    try
    {
        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onBackTap = onBackTap;
exports.onItemTap = onItemTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./committees/committee/committee-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./committees/committee/committee-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./committees/committee/committee-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\" class=\"view-title\">\n            <Label id=\"committeeName\" text=\"\" horizontalAlignment=\"center\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\">\n            <ListView items=\"{{ committeeList }}\" itemTap=\"onItemTap\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <StackLayout>\n                        <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                            <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"middle\">\n                                <Label text=\"{{ fullName }}\" class=\"list-view-item-main-top\" />\n                                <GridLayout columns=\"auto, *\" rows=\"*\">\n                                    <Label row=\"0\" col=\"0\" text=\"{{ title }}\" class=\"list-view-item-sub\" />\n                                    <Label row=\"0\" col=\"1\" text=\"{{ side }}\" class=\"list-view-item-sub\" visibility=\"{{ side.length > 0 ? 'visible' : 'collapse' }}\" />\n                                </GridLayout>\n                            </StackLayout>\n                            <Label row=\"0\" col=\"1\" text=\"&#xf105;\" class=\"fn-list-view-item\" verticalAlignment=\"middle\" />\n                        </GridLayout>\n                    </StackLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"3\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./committees/committee/committee-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./committees/committee/committee-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./committees/committee/committee-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function CommitteeViewModel(items) {
    const viewModel = new ObservableArray(items);

    viewModel.load = function(committeeId) {
        return http.request({
            url: global.apiBaseServiceUrl + "committeemembers?committeeId=" + committeeId,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(legislator) {
                var side = legislator.Side;

                if (side.length > 0) {
                    side = " (" + side + ")";
                }

                viewModel.push({
                    committeeId: legislator.CommitteeId,
                    name: legislator.Name,
                    subcommittee: legislator.Subcommittee,
                    side: side,
                    rank: legislator.Rank,
                    bioGuideId: legislator.BioGuideId,
                    legislatorId: legislator.LegislatorId,
                    fullName: legislator.FullName,
                    title: legislator.Title,
                    office: legislator.Office,
                    state: legislator.State,
                    stateName: legislator.StateName,
                    phone: legislator.Phone,
                    termStart: legislator.TermStart,
                    termEnd: legislator.TermEnd,
                    chamber: legislator.Chamber,
                    party: legislator.Party,
                    partyName: legislator.PartyName,
                    bio: legislator.BioPlainText
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = CommitteeViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./committees/committee/committee-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./committees/committee/committee-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./committees/committees-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const CommitteesViewModel = __webpack_require__("./committees/committees-view-model.js");
const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var page;
var searchBar;
var committeesPageSize = 25;
var committeesSearchText = "";
var chamberId = 0;
var committeesSearchSubmitted = false;

var committeesList = new CommitteesViewModel([]);

var pageData = new ObservableModule.fromObject({
    committeesList: committeesList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        
        page.actionBar.title = "Committees";
    
        if (committeesSearchText !== "") {
            var searchBar = page.getViewById("searchBar");

            searchBar.text = committeesSearchText;
        }
        
        // Since the Page contains a SegmentedBar,
        // the selectedIndexChanged event will perform the initial load of the ListView.
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSelectedIndexChanged(args) {
    try {
        chamberId = args.newIndex;

        committeesList.empty();

        pageData.set("isLoading", true);

        committeesList.load(chamberId, committeesSearchText, 1, committeesPageSize).then(function () {
            pageData.set("isLoading", false);
        });

        page.bindingContext = pageData;
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSearchBarLoaded(args)
{
    searchBar = args.object;

    if (platform.isAndroid) {
        searchBar.android.clearFocus();
    } else if (platform.isIOS) {
        // iOS Styling
        searchBar.ios.searchBarStyle = UISearchBarStyle.UISearchBarStyleMinimal;
        searchBar.ios.showsCancelButton = true;
    }
}

function onSubmit(args)
{
    searchBar = args.object;

    committeesSearchText = searchBar.text.trim();

    committeesList.empty();
    
    pageData.set("isLoading", true);

    committeesList.load(chamberId, committeesSearchText, 1, committeesPageSize).then(function (){
        pageData.set("isLoading", false);

        committeesSearchSubmitted = true;
    
        searchBar.dismissSoftInput();
    });
}

function onClear(args)
{
    searchBar.text = "";
    committeesSearchText = "";

    if (committeesSearchSubmitted) {
        committeesList.empty();
        
        pageData.set("isLoading", true);

        committeesList.load(chamberId, committeesSearchText, 1, committeesPageSize).then(function (){
            pageData.set("isLoading", false);

            committeesSearchSubmitted = false;
        
            searchBar.dismissSoftInput();
        });
    }
}

function onItemTap(args) {
    try
    {
        var index = args.index;
        var committee = committeesList.getItem(index);
        var committeeId;
        var committeeName;

        if (committee.isSubcommittee === "True") {
            committeeId = committee.subcommitteeId;
            committeeName = committee.subcommitteeName;
        } else {
            committeeId = committee.committeeId;
            committeeName = committee.committeeName;
        }

        const navigationEntry = {
            moduleName: "committees/committee/committee-page",
            context: { 
                committeeId: committeeId,
                committeeName: committeeName
            },
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onLoadMoreItems(args)
{
    var committeesListCount = committeesList.length;
    var committeesPageNumber = Math.ceil(committeesListCount / committeesPageSize) + 1;
    var committeesRemainder = committeesListCount % committeesPageSize;

    if (committeesRemainder !== 0 && committeesRemainder < committeesPageSize)
    {
        return;
    }

    pageData.set("isLoading", true);

    committeesList.load(chamberId, committeesSearchText, committeesPageNumber, committeesPageSize).then(function (){
        pageData.set("isLoading", false);
    });
}

exports.onNavigatingTo = onNavigatingTo;
exports.onSelectedIndexChanged = onSelectedIndexChanged;
exports.onSearchBarLoaded = onSearchBarLoaded;
exports.onSubmit = onSubmit;
exports.onClear = onClear;
exports.onItemTap = onItemTap;
exports.onLoadMoreItems = onLoadMoreItems;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./committees/committees-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./committees/committees-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./committees/committees-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\" />\n\n    <GridLayout columns=\"*\" rows=\"auto, auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\">\n            <SearchBar id=\"searchBar\" hint=\"Search\" text=\"\" loaded=\"onSearchBarLoaded\" submit=\"onSubmit\" clear=\"onClear\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\">\n            <SegmentedBar class=\"segmented-bar\" selectedIndexChanged=\"onSelectedIndexChanged\">\n                <SegmentedBar.items>\n                    <SegmentedBarItem class=\"selectedSegment\" title=\"All\" />\n                    <SegmentedBarItem title=\"House\" />\n                    <SegmentedBarItem title=\"Senate\" />\n                    <SegmentedBarItem title=\"Joint\" />\n                    <SegmentedBarItem title=\"Caucus\" />\n                </SegmentedBar.items>\n            </SegmentedBar>\n        </StackLayout>\n        <StackLayout row=\"2\" col=\"0\" verticalAlignment=\"top\">\n            <ListView items=\"{{ committeesList }}\" itemTap=\"onItemTap\" loadMoreItems=\"onLoadMoreItems\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <StackLayout width=\"100%\">\n                        <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                            <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"middle\">\n                                <Label text=\"{{ isSubcommittee === 'True' ? subcommitteeName : committeeName }}\" textWrap=\"true\" \n                                    style=\"{{ isSubcommittee === 'True' ? 'margin-left: 15;' : 'margin-left: 0;' }}\" class=\"list-view-item-main-top\" />\n                                <GridLayout columns=\"auto, *\" rows=\"*\" visibility=\"{{ fullName.length > 0 ? 'visible' : 'collapse' }}\">\n                                    <Label row=\"0\" col=\"0\" text=\"{{ title }}\" style=\"{{ isSubcommittee === 'True' ? 'margin-left: 15;' : 'margin-left: 0;' }}\" class=\"list-view-item-sub-title\" />\n                                    <Label row=\"0\" col=\"1\" text=\"{{ fullName }}\" class=\"list-view-item-sub\" />\n                                </GridLayout>\n                                <GridLayout columns=\"auto, *\" rows=\"*\" visibility=\"{{ phone.length > 0 ? 'visible' : 'collapse' }}\">\n                                    <Label row=\"0\" col=\"0\" text=\"Phone: \" style=\"{{ isSubcommittee === 'True' ? 'margin-left: 15;' : 'margin-left: 0;' }}\" class=\"list-view-item-sub-title\" />\n                                    <Label row=\"0\" col=\"1\" text=\"{{ phone }}\" class=\"list-view-item-sub\" />\n                                </GridLayout>\n                            </StackLayout>\n                            <Label row=\"0\" col=\"1\" text=\"&#xf105;\" class=\"fn-list-view-item\" verticalAlignment=\"middle\" />\n                        </GridLayout>\n                    </StackLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"3\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./committees/committees-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./committees/committees-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./committees/committees-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function CommitteesViewModel(items) {
    const viewModel = new ObservableArray(items);
    
    viewModel.load = function(chamberId, filter, page, pageSize) {
        return http.request({
            url: global.apiBaseServiceUrl + "committeesfilter?chamberId=" + chamberId + "&filter=" + filter.replace(/ /g, "%20") + "&page=" + page + "&pageSize=" + pageSize,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(committee) {
                if (committee.FullName !== null) {
                    var fullName = committee.FullName;
                    var title = committee.Title;

                    if (fullName.length > 0) {
                        if (title.indexOf(";") > 0) {
                            title = title.substr(0, title.indexOf(';')) + ": ";
                            fullName = fullName.replace(";", ", ");
                        } else {
                            title += ": ";
                        }
                    }

                    viewModel.push({
                        committeeId: committee.CommitteeId,
                        committeeName: committee.CommitteeName,
                        parentCommitteeId: committee.ParentCommitteeId,
                        subcommitteeId: committee.SubcommitteeId,
                        subcommitteeName: committee.SubcommitteeName,
                        isSubcommittee: committee.IsSubcommittee,
                        chamberId: committee.ChamberId,
                        chamber: committee.Chamber,
                        office: committee.Office,
                        phone: committee.Phone,
                        website: committee.Website,
                        fullName: fullName,
                        title: title
                    });
                }
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = CommitteesViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./committees/committees-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./committees/committees-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./components/tab-navigation.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {var gridLayout = __webpack_require__("../node_modules/@nativescript/core/ui/layouts/grid-layout/index.js")
var stackLayout = __webpack_require__("../node_modules/@nativescript/core/ui/layouts/stack-layout/index.js")
var Label = __webpack_require__("../node_modules/@nativescript/core/ui/label/index.js").Label
//var dependencyObservableModule = require("ui/core/dependency-observable")
//var View = require("ui/core/view").View
var frame = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js")
//var platform = require("platform")
var color = __webpack_require__("../node_modules/@nativescript/core/color/index.js")

var TabNavigation = (function (_super) {
    __extends(TabNavigation, _super)
    function TabNavigation() {
        _super.call(this)

        this.backgroundColor = new color.Color("#ffffff")
        this.navFrame = new frame.Frame()
        this._tabs = []
        
        var _this = this
        this.on('loaded', function(args){
            var obj = args.object
            if(obj.id==='tab-navigation'){
              return;   
            }
            _this.createUi(obj.tabs)
            _this.navFrame.isLoaded = false
            _this.navFrame.navigate(obj.tabs[0].path)
        })

    }

    TabNavigation.prototype.createUi = function (items) {
        var _this = this
        var numItems = items.length
        this.removeChildren()
        this.id = "tab-navigation"        
        this.addRow(new gridLayout.ItemSpec(1, gridLayout.GridUnitType.star))
        this.addRow(new gridLayout.ItemSpec(1, gridLayout.GridUnitType.auto))
        
        for (var i = 0; i < numItems; i++) {
            this.addColumn(new gridLayout.ItemSpec(1, gridLayout.GridUnitType.star))
        }

        this.navFrame.className = "navigation-frame"
        this.addChild(this.navFrame)
        gridLayout.GridLayout.setColumn(this.navFrame, 0)
        gridLayout.GridLayout.setRow(this.navFrame, 0)
        gridLayout.GridLayout.setColumnSpan(this.navFrame, numItems)

        for (var i = 0; i < numItems; i++) {
            (function () {
                var currentItem = items[i]

                var tab = new stackLayout.StackLayout()
                tab.direction = "vertical"
                if(i == 0) {
                    tab.className = "tab tab-selected"
                } else {
                    tab.className = "tab"
                }

                tab.id = "tab_"+i
                tab.on("tap", function (args) {
                    return _this.onTabSelected(args, currentItem) 
                })

                var icon = new Label()
                icon.className = 'tab-icon'
                //icon.text = String.fromCharCode(currentItem.iconCode)
                icon.text = currentItem.iconCode
                tab.addChild(icon)

                var label = new Label()
                label.className = 'tab-label'
                label.text = currentItem.label
                tab.addChild(label)

                _this._tabs.push(tab)
                _this.addChild(tab)
                gridLayout.GridLayout.setRow(tab, 1)
                gridLayout.GridLayout.setColumn(tab, i)
            }())
        }
    }

    TabNavigation.prototype.showTab = function(item) {
        var navigationEntry = {
            moduleName: item.path,
            animated: false,
            clearHistory: true
        }
        this.navFrame.navigate(navigationEntry)
    }

    TabNavigation.prototype.onTabSelected = function (args, item) {
        var selectedObj = args.object
        if (selectedObj.className.indexOf("tab-selected") > -1) {
            return
        }
        this._tabs.forEach(function(tab){
            tab.className = 'tab'
        });
        selectedObj.className = 'tab tab-selected'
        this.showTab(item)
    }

    return TabNavigation

}(gridLayout.GridLayout))

exports.TabNavigation = TabNavigation; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./components/tab-navigation.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./components/tab-navigation.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./home/home-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {/*
In NativeScript, a file with the same name as an XML file is known as
a code-behind file. The code-behind is a great place to place your view
logic, and to set up your pageâ€™s data binding.
*/

/*
NativeScript adheres to the CommonJS specification for dealing with
JavaScript modules. The CommonJS require() function is how you import
JavaScript modules defined in other files.
*/
const HomeViewModel = __webpack_require__("./home/home-view-model.js");
//var dialogs = require("ui/dialogs");

const homeViewModel = new HomeViewModel();
var page;

function onNavigatingTo(args) {
    /*
    This gets a reference this pageâ€™s <Page> UI component. You can
    view the API reference of the Page to see whatâ€™s available at
    https://docs.nativescript.org/api-reference/classes/_ui_page_.page.html
    */
    //const page = args.object;
    page = args.object;

    /*
    A pageâ€™s bindingContext is an object that should be used to perform
    data binding between XML markup and JavaScript code. Properties
    on the bindingContext can be accessed using the {{ }} syntax in XML.
    In this example, the {{ message }} and {{ onTap }} bindings are resolved
    against the object returned by createViewModel().

    You can learn more about data binding in NativeScript at
    https://docs.nativescript.org/core-concepts/data-binding.
    */
    page.bindingContext = homeViewModel;
}

/* function onTabViewLoaded(args) {
    const tabView = args.object;

    tabView.eachChild((child) => {
        child._iosViewController.tabBarItem.titlePositionAdjustment = {
            horizontal: 0,
            vertical: 0
        };
    });

    page.actionBar.title = "Legislators";
} */

/* function onTabViewSelectedIndexChanged(args) {
    var tabView = args.object;
    var selectedIndex = tabView.selectedIndex;
        
    if (selectedIndex === 0) { // Legislators
        page.actionBar.title = "Legislators";
    } else if (selectedIndex === 1) { // Committees
        page.actionBar.title = "Committees";
    } else if (selectedIndex === 2) { // My Meetings
        page.actionBar.title = "My Meetings";
    } else { // Assignments
        page.actionBar.title = "Assignments";
    }
} */

/*
Exporting a function in a NativeScript code-behind file makes it accessible
to the fileâ€™s corresponding XML file. In this case, exporting the onNavigatingTo
function here makes the navigatingTo="onNavigatingTo" binding in this pageâ€™s XML
file work.
*/
exports.onNavigatingTo = onNavigatingTo;
// exports.onTabViewLoaded = onTabViewLoaded;
// exports.onTabViewSelectedIndexChanged = onTabViewSelectedIndexChanged;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./home/home-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./home/home-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./home/home-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page class=\"page\" navigatingTo=\"onNavigatingTo\" xmlns=\"http://schemas.nativescript.org/tns.xsd\">\n    <ActionBar class=\"action-bar\" />\n\n    <GridLayout>\n        <!-- Add your page content here -->\n    </GridLayout>\n    <!--<TabView id=\"mainTabs\" loaded=\"onTabViewLoaded\" selectedIndexChanged=\"onTabViewSelectedIndexChanged\">\n        <TabView.items>\n            <TabViewItem title=\"Legislators\" iconSource=\"res://legislator-icon\" xmlns:Legislators=\"home/legislators\">\n                <TabViewItem.view>\n                    <Legislators:legislators-page />\n                </TabViewItem.view>\n            </TabViewItem>\n            <TabViewItem title=\"Committees\" iconSource=\"res://committee-icon\" xmlns:Committees=\"home/committees\">\n                <TabViewItem.view>\n                    <Committees:committees-page />\n                </TabViewItem.view>\n            </TabViewItem>\n            <TabViewItem title=\"My Meetings\" iconSource=\"res://meeting-icon\">\n                <TabViewItem.view>\n                    <Label text=\"My Meetings\" />\n                </TabViewItem.view>\n            </TabViewItem>\n            <TabViewItem title=\"Assignments\" iconSource=\"res://assignment-icon\" xmlns:Assignments=\"home/assignments\">\n                <TabViewItem.view>\n                    <Assignments:assignments-page />\n                </TabViewItem.view>\n            </TabViewItem>\n        </TabView.items>\n    </TabView>-->\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./home/home-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./home/home-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./home/home-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const Observable = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js").Observable;

function HomeViewModel() {
    const viewModel = new Observable();

    return viewModel;
}

module.exports = HomeViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./home/home-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./home/home-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/bio/bio-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");

function onNavigatingTo(args) {
    const page = args.object;
    var navigationContext = page.navigationContext;

    page.actionBar.title = "Bio";

    page.bindingContext = navigationContext;
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onBackTap = onBackTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/bio/bio-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/bio/bio-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/bio/bio-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\" class=\"view-title\">\n            <Label id=\"legislatorId\" text=\"{{ legislatorId }}\" visibility=\"collapsed\" />\n            <Label id=\"legislatorName\" text=\"{{ fullName }}\" horizontalAlignment=\"center\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\">\n            <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Office\" class=\"list-view-item-left\" />\n                <Label row=\"0\" col=\"1\" text=\"{{ office }}\" horizontalAlignment=\"right\"  class=\"list-view-item-right\" />\n            </GridLayout>\n            <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"State\" class=\"list-view-item-left\" />\n                <Label row=\"0\" col=\"1\" text=\"{{ stateName }}\" horizontalAlignment=\"right\"  class=\"list-view-item-right\" />\n            </GridLayout>\n            <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Phone\" class=\"list-view-item-left\" />\n                <Label row=\"0\" col=\"1\" text=\"{{ phone }}\" horizontalAlignment=\"right\"  class=\"list-view-item-right\" />\n            </GridLayout>\n            <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Term Start\" class=\"list-view-item-left\" />\n                <Label row=\"0\" col=\"1\" text=\"{{ termStart }}\" horizontalAlignment=\"right\"  class=\"list-view-item-right\" />\n            </GridLayout>\n            <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Chamber\" class=\"list-view-item-left\" />\n                <Label row=\"0\" col=\"1\" text=\"{{ chamber }}\" horizontalAlignment=\"right\"  class=\"list-view-item-right\" />\n            </GridLayout>\n            <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Party\" class=\"list-view-item-left\" />\n                <Label row=\"0\" col=\"1\" text=\"{{ partyName }}\" horizontalAlignment=\"right\"  class=\"list-view-item-right\" />\n            </GridLayout>\n            <GridLayout columns=\"*\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Bio\" class=\"list-view-item-left\" />\n            </GridLayout>\n        </StackLayout>\n        <StackLayout row=\"2\" col=\"0\">\n            <GridLayout columns=\"*\" rows=\"*\">\n                <!-- <ScrollView row=\"0\" col=\"0\"> -->\n                    <TextView text=\"{{ bio }}\" editable=\"false\" class=\"scroll-view-item\" />\n                <!-- </ScrollView> -->\n            </GridLayout>\n        </StackLayout>\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/bio/bio-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./legislators/legislator/bio/bio-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/committees/committees-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const CommitteesViewModel = __webpack_require__("./legislators/legislator/committees/committees-view-model.js");
const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var page;

var committeesList = new CommitteesViewModel([]);

var pageData = new observableModule.fromObject({
    committeesList: committeesList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        
        page.actionBar.title = "Committees";

        var navigationContext = page.navigationContext;
        var legislatorId = page.getViewById("legislatorId");
        var legislatorName = page.getViewById("legislatorName");
    
        legislatorId.text = navigationContext.legislatorId;
        legislatorName.text = navigationContext.fullName;
    
        committeesList.empty();
    
        pageData.set("isLoading", true);
    
        committeesList.load(navigationContext.legislatorId).then(function () {
            pageData.set("isLoading", false);
        });
    
        page.bindingContext = pageData;
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onBackTap = onBackTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/committees/committees-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/committees/committees-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/committees/committees-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\" class=\"view-title\">\n            <Label id=\"legislatorId\" text=\"\" visibility=\"collapsed\" />\n            <Label id=\"legislatorName\" text=\"\" verticalAlignment=\"center\" horizontalAlignment=\"center\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\">\n            <ListView items=\"{{ committeesList }}\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <StackLayout>\n                        <GridLayout columns=\"*\" rows=\"*\" class=\"list-view-item\">\n                            <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"middle\">\n                                <Label text=\"{{ name }}\" textWrap=\"true\" style=\"{{ subcommittee === 'True' ? 'margin-left: 15;' : 'margin-left: 0;' }}\" class=\"list-view-item-main-top\" />\n                                <Label text=\"{{ title }}\" style=\"{{ subcommittee === 'True' ? 'margin-left: 15;' : 'margin-left: 0;' }}\" class=\"list-view-item-sub\" />\n                            </StackLayout>\n                        </GridLayout>\n                    </StackLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"2\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/committees/committees-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./legislators/legislator/committees/committees-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/committees/committees-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function CommitteesViewModel(items) {
    const viewModel = new ObservableArray(items);
    
    viewModel.load = function(legislatorId) {
        return http.request({
            url: global.apiBaseServiceUrl + "committees?legislatorId=" + legislatorId,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(committee) {
                viewModel.push({
                    committeeId: committee.CommitteeId,
                    name: committee.Name,
                    phone: committee.Phone,
                    chamberId: committee.ChamberId,
                    chamber: committee.Chamber,
                    parentCommitteeId: committee.ParentCommitteeId,
                    subcommittee: committee.Subcommittee,
                    rank: committee.Rank,
                    title: committee.Title
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = CommitteesViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/committees/committees-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/committees/committees-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/initiativetiers/initiativetiers-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const InitiativetiersViewModel = __webpack_require__("./legislators/legislator/initiativetiers/initiativetiers-view-model.js");
const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var page;

var initiativeTiersList = new InitiativetiersViewModel([]);

var pageData = new observableModule.fromObject({
    initiativeTiersList: initiativeTiersList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        
        page.actionBar.title = "Initiative Tiers";

        var navigationContext = page.navigationContext;
        var legislatorId = page.getViewById("legislatorId");
        var legislatorName = page.getViewById("legislatorName");
    
        legislatorId.text = navigationContext.legislatorId;
        legislatorName.text = navigationContext.fullName;
    
        initiativeTiersList.empty();
    
        pageData.set("isLoading", true);
    
        initiativeTiersList.load(navigationContext.legislatorId).then(function () {
            pageData.set("isLoading", false);
        });
    
        page.bindingContext = pageData;
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onBackTap = onBackTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/initiativetiers/initiativetiers-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/initiativetiers/initiativetiers-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/initiativetiers/initiativetiers-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\" class=\"view-title\">\n            <Label id=\"legislatorId\" text=\"\" visibility=\"collapsed\" />\n            <Label id=\"legislatorName\" text=\"\" horizontalAlignment=\"center\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\">\n            <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                <Label row=\"0\" col=\"0\" text=\"Initiative\" class=\"list-view-item-main-top\" />\n                <Label row=\"0\" col=\"1\" text=\"Tier\" class=\"list-view-item-main-top\" />\n            </GridLayout>\n            <Border borderWidth=\"0.25\" borderColor=\"#000000\" />\n        </StackLayout>\n        <StackLayout row=\"2\" col=\"0\" verticalAlignment=\"top\" width=\"100%\">\n            <ListView items=\"{{ initiativeTiersList }}\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <StackLayout>\n                        <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                            <Label row=\"0\" col=\"0\" text=\"{{ initiative }}\" class=\"list-view-item-main-top\" />\n                            <Label row=\"0\" col=\"1\" text=\"{{ tier }}\" class=\"list-view-item-main-top\" />\n                        </GridLayout>\n                    </StackLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"3\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/initiativetiers/initiativetiers-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./legislators/legislator/initiativetiers/initiativetiers-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/initiativetiers/initiativetiers-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function InitiativetiersViewModel(items) {
    const viewModel = new ObservableArray(items);

    viewModel.load = function(legislatorId) {
        return http.request({
            url: global.apiBaseServiceUrl + "initiativestances?legislatorId=" + legislatorId,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(initiative) {
                viewModel.push({
                    initiativeId: initiative.InitiativeId,
                    initiative: initiative.Initiative,
                    legislatorId: initiative.LegislatorId,
                    legislator: initiative.Legislator,
                    tier: initiative.Tier,
                    issueStanceId: initiative.IssueStanceId,
                    issueStance: initiative.IssueStance
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = InitiativetiersViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/initiativetiers/initiativetiers-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/initiativetiers/initiativetiers-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/legislator-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const LegislatorViewModel = __webpack_require__("./legislators/legislator/legislator-view-model.js");
const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
// const Color = require("color").Color;
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var page;
var navigationContext;

var legislatorList = new LegislatorViewModel([]);

var pageData = new observableModule.fromObject({
    legislatorList: legislatorList,
    isLoading: false
});

function onNavigatingTo(args) {
    page = args.object;

    page.actionBar.title = "Legislator";

    // if (frameModule.topmost().ios) {
    //     var navigationBar = frameModule.topmost().ios.controller.navigationBar;

    //     //dialogs.alert(navigationBar.items);

    //     try {
    //         navigationBar.tintColor = new Color("#007aff").ios;
    //     }
    //     catch(e)
    //     {
    //         dialogs.alert(e);
    //     }
    // }

    // if (page.ios)
    // {
    //     var selectedViewController = page.ios;

    //     selectedViewController.hidesBottomBarWhenPushed = false;
    // }

    navigationContext = page.navigationContext;
    var legislatorId = page.getViewById("legislatorId");
    var legislatorName = page.getViewById("legislatorName");
    
    legislatorId.text = navigationContext.legislatorId;
    legislatorName.text = navigationContext.fullName;

    legislatorList.empty();
    legislatorList.load(navigationContext.bioguideId);

    //dialogs.alert(legislatorList.getItem(legislatorList.length - 1).title);
    
    page.bindingContext = pageData;
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onItemTap(args)
{
    try
    {
        var index = args.index;
        var item = legislatorList.getItem(index);

        navigationContext.reference = "nav";
        navigationContext.relationalType = "legislator";
        navigationContext.relationalId = navigationContext.legislatorId;

        const navigationEntry = {
            moduleName: item.navigateTo,
            context: navigationContext,
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onBackTap = onBackTap;
exports.onItemTap = onItemTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/legislator-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/legislator-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/legislator-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\" class=\"view-title\">\n            <Label id=\"legislatorId\" text=\"\" visibility=\"collapsed\" />\n            <Label id=\"legislatorName\" text=\"\" verticalAlignment=\"center\" horizontalAlignment=\"center\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\" width=\"100%\">\n            <ListView items=\"{{ legislatorList }}\" itemTap=\"onItemTap\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <StackLayout>\n                        <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                            <Label row=\"0\" col=\"0\" text=\"{{ title }}\" verticalAlignment=\"middle\" class=\"list-view-item-main-top\" />\n                            <Label row=\"0\" col=\"1\" text=\"&#xf105;\" verticalAlignment=\"middle\" class=\"fn-list-view-item\" />\n                        </GridLayout>\n                    </StackLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/legislator-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./legislators/legislator/legislator-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/legislator-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function LegislatorViewModel(items) {
    const viewModel = new ObservableArray(items);

    viewModel.load = function(bioguideId) {
        var data;

        if (bioguideId === null || bioguideId === "") {
            data = [
                {"title": "Meetings", "navigateTo": "meetings/meetings-page"},
                {"title": "Initiative Tiers", "navigateTo": "legislators/legislator/initiativetiers/initiativetiers-page"},
                {"title": "Surveys", "navigateTo": "legislators/legislator/surveys/surveys-page"},
                {"title": "Relationships", "navigateTo": "profiles/profiles-page"},
                {"title": "Committees", "navigateTo": "legislators/legislator/committees/committees-page"}
            ];
        } else {
            data = [
                {"title": "Meetings", "navigateTo": "meetings/meetings-page"},
                {"title": "Initiative Tiers", "navigateTo": "legislators/legislator/initiativetiers/initiativetiers-page"},
                {"title": "Surveys", "navigateTo": "legislators/legislator/surveys/surveys-page"},
                {"title": "Relationships", "navigateTo": "profiles/profiles-page"},
                {"title": "Bio", "navigateTo": "legislators/legislator/bio/bio-page"},
                {"title": "Committees", "navigateTo": "legislators/legislator/committees/committees-page"}
            ];
        }

        data.forEach(function(dataItem) {
            viewModel.push({
                title: dataItem.title,
                navigateTo: dataItem.navigateTo
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };

    return viewModel;
}

module.exports = LegislatorViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/legislator-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/legislator-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/surveys/select/select-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const SelectViewModel = __webpack_require__("./legislators/legislator/surveys/select/select-view-model.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var page;
var navigationContext;

var selectList = new SelectViewModel([]);

var switchTap = false;

var pageData = new ObservableModule.fromObject({
    boundData: null,
    selectList: selectList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        navigationContext = page.navigationContext;
        
        pageData.boundData = navigationContext;
        pageData.boundData.updated = false;
        
        page.actionBar.title = "Select Survey(s)";

        selectList.empty();

        pageData.set("isLoading", true);

        selectList.load(navigationContext.meetingId).then(function () {
            pageData.set("isLoading", false);

            page.bindingContext = pageData;
        });
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSwitchLoaded(args) {
    var checkedSwitch = args.object;

    checkedSwitch.on("tap", function(args) {
        // Necessary to prevent the checkedChange event from firing on the switch when user scrolls.
        switchTap = true;
    });

    checkedSwitch.on("checkedChange", function(args) {
        if (switchTap) {
            var stackLayout = args.object.parent;
            var indexLabel = stackLayout.getViewById("indexLabel");

            var model = selectList.getItem(indexLabel.text);

            model.checked = args.value;
            
            http.request({
                url: global.apiBaseServiceUrl + "updatemeetingsurvey",
                method: "POST",
                headers: { "Content-Type": "application/json", "Authorization": global.token },
                content: JSON.stringify(model)
            }).then(function (response) {
                // var result = response.content.toJSON();

                // dialogs.alert(result);
                pageData.boundData.updated = true;

                switchTap = false;
            }, function (e) {
                dialogs.alert({
                    title: "Error",
                    message: e.toString(),
                    okButtonText: "OK"
                });
            });
        }
    });
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onSwitchLoaded = onSwitchLoaded;
exports.onBackTap = onBackTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/surveys/select/select-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/surveys/select/select-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/surveys/select/select-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"*\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\">\n            <ListView items=\"{{ selectList }}\" itemTemplateSelector=\"$index\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <StackLayout>\n                        <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                            <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"middle\">\n                                <Label text=\"{{ survey }}\" class=\"list-view-item-main-top\" />\n                                <GridLayout columns=\"auto, *\" rows=\"*\">\n                                    <Label row=\"0\" col=\"0\" text=\"Session Year: \" class=\"list-view-item-sub-title\" />\n                                    <Label row=\"0\" col=\"1\" text=\"{{ year }}\" class=\"list-view-item-sub\" />\n                                </GridLayout>\n                                <GridLayout columns=\"auto, *\" rows=\"*\">\n                                    <Label row=\"0\" col=\"0\" text=\"Chamber/Caucus: \" class=\"list-view-item-sub-title\" />\n                                    <Label row=\"0\" col=\"1\" text=\"{{ chamber }}\" class=\"list-view-item-sub\" />\n                                </GridLayout>\n                            </StackLayout>\n                            <StackLayout row=\"0\" col=\"1\" verticalAlignment=\"middle\">\n                                <Switch id=\"checkedSwitch\" row=\"0\" col=\"1\" checked=\"{{ checked }}\" \n                                    loaded=\"onSwitchLoaded\" horizontalAlignment=\"right\" class=\"switch\" />\n                                <Label id=\"indexLabel\" text=\"{{ $index }}\" visibility=\"collapse\" />\n                            </StackLayout>\n                        </GridLayout>\n                    </StackLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"1\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/surveys/select/select-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./legislators/legislator/surveys/select/select-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/surveys/select/select-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function SelectViewModel(items) {
    const viewModel = new ObservableArray(items);
    
    viewModel.load = function(meetingId) {
        return http.request({
            url: global.apiBaseServiceUrl + "meetingsurveys?meetingId=" + meetingId,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(survey) {
                var checked = false;

                if (survey.Checked === "true") {
                    checked = true;
                }

                viewModel.push({
                    meetingId: survey.MeetingId,
                    legislatorId: survey.LegislatorId,
                    surveyId: survey.SurveyId,
                    survey: survey.Survey,
                    initiativeIds: survey.InitiativeIds,
                    intitiatives: survey.Initiatives,
                    year: survey.Year,
                    chamberId: survey.ChamberId,
                    chamber: survey.Chamber,
                    checked: survey.Checked
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = SelectViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/surveys/select/select-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/surveys/select/select-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/surveys/survey/question/question-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ResponseViewModel = __webpack_require__("./legislators/legislator/surveys/survey/question/response-view-model.js");
const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

var page;
var navigationContext;

var responseList = new ResponseViewModel([]);
var responseIndex = 0;

var pageData = new ObservableModule.fromObject({
    boundData: null,
    responseIndex: responseIndex,
    responseList: responseList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;

        navigationContext = page.navigationContext;

        var legislatorId = page.getViewById("legislatorId");
        var legislatorName = page.getViewById("legislatorName");

        legislatorId.text = navigationContext.legislatorId;
        legislatorName.text = navigationContext.fullName;
        
        var surveyTitle = navigationContext.boundData.survey;
        var maxLength = 20;

        if (surveyTitle.length > maxLength) {
            for (var i = maxLength; i > 0; i--) {
                var position = surveyTitle.indexOf(" ", i);

                if (position > -1 && position <= maxLength) {
                    surveyTitle = surveyTitle.substr(0, position) + "..."

                    break;
                }
            }
        }

        page.actionBar.title = surveyTitle;

        pageData.boundData = navigationContext.boundData;
        pageData.boundData.result = "";

        responseList.empty();

        if (responseList.Items.length === 0) {
            pageData.set("isLoading", true);
    
            responseList.load(pageData.boundData.surveyQuestionId).then(function () {
                responseIndex = 0;

                if (pageData.boundData.responseId.toString().length > 0) {
                    pageData.responseList = responseList;

                    var i;

                    for (i = 0; i < responseList.List.length; i++) {
                        if (pageData.responseList.List.getItem(i).responseId === pageData.boundData.responseId) {
                            responseIndex = i;
                        }
                    }
                }

                pageData.responseIndex = responseIndex;

                page.bindingContext = pageData;

                pageData.set("isLoading", false);
            });
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onLoaded(args) {
    try {
        var responseListPicker = page.getViewById("responseListPicker");
        
        responseListPicker.on("selectedIndexChange", function(args) {
            var responseLabel = page.getViewById("responseLabel");

            responseLabel.text = pageData.responseList.Items.getItem(args.object.selectedIndex);
        });
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        if (platform.isAndroid) {
            var comments = page.getViewById("comments");

            comments.dismissSoftInput();
        }

        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onGridLayoutTap(args) {
    try {
        if (platform.isAndroid) {
            var comments = page.getViewById("comments");

            comments.dismissSoftInput();
        }
    } catch(e) {
        dialogs.alert(e);
    }
}

function onStackLayoutTap(args) {
    try {
        if (platform.isAndroid) {
            var comments = page.getViewById("comments");

            comments.dismissSoftInput();
        }

        var responseListPickerGridLayout = page.getViewById("responseListPickerGridLayout");
        
        if (responseListPickerGridLayout.visibility === "collapse") {
            responseListPickerGridLayout.visibility = "visible";

            page.addCss("#responseLabel {color: #cc2d30;}");
        } else {
            responseListPickerGridLayout.visibility = "collapse";

            page.addCss("#responseLabel {color: #666;}");
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSaveTap(args) {
    if (platform.isAndroid) {
        var comments = page.getViewById("comments");

        comments.dismissSoftInput();
    }

    var responseListPicker = page.getViewById("responseListPicker");

    pageData.boundData.responseId = pageData.responseList.List.getItem(responseListPicker.selectedIndex).responseId;
    pageData.boundData.response = pageData.responseList.List.getItem(responseListPicker.selectedIndex).response;
    
    var result;

    http.request({
        url: global.apiBaseServiceUrl + "updatelegislatorsurvey",
        method: "POST",
        headers: { "Content-Type": "application/json", "Authorization": global.token },
        content: JSON.stringify(pageData.boundData)
    }).then(function (response) {
        pageData.boundData.result = "Update";

        frameModule.topmost().goBack();
    }, function (e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    });
}

exports.onNavigatingTo = onNavigatingTo;
exports.onLoaded = onLoaded;
exports.onBackTap = onBackTap;
exports.onGridLayoutTap = onGridLayoutTap;
exports.onStackLayoutTap = onStackLayoutTap;
exports.onSaveTap = onSaveTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/surveys/survey/question/question-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/surveys/survey/question/question-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/surveys/survey/question/question-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" loaded=\"onLoaded\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n        <ActionItem tap=\"onSaveTap\" ios.systemIcon=\"3\" android.systemIcon=\"ic_menu_save\" ios.position=\"right\" />\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, *\" height=\"100%\" width=\"100%\" tap=\"onGridLayoutTap\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\" class=\"view-title\" visibility=\"{{ boundData.relationalType === 'legislator' ? 'visible' : 'collapse' }}\">\n            <Label id=\"legislatorId\" text=\"\" visibility=\"collapsed\" />\n            <Label id=\"legislatorName\" text=\"\" horizontalAlignment=\"center\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\">\n            <GridLayout columns=\"*\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"{{ boundData.surveyQuestion }}\" textWrap=\"true\" class=\"list-view-item-left\" />\n            </GridLayout>\n            <StackLayout tap=\"onStackLayoutTap\">\n                <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                    <Label row=\"0\" col=\"0\" text=\"Response\" class=\"list-view-item-left\" />\n                    <Label id=\"responseLabel\" row=\"0\" col=\"1\" text=\"{{ boundData.response }}\" class=\"list-view-item-right\" />\n                </GridLayout>\n            </StackLayout>\n            <GridLayout id=\"responseListPickerGridLayout\" columns=\"*\" rows=\"auto\" class=\"list-view-item-form\" visibility=\"collapse\">\n                <ListPicker id=\"responseListPicker\" row=\"0\" col=\"0\" items=\"{{ responseList.Items }}\" selectedIndex=\"{{ responseIndex }}\" horizontalAlignment=\"center\" class=\"list-view-item-picker\"></ListPicker>\n            </GridLayout>\n            <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Follow Up Required?\" class=\"list-view-item-left\" />\n                <Switch row=\"0\" col=\"1\" checked=\"{{ boundData.followUpRequired }}\" horizontalAlignment=\"right\" class=\"switch\" />\n            </GridLayout>\n            <!-- <GridLayout columns=\"*\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Comments/Observations\" class=\"list-view-item-left\" />\n            </GridLayout> -->\n            <GridLayout columns=\"*\" rows=\"*\" class=\"list-view-item-form\">\n                <TextView id=\"comments\" row=\"0\" col=\"0\" text=\"{{ boundData.comments }}\" hint=\"Comments/Observations\" class=\"list-view-item-textview\" />\n            </GridLayout>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"2\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/surveys/survey/question/question-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./legislators/legislator/surveys/survey/question/question-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/surveys/survey/question/response-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js").Observable;
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function ResponseViewModel() {
    const viewModel = new ObservableModule();
    viewModel.Items = new ObservableArray();
    viewModel.List = new ObservableArray();

    viewModel.load = function(surveyQuestionId) {
        return http.request({
            url: global.apiBaseServiceUrl + "surveyresponseset?surveyQuestionId=" + surveyQuestionId,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(response) {
                viewModel.Items.push(
                    response.Response
                );

                viewModel.List.push({
                    responseId: response.ResponseId,
                    response: response.Response
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.Items.length) {
            viewModel.Items.pop();
        }

        while (viewModel.List.length) {
            viewModel.List.pop();
        }
    };
    
    return viewModel;
}

module.exports = ResponseViewModel;; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/surveys/survey/question/response-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/surveys/survey/question/response-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/surveys/survey/survey-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const SurveyViewModel = __webpack_require__("./legislators/legislator/surveys/survey/survey-view-model.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
const appModule = __webpack_require__("../node_modules/@nativescript/core/application/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var page;
var model;
var navigationContext;

var surveyList = new SurveyViewModel([]);

var pageData = new ObservableModule.fromObject({
    boundData: null,
    surveyList: surveyList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;

        navigationContext = page.navigationContext;

        var surveyTitle = navigationContext.survey;
        var maxLength = 20;

        if (surveyTitle.length > maxLength) {
            for (var i = maxLength; i > 0; i--) {
                var position = surveyTitle.indexOf(" ", i);

                if (position > -1 && position <= maxLength) {
                    surveyTitle = surveyTitle.substr(0, position) + "..."

                    break;
                }
            }
        }

        //page.actionBar.title = "Survey";
        page.actionBar.title = surveyTitle;

        pageData.boundData = navigationContext;

        const boolTextConverter = (value) => {
            var result = "No";

            if (value) {
                result = "Yes";
            }

            return result;
        };

        appModule.getResources().boolTextConverter = boolTextConverter;

        if (args.isBackNavigation) {
            if (model.result === "Update") {
                surveyList.empty();
            
                if (surveyList.length === 0) {
                    pageData.set("isLoading", true);
            
                    surveyList.load(navigationContext.legislatorId, navigationContext.surveyId).then(function () {
                        pageData.set("isLoading", false);
                    });
                }
            
                page.bindingContext = pageData;
            }
        } else {
            navigationContext = page.navigationContext;

            var legislatorId = page.getViewById("legislatorId");
            var legislatorName = page.getViewById("legislatorName");

            legislatorId.text = navigationContext.legislatorId;
            legislatorName.text = navigationContext.fullName;

            surveyList.empty();
            
            pageData.set("isLoading", true);
    
            surveyList.load(navigationContext.legislatorId, navigationContext.surveyId).then(function () {
                pageData.set("isLoading", false);
            });
        
            page.bindingContext = pageData;
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onItemTap(args) {
    try
    {
        var legislatorId = page.getViewById("legislatorId");
        var legislatorName = page.getViewById("legislatorName");
        var view = args.view;

        model = view.bindingContext;
        model.relationalType = navigationContext.relationalType;
        model.relationalId = navigationContext.relationalId;
        //dialogs.alert(view.bindingContext.surveyQuestion);

        const navigationEntry = {
            moduleName: "legislators/legislator/surveys/survey/question/question-page",
            context: { 
                legislatorId: legislatorId.text,
                fullName: legislatorName.text,
                boundData: model
            },
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onBackTap = onBackTap;
exports.onItemTap = onItemTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/surveys/survey/survey-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/surveys/survey/survey-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/surveys/survey/survey-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\" class=\"view-title\" visibility=\"{{ boundData.relationalType === 'legislator' ? 'visible' : 'collapse' }}\">\n            <Label id=\"legislatorId\" text=\"\" visibility=\"collapsed\" />\n            <Label id=\"legislatorName\" text=\"\" horizontalAlignment=\"center\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\">\n            <ListView items=\"{{ surveyList }}\" itemTap=\"onItemTap\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <StackLayout>\n                        <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                            <StackLayout row=\"0\" col=\"0\">\n                                <Label text=\"{{ surveyQuestion }}\" textWrap=\"true\" class=\"list-view-item-main-top\" />\n                                <Label text=\"Survey Question Response\" class=\"list-view-item-sub\" style=\"font-style: italic;\" horizontalAlignment=\"center\" />\n                                <GridLayout columns=\"auto, *\" rows=\"*\">\n                                    <Label row=\"0\" col=\"0\" text=\"Response: \" class=\"list-view-item-sub-title\" />\n                                    <Label row=\"0\" col=\"1\" text=\"{{ response }}\" class=\"list-view-item-sub\" />\n                                </GridLayout>\n                                <GridLayout columns=\"auto, *\" rows=\"*\">\n                                    <Label row=\"0\" col=\"0\" text=\"Follow Up Required? \" class=\"list-view-item-sub-title\" />\n                                    <Label row=\"0\" col=\"1\" text=\"{{ followUpRequired | boolTextConverter() }}\" class=\"list-view-item-sub\" />\n                                </GridLayout>\n                                <StackLayout direction=\"horizontal\">\n                                    <Label row=\"0\" col=\"0\" text=\"Comments/Observations: \" class=\"list-view-item-sub-title\" />\n                                    <Label row=\"0\" col=\"1\" text=\"{{ comments }}\" textWrap=\"true\" class=\"list-view-item-sub\" visibility=\"{{ comments === null || comments.length === 0 ? 'collapse' : 'visible' }}\" />\n                                </StackLayout>\n                            </StackLayout>\n                            <Label row=\"0\" col=\"1\" text=\"&#xf105;\" class=\"fn-list-view-item\" />\n                        </GridLayout>\n                    </StackLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"2\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/surveys/survey/survey-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./legislators/legislator/surveys/survey/survey-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/surveys/survey/survey-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function SurveyViewModel(items) {
    const viewModel = new ObservableArray(items);

    viewModel.load = function(legislatorId, surveyId) {
        return http.request({
            url: global.apiBaseServiceUrl + "legislatorsurvey?legislatorId=" + legislatorId + "&surveyId=" + surveyId,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(surveyQuestion) {
                var followUpRequired = false;

                if (surveyQuestion.FollowUpRequired === "true") {
                    followUpRequired = true;
                }

                viewModel.push({
                    legislatorId: surveyQuestion.LegislatorId,
                    fullName: surveyQuestion.FullName,
                    surveyId: surveyQuestion.SurveyId,
                    survey: surveyQuestion.Survey,
                    surveyQuestionId: surveyQuestion.SurveyQuestionId,
                    surveyQuestion: surveyQuestion.SurveyQuestion,
                    initiativeIds: surveyQuestion.InitiativeIds,
                    initiatives: surveyQuestion.Initiatives,
                    responseId: surveyQuestion.ResponseId,
                    response: surveyQuestion.Response,
                    followUpRequired: followUpRequired,
                    comments: surveyQuestion.Comments,
                    editorId: surveyQuestion.EditorId,
                    editor: surveyQuestion.Editor,
                    modifiedDate: surveyQuestion.ModifiedDate
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = SurveyViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/surveys/survey/survey-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/surveys/survey/survey-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/surveys/surveys-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const SurveysViewModel = __webpack_require__("./legislators/legislator/surveys/surveys-view-model.js");
const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
const appModule = __webpack_require__("../node_modules/@nativescript/core/application/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var page;
var navigationContext;

var surveysActive;

var surveysList = new SurveysViewModel([]);

var pageData = new observableModule.fromObject({
    boundData: null,
    surveysList: surveysList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;

        page.actionBar.title = "Surveys";

        navigationContext = page.navigationContext;

        pageData.boundData = navigationContext;

        var legislatorId = page.getViewById("legislatorId");
        var legislatorName = page.getViewById("legislatorName");

        legislatorId.text = navigationContext.legislatorId;
        legislatorName.text = navigationContext.fullName;

        if (args.isBackNavigation) {
            surveysList.empty();

            pageData.set("isLoading", true);

            surveysList.load(navigationContext.legislatorId, navigationContext.meetingId, surveysActive).then(function () {
                pageData.set("isLoading", false);
            });
        } else {
            // Since the Page contains a SegmentedBar,
            // the selectedIndexChanged event will perform the initial load of the ListView.

            page.bindingContext = pageData;
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSelectedIndexChanged(args) {
    try {
        if (args.newIndex === 0) {
            surveysActive = "Y";
        }
        else {
            surveysActive = "N";
        }

        surveysList.empty();

        pageData.set("isLoading", true);

        surveysList.load(navigationContext.legislatorId, navigationContext.meetingId, surveysActive).then(function () {
            pageData.set("isLoading", false);
        });

        page.bindingContext = pageData;
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onAddTap(args) {
    try {
        pageData.boundData.relationalType = "meeting";
        pageData.boundData.relationalId = pageData.boundData.meetingId;
        
        const navigationEntry = {
            moduleName: "legislators/legislator/surveys/select/select-page",
            context: pageData.boundData,
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onItemTap(args) {
    try
    {
        var legislatorId = page.getViewById("legislatorId");
        var legislatorName = page.getViewById("legislatorName");
        var index = args.index;
        var item = surveysList.getItem(index);

        const navigationEntry = {
            moduleName: "legislators/legislator/surveys/survey/survey-page",
            context: { 
                surveyId: item.surveyId,
                survey: item.survey,
                legislatorId: legislatorId.text,
                fullName: legislatorName.text,
                relationalType: navigationContext.relationalType,
                relationalId: navigationContext.relationalId
            },
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onSelectedIndexChanged = onSelectedIndexChanged;
exports.onAddTap = onAddTap;
exports.onBackTap = onBackTap;
exports.onItemTap = onItemTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/surveys/surveys-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/surveys/surveys-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/surveys/surveys-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n        <ActionItem tap=\"onAddTap\" ios.systemIcon=\"4\" android.systemIcon=\"ic_menu_add\" ios.position=\"right\" \n            visibility=\"{{ boundData.relationalType === 'legislator' ? 'collapse' : 'visible' }}\" />\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\" class=\"view-title\" visibility=\"{{ boundData.relationalType === 'legislator' ? 'visible' : 'collapse' }}\">\n            <Label id=\"legislatorId\" text=\"\" visibility=\"collapsed\" />\n            <Label id=\"legislatorName\" text=\"\" horizontalAlignment=\"center\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\">\n            <SegmentedBar class=\"segmented-bar\" selectedIndexChanged=\"onSelectedIndexChanged\">\n                <SegmentedBar.items>\n                    <SegmentedBarItem title=\"Current Surveys\" />\n                    <SegmentedBarItem title=\"Archived Surveys\" />\n                </SegmentedBar.items>\n            </SegmentedBar>\n        </StackLayout>\n        <StackLayout row=\"2\" col=\"0\" verticalAlignment=\"top\">\n            <ListView items=\"{{ surveysList }}\" itemTap=\"onItemTap\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <StackLayout>\n                        <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                            <StackLayout row=\"0\" col=\"0\">\n                                <Label text=\"{{ survey }}\" class=\"list-view-item-main-top\" />\n                                <GridLayout columns=\"auto, *\" rows=\"*\">\n                                    <Label row=\"0\" col=\"0\" text=\"Initiative(s): \" class=\"list-view-item-sub-title\" />\n                                    <Label row=\"0\" col=\"1\" text=\"{{ initiatives }}\" class=\"list-view-item-sub\" />\n                                </GridLayout>\n                                <GridLayout columns=\"auto, *\" rows=\"*\">\n                                    <Label row=\"0\" col=\"0\" text=\"Session Year: \" class=\"list-view-item-sub-title\" />\n                                    <Label row=\"0\" col=\"1\" text=\"{{ year }}\" class=\"list-view-item-sub\" />\n                                </GridLayout>\n                                <GridLayout columns=\"auto, *\" rows=\"*\">\n                                    <Label row=\"0\" col=\"0\" text=\"Chamber/Caucus: \" class=\"list-view-item-sub-title\" />\n                                    <Label row=\"0\" col=\"1\" text=\"{{ chamber }}\" class=\"list-view-item-sub\" />\n                                </GridLayout>\n                                <Label text=\"{{ questionCount }}\" class=\"list-view-item-sub\" />\n                            </StackLayout>\n                            <Label row=\"0\" col=\"1\" text=\"&#xf105;\" class=\"fn-list-view-item\" />\n                        </GridLayout>\n                    </StackLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"3\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/surveys/surveys-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./legislators/legislator/surveys/surveys-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/surveys/surveys-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function SurveysViewModel(items) {
    const viewModel = new ObservableArray(items);

    viewModel.load = function(legislatorId, meetingId, surveysActive) {
        var url = global.apiBaseServiceUrl + "legislatorsurveys?legislatorId=" + legislatorId;

        if (meetingId !== null) {
            url += "&meetingId=" + meetingId;
        }

        url += "&active=" + surveysActive;

        return http.request({
            url: url, //global.apiBaseServiceUrl + "legislatorsurveys?legislatorId=" + legislatorId + "&active=" + surveysActive,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(survey) {
                var questionCount = "(" + survey.QuestionCount + " survey questions)";

                viewModel.push({
                    legislatorId: survey.LegislatorId,
                    fullName: survey.FullName,
                    surveyId: survey.SurveyId,
                    survey: survey.Survey,
                    initiativeIds: survey.InitiativeIds,
                    initiatives: survey.Initiatives,
                    year: survey.Year,
                    chamber: survey.Chamber,
                    questionCount: questionCount
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = SurveysViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/surveys/surveys-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/surveys/surveys-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislators-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const LegislatorsViewModel = __webpack_require__("./legislators/legislators-view-model.js");
const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var gestures = __webpack_require__("../node_modules/@nativescript/core/ui/gestures/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

const MIN_X = -160;
const MAX_X = 0;
const THRESHOLD = 0.25;

var swipeOpen = false;
var swipedItem;

var isScrolling = false;
var isSwiping = false;

var page;
// var view;
var searchBar;
var legislatorsPageSize = 25;
var legislatorsSearchText = "";
var legislatorsSearchSubmitted = false;

var legislatorsList = new LegislatorsViewModel([]);

var pageData = new ObservableModule.fromObject({
    legislatorsList: legislatorsList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        
        page.actionBar.title = "Legislators";

        if (legislatorsSearchText !== "") {
            var searchBar = page.getViewById("searchBar");

            searchBar.text = legislatorsSearchText;
        }
        
        if (legislatorsList.length === 0) {
            pageData.set("isLoading", true);

            legislatorsList.load(legislatorsSearchText, 1, legislatorsPageSize).then(function () {
                pageData.set("isLoading", false);
            });
        }

        page.bindingContext = pageData;

        // var observerTap = page.observe(gestures.GestureTypes.tap, function (args) {
        //     searchBar.dismissSoftInput(); })
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

// function onViewLoaded(args) {
//     view = args.object;
//     page = view.page;
    
//     page.actionBar.title = "Legislators";

//     //legislatorsList.empty();
    
//     if (legislatorsList.length === 0) {
//         viewData.set("isLoading", true);

//         legislatorsList.load(legislatorsSearchText, 1, legislatorsPageSize).then(function () {
//             viewData.set("isLoading", false);
//         });

//         view.bindingContext = viewData;
//     }

//     // var observerTap = page.observe(gestures.GestureTypes.tap, function (args) {
//     //     searchBar.dismissSoftInput(); })
// }

// function onViewUnloaded(args) {

// }

function onSearchBarLoaded(args) {
    searchBar = args.object;

    if (platform.isAndroid) {
        searchBar.android.clearFocus();
    } else if (platform.isIOS) {
        // iOS Styling
        searchBar.ios.searchBarStyle = UISearchBarStyle.UISearchBarStyleMinimal;
        searchBar.ios.showsCancelButton = true;
        //searchBar.ios.animated = true;
        // searchbar.ios.setShowsCancelButtonAnimated(true, true);
    }
}

function onSubmit(args) {
    searchBar = args.object;

    legislatorsSearchText = searchBar.text.trim();

    legislatorsList.empty();
    
    pageData.set("isLoading", true);

    legislatorsList.load(legislatorsSearchText, 1, legislatorsPageSize).then(function (){
        pageData.set("isLoading", false);

        legislatorsSearchSubmitted = true;
    
        searchBar.dismissSoftInput();
    });
}

function onClear(args) {
    searchBar.text = "";
    legislatorsSearchText = "";

    if (legislatorsSearchSubmitted) {
        legislatorsList.empty();
        
        pageData.set("isLoading", true);

        legislatorsList.load(legislatorsSearchText, 1, legislatorsPageSize).then(function (){
            pageData.set("isLoading", false);

            legislatorsSearchSubmitted = false;
        
            searchBar.dismissSoftInput();
        });
    }
}

function onItemLoading(args) {
    if (platform.isIOS) {
        var cell = args.ios;

        cell.selectionStyle = UITableViewCellSelectionStyle.UITableViewCellSelectionStyleNone;
    }
}

// function onButtonTap(args) {
//     searchBar.ios.showsCancelButton = !searchBar.ios.showsCancelButton;
// }

function onItemTap(args) {
    try {
        if (platform.isIOS) {
            if (swipeOpen) {
                swipedItem.animate({
                    translate: { x: 0, y: 0 },
                    duration: 200
                });

                swipeOpen = false;
            } else {
                var view = args.view;
                var model = view.bindingContext;

                const navigationEntry = {
                    moduleName: "legislators/legislator/legislator-page",
                    context: model,
                    clearHistory: false
                };

                frameModule.topmost().navigate(navigationEntry);
            }
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onLoadMoreItems(args) {
    try {
        var legislatorsListCount = legislatorsList.length;
        var legislatorsPageNumber = Math.ceil(legislatorsListCount / legislatorsPageSize) + 1;
        var legislatorsRemainder = legislatorsListCount % legislatorsPageSize;

        if (legislatorsRemainder !== 0 && legislatorsRemainder < legislatorsPageSize)
        {
            return;
        }

        pageData.set("isLoading", true);

        legislatorsList.load(legislatorsSearchText, legislatorsPageNumber, legislatorsPageSize).then(function (){
            pageData.set("isLoading", false);
        });
    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onAddClick(args) {
    var view = args.object;

    var model = {
        meetingId: 0,
        meetingDate: new Date(),
        venueTypeId: 1,
        venueType: "In Person",
        attendeeTypeId: 1,
        attendeeType: "Staff Only",
        lobbyistId: global.personId,
        lobbyist: null,
        legislatorId: view.bindingContext.legislatorId,
        fullName: view.bindingContext.fullName,
        name: null,
        pciInitiatives: null,
        surveys: null,
        pciAttendees: global.currentUser,
        primaryOfficeContact: null,
        meetingLocationId: 2,
        location: "Meeting in DC",
        legislatorStaffAttendees: null,
        followUpNeeded: false,
        followUpDate: null,
        followUpNotes: null,
        creatorId: global.personId,
        notes: null,
        initiativeId: null,
        surveyId: null,
        assignmentId: null
    }

    const navigationEntry = {
        moduleName: "meetings/meeting/meeting-page",
        context: model,
        clearHistory: false
    };

    frameModule.topmost().navigate(navigationEntry);

    if (swipeOpen) {
        swipedItem.animate({
            translate: { x: 0, y: 0 },
            duration: 200
        });

        swipeOpen = false;
    }
}

function onViewClick(args) {
    var view = args.object;
    var model = view.bindingContext;

    model.reference = "nav";
    model.relationalType = "legislator";
    model.relationalId = view.bindingContext.legislatorId;

    const navigationEntry = {
        moduleName: "meetings/meetings-page",
        context: model,
        clearHistory: false
    };

    frameModule.topmost().navigate(navigationEntry);

    if (swipeOpen) {
        swipedItem.animate({
            translate: { x: 0, y: 0 },
            duration: 200
        });

        swipeOpen = false;
    }
}

function onLayoutLoaded(args) {
    var layout = args.object;

    if (platform.isAndroid) {
        layout.on(gestures.GestureTypes.tap, function(args) {
            try {
                if (swipeOpen) {
                    swipedItem.animate({
                        translate: { x: 0, y: 0 },
                        duration: 200
                    });
        
                    swipeOpen = false;
                } else {
                    var view = args.view;
                    var model = view.bindingContext;
        
                    const navigationEntry = {
                        moduleName: "legislators/legislator/legislator-page",
                        context: model,
                        clearHistory: false
                    };
        
                    frameModule.topmost().navigate(navigationEntry);
                }
            }
            catch(e)
            {
                dialogs.alert({
                    title: "Error",
                    message: e.toString(),
                    okButtonText: "OK"
                });
            }
        });
    }

    layout.on(gestures.GestureTypes.pan, function(args) {
        try {
            var layout = args.object;
            var view = args.view;

            if (swipeOpen && swipedItem !== undefined && swipedItem != layout) {
                swipedItem.animate({
                    translate: { x: 0, y: 0 },
                    duration: 50
                });
            }

            if (!isScrolling && !isSwiping) {
                if (Math.abs(args.deltaY) > Math.abs(args.deltaX)) {
                    isScrolling = true;
                    isSwiping = false;
                } else if (Math.abs(args.deltaX) > Math.abs(args.deltaY)) {
                    isScrolling = false;
                    isSwiping = true;
                }
            }

            if (isScrolling) {
                if (swipeOpen && swipedItem !== undefined) {
                    swipedItem.animate({
                        translate: { x: 0, y: 0 },
                        duration: 50
                    });
                }

                if (args.state === gestures.GestureStateTypes.ended) {
                    isScrolling = false;
                }
            } else if (isSwiping) {
                var legislatorsListView = page.getViewById("legislatorsListView");

                if (platform.isAndroid) {
                    legislatorsListView.nativeView.requestDisallowInterceptTouchEvent(true);
                } else if (platform.isIOS) {
                    legislatorsListView.ios.scrollEnabled = false;
                }

                swipeOpen = true;
                swipedItem = layout;

                var newX = layout.translateX + args.deltaX;

                if (newX >= MIN_X && newX <= MAX_X) {
                    layout.translateX = newX;
                }
                
                if (args.state === gestures.GestureStateTypes.ended && !(newX === MIN_X || newX === MAX_X)) {
                    // init our destination X coordinate to 0, in case neither THRESHOLD has been hit
                    let destX = 0;
                    
                    // if user hit or crossed the THESHOLD either way, let's finish in that direction
                    if (newX <= MIN_X * THRESHOLD) {
                        destX = MIN_X;
                    } else if (newX >= MAX_X * THRESHOLD) {
                        destX = MAX_X;
                    }
                    
                    layout.animate({
                        translate: { x: destX, y: 0 },
                        duration: 200
                    });

                    if (platform.isAndroid) {
                        legislatorsListView.nativeView.requestDisallowInterceptTouchEvent(false);
                    } else if (platform.isIOS) {
                        legislatorsListView.ios.scrollEnabled = true;
                    }

                    isSwiping = false;
                }
            }
        } catch(e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        }
    });
}

exports.onNavigatingTo = onNavigatingTo;
// exports.onViewLoaded = onViewLoaded;
// exports.onViewUnloaded = onViewUnloaded;
exports.onSearchBarLoaded = onSearchBarLoaded;
exports.onSubmit = onSubmit;
exports.onClear = onClear;
// exports.onButtonTap = onButtonTap;
exports.onItemLoading = onItemLoading;
exports.onItemTap = onItemTap;
exports.onLoadMoreItems = onLoadMoreItems;
exports.onLayoutLoaded = onLayoutLoaded;
exports.onAddClick = onAddClick;
exports.onViewClick = onViewClick;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislators-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislators-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislators-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\" />\n    \n<!-- <StackLayout loaded=\"onViewLoaded\" unloaded=\"onViewUnloaded\"> -->\n    <GridLayout columns=\"*\" rows=\"auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\" direction=\"horizontal\">\n            <SearchBar row=\"0\" col=\"0\" id=\"searchBar\" hint=\"Search\" text=\"\" loaded=\"onSearchBarLoaded\" submit=\"onSubmit\" clear=\"onClear\" />\n            <!-- <Button tap=\"onButtonTap\" text=\"Toggle Cancel\" /> -->\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\">\n            <ListView id=\"legislatorsListView\" items=\"{{ legislatorsList }}\" itemLoading=\"onItemLoading\" itemTap=\"onItemTap\" loadMoreItems=\"onLoadMoreItems\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <AbsoluteLayout>\n                        <!-- BACKGROUND: Swipe Actions -->\n                        <GridLayout columns=\"*, 80, 80\" rows=\"54\" width=\"100%\">\n                            <Label col=\"0\" />\n                            <GridLayout col=\"1\" columns=\"*\" rows=\"*, auto, auto, *\" tap=\"onAddClick\" class=\"swipe-icons orange\">\n                                <Label row=\"0\" col=\"0\" text=\"\" />\n                                <Label row=\"1\" col=\"0\" text=\"&#xf073;\" class=\"tab-icon\" />\n                                <Label row=\"2\" col=\"0\" text=\"Add Meeting\" class=\"tab-label\" />\n                                <Label row=\"3\" col=\"0\" text=\"\" />\n                            </GridLayout>\n                            <GridLayout col=\"2\" columns=\"*\" rows=\"*, auto, auto, *\" tap=\"onViewClick\" class=\"swipe-icons blue\">\n                                <Label row=\"0\" col=\"0\" text=\"\" />\n                                <Label row=\"1\" col=\"0\" text=\"&#xf2b5;\" class=\"tab-icon\" />\n                                <Label row=\"2\" col=\"0\" text=\"Meetings\" class=\"tab-label\" />\n                                <Label row=\"3\" col=\"0\" text=\"\" />\n                            </GridLayout>\n                        </GridLayout>\n                        <!-- FOREGROUND: List View Item Details -->\n                        <StackLayout loaded=\"onLayoutLoaded\" backgroundColor=\"white\" width=\"100%\">\n                            <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\" height=\"54\">\n                                <Label row=\"0\" col=\"0\" text=\"{{ combinedName }}\" class=\"list-view-item-main-top\" verticalAlignment=\"middle\" />\n                                <Label row=\"0\" col=\"1\" text=\"&#xf105;\" class=\"fn-list-view-item\" verticalAlignment=\"middle\" />\n                            </GridLayout>\n                        </StackLayout>\n                    </AbsoluteLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"2\" colSpan=\"1\" />\n    </GridLayout>\n<!-- </StackLayout> -->\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislators-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./legislators/legislators-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislators-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function LegislatorsViewModel(items) {
    const viewModel = new ObservableArray(items);
    
    viewModel.load = function(filter, page, pageSize) {
        return http.request({
            url: global.apiBaseServiceUrl + "legislatorfilter?filter=" + filter.replace(/ /g, "%20") + "&page=" + page + "&pageSize=" + pageSize,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(legislator) {
                if (legislator.LegislatorId !== null && legislator.LegislatorId !== 0) {
                    viewModel.push({
                        legislatorId: legislator.LegislatorId,
                        bioguideId: legislator.BioguideId,
                        birthdate: legislator.Birthdate,
                        chamber: legislator.Chamber,
                        fullName: legislator.FullName,
                        district: legislator.District,
                        facebookId: legislator.FacebookId,
                        fax: legislator.Fax,
                        combinedName: legislator.LastName + ", " + legislator.FirstName + " " + legislator.MiddleName,
                        firstName: legislator.FirstName,
                        lastName: legislator.LastName,
                        middleName: legislator.MiddleName,
                        gender: legislator.Gender,
                        inOffice: legislator.InOffice,
                        office: legislator.Office,
                        party: legislator.Party,
                        partyName: legislator.PartyName,
                        phone: legislator.Phone,
                        state: legislator.State,
                        stateName: legislator.StateName,
                        stateRank: legislator.StateRank,
                        termStart: legislator.TermStart,
                        termEnd: legislator.TermEnd,
                        title: legislator.Title,
                        titleName: legislator.TitleName,
                        twitterId: legislator.TwitterId,
                        website: legislator.Website,
                        youTubeUrl: legislator.YouTubeUrl,
                        bio: legislator.BioPlainText,
                        imageUrl: legislator.PictureUrl,
                        description: legislator.Description
                    });
                }
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = LegislatorsViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislators-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislators-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./login/login-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const LoginViewModel = __webpack_require__("./login/login-view-model.js");
const platformModule = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
const appSettings = __webpack_require__("../node_modules/@nativescript/core/application-settings/index.js");
const dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var utilsModule = __webpack_require__("../node_modules/@nativescript/core/utils/utils.js");
const fingerprintAuthPlugin = __webpack_require__("../node_modules/nativescript-fingerprint-auth/fingerprint-auth.js");
var fingerprintAuth = new fingerprintAuthPlugin.FingerprintAuth();
var view = __webpack_require__("../node_modules/@nativescript/core/ui/core/view/index.js");
var orientation = __webpack_require__("../node_modules/@proplugins/nativescript-orientation/orientation.js");
var page;
var loginViewModel;
var email;
var password;
var rememberMe;

function onNavigatingTo(args) {
    orientation.disableRotation();
    // page = args.object;

    // loginViewModel = new LoginViewModel();

    // loginViewModel.email = appSettings.getString("email", "");
    // loginViewModel.password = appSettings.getString("password", "");
    // loginViewModel.rememberMe = appSettings.getBoolean("rememberMe", false);
    // loginViewModel.useTouchId = appSettings.getBoolean("useTouchId", false);

    // page.bindingContext = loginViewModel;
}

function onLoaded(args)
{
    page = args.object;

    // email = view.getViewById(page, "email");
    // password = view.getViewById(page, "password");
    // rememberMe = view.getViewById(page, "rememberMe");

    loginViewModel = new LoginViewModel();

    loginViewModel.email = appSettings.getString("email", "");
    loginViewModel.password = appSettings.getString("password", "");
    loginViewModel.rememberMe = appSettings.getBoolean("rememberMe", false);
    loginViewModel.useTouchId = appSettings.getBoolean("useTouchId", false);

    page.bindingContext = loginViewModel;
}

function onNavigatedTo(args)
{
    try {
        if (platformModule.isIOS) {
            if (loginViewModel.useTouchId)
            {
                fingerprintAuth.available().then(
                    fingerprintAuth.verifyFingerprint({
                        message: 'Log on to view legislator information' // optional, shown in the fingerprint dialog (default: 'Scan your finger').
                    }).then(
                        () => {
                            const bindingContext = page.bindingContext;

                            bindingContext.signIn(null);
                        },
                        error => {
                            // when error.code === -3, the user pressed the button labeled with your fallbackMessage
                            dialogs.alert("Fingerprint NOT OK. Error code: " + error.code + ". Error message: " + error.message);
                        }
                    )
                );
            }
        }
    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSigninButtonTap(args) {
    try {
        let button = args.object;

        email = button.page.getViewById("email");
        password = button.page.getViewById("password");
        rememberMe = button.page.getViewById("rememberMe");

        appSettings.setBoolean("rememberMe", rememberMe.checked);

        if (rememberMe.checked)
        {
            appSettings.setString("email", email.text);
            appSettings.setString("password", password.text);
        }
        else
        {
            appSettings.setBoolean("useTouchId", false);
            appSettings.setString("email", "");
            appSettings.setString("password", "");
        }

        var scanType;

        fingerprintAuth.available().then((result) => 
        {
            if (result.touch) {
                scanType = "touch";
            }
            else
            {
                scanType = "face"
            }

            loginViewModel.signIn(scanType);
        }).catch((e) =>
        {
            scanType = null;

            loginViewModel.signIn(scanType);
        });
    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onForgotPasswordTap() {
    utilsModule.openUrl("https://www.pciaa.net/pciwebsite/Accounts/forgotpassword.aspx")
}

exports.onNavigatingTo = onNavigatingTo;
exports.onLoaded = onLoaded;
exports.onNavigatedTo = onNavigatedTo;
exports.onSigninButtonTap = onSigninButtonTap;
exports.onForgotPasswordTap = onForgotPasswordTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./login/login-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./login/login-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./login/login-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page class=\"page\" navigatingTo=\"onNavigatingTo\" loaded=\"onLoaded\" navigatedTo=\"onNavigatedTo\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" style=\"margin-top: 0;\">\n    <ScrollView class=\"login-background\">\n        <GridLayout columns=\"*\" rows=\"*, auto, auto, auto, auto, auto\" height=\"100%\" width=\"100%\">\n            <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"center\" horizontalAlignment=\"center\">\n                <Image src=\"res://login\" android:stretch=\"aspectFill\" ios:stretch=\"none\"></Image>\n            </StackLayout>\n            <StackLayout row=\"1\" col=\"0\" orientation=\"vertical\" backgroundColor=\"#eee\" verticalAlignment=\"bottom\" margin=\"0 10 0 10\" borderRadius=\"5\">\n                <StackLayout orientation=\"horizontal\" class=\"login-field\">\n                    <StackLayout width=\"10%\" verticalAlignment=\"center\">\n                        <Image src=\"res://email\" android:stretch=\"aspectFill\" ios:stretch=\"none\"></Image>\n                    </StackLayout>\n                    <StackLayout width=\"90%\" verticalAlignment=\"center\">\n                        <TextField id=\"email\" hint=\"Email\" keyboardType=\"email\" autocorrect=\"false\" autocapitalization=\"none\"\n                            text=\"{{ email }}\" width=\"100%\" textAlignment=\"left\"></TextField>\n                    </StackLayout>\n                </StackLayout>\n            </StackLayout>\n            <StackLayout row=\"2\" col=\"0\" orientation=\"vertical\" backgroundColor=\"#eee\" verticalAlignment=\"bottom\" margin=\"5 10 0 10\" borderRadius=\"5\">\n                <StackLayout orientation=\"horizontal\" class=\"login-field\">\n                    <StackLayout width=\"10%\" verticalAlignment=\"center\">\n                        <Image src=\"res://password\" android:stretch=\"aspectFill\" ios:stretch=\"none\"></Image>\n                    </StackLayout>\n                    <StackLayout width=\"90%\" verticalAlignment=\"center\">\n                        <TextField id=\"password\" hint=\"Password\" secure=\"true\" autocorrect=\"false\" autocapitalization=\"none\"\n                            text=\"{{ password }}\" width=\"100%\" textAlignment=\"left\"></TextField>\n                    </StackLayout>\n                </StackLayout>\n            </StackLayout>\n            <StackLayout row=\"3\" col=\"0\" orientation=\"vertical\" backgroundColor=\"#eee\" verticalAlignment=\"bottom\" margin=\"5 10 0 10\" borderRadius=\"5\">\n                <StackLayout orientation=\"horizontal\" class=\"login-field-switch\">\n                    <StackLayout width=\"40%\" verticalAlignment=\"center\">\n                        <Label text=\"Remember Me\" horizontalAlignment=\"left\" />\n                    </StackLayout>\n                    <StackLayout width=\"60%\" verticalAlignment=\"center\">\n                        <Switch id=\"rememberMe\" checked=\"{{ rememberMe }}\" horizontalAlignment=\"right\" class=\"switch\" />\n                    </StackLayout>\n                </StackLayout>\n            </StackLayout>\n            <StackLayout row=\"4\" col=\"0\" orientation=\"vertical\" verticalAlignment=\"top\" margin=\"0 10 0 10\">\n                <Button class=\"login-button\" text=\"Sign In\" tap=\"onSigninButtonTap\"></Button>\n            </StackLayout>\n            <StackLayout row=\"5\" col=\"0\" orientation=\"vertical\" verticalAlignment=\"top\" margin=\"5 10 30 10\">\n                <Button class=\"forgot-button\" text=\"Forgot Password?\" tap=\"onForgotPasswordTap\"></Button>\n            </StackLayout>\n            <!-- <Label class=\"m-t-10 m-b-10 m-l-15 m-r-15\" text=\"Forgot password?\" tap=\"onForgotPasswordTap\"></Label> -->\n        </GridLayout>\n    </ScrollView>\n</Page>"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./login/login-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./login/login-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./login/login-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const platformModule = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var appSettings = __webpack_require__("../node_modules/@nativescript/core/application-settings/index.js");
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function LoginViewModel() {
    const viewModel = observableModule.fromObject({
        email: "",
        password: "",
        rememberMe: false,
        useTouchId: false,

        signIn: function(scanType) {
            const email = this.email;
            const password = this.password;

            // dialogs.alert(global.token + "\nisPci: " + global.isPci + "\nisCongressAdmin: " + global.isCongressAdmin + 
            //     "\nisCongressUser: " + global.isCongressUser + "\nisCongressExternalUser: " + global.isCongressExternalUser + 
            //     "\npersonId: " + global.personId + "\ncompanyId: " + global.companyId + "\ncurrentUser: " + global.currentUser);

            http.request({
                url: global.apiLoginUrl,
                method: "POST",
                headers: { "Content-Type": "application/json" },
                content: JSON.stringify({ EmailAddress: email, Password: password, Scope: global.scope })
            }).then(function (response) {
                var result = response.content.toString();
                var data = JSON.parse(result);

                if (data.AccessToken !== undefined && data.AccessToken !== null)
                {
                    global.token = data.AccessToken;
                    
                    var pciEveryonePosition = global.token.toLowerCase().indexOf("pci.everyone");

                    if (pciEveryonePosition > 0)
                    {
                        global.isPci = true;
                    }

                    var congressUserPosition = global.token.toLowerCase().indexOf("congress+user");
                    var congressExternalUserPosition = global.token.toLowerCase().indexOf("congress+external+user");
                    var congressAdminPosition = global.token.toLowerCase().indexOf("congress+admin");

                    if (congressAdminPosition > 0)
                    {
                        global.isCongressAdmin = true;
                    }
                    else if (congressUserPosition > 0)
                    {
                        global.isCongressUser = true;
                    }
                    else if (congressExternalUserPosition > 0)
                    {
                        global.isCongressExternalUser = true;
                    }

                    if (global.isCongressAdmin || global.isCongressUser || global.isCongressExternalUser)
                    {
                        var personIdPosition = token.toLowerCase().indexOf("&personid=") + 10;
                        var firstNamePosition = token.toLowerCase().indexOf("&firstname=");

                        global.personId = token.slice(personIdPosition, firstNamePosition);

                        var fullNamePosition = token.toLowerCase().indexOf("&fullname=") + 10;
                        var streetAddress1Position = token.toLowerCase().indexOf("&streetaddress1=");

                        global.currentUser = decodeURIComponent(token.slice(fullNamePosition, streetAddress1Position)).replace("+", " ");

                        var companyIdPosition = token.toLowerCase().indexOf("&companyid=") + 11;
                        var deptIdPosition = token.toLowerCase().indexOf("&deptid=");

                        global.companyId = token.slice(companyIdPosition, deptIdPosition);

                        const navigationEntry = {
                            moduleName: "main-page", // "home/home-page",
                            clearHistory: true
                        };

                        var useTouchId = appSettings.getBoolean("useTouchId", false);
                        var rememberMe = appSettings.getBoolean("rememberMe", false);

                        if ((useTouchId === undefined || useTouchId === null || useTouchId === false) && scanType === "touch" && rememberMe && platformModule.isIOS)
                        {
                            dialogs.confirm(
                                {
                                    title: "Touch ID for \"LegCon\"",
                                    message: "Would you like to use the fingerprint scanner to log on in the future?",
                                    okButtonText: "Yes",
                                    cancelButtonText: "No"
                                }
                            ).then(function (result) {
                                if (result)
                                {
                                    appSettings.setBoolean("useTouchId", true);

                                    try
                                    {
                                        frameModule.topmost().navigate(navigationEntry);
                                    }
                                    catch(e)
                                    {
                                        dialogs.alert({
                                            title: "Error",
                                            message: e.toString(),
                                            okButtonText: "OK"
                                        });
                                    }
                                }
                                else
                                {
                                    appSettings.setBoolean("useTouchId", false);

                                    try
                                    {
                                        frameModule.topmost().navigate(navigationEntry);
                                    }
                                    catch(e)
                                    {
                                        dialogs.alert({
                                            title: "Error",
                                            message: e.toString(),
                                            okButtonText: "OK"
                                        });
                                    }
                                }
                            });
                        }
                        else if ((useTouchId === undefined || useTouchId === null || useTouchId === false) && scanType === "face" && rememberMe && platformModule.isIOS)
                        {
                            appSettings.setBoolean("useTouchId", true);
                        }
                        else
                        {
                            try
                            {
                                frameModule.topmost().navigate(navigationEntry);
                            }
                            catch(e)
                            {
                                dialogs.alert({
                                    title: "Error",
                                    message: e.toString(),
                                    okButtonText: "OK"
                                });
                            }
                        }
                    }
                    else
                    {
                        dialogs.alert("Unauthorized user account.");
                    }
                }
                else
                {
                    // undefined or null data.AccessToken returned.  
                    // Usually the result of invalid user name and password.
                    //dialogs.alert("Null access token returned.");
                    dialogs.alert("Invalid email address or password.")
                }
            }, function (e) {
                dialogs.alert({
                    title: "Error",
                    message: e.toString(),
                    okButtonText: "OK"
                });
            });
        }
    });

    return viewModel;
}

module.exports = LoginViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./login/login-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./login/login-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./main-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const application = __webpack_require__("../node_modules/@nativescript/core/application/index.js");
var frame = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var gridLayout = __webpack_require__("../node_modules/@nativescript/core/ui/layouts/grid-layout/index.js");
var stackLayout = __webpack_require__("../node_modules/@nativescript/core/ui/layouts/stack-layout/index.js")
var Label = __webpack_require__("../node_modules/@nativescript/core/ui/label/index.js").Label;
var orientation = __webpack_require__("../node_modules/@proplugins/nativescript-orientation/orientation.js");

var page;

function onNavigatingTo(args) {
    orientation.enableRotation();
    page = args.object;
    page._tabs = [];

    page.tabItems = [
        { path: "legislators/legislators-page", iconCode: "\uf19c", label: "Legislators" },
        { path: "committees/committees-page", iconCode: "\uf0c0", label: "Committees" },
        { path: "meetings/meetings-page", iconCode: "\uf2b5", label: "My Meetings" },
        { path: "assignments/assignments-page", iconCode: "\uf03a", label: "Assignments" }
    ];

    var numItems = page.tabItems.length;

    var newGrid = new gridLayout.GridLayout();

    newGrid.id = "tab-navigation";

    newGrid.addRow(new gridLayout.ItemSpec(1, "star"));
    newGrid.addRow(new gridLayout.ItemSpec(1, "auto"));
    
    for (var i = 0; i < numItems; i++) {
        newGrid.addColumn(new gridLayout.ItemSpec(1, "star"));
    }
    
    var frameHolder = new stackLayout.StackLayout();
    
    page.navFrame = new frame.Frame();

    page.navFrame.id = "navigation-frame";
    page.navFrame.className = "navigation-frame";

    frameHolder.addChild(page.navFrame);

    newGrid.addChild(frameHolder);

    gridLayout.GridLayout.setColumn(frameHolder, 0);
    gridLayout.GridLayout.setRow(frameHolder, 0);
    gridLayout.GridLayout.setColumnSpan(frameHolder, numItems);

    for (var i = 0; i < numItems; i++) {
        var currentItem = page.tabItems[i];
        var tab = new stackLayout.StackLayout();

        tab.direction = "vertical";

        if (i === 0) {
            tab.className = "tab tab-selected";
        } else {
            tab.className = "tab";
        }

        tab.id = "tab_" + i;
        
        tab.on("tap", function (args) {
            return onTabSelected(args, currentItem);
        })

        var icon = new Label();

        icon.className = 'tab-icon';

        //icon.text = String.fromCharCode(currentItem.iconCode)
        icon.text = currentItem.iconCode;
        tab.addChild(icon);

        var label = new Label();

        label.className = 'tab-label';
        label.text = currentItem.label;
        tab.addChild(label);

        page._tabs.push(tab);
        newGrid.addChild(tab);

        gridLayout.GridLayout.setRow(tab, 1);
        gridLayout.GridLayout.setColumn(tab, i);
    }

    page.content = newGrid;

    const dateConverter = (value, format) => {
        let result = format;

        if (value === null) {
            //result = "";
        } else {
            const day = value.getDate();
            result = result.replace("DD", day < 10 ? `0${day}` : day);
            const month = value.getMonth() + 1;
            result = result.replace("MM", month < 10 ? `0${month}` : month);
            result = result.replace("YYYY", value.getFullYear());
        }

        return result;
    };

    application.getResources().dateConverter = dateConverter;
    application.getResources().dateFormat = "MM/DD/YYYY";

    var navigationEntry = {
        moduleName: page.tabItems[0].path,
        context: {
            reference: "tab"
        },
        clearHistory: true
    }

    page.navFrame.navigate(navigationEntry);
    //page.navFrame.navigate(page.tabItems[0].path);
}

function onTabSelected(args) {
    var selectedTab = args.object;
    var index = selectedTab.id.substring(selectedTab.id.indexOf("tab_") + 4);

    if (selectedTab.className.indexOf("tab-selected") > -1) {
        var currentFrame = page.getViewById("navigation-frame");
        
        if (page.tabItems[index].label === currentFrame.currentPage.actionBar.title) {
            return;
        }
    }

    page._tabs.forEach(function(tab) {
        tab.className = 'tab';
    });

    selectedTab.className = 'tab tab-selected';

    showTab(page.tabItems[index]);
}

function showTab(tabItem) {
    var navigationEntry = {
        moduleName: tabItem.path,
        context: {
            reference: "tab"
        },
        clearHistory: true
    }

    page.navFrame.navigate(navigationEntry)
}

exports.onNavigatingTo = onNavigatingTo;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./main-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./main-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./main-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page xmlns=\"http://schemas.nativescript.org/tns.xsd\" backgroundSpanUnderStatusBar=\"true\" actionBarHidden=\"true\" navigatingTo=\"onNavigatingTo\">\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./main-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./main-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/attendeetype/attendeetype-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const AttendeeTypeViewModel = __webpack_require__("./meetings/meeting/attendeetype/attendeetype-view-model.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

var page;
var navigationContext;
var attendeeTypeList = new AttendeeTypeViewModel([]);

var attendeeTypeIndex = 0;

var pageData = new ObservableModule.fromObject({
    boundData: null,
    attendeeTypeIndex: attendeeTypeIndex,
    attendeeTypeList: null,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        page.actionBar.title = "Cong. Office Attendees";

        navigationContext = page.navigationContext;

        pageData.boundData = navigationContext;

        if (global.attendeeTypeList === undefined) {
            pageData.set("isLoading", true);

            attendeeTypeList.load().then(function () {
                global.attendeeTypeList = attendeeTypeList;

                pageData.attendeeTypeList = global.attendeeTypeList;

                attendeeTypeIndex = 0;

                if (pageData.boundData.attendeeTypeId !== null && pageData.boundData.attendeeTypeId.toString().length > 0) {
                    var i;

                    for (i = 0; i < pageData.attendeeTypeList.List.length; i++) {
                        if (pageData.attendeeTypeList.List.getItem(i).attendeeTypeId === pageData.boundData.attendeeTypeId) {
                            attendeeTypeIndex = i;
                        }
                    }
                }

                pageData.attendeeTypeIndex = attendeeTypeIndex;

                pageData.set("isLoading", false);

                page.bindingContext = pageData;
            });
        } else {
            pageData.attendeeTypeList = global.attendeeTypeList;
            
            attendeeTypeIndex = 0;

            if (pageData.boundData.attendeeTypeId !== null && pageData.boundData.attendeeTypeId.toString().length > 0) {
                var i;

                for (i = 0; i < pageData.attendeeTypeList.List.length; i++) {
                    if (pageData.attendeeTypeList.List.getItem(i).attendeeTypeId === pageData.boundData.attendeeTypeId) {
                        attendeeTypeIndex = i;
                    }
                }
            }

            pageData.attendeeTypeIndex = attendeeTypeIndex;

            page.bindingContext = pageData;
        }
    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onLoaded(args) {
    try {
        var attendeeTypeListPicker = page.getViewById("attendeeTypeListPicker");
        
        attendeeTypeListPicker.on("selectedIndexChange", function(args) {
            var attendeeTypeItem = pageData.attendeeTypeList.List.getItem(args.object.selectedIndex);
            //dialogs.alert(attendeeTypeItem.attendeeTypeId + ": " + attendeeTypeItem.attendeeType);
            pageData.boundData.attendeeTypeId = attendeeTypeItem.attendeeTypeId;
            pageData.boundData.attendeeType = attendeeTypeItem.attendeeType;
        });

    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onLoaded = onLoaded;
exports.onBackTap = onBackTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/attendeetype/attendeetype-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/attendeetype/attendeetype-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/attendeetype/attendeetype-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" loaded=\"onLoaded\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, auto, *\">\n        <StackLayout row=\"0\" col=\"0\" class=\"list-view-section-header\"></StackLayout>\n        <GridLayout row=\"1\" col=\"0\" columns=\"*\" rows=\"auto\" class=\"list-view-item-form\">\n            <ListPicker id=\"attendeeTypeListPicker\" row=\"0\" col=\"0\" items=\"{{ attendeeTypeList.Items }}\" selectedIndex=\"{{ attendeeTypeIndex }}\" \n                horizontalAlignment=\"center\" class=\"list-view-item-picker\"></ListPicker>\n        </GridLayout>\n        <StackLayout row=\"2\" col=\"0\" height=\"100%\" class=\"list-view-section-header\"></StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"3\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/attendeetype/attendeetype-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./meetings/meeting/attendeetype/attendeetype-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/attendeetype/attendeetype-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js").Observable;
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function AttendeeTypeViewModel() {
    const viewModel = new ObservableModule();
    viewModel.Items = new ObservableArray();
    viewModel.List = new ObservableArray();

    viewModel.load = function() {
        return http.request({
            url: global.apiBaseServiceUrl + "meetingattendeetypes",
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(attendeeType) {
                viewModel.Items.push(
                    attendeeType.Type
                );

                viewModel.List.push({
                    attendeeTypeId: attendeeType.AttendeeTypeId,
                    attendeeType: attendeeType.Type
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.Items.length) {
            viewModel.Items.pop();
        }

        while (viewModel.List.length) {
            viewModel.List.pop();
        }
    };
    
    return viewModel;
}

module.exports = AttendeeTypeViewModel;; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/attendeetype/attendeetype-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/attendeetype/attendeetype-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/followup/followup-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

var page;
var navigationContext;

function onNavigatingTo(args) {
    try {
        page = args.object;
        page.actionBar.title = "Follow Up";

        navigationContext = page.navigationContext;

        page.bindingContext = navigationContext;

    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onLoaded(args) {
    try {
        var followUpDateDatePicker = page.getViewById("followUpDateDatePicker");

        followUpDateDatePicker.on("dateChange", function(args) {
            var followUpDateLabel = page.getViewById("followUpDateLabel");

            followUpDateLabel.text = dateConverter(args.value, "MM/DD/YYYY");
        });
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        dismissKeyboard()

        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onGridLayoutTap(args) {
    try {
        dismissKeyboard()
    } catch(e) {
        dialogs.alert(e);
    }
}

function onSwitchLoaded(args) {
    var checkedSwitch = args.object;

    checkedSwitch.on("checkedChange", function(args) {
        dismissKeyboard()

        var detailsLabel = page.getViewById("detailsLabel");
        var followUpDetailsStackLayout = page.getViewById("followUpDetailsStackLayout");
        var followUpDateDatePickerGridLayout = page.getViewById("followUpDateDatePickerGridLayout");

        if (args.value) {
            detailsLabel.visibility = "visible";
            followUpDetailsStackLayout.visibility = "visible";
        } else {
            detailsLabel.visibility = "collapse";
            followUpDetailsStackLayout.visibility = "collapse";
        }

        followUpDateDatePickerGridLayout.visibility = "collapse";

        page.addCss("#followUpDateLabel {color: #666;}");
    });
}

function onTextViewFocus(args) {
    try {
        var followUpDateDatePickerGridLayout = page.getViewById("followUpDateDatePickerGridLayout");

        followUpDateDatePickerGridLayout.visibility = "collapse";

        page.addCss("#followUpDateLabel {color: #666;}");
    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutFollowUpDateTap(args) {
    try {
        dismissKeyboard()

        var followUpDateDatePickerGridLayout = page.getViewById("followUpDateDatePickerGridLayout");
        
        if (followUpDateDatePickerGridLayout.visibility === "collapse") {
            followUpDateDatePickerGridLayout.visibility = "visible";

            page.addCss("#followUpDateLabel {color: #cc2d30;}");
        } else {
            followUpDateDatePickerGridLayout.visibility = "collapse";

            page.addCss("#followUpDateLabel {color: #666;}");
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function dateConverter(value, format) {
    let result = format;

    const day = value.getDate();

    result = result.replace("DD", day < 10 ? `0${day}` : day);

    const month = value.getMonth() + 1;

    result = result.replace("MM", month < 10 ? `0${month}` : month);
    result = result.replace("YYYY", value.getFullYear());

    return result;
}

function dismissKeyboard() {
    if (platform.isAndroid) {
        var followUpNotes = page.getViewById("followUpNotes");

        followUpNotes.dismissSoftInput();
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onLoaded = onLoaded;
exports.onBackTap = onBackTap;
exports.onGridLayoutTap = onGridLayoutTap;
exports.onSwitchLoaded = onSwitchLoaded;
exports.onTextViewFocus = onTextViewFocus;
exports.onStackLayoutFollowUpDateTap = onStackLayoutFollowUpDateTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/followup/followup-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/followup/followup-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/followup/followup-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" loaded=\"onLoaded\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, auto, *\" tap=\"onGridLayoutTap\">\n        <StackLayout row=\"0\" col=\"0\" class=\"list-view-section-header\"></StackLayout>\n        <StackLayout row=\"1\" col=\"0\">\n            <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form-bottom\">\n                <Label row=\"0\" col=\"0\" text=\"Follow Up Needed?\" class=\"list-view-item-left\" />\n                <Switch row=\"0\" col=\"1\" checked=\"{{ followUpNeeded }}\" loaded=\"onSwitchLoaded\" horizontalAlignment=\"right\" class=\"switch\" />\n            </GridLayout>\n        </StackLayout>\n        <StackLayout row=\"2\" col=\"0\" style=\"background-color: #eee;\">\n            <StackLayout verticalAlignment=\"bottom\" class=\"list-view-section-header-no-border\">\n                <Label id=\"detailsLabel\" text=\"DETAILS\" verticalAlignment=\"bottom\" visibility=\"{{ followUpNeeded === 'true' || followUpNeeded === true ? 'visible' : 'collapse' }}\" />\n            </StackLayout>\n            <StackLayout id=\"followUpDetailsStackLayout\" class=\"list-view-section-detail\" visibility=\"{{ followUpNeeded === 'true' || followUpNeeded === true ? 'visible' : 'collapse' }}\">\n                <StackLayout tap=\"onStackLayoutFollowUpDateTap\">\n                    <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                        <Label row=\"0\" col=\"0\" text=\"Follow Up Completed\" class=\"list-view-item-left\" />\n                        <Label id=\"followUpDateLabel\" row=\"0\" col=\"1\" text=\"{{ followUpDate | dateConverter(dateFormat) }}\" class=\"list-view-item-right\" />\n                    </GridLayout>\n                </StackLayout>\n                <GridLayout id=\"followUpDateDatePickerGridLayout\" columns=\"*\" rows=\"auto\" class=\"list-view-item-form\" visibility=\"collapse\">\n                    <DatePicker id=\"followUpDateDatePicker\" row=\"0\" col=\"0\" date=\"{{ followUpDate }}\" horizontalAlignment=\"center\" class=\"list-view-item-right\"></DatePicker>\n                </GridLayout>\n                <GridLayout columns=\"*\" rows=\"*\" class=\"list-view-item-form-bottom\">\n                    <TextView id=\"followUpNotes\" row=\"0\" col=\"0\" text=\"{{ followUpNotes }}\" focus=\"onTextViewFocus\" hint=\"Follow Up Notes\" class=\"list-view-item-textview\" height=\"100%\" />\n                </GridLayout>\n            </StackLayout>\n        </StackLayout>\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/followup/followup-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./meetings/meeting/followup/followup-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/initiatives/initiatives-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const InitiativesViewModel = __webpack_require__("./meetings/meeting/initiatives/initiatives-view-model.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var page;
var navigationContext;

var initiativesList = new InitiativesViewModel([]);

var switchTap = false;

var pageData = new ObservableModule.fromObject({
    boundData: null,
    initiativesList: initiativesList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        navigationContext = page.navigationContext;

        pageData.boundData = navigationContext;
        pageData.boundData.updated = false;
        
        page.actionBar.title = "Select Initiative(s)";

        initiativesList.empty();

        pageData.set("isLoading", true);

        initiativesList.load(navigationContext.meetingId).then(function () {
            pageData.set("isLoading", false);

            page.bindingContext = pageData;
        });
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSwitchLoaded(args) {
    var checkedSwitch = args.object;

    checkedSwitch.on("tap", function(args) {
        // Necessary to prevent the checkedChange event from firing on the switch when user scrolls.
        switchTap = true;
    });

    checkedSwitch.on("checkedChange", function(args) {
        if (switchTap) {
            var stackLayout = args.object.parent;
            var indexLabel = stackLayout.getViewById("indexLabel");

            var model = initiativesList.getItem(indexLabel.text);

            model.checked = args.value;
            
            http.request({
                url: global.apiBaseServiceUrl + "updatemeetinginitiative",
                method: "POST",
                headers: { "Content-Type": "application/json", "Authorization": global.token },
                content: JSON.stringify(model)
            }).then(function (response) {
                // var result = response.content.toJSON();

                // dialogs.alert(result);
                pageData.boundData.updated = true;

                switchTap = false;
            }, function (e) {
                dialogs.alert({
                    title: "Error",
                    message: e.toString(),
                    okButtonText: "OK"
                });
            });
        }
    });
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onSwitchLoaded = onSwitchLoaded;
exports.onBackTap = onBackTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/initiatives/initiatives-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/initiatives/initiatives-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/initiatives/initiatives-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"*\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\">\n            <ListView items=\"{{ initiativesList }}\" itemTemplateSelector=\"$index\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <StackLayout>\n                        <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                            <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"middle\">\n                                <Label text=\"{{ initiative }}\" class=\"list-view-item-main-top\" />\n                            </StackLayout>\n                            <StackLayout row=\"0\" col=\"1\" verticalAlignment=\"middle\">\n                                <Switch id=\"checkedSwitch\" row=\"0\" col=\"1\" checked=\"{{ checked }}\" \n                                    loaded=\"onSwitchLoaded\" horizontalAlignment=\"right\" class=\"switch\" />\n                                <Label id=\"indexLabel\" text=\"{{ $index }}\" visibility=\"collapse\" />\n                            </StackLayout>\n                        </GridLayout>\n                    </StackLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"1\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/initiatives/initiatives-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./meetings/meeting/initiatives/initiatives-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/initiatives/initiatives-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function InitiativesViewModel(items) {
    const viewModel = new ObservableArray(items);
    
    viewModel.load = function(meetingId) {
        return http.request({
            url: global.apiBaseServiceUrl + "meetinginitiatives?meetingId=" + meetingId,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(initiative) {
                var checked = false;

                if (initiative.Checked === "true") {
                    checked = true;
                }

                viewModel.push({
                    meetingId: initiative.MeetingId,
                    legislatorId: initiative.LegislatorId,
                    initiativeId: initiative.InitiativeId,
                    initiative: initiative.Initiative,
                    checked: initiative.Checked
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = InitiativesViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/initiatives/initiatives-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/initiatives/initiatives-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/meeting-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const MeetingViewModel = __webpack_require__("./meetings/meeting/meeting-view-model.js");
const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
const appModule = __webpack_require__("../node_modules/@nativescript/core/application/index.js");
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

var page;
var navigationContext;

// var pageData = new ObservableModule.fromObject({
//     boundData: null
// });

var pageData = new ObservableModule.Observable();

function onNavigatingTo(args) {
    try {
        page = args.object;

        var offeredToMembersLabel = page.getViewById("offeredToMembersLabel");
        var followUpTitle = page.getViewById("followUpTitle");
        var followUpLabel = page.getViewById("followUpLabel");

        const limitText = (text, limit) => {
            let result = text;

            if (result !== null) {
                if (result.length > limit) {
                    for (var i = limit; i > 0; i--) {
                        var position = result.indexOf(" ", i);

                        if (position > -1 && position <= limit) {
                            result = result.substr(0, position) + "..."

                            break;
                        }
                    }
                }
            }

            return result;
        };

        appModule.getResources().limitText = limitText;

        if (args.isBackNavigation) {
            var venueTypeLabel = page.getViewById("venueTypeLabel");
            var notesLabel = page.getViewById("notesLabel");
            var legislatorLabel = page.getViewById("legislatorLabel");
            var attendeeTypeLabel = page.getViewById("attendeeTypeLabel");
            var meetingLocationLabel = page.getViewById("meetingLocationLabel");
            var staffAttendeesLabel = page.getViewById("staffAttendeesLabel");

            venueTypeLabel.text = pageData.venueType;

            if (pageData.offeredToMembers === true || pageData.offeredToMembers === "true") {
                offeredToMembersLabel.text = "Yes";
            } else {
                offeredToMembersLabel.text = "No";
            }

            notesLabel.text = limitText(pageData.notes, 30);
            legislatorLabel.text = pageData.fullName;
            attendeeTypeLabel.text = pageData.attendeeType;
            meetingLocationLabel.text = pageData.location;
            staffAttendeesLabel.text = limitText(pageData.legislatorStaffAttendees, 20);

            if (pageData.followUpNeeded === true || pageData.followUpNeeded === "true") {
                if (pageData.followUpDate === null) {
                    followUpTitle.text = "Follow Up Needed?";
                    followUpLabel.text = "Yes";
                } else {
                    followUpTitle.text = "Follow Up Date";
                    followUpLabel.text = dateConverter(pageData.followUpDate, "MM/DD/YYYY");
                }
            } else {
                followUpTitle.text = "Follow Up Needed?";
                followUpLabel.text = "No";
            }

            if (pageData.updated) {
                var currentMeeting = new MeetingViewModel();

                currentMeeting.load(pageData.meetingId).then(function () {
                    var initiativesLabel = page.getViewById("initiativesLabel");
                    var surveysLabel = page.getViewById("surveysLabel");
                    var pciAttendeesLabel = page.getViewById("pciAttendeesLabel");

                    pageData.pciInitiatives = currentMeeting.pciInitiatives;
                    pageData.surveys = currentMeeting.surveys;
                    pageData.pciAttendees = currentMeeting.pciAttendees;
                    
                    initiativesLabel.text = limitText(pageData.pciInitiatives, 25);
                    surveysLabel.text = limitText(pageData.surveys, 25);
                    pciAttendeesLabel.text = limitText(pageData.pciAttendees, 25);

                    pageData.updated = false;
                });
            }

        } else {
            navigationContext = page.navigationContext;
            
            pageData = navigationContext;
            pageData.result = "";

            if (pageData.meetingId === null || pageData.meetingId === 0) {
                page.actionBar.title = "Add Meeting";
            } else {
                page.actionBar.title = "Edit Meeting";
            }

            if (pageData.offeredToMembers === true || pageData.offeredToMembers === "true") {
                offeredToMembersLabel.text = "Yes";
            } else {
                offeredToMembersLabel.text = "No";
            }

            if (pageData.followUpNeeded === true || pageData.followUpNeeded === "true") {
                if (pageData.followUpDate === null) {
                    followUpTitle.text = "Follow Up Needed?";
                    followUpLabel.text = "Yes";
                } else {
                    followUpTitle.text = "Follow Up Completed";
                    followUpLabel.text = dateConverter(pageData.followUpDate, "MM/DD/YYYY");
                }
            } else {
                followUpTitle.text = "Follow Up Needed?";
                followUpLabel.text = "No";
            }

            page.bindingContext = pageData;
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onLoaded(args) {
    try {
        var meetingDateDatePicker = page.getViewById("meetingDateDatePicker");
        
        meetingDateDatePicker.on("dateChange", function(args) {
            var meetingDateLabel = page.getViewById("meetingDateLabel");

            meetingDateLabel.text = dateConverter(args.value, "MM/DD/YYYY");
        });
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutMeetingDateTap(args) {
    try {
        var meetingDateGridLayout = page.getViewById("meetingDateGridLayout");
        
        if (meetingDateGridLayout.visibility === "collapse") {
            meetingDateGridLayout.visibility = "visible";

            page.addCss("#meetingDateLabel {color: #cc2d30;}");
        } else {
            meetingDateGridLayout.visibility = "collapse";

            page.addCss("#meetingDateLabel {color: #666;}");
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutVenueTypeTap(args) {
    try {
        collapseMeetingDate();

        const navigationEntry = {
            moduleName: "meetings/meeting/venuetype/venuetype-page",
            context: pageData,
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutOfferedToMembersTap(args) {
    try {
        collapseMeetingDate();

        const navigationEntry = {
            moduleName: "meetings/meeting/offeredtomembers/offeredtomembers-page",
            context: pageData,
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutNotesTap(args) {
    try {
        collapseMeetingDate();

        const navigationEntry = {
            moduleName: "meetings/meeting/notes/notes-page",
            context: pageData,
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutFollowUpTap(args) {
    try {
        collapseMeetingDate();

        const navigationEntry = {
            moduleName: "meetings/meeting/followup/followup-page",
            context: pageData,
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutInitiativesTap(args) {
    try
    {
        collapseMeetingDate();

        if (pageData.meetingId === null || pageData.meetingId === 0) {
            if (platform.isAndroid) {
                dialogs.confirm({
                    title: "Save",
                    message: "A new meeting must be saved prior to adding an initiative. Would you like to save this meeting?",
                    okButtonText: "Yes",
                    cancelButtonText: "No"
                }).then(function (result) {
                    if (result) {
                        saveMeeting("meetings/meeting/initiatives/initiatives-page", false);
                    }
                });
            } else if (platform.isIOS) {
                dialogs.action({
                    message: "A new meeting must be saved prior to adding an initiative. Would you like to save this meeting?",
                    cancelButtonText: "Cancel",
                    actions: ["Save"]
                }).then(function (result) {
                    if (result === "Save") {
                        saveMeeting("meetings/meeting/initiatives/initiatives-page", false);
                    }
                });
            }
        } else {
            pageData.relationalType = "meeting";
            pageData.relationalId = pageData.meetingId;
            
            const navigationEntry = {
                moduleName: "meetings/meeting/initiatives/initiatives-page",
                context: pageData,
                clearHistory: false
            };

            frameModule.topmost().navigate(navigationEntry);
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutSurveysTap(args) {
    try
    {
        collapseMeetingDate();

        if (pageData.meetingId === null || pageData.meetingId === 0) {
            if (platform.isAndroid) {
                dialogs.confirm({
                    title: "Save",
                    message: "A new meeting must be saved prior to adding a survey. Would you like to save this meeting?",
                    okButtonText: "Yes",
                    cancelButtonText: "No"
                }).then(function (result) {
                    if (result) {
                        saveMeeting("legislators/legislator/surveys/surveys-page", false);
                    }
                });
            } else if (platform.isIOS) {
                dialogs.action({
                    message: "A new meeting must be saved prior to adding a survey. Would you like to save this meeting?",
                    cancelButtonText: "Cancel",
                    actions: ["Save"]
                }).then(function (result) {
                    if (result === "Save") {
                        saveMeeting("legislators/legislator/surveys/surveys-page", true);
                    }
                });
            }
        } else {
            pageData.relationalType = "meeting";
            pageData.relationalId = pageData.meetingId;
            
            const navigationEntry = {
                moduleName: "legislators/legislator/surveys/surveys-page",
                context: pageData,
                clearHistory: false
            };

            frameModule.topmost().navigate(navigationEntry);
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutLegislatorTap(args) {
    try {
        collapseMeetingDate();

        const navigationEntry = {
            moduleName: "meetings/meeting/legislator/legislator-page",
            context: pageData,
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutAttendeeTypeTap(args) {
    try {
        collapseMeetingDate();

        const navigationEntry = {
            moduleName: "meetings/meeting/attendeetype/attendeetype-page",
            context: pageData,
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutMeetingLocationTap(args) {
    try {
        collapseMeetingDate();

        const navigationEntry = {
            moduleName: "meetings/meeting/meetinglocation/meetinglocation-page",
            context: pageData,
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutPciAttendeesTap(args) {
    try
    {
        collapseMeetingDate();

        if (pageData.meetingId === null || pageData.meetingId === 0) {
            if (platform.isAndroid) {
                dialogs.confirm({
                    title: "Save",
                    message: "A new meeting must be saved prior to adding PCI attendees. Would you like to save this meeting?",
                    okButtonText: "Yes",
                    cancelButtonText: "No"
                }).then(function (result) {
                    if (result) {
                        saveMeeting("profiles/profiles-page", false);
                    }
                });
            } else if (platform.isIOS) {
                dialogs.action({
                    message: "A new meeting must be saved prior to adding PCI attendees. Would you like to save this meeting?",
                    cancelButtonText: "Cancel",
                    actions: ["Save"]
                }).then(function (result) {
                    if (result === "Save") {
                        saveMeeting("profiles/profiles-page", true);
                    }
                });
            }
        } else {
            pageData.relationalType = "meeting";
            pageData.relationalId = pageData.meetingId;
            
            const navigationEntry = {
                moduleName: "profiles/profiles-page",
                context: pageData,
                clearHistory: false
            };

            frameModule.topmost().navigate(navigationEntry);
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutStaffAttendeesTap(args) {
    try {
        collapseMeetingDate();

        const navigationEntry = {
            moduleName: "meetings/meeting/staffattendees/staffattendees-page",
            context: pageData,
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onSaveTap(args) {
    try {
        collapseMeetingDate();

        saveMeeting(null, false);
    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function saveMeeting(moduleName, isAttendees) {
    var isAdd = false;

    if (pageData.meetingId === null || pageData.meetingId === 0) {
        isAdd = true;
    }

    http.request({
        url: global.apiBaseServiceUrl + "insertupdatemeeting",
        method: "POST",
        headers: { "Content-Type": "application/json", "Authorization": global.token },
        content: JSON.stringify(pageData)
    }).then(function (response) {
        var result = response.content.toString();
        var data = JSON.parse(result);
        
        if (data.MeetingId !== null)
        {
            if (isAdd) {
                if (pageData.assignmentId !== null && pageData.assignmentId !== 0) {
                    global.refreshAssignments = true;
                }
            }

            if (moduleName === null) {
                pageData.meetingId = data.MeetingId;

                frameModule.topmost().goBack();
            } else {
                pageData.meetingId = data.MeetingId;

                //if (isAttendees) {
                    pageData.relationalType = "meeting";
                    pageData.relationalId = pageData.meetingId; 
                //}
                
                const navigationEntry = {
                    moduleName: moduleName,
                    context: pageData,
                    clearHistory: false
                };

                frameModule.topmost().navigate(navigationEntry);
            }
        } else {
            dialogs.alert("There was an error saving the meeting.");
        }
        
    }, function (e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    });
}

function dateConverter(value, format) {
    let result = format;

    const day = value.getDate();

    result = result.replace("DD", day < 10 ? `0${day}` : day);

    const month = value.getMonth() + 1;

    result = result.replace("MM", month < 10 ? `0${month}` : month);
    result = result.replace("YYYY", value.getFullYear());

    return result;
};

function collapseMeetingDate() {
    var meetingDateGridLayout = page.getViewById("meetingDateGridLayout");

    meetingDateGridLayout.visibility = "collapse";

    page.addCss("#meetingDateLabel {color: #666;}");
}

exports.onNavigatingTo = onNavigatingTo;
exports.onLoaded = onLoaded;
exports.onStackLayoutMeetingDateTap = onStackLayoutMeetingDateTap;
exports.onStackLayoutVenueTypeTap = onStackLayoutVenueTypeTap;
exports.onStackLayoutOfferedToMembersTap = onStackLayoutOfferedToMembersTap;
exports.onStackLayoutNotesTap = onStackLayoutNotesTap;
exports.onStackLayoutFollowUpTap = onStackLayoutFollowUpTap;
exports.onStackLayoutInitiativesTap = onStackLayoutInitiativesTap;
exports.onStackLayoutSurveysTap = onStackLayoutSurveysTap;
exports.onStackLayoutLegislatorTap = onStackLayoutLegislatorTap;
exports.onStackLayoutAttendeeTypeTap = onStackLayoutAttendeeTypeTap;
exports.onStackLayoutMeetingLocationTap = onStackLayoutMeetingLocationTap;
exports.onStackLayoutPciAttendeesTap = onStackLayoutPciAttendeesTap;
exports.onStackLayoutStaffAttendeesTap = onStackLayoutStaffAttendeesTap;
exports.onBackTap = onBackTap;
exports.onSaveTap = onSaveTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/meeting-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/meeting-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/meeting-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" loaded=\"onLoaded\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n        <ActionItem tap=\"onSaveTap\" ios.systemIcon=\"3\" android.systemIcon=\"ic_menu_save\" ios.position=\"right\" />\n    </ActionBar>\n\n    <ScrollView>\n        <StackLayout verticalAlignment=\"top\">\n            <StackLayout verticalAlignment=\"top\" class=\"list-view-section-blank\">\n                <Label text=\"\" verticalAlignment=\"bottom\" />\n            </StackLayout>\n            <StackLayout verticalAlignment=\"bottom\" class=\"list-view-section-header\">\n                <Label text=\"MEETING INFORMATION\" verticalAlignment=\"bottom\" />\n            </StackLayout>\n            <StackLayout tap=\"onStackLayoutMeetingDateTap\">\n                <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item-form\" verticalAlignment=\"middle\">\n                    <Label row=\"0\" col=\"0\" text=\"Meeting Date\" class=\"list-view-item-left\" />\n                    <Label id=\"meetingDateLabel\" row=\"0\" col=\"1\" text=\"{{ meetingDate | dateConverter(dateFormat) }}\" class=\"list-view-item-right\" />\n                </GridLayout>\n            </StackLayout>\n            <GridLayout id=\"meetingDateGridLayout\" columns=\"*\" rows=\"auto\" class=\"list-view-item-form\" visibility=\"collapse\">\n                <DatePicker id=\"meetingDateDatePicker\" row=\"0\" col=\"0\" date=\"{{ meetingDate }}\" horizontalAlignment=\"center\" class=\"list-view-item-picker\"></DatePicker>\n            </GridLayout>\n            <StackLayout tap=\"onStackLayoutVenueTypeTap\">\n                <GridLayout columns=\"auto, *, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                    <Label row=\"0\" col=\"0\" text=\"Venue\" class=\"list-view-item-left\" />\n                    <Label id=\"venueTypeLabel\" row=\"0\" col=\"1\" text=\"{{ venueType }}\" class=\"list-view-item-right\" />\n                    <Label row=\"0\" col=\"2\" text=\"&#xf105;\" class=\"fn-list-view-item\" />\n                </GridLayout>\n            </StackLayout>\n            <StackLayout tap=\"onStackLayoutOfferedToMembersTap\">\n                <GridLayout columns=\"auto, *, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                    <Label row=\"0\" col=\"0\" text=\"Offered to APCIA Members?\" class=\"list-view-item-left\" />\n                    <Label id=\"offeredToMembersLabel\" row=\"0\" col=\"1\" text=\"\" class=\"list-view-item-right\" />\n                    <Label row=\"0\" col=\"2\" text=\"&#xf105;\" class=\"fn-list-view-item\" />\n                </GridLayout>\n            </StackLayout>\n            <StackLayout tap=\"onStackLayoutNotesTap\">\n                <GridLayout columns=\"auto, *, auto\" rows=\"auto\" class=\"list-view-item-form-bottom\">\n                    <Label row=\"0\" col=\"0\" text=\"Notes\" class=\"list-view-item-left\" />\n                    <Label id=\"notesLabel\" row=\"0\" col=\"1\" text=\"{{ notes | limitText(30) }}\" class=\"list-view-item-right\" />\n                    <Label row=\"0\" col=\"2\" text=\"&#xf105;\" class=\"fn-list-view-item\" />\n                </GridLayout>\n            </StackLayout>\n            <!-- <GridLayout columns=\"*\" rows=\"*\" class=\"list-view-item-form-bottom\">\n                <TextView row=\"0\" col=\"0\" text=\"{{ notes }}\" hint=\"Notes\" class=\"list-view-item-right\" />\n            </GridLayout> -->\n            <StackLayout verticalAlignment=\"bottom\" class=\"list-view-section-header\">\n                <Label text=\"FOLLOW UP INFORMATION\" verticalAlignment=\"bottom\" />\n            </StackLayout>\n            <StackLayout tap=\"onStackLayoutFollowUpTap\">\n                <GridLayout columns=\"auto, *, auto\" rows=\"auto\" class=\"list-view-item-form-bottom\">\n                    <Label id=\"followUpTitle\" row=\"0\" col=\"0\" text=\"\" class=\"list-view-item-left\" />\n                    <Label id=\"followUpLabel\" row=\"0\" col=\"1\" text=\"\" class=\"list-view-item-right\" />\n                    <Label row=\"0\" col=\"2\" text=\"&#xf105;\" class=\"fn-list-view-item\" />\n                </GridLayout>\n            </StackLayout>\n            <StackLayout verticalAlignment=\"bottom\" class=\"list-view-section-header\">\n                <Label text=\"RELATED INFORMATION\" verticalAlignment=\"bottom\" />\n            </StackLayout>\n            <StackLayout tap=\"onStackLayoutInitiativesTap\">\n                <GridLayout columns=\"auto, *, auto\" rows=\"*\" class=\"list-view-item-form\">\n                    <Label row=\"0\" col=\"0\" text=\"Initiatives\" class=\"list-view-item-left\" />\n                    <Label id=\"initiativesLabel\" row=\"0\" col=\"1\" text=\"{{ pciInitiatives | limitText(25) }}\" class=\"list-view-item-right\" />\n                    <Label row=\"0\" col=\"2\" text=\"&#xf105;\" class=\"fn-list-view-item\" />\n                </GridLayout>\n            </StackLayout>\n            <StackLayout tap=\"onStackLayoutSurveysTap\">\n                <GridLayout columns=\"auto, *, auto\" rows=\"*\" class=\"list-view-item-form-bottom\">\n                    <Label row=\"0\" col=\"0\" text=\"Surveys\" class=\"list-view-item-left\" />\n                    <Label id=\"surveysLabel\" row=\"0\" col=\"1\" text=\"{{ surveys | limitText(25) }}\" class=\"list-view-item-right\" />\n                    <Label row=\"0\" col=\"2\" text=\"&#xf105;\" class=\"fn-list-view-item\" />\n                </GridLayout>\n            </StackLayout>\n            <StackLayout verticalAlignment=\"bottom\" class=\"list-view-section-header\">\n                <Label text=\"ATTENDEE INFORMATION\" verticalAlignment=\"bottom\" />\n            </StackLayout>\n            <!-- <StackLayout tap=\"onStackLayoutLegislatorTap\"> -->\n                <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                    <Label row=\"0\" col=\"0\" text=\"Legislator\" class=\"list-view-item-left\" verticalAlignment=\"middle\" />\n                    <Label id=\"legislatorLabel\" row=\"0\" col=\"1\" text=\"{{ fullName }}\" class=\"list-view-item-right\" />\n                    <!-- <Label row=\"0\" col=\"2\" text=\"&#xf105;\" class=\"fn-list-view-item\" /> -->\n                </GridLayout>\n            <!-- </StackLayout> -->\n            <StackLayout tap=\"onStackLayoutAttendeeTypeTap\">\n                <GridLayout columns=\"auto, *, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                    <Label row=\"0\" col=\"0\" text=\"Cong. Office Attendees\" class=\"list-view-item-left\" />\n                    <Label id=\"attendeeTypeLabel\" row=\"0\" col=\"1\" text=\"{{ attendeeType }}\" class=\"list-view-item-right\" />\n                    <Label row=\"0\" col=\"2\" text=\"&#xf105;\" class=\"fn-list-view-item\" />\n                </GridLayout>\n            </StackLayout>\n            <StackLayout tap=\"onStackLayoutMeetingLocationTap\">\n                <GridLayout columns=\"auto, *, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                    <Label row=\"0\" col=\"0\" text=\"Type\" class=\"list-view-item-left\" />\n                    <Label id=\"meetingLocationLabel\" row=\"0\" col=\"1\" text=\"{{ location }}\" class=\"list-view-item-right\" />\n                    <Label row=\"0\" col=\"2\" text=\"&#xf105;\" class=\"fn-list-view-item\" />\n                </GridLayout>\n            </StackLayout>\n            <StackLayout tap=\"onStackLayoutPciAttendeesTap\">\n                <GridLayout columns=\"auto, *, auto\" rows=\"*\" class=\"list-view-item-form\">\n                    <Label row=\"0\" col=\"0\" text=\"APCIA Attendees\" class=\"list-view-item-left\" />\n                    <Label id=\"pciAttendeesLabel\" row=\"0\" col=\"1\" text=\"{{ pciAttendees | limitText(25) }}\" class=\"list-view-item-right\" />\n                    <Label row=\"0\" col=\"2\" text=\"&#xf105;\" class=\"fn-list-view-item\" />\n                </GridLayout>\n            </StackLayout>\n            <StackLayout tap=\"onStackLayoutStaffAttendeesTap\">\n                <GridLayout columns=\"auto, *, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                    <Label row=\"0\" col=\"0\" text=\"Cong. Staff Attendees\" class=\"list-view-item-left\" />\n                    <Label id=\"staffAttendeesLabel\" row=\"0\" col=\"1\" text=\"{{ legislatorStaffAttendees | limitText(20) }}\" class=\"list-view-item-right\" />\n                    <Label row=\"0\" col=\"2\" text=\"&#xf105;\" class=\"fn-list-view-item\" />\n                </GridLayout>\n            </StackLayout>\n            <!-- <GridLayout columns=\"*\" rows=\"*\" class=\"list-view-item-form-bottom\">\n                <TextView row=\"0\" col=\"0\" text=\"{{ legislatorStaffAttendees }}\" hint=\"Congressional Staff Attendees\" class=\"list-view-item-right\" />\n            </GridLayout> -->\n        </StackLayout>\n    </ScrollView>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/meeting-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./meetings/meeting/meeting-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/meeting-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function MeetingViewModel() {
    const viewModel = ObservableModule.fromObject({
        meetingId: null,
        meetingDate: null,
        venueTypeId: null,
        venueType: null,
        attendeeTypeId: null,
        attendeeType: null,
        lobbyistId: null,
        lobbyist: null,
        legislatorId: null,
        fullName: null,
        name: null,
        pciInitiatives: null,
        surveys: null,
        pciAttendees: null,
        primaryOfficeContact: null,
        meetingLocationId: null,
        location: null,
        legislatorStaffAttendees: null,
        followUpNeeded: null,
        followUpDate: null,
        followUpNotes: null,
        creatorId: null,
        notes: null,
        initiativeId: null,
        surveyId: null,
        assignmentId: null,

        load: function(meetingId) {
            return new Promise((resolve, reject) => {
                return http.request({
                    url: global.apiBaseServiceUrl + "meeting?meetingId=" + meetingId,
                    method: "GET",
                    headers: { "Content-Type": "application/json", "Authorization": global.token }
                }).then(function (response) {
                    var result = response.content.toString();
                    var data = JSON.parse(result);
                    var meetingDate;
                    var followUpDate;
                    
                    meetingDate = new Date(parseInt(data.MeetingDate.substring(data.MeetingDate.indexOf("/Date(") + 6, data.MeetingDate.indexOf(")/"))));

                    if (data.FollowUpDate === null || data.FollowUpDate.length === 0) {
                        followUpDate = null;
                    } else {
                        followUpDate = new Date(parseInt(data.FollowUpDate.substring(data.FollowUpDate.indexOf("/Date(") + 6, data.FollowUpDate.indexOf(")/"))));
                    }

                    viewModel.meetingId = data.MeetingId,
                    viewModel.meetingDate = meetingDate,
                    viewModel.venueTypeId = data.VenueTypeId,
                    viewModel.venueType = data.VenueType,
                    viewModel.attendeeTypeId = data.AttendeeTypeId,
                    viewModel.attendeeType = data.AttendeeType,
                    viewModel.lobbyistId = data.LobbyistId,
                    viewModel.lobbyist = data.Lobbyist,
                    viewModel.legislatorId = data.LegislatorId,
                    viewModel.fullName = data.FullName,
                    viewModel.name = data.Name,
                    viewModel.pciInitiatives = data.PciInitiatives,
                    viewModel.surveys = data.Surveys,
                    viewModel.pciAttendees = data.PciAttendees,
                    viewModel.primaryOfficeContact = data.PrimaryOfficeContact,
                    viewModel.meetingLocationId = data.MeetingLocationId,
                    viewModel.location = data.Location,
                    viewModel.legislatorStaffAttendees = data.LegislatorStaffAttendees,
                    viewModel.followUpNeeded = data.FollowUpNeeded,
                    viewModel.followUpDate = followUpDate,
                    viewModel.followUpNotes = data.FollowUpNotes,
                    viewModel.creatorId = data.CreatorId,
                    viewModel.notes = data.Notes,
                    viewModel.initiativeId = data.InitiativeId,
                    viewModel.surveyId = data.SurveyId,
                    viewModel.assignmentId = data.AssignmentId;

                    resolve("SUCCESS");

                }, function (e) {
                    dialogs.alert({
                        title: "Error",
                        message: e.toString(),
                        okButtonText: "OK"
                    });

                    reject("FAILURE");
                });
            })
        }
    });

    return viewModel;
}

module.exports = MeetingViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/meeting-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/meeting-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/meetinglocation/meetinglocation-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const MeetingLocationViewModel = __webpack_require__("./meetings/meeting/meetinglocation/meetinglocation-view-model.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

var page;
var navigationContext;
var meetingLocationList = new MeetingLocationViewModel([]);

var meetingLocationIndex = 0;

var pageData = new ObservableModule.fromObject({
    boundData: null,
    meetingLocationIndex: meetingLocationIndex,
    meetingLocationList: null,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        page.actionBar.title = "Type";

        navigationContext = page.navigationContext;

        pageData.boundData = navigationContext;

        if (global.meetingLocationList === undefined) {
            pageData.set("isLoading", true);

            meetingLocationList.load().then(function () {
                global.meetingLocationList = meetingLocationList;

                pageData.meetingLocationList = global.meetingLocationList;

                meetingLocationIndex = 0;

                if (pageData.boundData.meetingLocationId !== null && pageData.boundData.meetingLocationId.toString().length > 0) {
                    var i;

                    for (i = 0; i < pageData.meetingLocationList.List.length; i++) {
                        if (pageData.meetingLocationList.List.getItem(i).meetingLocationId === pageData.boundData.meetingLocationId) {
                            meetingLocationIndex = i;
                        }
                    }
                }

                pageData.meetingLocationIndex = meetingLocationIndex;

                pageData.set("isLoading", false);

                page.bindingContext = pageData;
            });
        } else {
            pageData.meetingLocationList = global.meetingLocationList;
            
            meetingLocationIndex = 0;

            if (pageData.boundData.meetingLocationId !== null && pageData.boundData.meetingLocationId.toString().length > 0) {
                var i;

                for (i = 0; i < pageData.meetingLocationList.List.length; i++) {
                    if (pageData.meetingLocationList.List.getItem(i).meetingLocationId === pageData.boundData.meetingLocationId) {
                        meetingLocationIndex = i;
                    }
                }
            }

            pageData.meetingLocationIndex = meetingLocationIndex;

            page.bindingContext = pageData;
        }
    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onLoaded(args) {
    try {
        var meetingLocationListPicker = page.getViewById("meetingLocationListPicker");
        
        meetingLocationListPicker.on("selectedIndexChange", function(args) {
            var meetingLocationItem = pageData.meetingLocationList.List.getItem(args.object.selectedIndex);
            //dialogs.alert(meetingLocationItem.meetingLocationId + ": " + meetingLocationItem.meetingLocation);
            pageData.boundData.meetingLocationId = meetingLocationItem.meetingLocationId;
            pageData.boundData.location = meetingLocationItem.meetingLocation;
        });

    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onLoaded = onLoaded;
exports.onBackTap = onBackTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/meetinglocation/meetinglocation-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/meetinglocation/meetinglocation-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/meetinglocation/meetinglocation-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" loaded=\"onLoaded\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, auto, *\">\n        <StackLayout row=\"0\" col=\"0\" class=\"list-view-section-header\"></StackLayout>\n        <GridLayout row=\"1\" col=\"0\" columns=\"*\" rows=\"auto\" class=\"list-view-item-form\">\n            <ListPicker id=\"meetingLocationListPicker\" row=\"0\" col=\"0\" items=\"{{ meetingLocationList.Items }}\" selectedIndex=\"{{ meetingLocationIndex }}\" \n                horizontalAlignment=\"center\" class=\"list-view-item-picker\"></ListPicker>\n        </GridLayout>\n        <StackLayout row=\"2\" col=\"0\" height=\"100%\" class=\"list-view-section-header\"></StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"3\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/meetinglocation/meetinglocation-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./meetings/meeting/meetinglocation/meetinglocation-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/meetinglocation/meetinglocation-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js").Observable;
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function MeetingLocationViewModel() {
    const viewModel = new ObservableModule();
    viewModel.Items = new ObservableArray();
    viewModel.List = new ObservableArray();

    viewModel.load = function() {
        return http.request({
            url: global.apiBaseServiceUrl + "meetinglocations",
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(meetingLocation) {
                viewModel.Items.push(
                    meetingLocation.Location
                );

                viewModel.List.push({
                    meetingLocationId: meetingLocation.MeetingLocationId,
                    meetingLocation: meetingLocation.Location
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.Items.length) {
            viewModel.Items.pop();
        }

        while (viewModel.List.length) {
            viewModel.List.pop();
        }
    };
    
    return viewModel;
}

module.exports = MeetingLocationViewModel;; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/meetinglocation/meetinglocation-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/meetinglocation/meetinglocation-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/notes/notes-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

var page;
var navigationContext;

function onNavigatingTo(args) {
    try {
        page = args.object;
        page.actionBar.title = "Notes";

        navigationContext = page.navigationContext;

        page.bindingContext = navigationContext;

    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        dismissKeyboard()

        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onGridLayoutTap(args) {
    try {
        dismissKeyboard()
    } catch(e) {
        dialogs.alert(e);
    }
}

function dismissKeyboard() {
    if (platform.isAndroid) {
        var notes = page.getViewById("notes");

        notes.dismissSoftInput();
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onBackTap = onBackTap;
exports.onGridLayoutTap = onGridLayoutTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/notes/notes-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/notes/notes-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/notes/notes-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"*\" class=\"list-view-item-form\" tap=\"onGridLayoutTap\">\n        <TextView id=\"notes\" row=\"0\" col=\"0\" text=\"{{ notes }}\" hint=\"Notes\" class=\"list-view-item-textview\" height=\"100%\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/notes/notes-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./meetings/meeting/notes/notes-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/offeredtomembers/offeredtomembers-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

var page;
var navigationContext;

function onNavigatingTo(args) {
    try {
        page = args.object;
        page.actionBar.title = "APCIA Members";

        navigationContext = page.navigationContext;

        page.bindingContext = navigationContext;

    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onBackTap = onBackTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/offeredtomembers/offeredtomembers-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/offeredtomembers/offeredtomembers-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/offeredtomembers/offeredtomembers-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, auto, *\">\n        <StackLayout row=\"0\" col=\"0\" class=\"list-view-section-header\"></StackLayout>\n        <StackLayout row=\"1\" col=\"0\">\n            <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form-bottom\">\n                <Label row=\"0\" col=\"0\" text=\"Offered to APCIA Members?\" class=\"list-view-item-left\" />\n                <Switch row=\"0\" col=\"1\" checked=\"{{ offeredToMembers }}\" horizontalAlignment=\"right\" class=\"switch\" />\n            </GridLayout>\n        </StackLayout>\n        <StackLayout row=\"2\" col=\"0\" style=\"background-color: #eee;\"></StackLayout>\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/offeredtomembers/offeredtomembers-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./meetings/meeting/offeredtomembers/offeredtomembers-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/staffattendees/staffattendees-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

var page;
var navigationContext;

function onNavigatingTo(args) {
    try {
        page = args.object;
        page.actionBar.title = "Cong. Staff Attendees";

        page.bindingContext = page.navigationContext;

    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        dismissKeyboard()

        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onGridLayoutTap(args) {
    try {
        dismissKeyboard()
    } catch(e) {
        dialogs.alert(e);
    }
}

function dismissKeyboard() {
    if (platform.isAndroid) {
        var legislatorStaffAttendees = page.getViewById("legislatorStaffAttendees");

        legislatorStaffAttendees.dismissSoftInput();
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onBackTap = onBackTap;
exports.onGridLayoutTap = onGridLayoutTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/staffattendees/staffattendees-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/staffattendees/staffattendees-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/staffattendees/staffattendees-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"*\" class=\"list-view-item-form\" tap=\"onGridLayoutTap\">\n        <TextView id=\"legislatorStaffAttendees\" row=\"0\" col=\"0\" text=\"{{ legislatorStaffAttendees }}\" hint=\"Congressional Staff Attendees\" class=\"list-view-item-textview\" height=\"100%\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/staffattendees/staffattendees-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./meetings/meeting/staffattendees/staffattendees-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/venuetype/venuetype-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const VenueTypeViewModel = __webpack_require__("./meetings/meeting/venuetype/venuetype-view-model.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

var page;
var navigationContext;
var venueTypeList = new VenueTypeViewModel([]);

var venueTypeIndex = 0;

var pageData = new ObservableModule.fromObject({
    boundData: null,
    venueTypeIndex: venueTypeIndex,
    venueTypeList: null,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        page.actionBar.title = "Venue";

        navigationContext = page.navigationContext;

        pageData.boundData = navigationContext;

        if (global.venueTypeList === undefined) {
            pageData.set("isLoading", true);

            venueTypeList.load().then(function () {
                global.venueTypeList = venueTypeList;

                pageData.venueTypeList = global.venueTypeList;

                venueTypeIndex = 0;

                if (pageData.boundData.venueTypeId !== null && pageData.boundData.venueTypeId.toString().length > 0) {
                    var i;

                    for (i = 0; i < pageData.venueTypeList.List.length; i++) {
                        if (pageData.venueTypeList.List.getItem(i).venueTypeId === pageData.boundData.venueTypeId) {
                            venueTypeIndex = i;
                        }
                    }
                }

                pageData.venueTypeIndex = venueTypeIndex;

                pageData.set("isLoading", false);

                page.bindingContext = pageData;
            });
        } else {
            pageData.venueTypeList = global.venueTypeList;
            
            venueTypeIndex = 0;

            if (pageData.boundData.venueTypeId !== null && pageData.boundData.venueTypeId.toString().length > 0) {
                var i;

                for (i = 0; i < pageData.venueTypeList.List.length; i++) {
                    if (pageData.venueTypeList.List.getItem(i).venueTypeId === pageData.boundData.venueTypeId) {
                        venueTypeIndex = i;
                    }
                }
            }

            pageData.venueTypeIndex = venueTypeIndex;

            page.bindingContext = pageData;
        }
    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onLoaded(args) {
    try {
        var venueTypeListPicker = page.getViewById("venueTypeListPicker");
        
        venueTypeListPicker.on("selectedIndexChange", function(args) {
            var venueTypeItem = pageData.venueTypeList.List.getItem(args.object.selectedIndex);
            //dialogs.alert(venueTypeItem.venueTypeId + ": " + venueTypeItem.venueType);
            pageData.boundData.venueTypeId = venueTypeItem.venueTypeId;
            pageData.boundData.venueType = venueTypeItem.venueType;
        });

    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onLoaded = onLoaded;
exports.onBackTap = onBackTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/venuetype/venuetype-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/venuetype/venuetype-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/venuetype/venuetype-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" loaded=\"onLoaded\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, auto, *\">\n        <StackLayout row=\"0\" col=\"0\" class=\"list-view-section-header\"></StackLayout>\n        <GridLayout row=\"1\" col=\"0\" columns=\"*\" rows=\"auto\" class=\"list-view-item-form\">\n            <ListPicker id=\"venueTypeListPicker\" row=\"0\" col=\"0\" items=\"{{ venueTypeList.Items }}\" selectedIndex=\"{{ venueTypeIndex }}\" \n                horizontalAlignment=\"center\" class=\"list-view-item-picker\" width=\"100%\"></ListPicker>\n        </GridLayout>\n        <StackLayout row=\"2\" col=\"0\" height=\"100%\" class=\"list-view-section-header\"></StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"3\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/venuetype/venuetype-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./meetings/meeting/venuetype/venuetype-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/venuetype/venuetype-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js").Observable;
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function VenueTypeViewModel() {
    const viewModel = new ObservableModule();
    viewModel.Items = new ObservableArray();
    viewModel.List = new ObservableArray();

    viewModel.load = function() {
        return http.request({
            url: global.apiBaseServiceUrl + "meetingvenuetypes",
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(venueType) {
                viewModel.Items.push(
                    venueType.VenueType
                );

                viewModel.List.push({
                    venueTypeId: venueType.VenueTypeId,
                    venueType: venueType.VenueType
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.Items.length) {
            viewModel.Items.pop();
        }

        while (viewModel.List.length) {
            viewModel.List.pop();
        }
    };
    
    return viewModel;
}

module.exports = VenueTypeViewModel;; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/venuetype/venuetype-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/venuetype/venuetype-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meetings-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const MeetingsViewModel = __webpack_require__("./meetings/meetings-view-model.js");
// const LegislatorViewModel = require("./meeting/legislator/legislator-view-model");
const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var gestures = __webpack_require__("../node_modules/@nativescript/core/ui/gestures/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

const MIN_X = -80;
const MAX_X = 0;
const THRESHOLD = 0.5;

var swipeOpen = false;
var swipedItem;

var isScrolling = false;
var isSwiping = false;

var page;
var navigationContext;

var meetingsList = new MeetingsViewModel([]);
// var legislatorList = new LegislatorViewModel([]);

var pageData = new ObservableModule.fromObject({
    meetingsList: meetingsList,
    reference: "tab",
    recentMeetings: "Y",
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;

        page.actionBar.title = "Meetings";
        
        navigationContext = page.navigationContext;

        if (navigationContext.reference === "tab") {
            pageData.reference = "tab";
        } else {
            pageData.reference = "nav";
        }

        if (args.isBackNavigation) {
            meetingsList.empty();

            pageData.set("isLoading", true);

            meetingsList.load(pageData.reference, navigationContext.legislatorId, pageData.recentMeetings).then(function () {
                pageData.set("isLoading", false);

                page.bindingContext = pageData;
            });
        } else {
            // Since the Page contains a SegmentedBar,
            // the selectedIndexChanged event will perform the initial load of the ListView.
            page.bindingContext = pageData;
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSelectedIndexChanged(args) {
    try {
        if (args.newIndex === 0) {
            pageData.recentMeetings = "Y";
        }
        else {
            pageData.recentMeetings = "N";
        }

        meetingsList.empty();

        pageData.set("isLoading", true);

        meetingsList.load(pageData.reference, navigationContext.legislatorId, pageData.recentMeetings).then(function () {
            // NEED THE FOLLOWING COMMENTED CODE ONCE WE ALLOW THE LEGISLATOR FIELD TO BE EDITABLE.
            // if (global.legislatorList === undefined) {
            //     legislatorList.load().then(function () {
            //         global.legislatorList = legislatorList;

            //         pageData.set("isLoading", false);

            //         page.bindingContext = pageData;
            //     });
            // } else {
                pageData.set("isLoading", false);

                page.bindingContext = pageData;
            // }
        });
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onItemLoading(args) {
    if (platform.isIOS) {
        var cell = args.ios;

        cell.selectionStyle = UITableViewCellSelectionStyle.UITableViewCellSelectionStyleNone;
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onAddTap(args) {
    try
    {
        var model = {
            meetingId: 0,
            meetingDate: new Date(),
            venueTypeId: 1,
            venueType: "In Person",
            attendeeTypeId: 1,
            attendeeType: "Staff Only",
            lobbyistId: global.personId,
            lobbyist: null,
            legislatorId: navigationContext.legislatorId,
            fullName: navigationContext.fullName,
            name: null,
            pciInitiatives: null,
            surveys: null,
            pciAttendees: global.currentUser,
            primaryOfficeContact: null,
            meetingLocationId: 2,
            location: "Meeting in DC",
            legislatorStaffAttendees: null,
            followUpNeeded: false,
            followUpDate: null,
            followUpNotes: null,
            creatorId: global.personId,
            notes: null,
            initiativeId: null,
            surveyId: null,
            assignmentId: null
        }

        const navigationEntry = {
            moduleName: "meetings/meeting/meeting-page",
            context: model,
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onItemTap(args) {
    try {
        if (platform.isIOS) {
            if (swipeOpen) {
                swipedItem.animate({
                    translate: { x: 0, y: 0 },
                    duration: 200
                });

                swipeOpen = false;
            } else {
                var view = args.view;

                model = view.bindingContext;

                const navigationEntry = {
                    moduleName: "meetings/meeting/meeting-page",
                    context: model,
                    clearHistory: false
                };

                frameModule.topmost().navigate(navigationEntry);
            }
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onDeleteClick(args) {
    if (platform.isAndroid) {
        dialogs.confirm({
            title: "Delete",
            message: "Meeting will be deleted. Delete?",
            okButtonText: "Yes",
            cancelButtonText: "No"
        }).then(function (result) {
            if (result) {
                var view = args.object;

                http.request({
                    url: global.apiBaseServiceUrl + "deletemeeting",
                    method: "POST",
                    headers: { "Content-Type": "application/json", "Authorization": global.token },
                    content: JSON.stringify(view.bindingContext)
                }).then(function (response) {
                    meetingsList.empty();
        
                    pageData.set("isLoading", true);
        
                    meetingsList.load(pageData.reference, navigationContext.legislatorId, pageData.recentMeetings).then(function () {
                            pageData.set("isLoading", false);
        
                            page.bindingContext = pageData;
                    });
                    
                }, function (e) {
                    dialogs.alert({
                        title: "Error",
                        message: e.toString(),
                        okButtonText: "OK"
                    });
                });
            }
        });
    } else if (platform.isIOS) {
        dialogs.action({
            message: "Would you like to delete this meeting?",
            cancelButtonText: "Cancel",
            actions: ["Delete"]
        }).then(function (result) {
            if (result === "Delete") {
                var view = args.object;

                http.request({
                    url: global.apiBaseServiceUrl + "deletemeeting",
                    method: "POST",
                    headers: { "Content-Type": "application/json", "Authorization": global.token },
                    content: JSON.stringify(view.bindingContext)
                }).then(function (response) {
                    meetingsList.empty();
        
                    pageData.set("isLoading", true);
        
                    meetingsList.load(pageData.reference, navigationContext.legislatorId, pageData.recentMeetings).then(function () {
                            pageData.set("isLoading", false);
        
                            page.bindingContext = pageData;
                    });
                    
                }, function (e) {
                    dialogs.alert({
                        title: "Error",
                        message: e.toString(),
                        okButtonText: "OK"
                    });
                });
            }
        });
    }

    if (swipeOpen) {
        swipedItem.animate({
            translate: { x: 0, y: 0 },
            duration: 200
        });

        swipeOpen = false;
    }
}

function onLayoutLoaded(args) {
    var layout = args.object;

    if (platform.isAndroid) {
        layout.on(gestures.GestureTypes.tap, function(args) {
            try {
                if (swipeOpen) {
                    swipedItem.animate({
                        translate: { x: 0, y: 0 },
                        duration: 200
                    });
    
                    swipeOpen = false;
                } else {
                    var view = args.view;
    
                    model = view.bindingContext;
    
                    const navigationEntry = {
                        moduleName: "meetings/meeting/meeting-page",
                        context: model,
                        clearHistory: false
                    };
    
                    frameModule.topmost().navigate(navigationEntry);
                }
            }
            catch(e)
            {
                dialogs.alert({
                    title: "Error",
                    message: e.toString(),
                    okButtonText: "OK"
                });
            }
        });
    }

    layout.on(gestures.GestureTypes.pan, function(args) {
        try {
            var layout = args.object;
            var view = args.view;

            if (swipeOpen && swipedItem !== undefined && swipedItem != layout) {
                swipedItem.animate({
                    translate: { x: 0, y: 0 },
                    duration: 50
                });
            }

            if (!isScrolling && !isSwiping) {
                if (Math.abs(args.deltaY) > Math.abs(args.deltaX)) {
                    isScrolling = true;
                    isSwiping = false;
                } else if (Math.abs(args.deltaX) > Math.abs(args.deltaY)) {
                    isScrolling = false;
                    isSwiping = true;
                }
            }

            if (isScrolling) {
                if (swipeOpen && swipedItem !== undefined) {
                    swipedItem.animate({
                        translate: { x: 0, y: 0 },
                        duration: 50
                    });
                }

                if (args.state === gestures.GestureStateTypes.ended) {
                    isScrolling = false;
                }
            } else if (isSwiping) {
                var meetingsListView = page.getViewById("meetingsListView");

                if (platform.isAndroid) {
                    meetingsListView.nativeView.requestDisallowInterceptTouchEvent(true);
                } else if (platform.isIOS) {
                    meetingsListView.ios.scrollEnabled = false;
                }

                swipeOpen = true;
                swipedItem = layout;

                var newX = layout.translateX + args.deltaX;

                if (newX >= MIN_X && newX <= MAX_X) {
                    layout.translateX = newX;
                }
                
                if (args.state === gestures.GestureStateTypes.ended && !(newX === MIN_X || newX === MAX_X)) {
                    // init our destination X coordinate to 0, in case neither THRESHOLD has been hit
                    let destX = 0;
                    
                    // if user hit or crossed the THESHOLD either way, let's finish in that direction
                    if (newX <= MIN_X * THRESHOLD) {
                        destX = MIN_X;
                    } else if (newX >= MAX_X * THRESHOLD) {
                        destX = MAX_X;
                    }
                    
                    layout.animate({
                        translate: { x: destX, y: 0 },
                        duration: 200
                    });

                    if (platform.isAndroid) {
                        meetingsListView.nativeView.requestDisallowInterceptTouchEvent(false);
                    } else if (platform.isIOS) {
                        meetingsListView.ios.scrollEnabled = true;
                    }

                    isSwiping = false;
                }
            }
        } catch(e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        }
    });
}

exports.onNavigatingTo = onNavigatingTo;
exports.onSelectedIndexChanged = onSelectedIndexChanged;
exports.onItemLoading = onItemLoading;
exports.onBackTap = onBackTap;
exports.onAddTap = onAddTap;
exports.onItemTap = onItemTap;
exports.onLayoutLoaded = onLayoutLoaded;
exports.onDeleteClick = onDeleteClick;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meetings-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meetings-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meetings-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" visibility=\"{{ reference === 'tab' ? 'collapse' : 'visible' }}\" />\n        </android>\n        <ActionItem tap=\"onAddTap\" ios.systemIcon=\"4\" android.systemIcon=\"ic_menu_add\" ios.position=\"right\" \n            visibility=\"{{ reference === 'tab' ? 'collapse' : 'visible' }}\" />\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\">\n            <SegmentedBar class=\"segmented-bar\" selectedIndexChanged=\"onSelectedIndexChanged\">\n                <SegmentedBar.items>\n                    <SegmentedBarItem title=\"Recent Meetings\" />\n                    <SegmentedBarItem title=\"All Meetings\" />\n                </SegmentedBar.items>\n            </SegmentedBar>\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\">\n            <ListView id=\"meetingsListView\" items=\"{{ meetingsList }}\" itemLoading=\"onItemLoading\" itemTap=\"onItemTap\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <AbsoluteLayout>\n                        <!-- BACKGROUND: Swipe Actions -->\n                        <GridLayout columns=\"*, 80\" width=\"100%\"\n                            android:rows=\"{{ pciInitiatives.length > 0 &amp;&amp; legislatorStaffAttendees.length > 0 ? '89' : pciInitiatives.length > 0 || legislatorStaffAttendees.length > 0 ? '70' : '51' }}\"\n                            ios:rows=\"{{ pciInitiatives.length > 0 &amp;&amp; legislatorStaffAttendees.length > 0 ? '98' : pciInitiatives.length > 0 || legislatorStaffAttendees.length > 0 ? '78' : '58' }}\">\n                            <Label col=\"0\" />\n                            <GridLayout col=\"1\" columns=\"*\" rows=\"*, auto, auto, *\" tap=\"onDeleteClick\" class=\"swipe-icons red\">\n                                <Label row=\"0\" col=\"0\" text=\"\" />\n                                <Label row=\"1\" col=\"0\" text=\"&#xf1f8;\" class=\"tab-icon\" />\n                                <Label row=\"2\" col=\"0\" text=\"Delete\" class=\"tab-label\" />\n                                <Label row=\"3\" col=\"0\" text=\"\" />\n                            </GridLayout>\n                        </GridLayout>\n                        <!-- FOREGROUND: List View Item Details -->\n                        <StackLayout loaded=\"onLayoutLoaded\" backgroundColor=\"white\" width=\"100%\">\n                            <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                                <StackLayout row=\"0\" col=\"0\">\n                                    <Label text=\"{{ name }}\" class=\"list-view-item-main-top\" />\n                                    <Label text=\"{{ meetingDate | dateConverter(dateFormat) }}\" class=\"list-view-item-main\" />\n                                    <Label text=\"{{ 'with ' + legislatorStaffAttendees }}\" visibility=\"{{ legislatorStaffAttendees.length > 0 ? 'visible' : 'collapse' }}\" class=\"list-view-item-sub\" />\n                                    <Label text=\"{{ 'on ' + pciInitiatives }}\" visibility=\"{{ pciInitiatives.length > 0 ? 'visible' : 'collapse' }}\" class=\"list-view-item-sub\" />\n                                </StackLayout>\n                                <Label row=\"0\" col=\"1\" text=\"&#xf105;\" class=\"fn-list-view-item\" verticalAlignment=\"middle\" />\n                            </GridLayout>\n                        </StackLayout>\n                    </AbsoluteLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"2\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meetings-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./meetings/meetings-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meetings-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function MeetingsViewModel(items) {
    const viewModel = new ObservableArray(items);

    viewModel.load = function(reference, legislatorId, recentMeetings) {
        var requestUrl;

        if (reference === "tab") {
            requestUrl = global.apiBaseServiceUrl + "meetings?personId=" + global.personId + "&recentMeetings=" + recentMeetings;
        } else {
            if (global.isPci) {
                requestUrl = global.apiBaseServiceUrl + "meetings?legislatorId=" + legislatorId + "&recentMeetings=" + recentMeetings;
            } else {
                requestUrl = global.apiBaseServiceUrl + "meetings?personId=" + global.personId + "&legislatorId=" + legislatorId + "&recentMeetings=" + recentMeetings;
            }
        }

        return http.request({
            url: requestUrl,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token } //,
            //content: JSON.stringify({ filter: "", page: "1", pageSize: "20" })
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(meeting) {
                var meetingDate;
                // var legislatorStaffAttendees = meeting.LegislatorStaffAttendees;
                var pciInitiatives = meeting.PciInitiatives;
                var followUpDate;
                
                meetingDate = new Date(parseInt(meeting.MeetingDate.substring(meeting.MeetingDate.indexOf("/Date(") + 6, meeting.MeetingDate.indexOf(")/"))));

                // if (legislatorStaffAttendees.length > 0)
                // {
                //     legislatorStaffAttendees = "with " + legislatorStaffAttendees;
                // }

                if (pciInitiatives.length > 0)
                {
                    pciInitiatives = "on " + pciInitiatives
                }

                if (meeting.FollowUpDate === null || meeting.FollowUpDate.length === 0) {
                    followUpDate = null;
                } else {
                    followUpDate = new Date(parseInt(meeting.FollowUpDate.substring(meeting.FollowUpDate.indexOf("/Date(") + 6, meeting.FollowUpDate.indexOf(")/"))));
                }

                viewModel.push({
                    meetingId: meeting.MeetingId,
                    meetingDate: meetingDate,
                    venueTypeId: meeting.VenueTypeId,
                    venueType: meeting.VenueType,
                    offeredToMembers: meeting.OfferedToMembers,
                    attendeeTypeId: meeting.AttendeeTypeId,
                    attendeeType: meeting.AttendeeType,
                    lobbyistId: meeting.LobbyistId,
                    lobbyist: meeting.Lobbyist,
                    legislatorId: meeting.LegislatorId,
                    fullName: meeting.FullName,
                    name: meeting.Name,
                    pciInitiatives: meeting.PciInitiatives,
                    surveys: meeting.Surveys,
                    pciAttendees: meeting.PciAttendees,
                    primaryOfficeContact: meeting.PrimaryOfficeContact,
                    meetingLocationId: meeting.MeetingLocationId,
                    location: meeting.Location,
                    legislatorStaffAttendees: meeting.LegislatorStaffAttendees,
                    followUpNeeded: meeting.FollowUpNeeded,
                    followUpDate: followUpDate,
                    followUpNotes: meeting.FollowUpNotes,
                    creatorId: meeting.CreatorId,
                    notes: meeting.Notes,
                    initiativeId: meeting.InitiativeId,
                    surveyId: meeting.SurveyId,
                    assignmentId: meeting.AssignmentId
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = MeetingsViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meetings-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meetings-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profile/familiaritylevel-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js").Observable;
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function FamiliarityLevelViewModel() {
    const viewModel = new ObservableModule();
    viewModel.Items = new ObservableArray();
    viewModel.List = new ObservableArray();

    viewModel.load = function() {
        return http.request({
            url: global.apiBaseServiceUrl + "familiaritylevels",
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(familiarityLevel) {
                viewModel.Items.push(
                    familiarityLevel.Level
                );

                viewModel.List.push({
                    familiarityLevelId: familiarityLevel.FamiliarityLevelId,
                    familiarityLevel: familiarityLevel.Level
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.Items.length) {
            viewModel.Items.pop();
        }

        while (viewModel.List.length) {
            viewModel.List.pop();
        }
    };
    
    return viewModel;
}

module.exports = FamiliarityLevelViewModel;; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profile/familiaritylevel-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./profiles/profile/familiaritylevel-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profile/profile-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const RelationshipTypeViewModel = __webpack_require__("./profiles/profile/relationshiptype-view-model.js");
const FamiliarityLevelViewModel = __webpack_require__("./profiles/profile/familiaritylevel-view-model.js");
const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var email = __webpack_require__("../node_modules/nativescript-email/email.js");
var phone = __webpack_require__("../node_modules/nativescript-phone/index.js");

var page;
var navigationContext;

var relationshipList = new RelationshipTypeViewModel([]);
var familiarityList = new FamiliarityLevelViewModel([]);

var relationshipIndex = 0;
var familiarityIndex = 0;

var pageData = new ObservableModule.fromObject({
    boundData: null,
    relationshipIndex: relationshipIndex,
    relationshipList: null,
    familiarityIndex: familiarityIndex,
    familiarityList: null,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;

        navigationContext = page.navigationContext;

        page.actionBar.title = "Profile";

        if (args.isBackNavigation) {
            var personDetails = page.getViewById("personDetails");
            var fullNameLabel = page.getViewById("fullNameLabel");
            var companyLabel = page.getViewById("companyLabel");
            var titleLabel = page.getViewById("titleLabel");
            var emailAddressButton = page.getViewById("emailAddressButton");
            var workPhoneButton = page.getViewById("workPhoneButton");
            var selectPerson = page.getViewById("selectPerson");
            var rightArrow = page.getViewById("rightArrow");

            if (pageData.boundData.personId !== null && pageData.boundData.personId !== 0) {
                fullNameLabel.text = pageData.boundData.fullName;
                companyLabel.text = pageData.boundData.company;
                titleLabel.text = pageData.boundData.title;
                emailAddressButton.text = pageData.boundData.emailAddress;
                workPhoneButton.text = pageData.boundData.workPhone;

                personDetails.visibility = "visible";
                selectPerson.visibility = "collapse";
                rightArrow.visibility = "collapse";

                if (pageData.boundData.emailAddress !== null && pageData.boundData.emailAddress.length > 0) {
                    emailAddressButton.visibility = "visible";
                }

                if (pageData.boundData.workPhone !== null && pageData.boundData.workPhone.length > 0) {
                    workPhoneButton.visibility = "visible";
                }
            }

        } else {
            pageData.boundData = navigationContext.boundData;
            pageData.boundData.result = "";

            if (global.relationshipList === undefined) {
                pageData.set("isLoading", true);

                relationshipList.load().then(function () {
                    global.relationshipList = relationshipList;

                    pageData.relationshipList = global.relationshipList;

                    relationshipIndex = 0;

                    if (pageData.boundData.relationshipTypeId !== null && pageData.boundData.relationshipTypeId.toString().length > 0) {
                        var i;

                        for (i = 0; i < pageData.relationshipList.List.length; i++) {
                            if (pageData.relationshipList.List.getItem(i).relationshipTypeId === pageData.boundData.relationshipTypeId) {
                                relationshipIndex = i;
                            }
                        }
                    }

                    pageData.relationshipIndex = relationshipIndex;
                    pageData.boundData.relationshipTypeId = pageData.relationshipList.List.getItem(relationshipIndex).relationshipTypeId;
                    pageData.boundData.relationshipType = pageData.relationshipList.List.getItem(relationshipIndex).relationshipType;

                    if (global.familiarityList === undefined) {
                        familiarityList.load().then(function () {
                            global.familiarityList = familiarityList;
            
                            pageData.familiarityList = global.familiarityList;
            
                            familiarityIndex = 0;
            
                            if (pageData.boundData.familiarityLevelId !== null && pageData.boundData.familiarityLevelId.toString().length > 0) {
                                var j;
            
                                for (j = 0; j < pageData.familiarityList.List.length; j++) {
                                    if (pageData.familiarityList.List.getItem(j).familiarityLevelId === pageData.boundData.familiarityLevelId) {
                                        familiarityIndex = j;
                                    }
                                }
                            }

                            pageData.familiarityIndex = familiarityIndex;
                            pageData.boundData.familiarityLevelId = pageData.familiarityList.List.getItem(familiarityIndex).familiarityLevelId;
                            pageData.boundData.familiarityLevel = pageData.familiarityList.List.getItem(familiarityIndex).familiarityLevel;
            
                            pageData.set("isLoading", false);
            
                            page.bindingContext = pageData;
                        });
                    } else {
                        pageData.familiarityList = global.familiarityList;
            
                        familiarityIndex = 0;
        
                        if (pageData.boundData.familiarityLevelId !== null && pageData.boundData.familiarityLevelId.toString().length > 0) {
                            var j;
        
                            for (j = 0; j < pageData.familiarityList.List.length; j++) {
                                if (pageData.familiarityList.List.getItem(j).familiarityLevelId === pageData.boundData.familiarityLevelId) {
                                    familiarityIndex = j;
                                }
                            }
                        }

                        pageData.familiarityIndex = familiarityIndex;
                        pageData.boundData.familiarityLevelId = pageData.familiarityList.List.getItem(familiarityIndex).familiarityLevelId;
                        pageData.boundData.familiarityLevel = pageData.familiarityList.List.getItem(familiarityIndex).familiarityLevel;
        
                        pageData.set("isLoading", false);
        
                        page.bindingContext = pageData;
                    }
                });
            } else {
                pageData.relationshipList = global.relationshipList;

                relationshipIndex = 0;

                if (pageData.boundData.relationshipTypeId !== null && pageData.boundData.relationshipTypeId.toString().length > 0) {
                    var i;

                    for (i = 0; i < pageData.relationshipList.List.length; i++) {
                        if (pageData.relationshipList.List.getItem(i).relationshipTypeId === pageData.boundData.relationshipTypeId) {
                            relationshipIndex = i;
                        }
                    }
                }

                pageData.relationshipIndex = relationshipIndex;
                pageData.boundData.relationshipTypeId = pageData.relationshipList.List.getItem(relationshipIndex).relationshipTypeId;
                pageData.boundData.relationshipType = pageData.relationshipList.List.getItem(relationshipIndex).relationshipType;

                pageData.familiarityList = global.familiarityList;

                familiarityIndex = 0;

                if (pageData.boundData.familiarityLevelId !== null && pageData.boundData.familiarityLevelId.toString().length > 0) {
                    var j;

                    for (j = 0; j < pageData.familiarityList.List.length; j++) {
                        if (pageData.familiarityList.List.getItem(j).familiarityLevelId === pageData.boundData.familiarityLevelId) {
                            familiarityIndex = j;
                        }
                    }
                }

                pageData.familiarityIndex = familiarityIndex;
                pageData.boundData.familiarityLevelId = pageData.familiarityList.List.getItem(familiarityIndex).familiarityLevelId;
                pageData.boundData.familiarityLevel = pageData.familiarityList.List.getItem(familiarityIndex).familiarityLevel;

                page.bindingContext = pageData;
            }
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onLoaded(args) {
    try {
        var relationshipListPicker = page.getViewById("relationshipListPicker");
        
        relationshipListPicker.on("selectedIndexChange", function(args) {
            var relationshipLabel = page.getViewById("relationshipLabel");
            var relationshipItem = pageData.relationshipList.List.getItem(args.object.selectedIndex);
            
            pageData.boundData.relationshipTypeId = relationshipItem.relationshipTypeId;
            pageData.boundData.relationshipType = relationshipItem.relationshipType;

            relationshipLabel.text = pageData.boundData.relationshipType;
            // dialogs.alert(relationshipItem.relationshipTypeId + ": " + relationshipItem.relationshipType);
        });

        var familiarityListPicker = page.getViewById("familiarityListPicker");
        
        familiarityListPicker.on("selectedIndexChange", function(args) {
            var familiarityLabel = page.getViewById("familiarityLabel");
            var familiarityItem = pageData.familiarityList.List.getItem(args.object.selectedIndex);
            
            pageData.boundData.familiarityLevelId = familiarityItem.familiarityLevelId;
            pageData.boundData.familiarityLevel = familiarityItem.familiarityLevel;

            familiarityLabel.text = pageData.boundData.familiarityLevel;
            // dialogs.alert(familiarityItem.familiarityLevelId + ": " + familiarityItem.familiarityLevel);
        });
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        dismissKeyboard();

        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onGridLayoutTap(args) {
    try {
        dismissKeyboard();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onSelectionTap(args) {
    try
    {
        dismissKeyboard();

        // Only navigate if this is a new relationship.
        if (pageData.boundData.personId === null || pageData.boundData.personId === 0) {
            const navigationEntry = {
                moduleName: "profiles/profilesearch/profilesearch-page",
                context: pageData.boundData,
                clearHistory: false
            };

            frameModule.topmost().navigate(navigationEntry); 
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onEmailTap(args) {
    dismissKeyboard();

    var emailButton = args.object;
    var emailAddress = emailButton.text;

    email.compose({
        to: [emailAddress]
    })
}

function onPhoneTap(args) {
    dismissKeyboard();

    var phoneButton = args.object;
    var phoneNumber = phoneButton.text;

    phone.dial(phoneNumber, false);
}

function onStackLayoutRelationshipTap(args) {
    try {
        dismissKeyboard();

        var relationshipListPickerGridLayout = page.getViewById("relationshipListPickerGridLayout");
        var familiarityListPickerGridLayout = page.getViewById("familiarityListPickerGridLayout");
        
        if (relationshipListPickerGridLayout.visibility === "collapse") {
            relationshipListPickerGridLayout.visibility = "visible";
            familiarityListPickerGridLayout.visibility = "collapse";

            page.addCss("#relationshipLabel {color: #cc2d30;}");
            page.addCss("#familiarityLabel {color: #666;}");
        } else {
            relationshipListPickerGridLayout.visibility = "collapse";

            page.addCss("#relationshipLabel {color: #666;}");
        }
    }
    catch(e)
    {
        diadialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutFamiliarityTap(args) {
    try {
        dismissKeyboard();

        var relationshipListPickerGridLayout = page.getViewById("relationshipListPickerGridLayout");
        var familiarityListPickerGridLayout = page.getViewById("familiarityListPickerGridLayout");
        
        if (familiarityListPickerGridLayout.visibility === "collapse") {
            relationshipListPickerGridLayout.visibility = "collapse";
            familiarityListPickerGridLayout.visibility = "visible";

            page.addCss("#relationshipLabel {color: #666;}");
            page.addCss("#familiarityLabel {color: #cc2d30;}");
        } else {
            familiarityListPickerGridLayout.visibility = "collapse";

            page.addCss("#familiarityLabel {color: #666;}");
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onTextViewFocus(args) {
    try {
        var relationshipListPickerGridLayout = page.getViewById("relationshipListPickerGridLayout");
        var familiarityListPickerGridLayout = page.getViewById("familiarityListPickerGridLayout");

        relationshipListPickerGridLayout.visibility = "collapse";
        familiarityListPickerGridLayout.visibility = "collapse";

        page.addCss("#relationshipLabel {color: #666;}");
        page.addCss("#familiarityLabel {color: #666;}");
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSaveTap(args) {
    dismissKeyboard();

    if (pageData.boundData.personId === null || pageData.boundData.personId === 0) {
        var label;

        if (navigationContext.relationalType === "legislator") {
            label = "relationship";
        } else {
            label = "attendee";
        }

        dialogs.alert({
            title: "Input Validation",
            message: "A person must be selected prior to saving this " + label + ".",
            okButtonText: "OK"
        });
    } else {
        var relationshipListPicker = page.getViewById("relationshipListPicker");

        pageData.boundData.relationshipTypeId = pageData.relationshipList.List.getItem(relationshipListPicker.selectedIndex).relationshipTypeId;
        pageData.boundData.relationshipType = pageData.relationshipList.List.getItem(relationshipListPicker.selectedIndex).relationshipType;

        var familiarityListPicker = page.getViewById("familiarityListPicker");

        pageData.boundData.familiarityLevelId = pageData.familiarityList.List.getItem(familiarityListPicker.selectedIndex).familiarityLevelId;
        pageData.boundData.familiarityLevel = pageData.familiarityList.List.getItem(familiarityListPicker.selectedIndex).familiarityLevel;
        
        var result;

        pageData.set("isLoading", true);

        http.request({
            url: global.apiBaseServiceUrl + "updateprofilerelationship",
            method: "POST",
            headers: { "Content-Type": "application/json", "Authorization": global.token },
            content: JSON.stringify(pageData.boundData)
        }).then(function (response) {
            // result = response.content.toJSON();
            // dialogs.alert(result);
            // dialogs.alert(pageData.boundData.responseId + ": " + pageData.boundData.response);

            pageData.boundData.result = "Update";

            pageData.set("isLoading", false);

            frameModule.topmost().goBack();
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    }
}

function dismissKeyboard() {
    if (platform.isAndroid) {
        var notes = page.getViewById("notes");

        notes.dismissSoftInput();
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onLoaded = onLoaded;
exports.onBackTap = onBackTap;
exports.onGridLayoutTap = onGridLayoutTap;
exports.onSelectionTap = onSelectionTap;
exports.onEmailTap = onEmailTap;
exports.onPhoneTap = onPhoneTap;
exports.onStackLayoutRelationshipTap = onStackLayoutRelationshipTap;
exports.onStackLayoutFamiliarityTap = onStackLayoutFamiliarityTap;
exports.onTextViewFocus = onTextViewFocus;
exports.onSaveTap = onSaveTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profile/profile-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./profiles/profile/profile-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profile/profile-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" loaded=\"onLoaded\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n        <ActionItem tap=\"onSaveTap\" ios.systemIcon=\"3\" android.systemIcon=\"ic_menu_save\" ios.position=\"right\" />\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"*\" height=\"100%\" width=\"100%\" tap=\"onGridLayoutTap\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\">\n            <StackLayout class=\"list-view-item-form\">\n                <GridLayout columns=\"*, auto\" rows=\"auto\" tap=\"onSelectionTap\" verticalAlignment=\"middle\">\n                    <StackLayout id=\"personDetails\" row=\"0\" col=\"0\" visibility=\"{{ boundData.personId === null || boundData.personId === 0 ? 'collapse' : 'visible' }}\">\n                        <Label id=\"fullNameLabel\" text=\"{{ boundData.fullName }}\" class=\"list-view-item-main-top\" />\n                        <Label id=\"companyLabel\" text=\"{{ boundData.company }}\" class=\"list-view-item-sub\" />\n                        <Label id=\"titleLabel\" text=\"{{ boundData.title }}\" class=\"list-view-item-sub\" />\n                        <Label id=\"emailAddressButton\" text=\"{{ boundData.emailAddress }}\" tap=\"onEmailTap\" horizontalAlignment=\"left\" class=\"list-view-item-sub-email\" \n                            visibility=\"{{ boundData.emailAddress !== null &amp;&amp; boundData.emailAddress.length > 0 ? 'visible' : 'collapse' }}\" />\n                        <Label id=\"workPhoneButton\" text=\"{{ boundData.workPhone }}\" tap=\"onPhoneTap\" horizontalAlignment=\"left\" class=\"list-view-item-sub-phone\" \n                            visibility=\"{{ boundData.workPhone !== null &amp;&amp; boundData.workPhone.length > 0 ? 'visible' : 'collapse' }}\"/>\n                    </StackLayout>\n                    <StackLayout id=\"selectPerson\" row=\"0\" col=\"0\" visibility=\"{{ boundData.personId !== null &amp;&amp; boundData.personId !== 0 ? 'collapse' : 'visible' }}\">\n                        <Label text=\"Select Person\" class=\"list-view-item-left\" style=\"color: #999; font-style: italic;\" />\n                    </StackLayout>\n                    <Label id=\"rightArrow\" row=\"0\" col=\"1\" text=\"&#xf105;\" class=\"fn-list-view-item\" visibility=\"{{ boundData.personId !== null &amp;&amp; boundData.personId !== 0 ? 'collapse' : 'visible' }}\" />\n                </GridLayout>\n            </StackLayout>\n            <StackLayout tap=\"onStackLayoutRelationshipTap\" visibility=\"{{ boundData.relationalType === 'legislator' ? 'visible' : 'collapse' }}\">\n                <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                    <Label row=\"0\" col=\"0\" text=\"Relationship\" class=\"list-view-item-left\" />\n                    <Label id=\"relationshipLabel\" row=\"0\" col=\"1\" text=\"{{ boundData.relationshipType }}\" class=\"list-view-item-right\" />\n                </GridLayout>\n            </StackLayout>\n            <GridLayout id=\"relationshipListPickerGridLayout\" columns=\"*\" rows=\"auto\" class=\"list-view-item-form\" visibility=\"collapse\">\n                <ListPicker id=\"relationshipListPicker\" row=\"0\" col=\"0\" items=\"{{ relationshipList.Items }}\" selectedIndex=\"{{ relationshipIndex }}\" horizontalAlignment=\"center\" class=\"list-view-item-right\"></ListPicker>\n            </GridLayout>\n            <StackLayout tap=\"onStackLayoutFamiliarityTap\" visibility=\"{{ boundData.relationalType === 'legislator' ? 'visible' : 'collapse' }}\">\n                <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                    <Label row=\"0\" col=\"0\" text=\"Knows How Well?\" class=\"list-view-item-left\" />\n                    <Label id=\"familiarityLabel\" row=\"0\" col=\"1\" text=\"{{ boundData.familiarityLevel }}\" class=\"list-view-item-right\" />\n                </GridLayout>\n            </StackLayout>\n            <GridLayout id=\"familiarityListPickerGridLayout\" columns=\"*\" rows=\"auto\" class=\"list-view-item-form\" visibility=\"collapse\">\n                <ListPicker id=\"familiarityListPicker\" row=\"0\" col=\"0\" items=\"{{ familiarityList.Items }}\" selectedIndex=\"{{ familiarityIndex }}\" horizontalAlignment=\"center\" class=\"list-view-item-right\"></ListPicker>\n            </GridLayout>\n            <!-- <GridLayout columns=\"*\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Notes\" class=\"list-view-item-left\" />\n            </GridLayout> -->\n            <GridLayout columns=\"*\" rows=\"*\" class=\"list-view-item-form\">\n                <TextView id=\"notes\" row=\"0\" col=\"0\" text=\"{{ boundData.notes }}\" focus=\"onTextViewFocus\" hint=\"Notes\" class=\"list-view-item-textview\" />\n            </GridLayout>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"1\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profile/profile-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./profiles/profile/profile-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profile/relationshiptype-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js").Observable;
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function RelationshipTypeViewModel() {
    const viewModel = new ObservableModule();
    viewModel.Items = new ObservableArray();
    viewModel.List = new ObservableArray();

    viewModel.load = function() {
        return http.request({
            url: global.apiBaseServiceUrl + "relationshiptypes",
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(relationshipType) {
                viewModel.Items.push(
                    relationshipType.Type
                );

                viewModel.List.push({
                    relationshipTypeId: relationshipType.RelationshipTypeId,
                    relationshipType: relationshipType.Type
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.Items.length) {
            viewModel.Items.pop();
        }

        while (viewModel.List.length) {
            viewModel.List.pop();
        }
    };
    
    return viewModel;
}

module.exports = RelationshipTypeViewModel;; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profile/relationshiptype-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./profiles/profile/relationshiptype-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profiles-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ProfilesViewModel = __webpack_require__("./profiles/profiles-view-model.js");
const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var gestures = __webpack_require__("../node_modules/@nativescript/core/ui/gestures/index.js");
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

const MIN_X = -80;
const MAX_X = 0;
const THRESHOLD = 0.5;

var swipeOpen = false;
var swipedItem;

var isScrolling = false;
var isSwiping = false;

var page;
var model;
var navigationContext;

var profilesList = new ProfilesViewModel([]);

var pageData = new ObservableModule.fromObject({
    boundData: null,
    profilesList: profilesList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        
        if (args.isBackNavigation) {
            profilesList.empty();

            pageData.set("isLoading", true);
    
            profilesList.load(navigationContext.relationalType, navigationContext.relationalId).then(function () {
                pageData.set("isLoading", false);
    
                page.bindingContext = pageData;
            });
        } else {
            navigationContext = page.navigationContext;

            pageData.boundData = navigationContext;
            pageData.boundData.updated = false;
            
            var legislatorId = page.getViewById("legislatorId");
            var legislatorName = page.getViewById("legislatorName");
        
            legislatorId.text = navigationContext.relationalId;
            legislatorName.text = navigationContext.fullName;
        
            if (navigationContext.relationalType === "legislator") {
                page.actionBar.title = "Relationships";
            } else {
                page.actionBar.title = "APCIA Attendees";
            }
            
            profilesList.empty();
        
            pageData.set("isLoading", true);
        
            profilesList.load(navigationContext.relationalType, navigationContext.relationalId).then(function () {
                pageData.set("isLoading", false);
            });
        
            page.bindingContext = pageData;
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onItemLoading(args) {
    if (platform.isIOS) {
        var cell = args.ios;

        cell.selectionStyle = UITableViewCellSelectionStyle.UITableViewCellSelectionStyleNone;
    }
}

function onItemTap(args) {
    try {
        if (platform.isIOS) {
            if (swipeOpen) {
                swipedItem.animate({
                    translate: { x: 0, y: 0 },
                    duration: 200
                });

                swipeOpen = false;
            } else {
                var view = args.view;

                model = view.bindingContext;

                const navigationEntry = {
                    moduleName: "profiles/profile/profile-page",
                    context: { 
                        relationalType: navigationContext.relationalType,
                        relationalId: navigationContext.relationalId,
                        boundData: model
                    },
                    clearHistory: false
                };

                frameModule.topmost().navigate(navigationEntry);
            }
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onAddTap(args) {
    try
    {
        pageData.boundData.updated = true;

        var model = {
            relationalType: navigationContext.relationalType,
            relationalId: navigationContext.relationalId,
            personId: 0,
            fullName: null,
            company: null,
            title: null,
            workPhone: null,
            emailAddress: null,
            relationshipTypeId: null,
            relationshipType: null,
            familiarityLevelId: null,
            familiarityLevel: null,
            notes: null,
            modifiedDate: new Date(),
            checked: false
        }

        const navigationEntry = {
            moduleName: "profiles/profile/profile-page",
            context: { 
                relationalType: navigationContext.relationalType,
                relationalId: navigationContext.relationalId,
                boundData: model
            },
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onDeleteClick(args) {
    var profileType;

    if (navigationContext.relationalType === "legislator") {
        profileType = "Relationship";
    } else {
        profileType = "Attendee";
    }
    
    if (platform.isAndroid) {
        dialogs.confirm({
            title: "Delete",
            message: profileType + " will be deleted. Delete?",
            okButtonText: "Yes",
            cancelButtonText: "No"
        }).then(function (result) {
            if (result) {
                var view = args.object;
                
                view.bindingContext.checked = false;

                http.request({
                    url: global.apiBaseServiceUrl + "insertdeleteprofilerelationship",
                    method: "POST",
                    headers: { "Content-Type": "application/json", "Authorization": global.token },
                    content: JSON.stringify(view.bindingContext)
                }).then(function (response) {
                    // result = response.content.toJSON();
                    // dialogs.alert(result);

                    pageData.boundData.updated = true;

                    profilesList.empty();
        
                    pageData.set("isLoading", true);
        
                    profilesList.load(navigationContext.relationalType, navigationContext.relationalId).then(function () {
                            pageData.set("isLoading", false);
        
                            page.bindingContext = pageData;
                    });
                    
                }, function (e) {
                    dialogs.alert({
                        title: "Error",
                        message: e.toString(),
                        okButtonText: "OK"
                    });
                });
            }
        });
    } else if (platform.isIOS) {
        dialogs.action({
            message: "Would you like to delete this " + profileType.toLowerCase() + "?",
            cancelButtonText: "Cancel",
            actions: ["Delete"]
        }).then(function (result) {
            if (result === "Delete") {
                var view = args.object;
                
                view.bindingContext.checked = false;

                http.request({
                    url: global.apiBaseServiceUrl + "insertdeleteprofilerelationship",
                    method: "POST",
                    headers: { "Content-Type": "application/json", "Authorization": global.token },
                    content: JSON.stringify(view.bindingContext)
                }).then(function (response) {
                    // result = response.content.toJSON();
                    // dialogs.alert(result);

                    pageData.boundData.updated = true;

                    profilesList.empty();
        
                    pageData.set("isLoading", true);
        
                    profilesList.load(navigationContext.relationalType, navigationContext.relationalId).then(function () {
                            pageData.set("isLoading", false);
        
                            page.bindingContext = pageData;
                    });
                    
                }, function (e) {
                    dialogs.alert({
                        title: "Error",
                        message: e.toString(),
                        okButtonText: "OK"
                    });
                });
            }
        });
    }

    if (swipeOpen) {
        swipedItem.animate({
            translate: { x: 0, y: 0 },
            duration: 200
        });

        swipeOpen = false;
    }
}

function onLayoutLoaded(args) {
    var layout = args.object;

    if (platform.isAndroid) {
        layout.on(gestures.GestureTypes.tap, function(args) {
            try {
                if (swipeOpen) {
                    swipedItem.animate({
                        translate: { x: 0, y: 0 },
                        duration: 200
                    });
    
                    swipeOpen = false;
                } else {
                    var view = args.view;
    
                    model = view.bindingContext;
    
                    const navigationEntry = {
                        moduleName: "profiles/profile/profile-page",
                        context: { 
                            relationalType: navigationContext.relationalType,
                            relationalId: navigationContext.relationalId,
                            boundData: model
                        },
                        clearHistory: false
                    };
    
                    frameModule.topmost().navigate(navigationEntry);
                }
            }
            catch(e)
            {
                dialogs.alert({
                    title: "Error",
                    message: e.toString(),
                    okButtonText: "OK"
                });
            }
        });
    }

    layout.on(gestures.GestureTypes.pan, function(args) {
        try {
            var layout = args.object;
            var view = args.view;

            if (swipeOpen && swipedItem !== undefined && swipedItem != layout) {
                swipedItem.animate({
                    translate: { x: 0, y: 0 },
                    duration: 50
                });
            }

            if (!isScrolling && !isSwiping) {
                if (Math.abs(args.deltaY) > Math.abs(args.deltaX)) {
                    isScrolling = true;
                    isSwiping = false;
                } else if (Math.abs(args.deltaX) > Math.abs(args.deltaY)) {
                    isScrolling = false;
                    isSwiping = true;
                }
            }

            if (isScrolling) {
                if (swipeOpen && swipedItem !== undefined) {
                    swipedItem.animate({
                        translate: { x: 0, y: 0 },
                        duration: 50
                    });
                }

                if (args.state === gestures.GestureStateTypes.ended) {
                    isScrolling = false;
                }
            } else if (isSwiping) {
                var profilesListView = page.getViewById("profilesListView");

                if (platform.isAndroid) {
                    profilesListView.nativeView.requestDisallowInterceptTouchEvent(true);
                } else if (platform.isIOS) {
                    profilesListView.ios.scrollEnabled = false;
                }

                swipeOpen = true;
                swipedItem = layout;

                var newX = layout.translateX + args.deltaX;

                if (newX >= MIN_X && newX <= MAX_X) {
                    layout.translateX = newX;
                }
                
                if (args.state === gestures.GestureStateTypes.ended && !(newX === MIN_X || newX === MAX_X)) {
                    // init our destination X coordinate to 0, in case neither THRESHOLD has been hit
                    let destX = 0;
                    
                    // if user hit or crossed the THESHOLD either way, let's finish in that direction
                    if (newX <= MIN_X * THRESHOLD) {
                        destX = MIN_X;
                    } else if (newX >= MAX_X * THRESHOLD) {
                        destX = MAX_X;
                    }
                    
                    layout.animate({
                        translate: { x: destX, y: 0 },
                        duration: 200
                    });

                    if (platform.isAndroid) {
                        profilesListView.nativeView.requestDisallowInterceptTouchEvent(false);
                    } else if (platform.isIOS) {
                        profilesListView.ios.scrollEnabled = true;
                    }

                    isSwiping = false;
                }
            }
        } catch(e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        }
    });
}

exports.onNavigatingTo = onNavigatingTo;
exports.onItemLoading = onItemLoading;
exports.onItemTap = onItemTap;
exports.onAddTap = onAddTap;
exports.onBackTap = onBackTap;
exports.onLayoutLoaded = onLayoutLoaded;
exports.onDeleteClick = onDeleteClick;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profiles-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./profiles/profiles-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profiles-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n        <ActionItem tap=\"onAddTap\" ios.systemIcon=\"4\" android.systemIcon=\"ic_menu_add\" ios.position=\"right\" />\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"center\" horizontalAlignment=\"center\" class=\"view-title\" visibility=\"{{ boundData.relationalType === 'legislator' ? 'visible' : 'collapse' }}\">\n            <Label id=\"legislatorId\" text=\"\" visibility=\"collapsed\" />\n            <Label id=\"legislatorName\" text=\"\" verticalAlignment=\"center\" horizontalAlignment=\"center\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\">\n            <ListView id=\"profilesListView\" items=\"{{ profilesList }}\" itemLoading=\"onItemLoading\" itemTap=\"onItemTap\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <AbsoluteLayout>\n                        <!-- BACKGROUND: Swipe Actions -->\n                        <GridLayout columns=\"*, 80\" android:rows=\"48\" ios:rows=\"55\" width=\"100%\">\n                            <Label col=\"0\" />\n                            <GridLayout col=\"1\" columns=\"*\" rows=\"*, auto, auto, *\" tap=\"onDeleteClick\" class=\"swipe-icons red\">\n                                <Label row=\"0\" col=\"0\" text=\"\" />\n                                <Label row=\"1\" col=\"0\" text=\"&#xf1f8;\" class=\"tab-icon\" />\n                                <Label row=\"2\" col=\"0\" text=\"Delete\" class=\"tab-label\" />\n                                <Label row=\"3\" col=\"0\" text=\"\" />\n                            </GridLayout>\n                        </GridLayout>\n                        <!-- FOREGROUND: List View Item Details -->\n                        <StackLayout loaded=\"onLayoutLoaded\" backgroundColor=\"white\" width=\"100%\">\n                            <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                                <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"middle\">\n                                    <Label text=\"{{ fullName }}\" class=\"list-view-item-main-top\" />\n                                    <Label text=\"{{ company }}\" textWrap=\"true\" class=\"list-view-item-sub\" />\n                                </StackLayout>\n                                <Label row=\"0\" col=\"1\" text=\"&#xf105;\" class=\"fn-list-view-item\" verticalAlignment=\"middle\" />\n                            </GridLayout>\n                        </StackLayout>\n                    </AbsoluteLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"2\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profiles-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./profiles/profiles-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profiles-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function ProfilesViewModel(items) {
    const viewModel = new ObservableArray(items);

    viewModel.load = function(relationalType, relationalId) {
        return http.request({
            url: global.apiBaseServiceUrl + "profilerelationships?relationalType=" + relationalType + "&relationalId=" + relationalId,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(profile) {
                viewModel.push({
                    relationalType: profile.RelationalType,
                    relationalId: profile.RelationalId,
                    personId: profile.PersonId,
                    fullName: profile.FullName,
                    company: profile.Company,
                    title: profile.Title,
                    workPhone: profile.WorkPhone,
                    emailAddress: profile.EmailAddress,
                    relationshipTypeId: profile.RelationshipTypeId,
                    relationshipType: profile.RelationshipType,
                    familiarityLevelId: profile.FamiliarityLevelId,
                    familiarityLevel: profile.FamiliarityLevel,
                    notes: profile.Notes,
                    modifiedDate: profile.ModifiedDate,
                    checked: profile.Checked,
                    total: profile.Total
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = ProfilesViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profiles-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./profiles/profiles-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profilesearch/old/profilesearch-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
const ProfileSearchViewModel = __webpack_require__("./profiles/profilesearch/old/profilesearch-view-model.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var page;
var navigationContext;

var searchBar;
var profileSearchPageSize = 25;
var profileSearchSearchText = "";
var profileSearchSearchSubmitted = false;

var profileSearchList = new ProfileSearchViewModel([]);

var switchTap = false;

var pageData = new ObservableModule.fromObject({
    profileSearchList: profileSearchList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        navigationContext = page.navigationContext;
        
        if (navigationContext.relationalType === "legislator") {
            page.actionBar.title = "Profile Search";
        } else {
            page.actionBar.title = "PCI Attendee Search";
        }

        // if (profileSearchSearchText !== "") {
        //     var searchBar = page.getViewById("searchBar");

        //     searchBar.text = profileSearchSearchText;
        // }
        
        // if (profileSearchList.length === 0) {
        profileSearchSearchText = "";
        
        profileSearchList.empty();

        pageData.set("isLoading", true);

        profileSearchList.load(navigationContext.relationalType, navigationContext.relationalId, profileSearchSearchText, 1, profileSearchPageSize).then(function () {
            pageData.set("isLoading", false);
        });
        // }

        page.bindingContext = pageData;
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSearchBarLoaded(args)
{
    searchBar = args.object;

    if (platform.isIOS) {
        // iOS Styling
        searchBar.ios.searchBarStyle = UISearchBarStyle.UISearchBarStyleMinimal;
        searchBar.ios.showsCancelButton = true;
    }
}

function onSubmit(args)
{
    searchBar = args.object;

    profileSearchSearchText = searchBar.text.trim();

    profileSearchList.empty();
    
    pageData.set("isLoading", true);

    profileSearchList.load(navigationContext.relationalType, navigationContext.relationalId, profileSearchSearchText, 1, profileSearchPageSize).then(function () {
        pageData.set("isLoading", false);

        profileSearchSearchSubmitted = true;
    
        searchBar.dismissSoftInput();
    });
}

function onClear(args)
{
    searchBar.text = "";
    profileSearchSearchText = "";

    if (profileSearchSearchSubmitted) {
        profileSearchList.empty();
        
        pageData.set("isLoading", true);

        profileSearchList.load(navigationContext.relationalType, navigationContext.relationalId, profileSearchSearchText, 1, profileSearchPageSize).then(function () {
            pageData.set("isLoading", false);

            profileSearchSearchSubmitted = false;
        
            searchBar.dismissSoftInput();
        });
    }
}

function onSwitchLoaded(args) {
    var checkedSwitch = args.object;

    checkedSwitch.on("tap", function(args) {
        // Necessary to prevent the checkedChange event from firing on the switch when user scrolls.
        switchTap = true;
    });

    checkedSwitch.on("checkedChange", function(args) {
        if (switchTap) {
            var stackLayout = args.object.parent;
            var indexLabel = stackLayout.getViewById("indexLabel");

            var model = profileSearchList.getItem(indexLabel.text);

            model.checked = args.value;
            
            http.request({
                url: global.apiBaseServiceUrl + "insertdeleteprofilerelationship",
                method: "POST",
                headers: { "Content-Type": "application/json", "Authorization": global.token },
                content: JSON.stringify(model)
            }).then(function (response) {
                switchTap = false;
            }, function (e) {
                dialogs.alert({
                    title: "Error",
                    message: e.toString(),
                    okButtonText: "OK"
                });
            });
        }
    });
}

function onLoadMoreItems(args) {
    var profileSearchListCount = profileSearchList.length;
    var profileSearchPageNumber = Math.ceil(profileSearchListCount / profileSearchPageSize) + 1;
    var profileSearchRemainder = profileSearchListCount % profileSearchPageSize;

    if (profileSearchRemainder !== 0 && profileSearchRemainder < profileSearchPageSize)
    {
        return;
    }

    pageData.set("isLoading", true);

    profileSearchList.load(navigationContext.relationalType, navigationContext.relationalId, profileSearchSearchText, profileSearchPageNumber, profileSearchPageSize).then(function (){
        pageData.set("isLoading", false);
    });
}

exports.onNavigatingTo = onNavigatingTo;
exports.onSearchBarLoaded = onSearchBarLoaded;
exports.onSubmit = onSubmit;
exports.onClear = onClear;
exports.onSwitchLoaded = onSwitchLoaded;
exports.onLoadMoreItems = onLoadMoreItems;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profilesearch/old/profilesearch-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./profiles/profilesearch/old/profilesearch-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profilesearch/old/profilesearch-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\" />\n\n    <GridLayout columns=\"*\" rows=\"auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"center\" horizontalAlignment=\"center\" direction=\"horizontal\">\n            <SearchBar row=\"0\" col=\"0\" id=\"searchBar\" hint=\"Search\" text=\"\" loaded=\"onSearchBarLoaded\" submit=\"onSubmit\" clear=\"onClear\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\">\n            <ListView items=\"{{ profileSearchList }}\" loadMoreItems=\"onLoadMoreItems\" itemTemplateSelector=\"$index\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"middle\">\n                            <Label text=\"{{ fullName }}\" class=\"list-view-item-main-top\" />\n                            <Label text=\"{{ company }}\" textWrap=\"true\" class=\"list-view-item-sub\" />\n                            <Label text=\"{{ title }}\" textWrap=\"true\" class=\"list-view-item-sub\" />\n                        </StackLayout>\n                        <StackLayout row=\"0\" col=\"1\" verticalAlignment=\"middle\">\n                            <Switch id=\"checkedSwitch\" row=\"0\" col=\"1\" checked=\"{{ checked }}\" \n                                loaded=\"onSwitchLoaded\" horizontalAlignment=\"right\" class=\"switch\" />\n                            <Label id=\"indexLabel\" text=\"{{ $index }}\" visibility=\"collapse\" />\n                        </StackLayout>\n                    </GridLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"2\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profilesearch/old/profilesearch-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./profiles/profilesearch/old/profilesearch-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profilesearch/old/profilesearch-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function ProfileSearchViewModel(items) {
    const viewModel = new ObservableArray(items);
    
    viewModel.load = function(relationalType, relationalId, filter, page, pageSize) {
        return http.request({
            url: global.apiBaseServiceUrl + "profilerelationshipfilter?relationalType=" + relationalType + "&relationalId=" + relationalId + "&filter=" + filter.replace(/ /g, "%20") + "&page=" + page + "&pageSize=" + pageSize,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(profile) {
                if (profile.PersonId !== null && profile.PersonId !== 0) {
                    var checked = false;

                    if (profile.Checked === "true") {
                        checked = true;
                    }

                    viewModel.push({
                        relationalType: profile.RelationalType,
                        relationalId: profile.RelationalId,
                        personId: profile.PersonId,
                        fullName: profile.FullName,
                        company: profile.Company,
                        title: profile.Title,
                        checked: checked,
                        total: profile.Total
                    });
                }
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = ProfileSearchViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profilesearch/old/profilesearch-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./profiles/profilesearch/old/profilesearch-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profilesearch/profilesearch-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ProfileSearchViewModel = __webpack_require__("./profiles/profilesearch/profilesearch-view-model.js");
const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var page;
var navigationContext;

var searchBar;
var profileSearchPageSize = 25;
var profileSearchSearchText = "";
var profileSearchSearchSubmitted = false;

var previousSelected = null;

var profileSearchList = new ProfileSearchViewModel([]);

var pageData = new ObservableModule.fromObject({
    boundData: null,
    profileSearchList: profileSearchList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        navigationContext = page.navigationContext;
        
        if (navigationContext.relationalType === "legislator") {
            page.actionBar.title = "Profile Search";
        } else {
            page.actionBar.title = "PCI Attendee Search";
        }

        pageData.boundData = navigationContext;

        // if (profileSearchSearchText !== "") {
        //     var searchBar = page.getViewById("searchBar");

        //     searchBar.text = profileSearchSearchText;
        // }
        
        // if (profileSearchList.length === 0) {
        profileSearchSearchText = "";
        
        profileSearchList.empty();

        pageData.set("isLoading", true);

        profileSearchList.load(navigationContext.relationalType, navigationContext.relationalId, profileSearchSearchText, 1, profileSearchPageSize).then(function () {
            pageData.set("isLoading", false);

            page.bindingContext = pageData;
        });
        // }

    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSearchBarLoaded(args)
{
    searchBar = args.object;

    if (platform.isAndroid) {
        searchBar.android.clearFocus();
    } else if (platform.isIOS) {
        // iOS Styling
        searchBar.ios.searchBarStyle = UISearchBarStyle.UISearchBarStyleMinimal;
        searchBar.ios.showsCancelButton = true;
    }
}

function onSubmit(args)
{
    searchBar = args.object;

    profileSearchSearchText = searchBar.text.trim();

    profileSearchList.empty();
    
    pageData.set("isLoading", true);

    profileSearchList.load(navigationContext.relationalType, navigationContext.relationalId, profileSearchSearchText, 1, profileSearchPageSize).then(function () {
        pageData.set("isLoading", false);

        profileSearchSearchSubmitted = true;
    
        searchBar.dismissSoftInput();
    });
}

function onClear(args)
{
    searchBar.text = "";
    profileSearchSearchText = "";

    if (profileSearchSearchSubmitted) {
        profileSearchList.empty();
        
        pageData.set("isLoading", true);

        profileSearchList.load(navigationContext.relationalType, navigationContext.relationalId, profileSearchSearchText, 1, profileSearchPageSize).then(function () {
            pageData.set("isLoading", false);

            profileSearchSearchSubmitted = false;
        
            searchBar.dismissSoftInput();
        });
    }
}

function onLoadMoreItems(args) {
    try {
        var profileSearchListCount = profileSearchList.length;
        var profileSearchPageNumber = Math.ceil(profileSearchListCount / profileSearchPageSize) + 1;
        var profileSearchRemainder = profileSearchListCount % profileSearchPageSize;

        if (profileSearchRemainder !== 0 && profileSearchRemainder < profileSearchPageSize)
        {
            return;
        }

        pageData.set("isLoading", true);

        profileSearchList.load(navigationContext.relationalType, navigationContext.relationalId, profileSearchSearchText, profileSearchPageNumber, profileSearchPageSize).then(function (){
            pageData.set("isLoading", false);
        });
    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onItemTap(args) {
    try {
        var selected = pageData.profileSearchList.getItem(args.index); //.set("checked", true);

        selected.checked = !selected.checked;

        if (previousSelected !== null & previousSelected !== selected) {
            previousSelected.checked = false;
        }
        
        page.getViewById("profileSearch").refresh();

        if (selected.checked) {
            previousSelected = selected;

            pageData.boundData.personId = selected.personId;
            pageData.boundData.fullName = selected.fullName;
            pageData.boundData.company = selected.company;
            pageData.boundData.title = selected.title;
            pageData.boundData.emailAddress = selected.emailAddress;
            pageData.boundData.workPhone = selected.workPhone;
        } else {
            previousSelected = null;

            pageData.boundData.personId = null;
            pageData.boundData.fullName = null;
            pageData.boundData.company = null;
            pageData.boundData.title = null;
            pageData.boundData.emailAddress = null;
            pageData.boundData.workPhone = null;
        }
    } catch(e) {
        dialogs.alert(e);
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onSearchBarLoaded = onSearchBarLoaded;
exports.onSubmit = onSubmit;
exports.onClear = onClear;
exports.onLoadMoreItems = onLoadMoreItems;
exports.onBackTap = onBackTap;
exports.onItemTap = onItemTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profilesearch/profilesearch-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./profiles/profilesearch/profilesearch-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profilesearch/profilesearch-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\" direction=\"horizontal\">\n            <SearchBar row=\"0\" col=\"0\" id=\"searchBar\" hint=\"Search\" text=\"\" loaded=\"onSearchBarLoaded\" submit=\"onSubmit\" clear=\"onClear\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\">\n            <ListView id=\"profileSearch\" items=\"{{ profileSearchList }}\" itemTap=\"onItemTap\" loadMoreItems=\"onLoadMoreItems\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <StackLayout>\n                        <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                            <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"middle\">\n                                <Label text=\"{{ fullName }}\" class=\"list-view-item-main-top\" />\n                                <Label text=\"{{ company }}\" textWrap=\"true\" class=\"list-view-item-sub\" />\n                                <Label text=\"{{ title }}\" textWrap=\"true\" class=\"list-view-item-sub\" />\n                            </StackLayout>\n                            <StackLayout row=\"0\" col=\"1\" verticalAlignment=\"middle\">\n                                <Label row=\"0\" col=\"1\" text=\"&#xf00c;\" class=\"fn-list-view-item-small\" visibility=\"{{ checked ? 'visible' : 'collapse' }}\" />\n                            </StackLayout>\n                        </GridLayout>\n                    </StackLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"2\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profilesearch/profilesearch-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./profiles/profilesearch/profilesearch-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profilesearch/profilesearch-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function ProfileSearchViewModel(items) {
    const viewModel = new ObservableArray(items);
    
    viewModel.load = function(relationalType, relationalId, filter, page, pageSize) {
        return http.request({
            url: global.apiBaseServiceUrl + "profilerelationshipfilter?relationalType=" + relationalType + "&relationalId=" + relationalId + "&filter=" + filter.replace(/ /g, "%20") + "&page=" + page + "&pageSize=" + pageSize,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(profile) {
                if (profile.PersonId !== null && profile.PersonId !== 0) {
                    var checked = false;

                    if (profile.Checked === "true") {
                        checked = true;
                    }

                    if (!checked) {
                        viewModel.push({
                            relationalType: profile.RelationalType,
                            relationalId: profile.RelationalId,
                            personId: profile.PersonId,
                            fullName: profile.FullName,
                            company: profile.Company,
                            title: profile.Title,
                            emailAddress: profile.EmailAddress,
                            workPhone: profile.WorkPhone,
                            checked: checked,
                            total: profile.Total
                        });
                    }
                }
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = ProfileSearchViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profilesearch/profilesearch-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./profiles/profilesearch/profilesearch-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./vendor-platform.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {// There is a bug in angular: https://github.com/angular/angular-cli/pull/8589/files
// Legendary stuff, its webpack plugin pretty much doesn't work with empty TypeScript files in v1.8.3
void 0;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./vendor-platform.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./vendor-platform.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./vendor.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {// Snapshot the ~/app.css and the theme
const application = __webpack_require__("../node_modules/@nativescript/core/application/index.js");
__webpack_require__("../node_modules/@nativescript/core/ui/styling/style-scope.js");
const appCssContext = __webpack_require__("./ sync ^\\.\\/app\\.(css|scss|less|sass)$");
global.registerWebpackModules(appCssContext);
application.loadAppCss();

__webpack_require__("./vendor-platform.js");

__webpack_require__("../node_modules/@nativescript/core/bundle-entry-points.js");
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./vendor.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./vendor.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "~/package.json":
/***/ (function(module, exports) {

module.exports = require("~/package.json");

/***/ })

},[["./app.js","runtime","vendor"]]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLiBzeW5jIG5vbnJlY3Vyc2l2ZSBeXFwuXFwvYXBwXFwuKGNzc3xzY3NzfGxlc3N8c2FzcykkIiwid2VicGFjazovLy9cXGJfW1xcdy1dKlxcLilzY3NzKSQiLCJ3ZWJwYWNrOi8vLy4gc3luYyAocGFnZXxmcmFnbWVudClcXC4oeG1sfGNzc3xqc3x0c3xzY3NzKSQiLCJ3ZWJwYWNrOi8vLy4vYXBwLXJvb3QueG1sIiwid2VicGFjazovLy8uL2FwcC5jc3MiLCJ3ZWJwYWNrOi8vLy4vYXBwLmpzIiwid2VicGFjazovLy8uL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnQvYXNzaWdubWVudC1wYWdlLmpzIiwid2VicGFjazovLy8uL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnQvYXNzaWdubWVudC1wYWdlLnhtbCIsIndlYnBhY2s6Ly8vLi9hc3NpZ25tZW50cy9hc3NpZ25tZW50cy1wYWdlLmpzIiwid2VicGFjazovLy8uL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnRzLXBhZ2UueG1sIiwid2VicGFjazovLy8uL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnRzLXZpZXctbW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vYnVuZGxlLWNvbmZpZy5qcyIsIndlYnBhY2s6Ly8vLi9jb21taXR0ZWVzL2NvbW1pdHRlZS9jb21taXR0ZWUtcGFnZS5qcyIsIndlYnBhY2s6Ly8vLi9jb21taXR0ZWVzL2NvbW1pdHRlZS9jb21taXR0ZWUtcGFnZS54bWwiLCJ3ZWJwYWNrOi8vLy4vY29tbWl0dGVlcy9jb21taXR0ZWUvY29tbWl0dGVlLXZpZXctbW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vY29tbWl0dGVlcy9jb21taXR0ZWVzLXBhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vY29tbWl0dGVlcy9jb21taXR0ZWVzLXBhZ2UueG1sIiwid2VicGFjazovLy8uL2NvbW1pdHRlZXMvY29tbWl0dGVlcy12aWV3LW1vZGVsLmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvdGFiLW5hdmlnYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vaG9tZS9ob21lLXBhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vaG9tZS9ob21lLXBhZ2UueG1sIiwid2VicGFjazovLy8uL2hvbWUvaG9tZS12aWV3LW1vZGVsLmpzIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvYmlvL2Jpby1wYWdlLmpzIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvYmlvL2Jpby1wYWdlLnhtbCIsIndlYnBhY2s6Ly8vLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2NvbW1pdHRlZXMvY29tbWl0dGVlcy1wYWdlLmpzIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvY29tbWl0dGVlcy9jb21taXR0ZWVzLXBhZ2UueG1sIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvY29tbWl0dGVlcy9jb21taXR0ZWVzLXZpZXctbW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9pbml0aWF0aXZldGllcnMvaW5pdGlhdGl2ZXRpZXJzLXBhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9pbml0aWF0aXZldGllcnMvaW5pdGlhdGl2ZXRpZXJzLXBhZ2UueG1sIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvaW5pdGlhdGl2ZXRpZXJzL2luaXRpYXRpdmV0aWVycy12aWV3LW1vZGVsLmpzIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvbGVnaXNsYXRvci1wYWdlLmpzIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvbGVnaXNsYXRvci1wYWdlLnhtbCIsIndlYnBhY2s6Ly8vLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2xlZ2lzbGF0b3Itdmlldy1tb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc2VsZWN0L3NlbGVjdC1wYWdlLmpzIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zZWxlY3Qvc2VsZWN0LXBhZ2UueG1sIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zZWxlY3Qvc2VsZWN0LXZpZXctbW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9xdWVzdGlvbi9xdWVzdGlvbi1wYWdlLmpzIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXkvcXVlc3Rpb24vcXVlc3Rpb24tcGFnZS54bWwiLCJ3ZWJwYWNrOi8vLy4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9xdWVzdGlvbi9yZXNwb25zZS12aWV3LW1vZGVsLmpzIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXkvc3VydmV5LXBhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9zdXJ2ZXktcGFnZS54bWwiLCJ3ZWJwYWNrOi8vLy4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9zdXJ2ZXktdmlldy1tb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5cy1wYWdlLmpzIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXlzLXBhZ2UueG1sIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXlzLXZpZXctbW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvcnMtcGFnZS5qcyIsIndlYnBhY2s6Ly8vLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9ycy1wYWdlLnhtbCIsIndlYnBhY2s6Ly8vLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9ycy12aWV3LW1vZGVsLmpzIiwid2VicGFjazovLy8uL2xvZ2luL2xvZ2luLXBhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbG9naW4vbG9naW4tcGFnZS54bWwiLCJ3ZWJwYWNrOi8vLy4vbG9naW4vbG9naW4tdmlldy1tb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9tYWluLXBhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbWFpbi1wYWdlLnhtbCIsIndlYnBhY2s6Ly8vLi9tZWV0aW5ncy9tZWV0aW5nL2F0dGVuZGVldHlwZS9hdHRlbmRlZXR5cGUtcGFnZS5qcyIsIndlYnBhY2s6Ly8vLi9tZWV0aW5ncy9tZWV0aW5nL2F0dGVuZGVldHlwZS9hdHRlbmRlZXR5cGUtcGFnZS54bWwiLCJ3ZWJwYWNrOi8vLy4vbWVldGluZ3MvbWVldGluZy9hdHRlbmRlZXR5cGUvYXR0ZW5kZWV0eXBlLXZpZXctbW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbWVldGluZ3MvbWVldGluZy9mb2xsb3d1cC9mb2xsb3d1cC1wYWdlLmpzIiwid2VicGFjazovLy8uL21lZXRpbmdzL21lZXRpbmcvZm9sbG93dXAvZm9sbG93dXAtcGFnZS54bWwiLCJ3ZWJwYWNrOi8vLy4vbWVldGluZ3MvbWVldGluZy9pbml0aWF0aXZlcy9pbml0aWF0aXZlcy1wYWdlLmpzIiwid2VicGFjazovLy8uL21lZXRpbmdzL21lZXRpbmcvaW5pdGlhdGl2ZXMvaW5pdGlhdGl2ZXMtcGFnZS54bWwiLCJ3ZWJwYWNrOi8vLy4vbWVldGluZ3MvbWVldGluZy9pbml0aWF0aXZlcy9pbml0aWF0aXZlcy12aWV3LW1vZGVsLmpzIiwid2VicGFjazovLy8uL21lZXRpbmdzL21lZXRpbmcvbWVldGluZy1wYWdlLmpzIiwid2VicGFjazovLy8uL21lZXRpbmdzL21lZXRpbmcvbWVldGluZy1wYWdlLnhtbCIsIndlYnBhY2s6Ly8vLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmctdmlldy1tb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmdsb2NhdGlvbi9tZWV0aW5nbG9jYXRpb24tcGFnZS5qcyIsIndlYnBhY2s6Ly8vLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmdsb2NhdGlvbi9tZWV0aW5nbG9jYXRpb24tcGFnZS54bWwiLCJ3ZWJwYWNrOi8vLy4vbWVldGluZ3MvbWVldGluZy9tZWV0aW5nbG9jYXRpb24vbWVldGluZ2xvY2F0aW9uLXZpZXctbW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbWVldGluZ3MvbWVldGluZy9ub3Rlcy9ub3Rlcy1wYWdlLmpzIiwid2VicGFjazovLy8uL21lZXRpbmdzL21lZXRpbmcvbm90ZXMvbm90ZXMtcGFnZS54bWwiLCJ3ZWJwYWNrOi8vLy4vbWVldGluZ3MvbWVldGluZy9vZmZlcmVkdG9tZW1iZXJzL29mZmVyZWR0b21lbWJlcnMtcGFnZS5qcyIsIndlYnBhY2s6Ly8vLi9tZWV0aW5ncy9tZWV0aW5nL29mZmVyZWR0b21lbWJlcnMvb2ZmZXJlZHRvbWVtYmVycy1wYWdlLnhtbCIsIndlYnBhY2s6Ly8vLi9tZWV0aW5ncy9tZWV0aW5nL3N0YWZmYXR0ZW5kZWVzL3N0YWZmYXR0ZW5kZWVzLXBhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbWVldGluZ3MvbWVldGluZy9zdGFmZmF0dGVuZGVlcy9zdGFmZmF0dGVuZGVlcy1wYWdlLnhtbCIsIndlYnBhY2s6Ly8vLi9tZWV0aW5ncy9tZWV0aW5nL3ZlbnVldHlwZS92ZW51ZXR5cGUtcGFnZS5qcyIsIndlYnBhY2s6Ly8vLi9tZWV0aW5ncy9tZWV0aW5nL3ZlbnVldHlwZS92ZW51ZXR5cGUtcGFnZS54bWwiLCJ3ZWJwYWNrOi8vLy4vbWVldGluZ3MvbWVldGluZy92ZW51ZXR5cGUvdmVudWV0eXBlLXZpZXctbW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbWVldGluZ3MvbWVldGluZ3MtcGFnZS5qcyIsIndlYnBhY2s6Ly8vLi9tZWV0aW5ncy9tZWV0aW5ncy1wYWdlLnhtbCIsIndlYnBhY2s6Ly8vLi9tZWV0aW5ncy9tZWV0aW5ncy12aWV3LW1vZGVsLmpzIiwid2VicGFjazovLy8uL3Byb2ZpbGVzL3Byb2ZpbGUvZmFtaWxpYXJpdHlsZXZlbC12aWV3LW1vZGVsLmpzIiwid2VicGFjazovLy8uL3Byb2ZpbGVzL3Byb2ZpbGUvcHJvZmlsZS1wYWdlLmpzIiwid2VicGFjazovLy8uL3Byb2ZpbGVzL3Byb2ZpbGUvcHJvZmlsZS1wYWdlLnhtbCIsIndlYnBhY2s6Ly8vLi9wcm9maWxlcy9wcm9maWxlL3JlbGF0aW9uc2hpcHR5cGUtdmlldy1tb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9wcm9maWxlcy9wcm9maWxlcy1wYWdlLmpzIiwid2VicGFjazovLy8uL3Byb2ZpbGVzL3Byb2ZpbGVzLXBhZ2UueG1sIiwid2VicGFjazovLy8uL3Byb2ZpbGVzL3Byb2ZpbGVzLXZpZXctbW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vcHJvZmlsZXMvcHJvZmlsZXNlYXJjaC9vbGQvcHJvZmlsZXNlYXJjaC1wYWdlLmpzIiwid2VicGFjazovLy8uL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvb2xkL3Byb2ZpbGVzZWFyY2gtcGFnZS54bWwiLCJ3ZWJwYWNrOi8vLy4vcHJvZmlsZXMvcHJvZmlsZXNlYXJjaC9vbGQvcHJvZmlsZXNlYXJjaC12aWV3LW1vZGVsLmpzIiwid2VicGFjazovLy8uL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvcHJvZmlsZXNlYXJjaC1wYWdlLmpzIiwid2VicGFjazovLy8uL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvcHJvZmlsZXNlYXJjaC1wYWdlLnhtbCIsIndlYnBhY2s6Ly8vLi9wcm9maWxlcy9wcm9maWxlc2VhcmNoL3Byb2ZpbGVzZWFyY2gtdmlldy1tb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi92ZW5kb3ItcGxhdGZvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vdmVuZG9yLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcIn4vcGFja2FnZS5qc29uXCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUU7Ozs7Ozs7QUN0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0o7Ozs7Ozs7QUNoSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYTtBQUM3QztBQUNBLGlCQUFpQjs7QUFFakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNB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O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUEsU0FBUztBQUNUOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsNENBQTRDLGdCQUFnQjtBQUM1RCxTQUFTO0FBQ1Q7O0FBRUEsNENBQTRDLGFBQWE7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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LHdEQUFZOztBQUVsQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxDO0FBQ0EsSUFBSSxLQUFVOztBQUVkO0FBQ0E7QUFDQSwyQkFBMkIsK0VBQStFO0FBQzFHLEtBQUs7QUFDTCxDOzs7Ozs7OztBQ25FQTtBQUNBO0FBQ0E7QUFDQSxDO0FBQ0EsSUFBSSxLQUFVOztBQUVkO0FBQ0E7QUFDQSwyQkFBMkIsK0NBQStDO0FBQzFFLEtBQUs7QUFDTCxDOzs7Ozs7OztBQ1ZBO0FBQ0Esb0JBQW9CLG1CQUFPLENBQUMseURBQWE7QUFDekMsbUJBQU8sQ0FBQyw4REFBd0I7QUFDaEMsc0JBQXNCLGlFQUErRDtBQUNyRjtBQUNBOztBQUVBLG1CQUFPLENBQUMsc0JBQW1COztBQUUzQixtQkFBTyxDQUFDLDJEQUFxQjtBQUM3QixDO0FBQ0EsSUFBSSxLQUFVOztBQUVkO0FBQ0E7QUFDQSwyQkFBMkIsc0NBQXNDO0FBQ2pFLEtBQUs7QUFDTCxDOzs7Ozs7OztBQ2pCQSwyQyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbWFwID0ge1xuXHRcIi4vYXBwLmNzc1wiOiBcIi4vYXBwLmNzc1wiXG59O1xuXG5cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHR2YXIgaWQgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKTtcblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oaWQpO1xufVxuZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1hcCwgcmVxKSkge1xuXHRcdHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJ1wiKTtcblx0XHRlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7XG5cdFx0dGhyb3cgZTtcblx0fVxuXHRyZXR1cm4gbWFwW3JlcV07XG59XG53ZWJwYWNrQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0NvbnRleHRLZXlzKCkge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcbn07XG53ZWJwYWNrQ29udGV4dC5yZXNvbHZlID0gd2VicGFja0NvbnRleHRSZXNvbHZlO1xubW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrQ29udGV4dDtcbndlYnBhY2tDb250ZXh0LmlkID0gXCIuLyBzeW5jIF5cXFxcLlxcXFwvYXBwXFxcXC4oY3NzfHNjc3N8bGVzc3xzYXNzKSRcIjsiLCJ2YXIgbWFwID0ge1xuXHRcIi4vYXBwLXJvb3QueG1sXCI6IFwiLi9hcHAtcm9vdC54bWxcIixcblx0XCIuL2FwcC5jc3NcIjogXCIuL2FwcC5jc3NcIixcblx0XCIuL2FwcC5qc1wiOiBcIi4vYXBwLmpzXCIsXG5cdFwiLi9hc3NpZ25tZW50cy9hc3NpZ25tZW50L2Fzc2lnbm1lbnQtcGFnZS5qc1wiOiBcIi4vYXNzaWdubWVudHMvYXNzaWdubWVudC9hc3NpZ25tZW50LXBhZ2UuanNcIixcblx0XCIuL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnQvYXNzaWdubWVudC1wYWdlLnhtbFwiOiBcIi4vYXNzaWdubWVudHMvYXNzaWdubWVudC9hc3NpZ25tZW50LXBhZ2UueG1sXCIsXG5cdFwiLi9hc3NpZ25tZW50cy9hc3NpZ25tZW50cy1wYWdlLmpzXCI6IFwiLi9hc3NpZ25tZW50cy9hc3NpZ25tZW50cy1wYWdlLmpzXCIsXG5cdFwiLi9hc3NpZ25tZW50cy9hc3NpZ25tZW50cy1wYWdlLnhtbFwiOiBcIi4vYXNzaWdubWVudHMvYXNzaWdubWVudHMtcGFnZS54bWxcIixcblx0XCIuL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnRzLXZpZXctbW9kZWwuanNcIjogXCIuL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnRzLXZpZXctbW9kZWwuanNcIixcblx0XCIuL2J1bmRsZS1jb25maWcuanNcIjogXCIuL2J1bmRsZS1jb25maWcuanNcIixcblx0XCIuL2NvbW1pdHRlZXMvY29tbWl0dGVlL2NvbW1pdHRlZS1wYWdlLmpzXCI6IFwiLi9jb21taXR0ZWVzL2NvbW1pdHRlZS9jb21taXR0ZWUtcGFnZS5qc1wiLFxuXHRcIi4vY29tbWl0dGVlcy9jb21taXR0ZWUvY29tbWl0dGVlLXBhZ2UueG1sXCI6IFwiLi9jb21taXR0ZWVzL2NvbW1pdHRlZS9jb21taXR0ZWUtcGFnZS54bWxcIixcblx0XCIuL2NvbW1pdHRlZXMvY29tbWl0dGVlL2NvbW1pdHRlZS12aWV3LW1vZGVsLmpzXCI6IFwiLi9jb21taXR0ZWVzL2NvbW1pdHRlZS9jb21taXR0ZWUtdmlldy1tb2RlbC5qc1wiLFxuXHRcIi4vY29tbWl0dGVlcy9jb21taXR0ZWVzLXBhZ2UuanNcIjogXCIuL2NvbW1pdHRlZXMvY29tbWl0dGVlcy1wYWdlLmpzXCIsXG5cdFwiLi9jb21taXR0ZWVzL2NvbW1pdHRlZXMtcGFnZS54bWxcIjogXCIuL2NvbW1pdHRlZXMvY29tbWl0dGVlcy1wYWdlLnhtbFwiLFxuXHRcIi4vY29tbWl0dGVlcy9jb21taXR0ZWVzLXZpZXctbW9kZWwuanNcIjogXCIuL2NvbW1pdHRlZXMvY29tbWl0dGVlcy12aWV3LW1vZGVsLmpzXCIsXG5cdFwiLi9jb21wb25lbnRzL3RhYi1uYXZpZ2F0aW9uLmpzXCI6IFwiLi9jb21wb25lbnRzL3RhYi1uYXZpZ2F0aW9uLmpzXCIsXG5cdFwiLi9ob21lL2hvbWUtcGFnZS5qc1wiOiBcIi4vaG9tZS9ob21lLXBhZ2UuanNcIixcblx0XCIuL2hvbWUvaG9tZS1wYWdlLnhtbFwiOiBcIi4vaG9tZS9ob21lLXBhZ2UueG1sXCIsXG5cdFwiLi9ob21lL2hvbWUtdmlldy1tb2RlbC5qc1wiOiBcIi4vaG9tZS9ob21lLXZpZXctbW9kZWwuanNcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvYmlvL2Jpby1wYWdlLmpzXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2Jpby9iaW8tcGFnZS5qc1wiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9iaW8vYmlvLXBhZ2UueG1sXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2Jpby9iaW8tcGFnZS54bWxcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvY29tbWl0dGVlcy9jb21taXR0ZWVzLXBhZ2UuanNcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvY29tbWl0dGVlcy9jb21taXR0ZWVzLXBhZ2UuanNcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvY29tbWl0dGVlcy9jb21taXR0ZWVzLXBhZ2UueG1sXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2NvbW1pdHRlZXMvY29tbWl0dGVlcy1wYWdlLnhtbFwiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9jb21taXR0ZWVzL2NvbW1pdHRlZXMtdmlldy1tb2RlbC5qc1wiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9jb21taXR0ZWVzL2NvbW1pdHRlZXMtdmlldy1tb2RlbC5qc1wiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9pbml0aWF0aXZldGllcnMvaW5pdGlhdGl2ZXRpZXJzLXBhZ2UuanNcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvaW5pdGlhdGl2ZXRpZXJzL2luaXRpYXRpdmV0aWVycy1wYWdlLmpzXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2luaXRpYXRpdmV0aWVycy9pbml0aWF0aXZldGllcnMtcGFnZS54bWxcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvaW5pdGlhdGl2ZXRpZXJzL2luaXRpYXRpdmV0aWVycy1wYWdlLnhtbFwiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9pbml0aWF0aXZldGllcnMvaW5pdGlhdGl2ZXRpZXJzLXZpZXctbW9kZWwuanNcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvaW5pdGlhdGl2ZXRpZXJzL2luaXRpYXRpdmV0aWVycy12aWV3LW1vZGVsLmpzXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2xlZ2lzbGF0b3ItcGFnZS5qc1wiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9sZWdpc2xhdG9yLXBhZ2UuanNcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvbGVnaXNsYXRvci1wYWdlLnhtbFwiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9sZWdpc2xhdG9yLXBhZ2UueG1sXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2xlZ2lzbGF0b3Itdmlldy1tb2RlbC5qc1wiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9sZWdpc2xhdG9yLXZpZXctbW9kZWwuanNcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zZWxlY3Qvc2VsZWN0LXBhZ2UuanNcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zZWxlY3Qvc2VsZWN0LXBhZ2UuanNcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zZWxlY3Qvc2VsZWN0LXBhZ2UueG1sXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc2VsZWN0L3NlbGVjdC1wYWdlLnhtbFwiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3NlbGVjdC9zZWxlY3Qtdmlldy1tb2RlbC5qc1wiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3NlbGVjdC9zZWxlY3Qtdmlldy1tb2RlbC5qc1wiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9xdWVzdGlvbi9xdWVzdGlvbi1wYWdlLmpzXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5L3F1ZXN0aW9uL3F1ZXN0aW9uLXBhZ2UuanNcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXkvcXVlc3Rpb24vcXVlc3Rpb24tcGFnZS54bWxcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXkvcXVlc3Rpb24vcXVlc3Rpb24tcGFnZS54bWxcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXkvcXVlc3Rpb24vcmVzcG9uc2Utdmlldy1tb2RlbC5qc1wiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9xdWVzdGlvbi9yZXNwb25zZS12aWV3LW1vZGVsLmpzXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5L3N1cnZleS1wYWdlLmpzXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5L3N1cnZleS1wYWdlLmpzXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5L3N1cnZleS1wYWdlLnhtbFwiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9zdXJ2ZXktcGFnZS54bWxcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXkvc3VydmV5LXZpZXctbW9kZWwuanNcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXkvc3VydmV5LXZpZXctbW9kZWwuanNcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXlzLXBhZ2UuanNcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXlzLXBhZ2UuanNcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXlzLXBhZ2UueG1sXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5cy1wYWdlLnhtbFwiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleXMtdmlldy1tb2RlbC5qc1wiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleXMtdmlldy1tb2RlbC5qc1wiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvcnMtcGFnZS5qc1wiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvcnMtcGFnZS5qc1wiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvcnMtcGFnZS54bWxcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3JzLXBhZ2UueG1sXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9ycy12aWV3LW1vZGVsLmpzXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9ycy12aWV3LW1vZGVsLmpzXCIsXG5cdFwiLi9sb2dpbi9sb2dpbi1wYWdlLmpzXCI6IFwiLi9sb2dpbi9sb2dpbi1wYWdlLmpzXCIsXG5cdFwiLi9sb2dpbi9sb2dpbi1wYWdlLnhtbFwiOiBcIi4vbG9naW4vbG9naW4tcGFnZS54bWxcIixcblx0XCIuL2xvZ2luL2xvZ2luLXZpZXctbW9kZWwuanNcIjogXCIuL2xvZ2luL2xvZ2luLXZpZXctbW9kZWwuanNcIixcblx0XCIuL21haW4tcGFnZS5qc1wiOiBcIi4vbWFpbi1wYWdlLmpzXCIsXG5cdFwiLi9tYWluLXBhZ2UueG1sXCI6IFwiLi9tYWluLXBhZ2UueG1sXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL2F0dGVuZGVldHlwZS9hdHRlbmRlZXR5cGUtcGFnZS5qc1wiOiBcIi4vbWVldGluZ3MvbWVldGluZy9hdHRlbmRlZXR5cGUvYXR0ZW5kZWV0eXBlLXBhZ2UuanNcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvYXR0ZW5kZWV0eXBlL2F0dGVuZGVldHlwZS1wYWdlLnhtbFwiOiBcIi4vbWVldGluZ3MvbWVldGluZy9hdHRlbmRlZXR5cGUvYXR0ZW5kZWV0eXBlLXBhZ2UueG1sXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL2F0dGVuZGVldHlwZS9hdHRlbmRlZXR5cGUtdmlldy1tb2RlbC5qc1wiOiBcIi4vbWVldGluZ3MvbWVldGluZy9hdHRlbmRlZXR5cGUvYXR0ZW5kZWV0eXBlLXZpZXctbW9kZWwuanNcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvZm9sbG93dXAvZm9sbG93dXAtcGFnZS5qc1wiOiBcIi4vbWVldGluZ3MvbWVldGluZy9mb2xsb3d1cC9mb2xsb3d1cC1wYWdlLmpzXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL2ZvbGxvd3VwL2ZvbGxvd3VwLXBhZ2UueG1sXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL2ZvbGxvd3VwL2ZvbGxvd3VwLXBhZ2UueG1sXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL2luaXRpYXRpdmVzL2luaXRpYXRpdmVzLXBhZ2UuanNcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvaW5pdGlhdGl2ZXMvaW5pdGlhdGl2ZXMtcGFnZS5qc1wiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9pbml0aWF0aXZlcy9pbml0aWF0aXZlcy1wYWdlLnhtbFwiOiBcIi4vbWVldGluZ3MvbWVldGluZy9pbml0aWF0aXZlcy9pbml0aWF0aXZlcy1wYWdlLnhtbFwiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9pbml0aWF0aXZlcy9pbml0aWF0aXZlcy12aWV3LW1vZGVsLmpzXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL2luaXRpYXRpdmVzL2luaXRpYXRpdmVzLXZpZXctbW9kZWwuanNcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvbWVldGluZy1wYWdlLmpzXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmctcGFnZS5qc1wiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9tZWV0aW5nLXBhZ2UueG1sXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmctcGFnZS54bWxcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvbWVldGluZy12aWV3LW1vZGVsLmpzXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmctdmlldy1tb2RlbC5qc1wiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9tZWV0aW5nbG9jYXRpb24vbWVldGluZ2xvY2F0aW9uLXBhZ2UuanNcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvbWVldGluZ2xvY2F0aW9uL21lZXRpbmdsb2NhdGlvbi1wYWdlLmpzXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmdsb2NhdGlvbi9tZWV0aW5nbG9jYXRpb24tcGFnZS54bWxcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvbWVldGluZ2xvY2F0aW9uL21lZXRpbmdsb2NhdGlvbi1wYWdlLnhtbFwiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9tZWV0aW5nbG9jYXRpb24vbWVldGluZ2xvY2F0aW9uLXZpZXctbW9kZWwuanNcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvbWVldGluZ2xvY2F0aW9uL21lZXRpbmdsb2NhdGlvbi12aWV3LW1vZGVsLmpzXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL25vdGVzL25vdGVzLXBhZ2UuanNcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvbm90ZXMvbm90ZXMtcGFnZS5qc1wiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9ub3Rlcy9ub3Rlcy1wYWdlLnhtbFwiOiBcIi4vbWVldGluZ3MvbWVldGluZy9ub3Rlcy9ub3Rlcy1wYWdlLnhtbFwiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9vZmZlcmVkdG9tZW1iZXJzL29mZmVyZWR0b21lbWJlcnMtcGFnZS5qc1wiOiBcIi4vbWVldGluZ3MvbWVldGluZy9vZmZlcmVkdG9tZW1iZXJzL29mZmVyZWR0b21lbWJlcnMtcGFnZS5qc1wiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9vZmZlcmVkdG9tZW1iZXJzL29mZmVyZWR0b21lbWJlcnMtcGFnZS54bWxcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvb2ZmZXJlZHRvbWVtYmVycy9vZmZlcmVkdG9tZW1iZXJzLXBhZ2UueG1sXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL3N0YWZmYXR0ZW5kZWVzL3N0YWZmYXR0ZW5kZWVzLXBhZ2UuanNcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvc3RhZmZhdHRlbmRlZXMvc3RhZmZhdHRlbmRlZXMtcGFnZS5qc1wiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9zdGFmZmF0dGVuZGVlcy9zdGFmZmF0dGVuZGVlcy1wYWdlLnhtbFwiOiBcIi4vbWVldGluZ3MvbWVldGluZy9zdGFmZmF0dGVuZGVlcy9zdGFmZmF0dGVuZGVlcy1wYWdlLnhtbFwiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy92ZW51ZXR5cGUvdmVudWV0eXBlLXBhZ2UuanNcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvdmVudWV0eXBlL3ZlbnVldHlwZS1wYWdlLmpzXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL3ZlbnVldHlwZS92ZW51ZXR5cGUtcGFnZS54bWxcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvdmVudWV0eXBlL3ZlbnVldHlwZS1wYWdlLnhtbFwiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy92ZW51ZXR5cGUvdmVudWV0eXBlLXZpZXctbW9kZWwuanNcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvdmVudWV0eXBlL3ZlbnVldHlwZS12aWV3LW1vZGVsLmpzXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5ncy1wYWdlLmpzXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5ncy1wYWdlLmpzXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5ncy1wYWdlLnhtbFwiOiBcIi4vbWVldGluZ3MvbWVldGluZ3MtcGFnZS54bWxcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmdzLXZpZXctbW9kZWwuanNcIjogXCIuL21lZXRpbmdzL21lZXRpbmdzLXZpZXctbW9kZWwuanNcIixcblx0XCIuL3Byb2ZpbGVzL3Byb2ZpbGUvZmFtaWxpYXJpdHlsZXZlbC12aWV3LW1vZGVsLmpzXCI6IFwiLi9wcm9maWxlcy9wcm9maWxlL2ZhbWlsaWFyaXR5bGV2ZWwtdmlldy1tb2RlbC5qc1wiLFxuXHRcIi4vcHJvZmlsZXMvcHJvZmlsZS9wcm9maWxlLXBhZ2UuanNcIjogXCIuL3Byb2ZpbGVzL3Byb2ZpbGUvcHJvZmlsZS1wYWdlLmpzXCIsXG5cdFwiLi9wcm9maWxlcy9wcm9maWxlL3Byb2ZpbGUtcGFnZS54bWxcIjogXCIuL3Byb2ZpbGVzL3Byb2ZpbGUvcHJvZmlsZS1wYWdlLnhtbFwiLFxuXHRcIi4vcHJvZmlsZXMvcHJvZmlsZS9yZWxhdGlvbnNoaXB0eXBlLXZpZXctbW9kZWwuanNcIjogXCIuL3Byb2ZpbGVzL3Byb2ZpbGUvcmVsYXRpb25zaGlwdHlwZS12aWV3LW1vZGVsLmpzXCIsXG5cdFwiLi9wcm9maWxlcy9wcm9maWxlcy1wYWdlLmpzXCI6IFwiLi9wcm9maWxlcy9wcm9maWxlcy1wYWdlLmpzXCIsXG5cdFwiLi9wcm9maWxlcy9wcm9maWxlcy1wYWdlLnhtbFwiOiBcIi4vcHJvZmlsZXMvcHJvZmlsZXMtcGFnZS54bWxcIixcblx0XCIuL3Byb2ZpbGVzL3Byb2ZpbGVzLXZpZXctbW9kZWwuanNcIjogXCIuL3Byb2ZpbGVzL3Byb2ZpbGVzLXZpZXctbW9kZWwuanNcIixcblx0XCIuL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvb2xkL3Byb2ZpbGVzZWFyY2gtcGFnZS5qc1wiOiBcIi4vcHJvZmlsZXMvcHJvZmlsZXNlYXJjaC9vbGQvcHJvZmlsZXNlYXJjaC1wYWdlLmpzXCIsXG5cdFwiLi9wcm9maWxlcy9wcm9maWxlc2VhcmNoL29sZC9wcm9maWxlc2VhcmNoLXBhZ2UueG1sXCI6IFwiLi9wcm9maWxlcy9wcm9maWxlc2VhcmNoL29sZC9wcm9maWxlc2VhcmNoLXBhZ2UueG1sXCIsXG5cdFwiLi9wcm9maWxlcy9wcm9maWxlc2VhcmNoL29sZC9wcm9maWxlc2VhcmNoLXZpZXctbW9kZWwuanNcIjogXCIuL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvb2xkL3Byb2ZpbGVzZWFyY2gtdmlldy1tb2RlbC5qc1wiLFxuXHRcIi4vcHJvZmlsZXMvcHJvZmlsZXNlYXJjaC9wcm9maWxlc2VhcmNoLXBhZ2UuanNcIjogXCIuL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvcHJvZmlsZXNlYXJjaC1wYWdlLmpzXCIsXG5cdFwiLi9wcm9maWxlcy9wcm9maWxlc2VhcmNoL3Byb2ZpbGVzZWFyY2gtcGFnZS54bWxcIjogXCIuL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvcHJvZmlsZXNlYXJjaC1wYWdlLnhtbFwiLFxuXHRcIi4vcHJvZmlsZXMvcHJvZmlsZXNlYXJjaC9wcm9maWxlc2VhcmNoLXZpZXctbW9kZWwuanNcIjogXCIuL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvcHJvZmlsZXNlYXJjaC12aWV3LW1vZGVsLmpzXCIsXG5cdFwiLi92ZW5kb3ItcGxhdGZvcm0uanNcIjogXCIuL3ZlbmRvci1wbGF0Zm9ybS5qc1wiLFxuXHRcIi4vdmVuZG9yLmpzXCI6IFwiLi92ZW5kb3IuanNcIlxufTtcblxuXG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0dmFyIGlkID0gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSk7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKGlkKTtcbn1cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhtYXAsIHJlcSkpIHtcblx0XHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdHRocm93IGU7XG5cdH1cblx0cmV0dXJuIG1hcFtyZXFdO1xufVxud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IFwiLi8gc3luYyByZWN1cnNpdmUgKD88IVxcXFxiQXBwX1Jlc291cmNlc1xcXFxiLiopKD88IVxcXFwuXFxcXC9cXFxcYnRlc3RzXFxcXGJcXFxcLy4qPylcXFxcLih4bWx8Y3NzfGpzfCg/PCFcXFxcLmRcXFxcLil0c3woPzwhXFxcXGJfW1xcXFx3LV0qXFxcXC4pc2NzcykkXCI7IiwidmFyIG1hcCA9IHtcblx0XCIuL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnQvYXNzaWdubWVudC1wYWdlLmpzXCI6IFwiLi9hc3NpZ25tZW50cy9hc3NpZ25tZW50L2Fzc2lnbm1lbnQtcGFnZS5qc1wiLFxuXHRcIi4vYXNzaWdubWVudHMvYXNzaWdubWVudC9hc3NpZ25tZW50LXBhZ2UueG1sXCI6IFwiLi9hc3NpZ25tZW50cy9hc3NpZ25tZW50L2Fzc2lnbm1lbnQtcGFnZS54bWxcIixcblx0XCIuL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnRzLXBhZ2UuanNcIjogXCIuL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnRzLXBhZ2UuanNcIixcblx0XCIuL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnRzLXBhZ2UueG1sXCI6IFwiLi9hc3NpZ25tZW50cy9hc3NpZ25tZW50cy1wYWdlLnhtbFwiLFxuXHRcIi4vY29tbWl0dGVlcy9jb21taXR0ZWUvY29tbWl0dGVlLXBhZ2UuanNcIjogXCIuL2NvbW1pdHRlZXMvY29tbWl0dGVlL2NvbW1pdHRlZS1wYWdlLmpzXCIsXG5cdFwiLi9jb21taXR0ZWVzL2NvbW1pdHRlZS9jb21taXR0ZWUtcGFnZS54bWxcIjogXCIuL2NvbW1pdHRlZXMvY29tbWl0dGVlL2NvbW1pdHRlZS1wYWdlLnhtbFwiLFxuXHRcIi4vY29tbWl0dGVlcy9jb21taXR0ZWVzLXBhZ2UuanNcIjogXCIuL2NvbW1pdHRlZXMvY29tbWl0dGVlcy1wYWdlLmpzXCIsXG5cdFwiLi9jb21taXR0ZWVzL2NvbW1pdHRlZXMtcGFnZS54bWxcIjogXCIuL2NvbW1pdHRlZXMvY29tbWl0dGVlcy1wYWdlLnhtbFwiLFxuXHRcIi4vaG9tZS9ob21lLXBhZ2UuanNcIjogXCIuL2hvbWUvaG9tZS1wYWdlLmpzXCIsXG5cdFwiLi9ob21lL2hvbWUtcGFnZS54bWxcIjogXCIuL2hvbWUvaG9tZS1wYWdlLnhtbFwiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9iaW8vYmlvLXBhZ2UuanNcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvYmlvL2Jpby1wYWdlLmpzXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2Jpby9iaW8tcGFnZS54bWxcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvYmlvL2Jpby1wYWdlLnhtbFwiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9jb21taXR0ZWVzL2NvbW1pdHRlZXMtcGFnZS5qc1wiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9jb21taXR0ZWVzL2NvbW1pdHRlZXMtcGFnZS5qc1wiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9jb21taXR0ZWVzL2NvbW1pdHRlZXMtcGFnZS54bWxcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvY29tbWl0dGVlcy9jb21taXR0ZWVzLXBhZ2UueG1sXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2luaXRpYXRpdmV0aWVycy9pbml0aWF0aXZldGllcnMtcGFnZS5qc1wiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9pbml0aWF0aXZldGllcnMvaW5pdGlhdGl2ZXRpZXJzLXBhZ2UuanNcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvaW5pdGlhdGl2ZXRpZXJzL2luaXRpYXRpdmV0aWVycy1wYWdlLnhtbFwiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9pbml0aWF0aXZldGllcnMvaW5pdGlhdGl2ZXRpZXJzLXBhZ2UueG1sXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2xlZ2lzbGF0b3ItcGFnZS5qc1wiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9sZWdpc2xhdG9yLXBhZ2UuanNcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvbGVnaXNsYXRvci1wYWdlLnhtbFwiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9sZWdpc2xhdG9yLXBhZ2UueG1sXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc2VsZWN0L3NlbGVjdC1wYWdlLmpzXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc2VsZWN0L3NlbGVjdC1wYWdlLmpzXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc2VsZWN0L3NlbGVjdC1wYWdlLnhtbFwiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3NlbGVjdC9zZWxlY3QtcGFnZS54bWxcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXkvcXVlc3Rpb24vcXVlc3Rpb24tcGFnZS5qc1wiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9xdWVzdGlvbi9xdWVzdGlvbi1wYWdlLmpzXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5L3F1ZXN0aW9uL3F1ZXN0aW9uLXBhZ2UueG1sXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5L3F1ZXN0aW9uL3F1ZXN0aW9uLXBhZ2UueG1sXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5L3N1cnZleS1wYWdlLmpzXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5L3N1cnZleS1wYWdlLmpzXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5L3N1cnZleS1wYWdlLnhtbFwiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9zdXJ2ZXktcGFnZS54bWxcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXlzLXBhZ2UuanNcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXlzLXBhZ2UuanNcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXlzLXBhZ2UueG1sXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5cy1wYWdlLnhtbFwiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvcnMtcGFnZS5qc1wiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvcnMtcGFnZS5qc1wiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvcnMtcGFnZS54bWxcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3JzLXBhZ2UueG1sXCIsXG5cdFwiLi9sb2dpbi9sb2dpbi1wYWdlLmpzXCI6IFwiLi9sb2dpbi9sb2dpbi1wYWdlLmpzXCIsXG5cdFwiLi9sb2dpbi9sb2dpbi1wYWdlLnhtbFwiOiBcIi4vbG9naW4vbG9naW4tcGFnZS54bWxcIixcblx0XCIuL21haW4tcGFnZS5qc1wiOiBcIi4vbWFpbi1wYWdlLmpzXCIsXG5cdFwiLi9tYWluLXBhZ2UueG1sXCI6IFwiLi9tYWluLXBhZ2UueG1sXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL2F0dGVuZGVldHlwZS9hdHRlbmRlZXR5cGUtcGFnZS5qc1wiOiBcIi4vbWVldGluZ3MvbWVldGluZy9hdHRlbmRlZXR5cGUvYXR0ZW5kZWV0eXBlLXBhZ2UuanNcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvYXR0ZW5kZWV0eXBlL2F0dGVuZGVldHlwZS1wYWdlLnhtbFwiOiBcIi4vbWVldGluZ3MvbWVldGluZy9hdHRlbmRlZXR5cGUvYXR0ZW5kZWV0eXBlLXBhZ2UueG1sXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL2ZvbGxvd3VwL2ZvbGxvd3VwLXBhZ2UuanNcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvZm9sbG93dXAvZm9sbG93dXAtcGFnZS5qc1wiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9mb2xsb3d1cC9mb2xsb3d1cC1wYWdlLnhtbFwiOiBcIi4vbWVldGluZ3MvbWVldGluZy9mb2xsb3d1cC9mb2xsb3d1cC1wYWdlLnhtbFwiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9pbml0aWF0aXZlcy9pbml0aWF0aXZlcy1wYWdlLmpzXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL2luaXRpYXRpdmVzL2luaXRpYXRpdmVzLXBhZ2UuanNcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvaW5pdGlhdGl2ZXMvaW5pdGlhdGl2ZXMtcGFnZS54bWxcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvaW5pdGlhdGl2ZXMvaW5pdGlhdGl2ZXMtcGFnZS54bWxcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvbWVldGluZy1wYWdlLmpzXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmctcGFnZS5qc1wiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9tZWV0aW5nLXBhZ2UueG1sXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmctcGFnZS54bWxcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvbWVldGluZ2xvY2F0aW9uL21lZXRpbmdsb2NhdGlvbi1wYWdlLmpzXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmdsb2NhdGlvbi9tZWV0aW5nbG9jYXRpb24tcGFnZS5qc1wiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9tZWV0aW5nbG9jYXRpb24vbWVldGluZ2xvY2F0aW9uLXBhZ2UueG1sXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmdsb2NhdGlvbi9tZWV0aW5nbG9jYXRpb24tcGFnZS54bWxcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvbm90ZXMvbm90ZXMtcGFnZS5qc1wiOiBcIi4vbWVldGluZ3MvbWVldGluZy9ub3Rlcy9ub3Rlcy1wYWdlLmpzXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL25vdGVzL25vdGVzLXBhZ2UueG1sXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL25vdGVzL25vdGVzLXBhZ2UueG1sXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL29mZmVyZWR0b21lbWJlcnMvb2ZmZXJlZHRvbWVtYmVycy1wYWdlLmpzXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL29mZmVyZWR0b21lbWJlcnMvb2ZmZXJlZHRvbWVtYmVycy1wYWdlLmpzXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL29mZmVyZWR0b21lbWJlcnMvb2ZmZXJlZHRvbWVtYmVycy1wYWdlLnhtbFwiOiBcIi4vbWVldGluZ3MvbWVldGluZy9vZmZlcmVkdG9tZW1iZXJzL29mZmVyZWR0b21lbWJlcnMtcGFnZS54bWxcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvc3RhZmZhdHRlbmRlZXMvc3RhZmZhdHRlbmRlZXMtcGFnZS5qc1wiOiBcIi4vbWVldGluZ3MvbWVldGluZy9zdGFmZmF0dGVuZGVlcy9zdGFmZmF0dGVuZGVlcy1wYWdlLmpzXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL3N0YWZmYXR0ZW5kZWVzL3N0YWZmYXR0ZW5kZWVzLXBhZ2UueG1sXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL3N0YWZmYXR0ZW5kZWVzL3N0YWZmYXR0ZW5kZWVzLXBhZ2UueG1sXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL3ZlbnVldHlwZS92ZW51ZXR5cGUtcGFnZS5qc1wiOiBcIi4vbWVldGluZ3MvbWVldGluZy92ZW51ZXR5cGUvdmVudWV0eXBlLXBhZ2UuanNcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvdmVudWV0eXBlL3ZlbnVldHlwZS1wYWdlLnhtbFwiOiBcIi4vbWVldGluZ3MvbWVldGluZy92ZW51ZXR5cGUvdmVudWV0eXBlLXBhZ2UueG1sXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5ncy1wYWdlLmpzXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5ncy1wYWdlLmpzXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5ncy1wYWdlLnhtbFwiOiBcIi4vbWVldGluZ3MvbWVldGluZ3MtcGFnZS54bWxcIixcblx0XCIuL3Byb2ZpbGVzL3Byb2ZpbGUvcHJvZmlsZS1wYWdlLmpzXCI6IFwiLi9wcm9maWxlcy9wcm9maWxlL3Byb2ZpbGUtcGFnZS5qc1wiLFxuXHRcIi4vcHJvZmlsZXMvcHJvZmlsZS9wcm9maWxlLXBhZ2UueG1sXCI6IFwiLi9wcm9maWxlcy9wcm9maWxlL3Byb2ZpbGUtcGFnZS54bWxcIixcblx0XCIuL3Byb2ZpbGVzL3Byb2ZpbGVzLXBhZ2UuanNcIjogXCIuL3Byb2ZpbGVzL3Byb2ZpbGVzLXBhZ2UuanNcIixcblx0XCIuL3Byb2ZpbGVzL3Byb2ZpbGVzLXBhZ2UueG1sXCI6IFwiLi9wcm9maWxlcy9wcm9maWxlcy1wYWdlLnhtbFwiLFxuXHRcIi4vcHJvZmlsZXMvcHJvZmlsZXNlYXJjaC9vbGQvcHJvZmlsZXNlYXJjaC1wYWdlLmpzXCI6IFwiLi9wcm9maWxlcy9wcm9maWxlc2VhcmNoL29sZC9wcm9maWxlc2VhcmNoLXBhZ2UuanNcIixcblx0XCIuL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvb2xkL3Byb2ZpbGVzZWFyY2gtcGFnZS54bWxcIjogXCIuL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvb2xkL3Byb2ZpbGVzZWFyY2gtcGFnZS54bWxcIixcblx0XCIuL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvcHJvZmlsZXNlYXJjaC1wYWdlLmpzXCI6IFwiLi9wcm9maWxlcy9wcm9maWxlc2VhcmNoL3Byb2ZpbGVzZWFyY2gtcGFnZS5qc1wiLFxuXHRcIi4vcHJvZmlsZXMvcHJvZmlsZXNlYXJjaC9wcm9maWxlc2VhcmNoLXBhZ2UueG1sXCI6IFwiLi9wcm9maWxlcy9wcm9maWxlc2VhcmNoL3Byb2ZpbGVzZWFyY2gtcGFnZS54bWxcIlxufTtcblxuXG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0dmFyIGlkID0gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSk7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKGlkKTtcbn1cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhtYXAsIHJlcSkpIHtcblx0XHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdHRocm93IGU7XG5cdH1cblx0cmV0dXJuIG1hcFtyZXFdO1xufVxud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IFwiLi8gc3luYyByZWN1cnNpdmUgKHBhZ2V8ZnJhZ21lbnQpXFxcXC4oeG1sfGNzc3xqc3x0c3xzY3NzKSRcIjsiLCJcbm1vZHVsZS5leHBvcnRzID0gXCI8RnJhbWUgZGVmYXVsdFBhZ2U9XFxcImxvZ2luL2xvZ2luLXBhZ2VcXFwiPjwvRnJhbWU+XCI7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vYXBwLXJvb3QueG1sXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcIm1hcmt1cFwiLCBwYXRoOiBcIi4vYXBwLXJvb3QueG1sXCIgfSk7XG4gICAgfSk7XG59ICIsIm1vZHVsZS5leHBvcnRzID0ge1widHlwZVwiOlwic3R5bGVzaGVldFwiLFwic3R5bGVzaGVldFwiOntcInJ1bGVzXCI6W3tcInR5cGVcIjpcImNvbW1lbnRcIixcImNvbW1lbnRcIjpcIlxcbkluIE5hdGl2ZVNjcmlwdCwgdGhlIGFwcC5jc3MgZmlsZSBpcyB3aGVyZSB5b3UgcGxhY2UgQ1NTIHJ1bGVzIHRoYXRcXG55b3Ugd291bGQgbGlrZSB0byBhcHBseSB0byB5b3VyIGVudGlyZSBhcHBsaWNhdGlvbi4gQ2hlY2sgb3V0XFxuaHR0cDovL2RvY3MubmF0aXZlc2NyaXB0Lm9yZy91aS9zdHlsaW5nIGZvciBhIGZ1bGwgbGlzdCBvZiB0aGUgQ1NTXFxuc2VsZWN0b3JzIGFuZCBwcm9wZXJ0aWVzIHlvdSBjYW4gdXNlIHRvIHN0eWxlIFVJIGNvbXBvbmVudHMuXFxuXFxuLypcXG5Gb3IgZXhhbXBsZSwgdGhlIGZvbGxvd2luZyBDU1MgcnVsZSBjaGFuZ2VzIHRoZSBmb250IHNpemUgb2YgYWxsIFVJXFxuY29tcG9uZW50cyB0aGF0IGhhdmUgdGhlIGJ0biBjbGFzcyBuYW1lLlxcblwifSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCJBY3Rpdml0eUluZGljYXRvclwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwiIzAwNzViZVwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIlBhZ2VcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJiYWNrZ3JvdW5kLWNvbG9yXCIsXCJ2YWx1ZVwiOlwiI2VlZVwifSx7XCJ0eXBlXCI6XCJjb21tZW50XCIsXCJjb21tZW50XCI6XCIgbWFyZ2luLXRvcDogLTIwOyBmaXggbmVzdGVkIGZyYW1lIHNwYWNpbmcgXCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmlvcyAucGFnZVwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi10b3BcIixcInZhbHVlXCI6XCIwXCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmFuZHJvaWQgVGV4dEZpZWxkXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udFwiLFwidmFsdWVcIjpcIjE0XCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmFuZHJvaWQgLmxvZ2luLWZpZWxkXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLWJvdHRvbVwiLFwidmFsdWVcIjpcIjBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tbGVmdFwiLFwidmFsdWVcIjpcIjEwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLXJpZ2h0XCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tdG9wXCIsXCJ2YWx1ZVwiOlwiMFwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5pb3MgLmxvZ2luLWZpZWxkXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLWJvdHRvbVwiLFwidmFsdWVcIjpcIjEwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLWxlZnRcIixcInZhbHVlXCI6XCIxMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1yaWdodFwiLFwidmFsdWVcIjpcIjE1XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLXRvcFwiLFwidmFsdWVcIjpcIjEwXCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmFuZHJvaWQgLmxvZ2luLWZpZWxkLXN3aXRjaFwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1ib3R0b21cIixcInZhbHVlXCI6XCI1XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLWxlZnRcIixcInZhbHVlXCI6XCIxMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1yaWdodFwiLFwidmFsdWVcIjpcIjEwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLXRvcFwiLFwidmFsdWVcIjpcIjVcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuaW9zIC5sb2dpbi1maWVsZC1zd2l0Y2hcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tYm90dG9tXCIsXCJ2YWx1ZVwiOlwiNVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1sZWZ0XCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tcmlnaHRcIixcInZhbHVlXCI6XCIxMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi10b3BcIixcInZhbHVlXCI6XCI1XCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmhyLWxpZ2h0XCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYmFja2dyb3VuZC1jb2xvclwiLFwidmFsdWVcIjpcIiNlMGUwZTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJoZWlnaHRcIixcInZhbHVlXCI6XCIxXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwid2lkdGhcIixcInZhbHVlXCI6XCIxMDAlXCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmhyLWRhcmtcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJoZWlnaHRcIixcInZhbHVlXCI6XCIxXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYmFja2dyb3VuZC1jb2xvclwiLFwidmFsdWVcIjpcIiMzMDMwMzBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJ3aWR0aFwiLFwidmFsdWVcIjpcIjEwMCVcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuYW5kcm9pZCAuYnV0dG9uXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYmFja2dyb3VuZFwiLFwidmFsdWVcIjpcIiNlZWVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXItY29sb3JcIixcInZhbHVlXCI6XCIjY2NjXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYm9yZGVyLXJhZGl1c1wiLFwidmFsdWVcIjpcIjNcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXItc3R5bGVcIixcInZhbHVlXCI6XCJzb2xpZFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci13aWR0aFwiLFwidmFsdWVcIjpcIjFcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcImJsYWNrXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTJcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJoZWlnaHRcIixcInZhbHVlXCI6XCIzMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1ib3R0b21cIixcInZhbHVlXCI6XCIxMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi10b3BcIixcInZhbHVlXCI6XCIxMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInBhZGRpbmdcIixcInZhbHVlXCI6XCIwXCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmlvcyAuYnV0dG9uXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYmFja2dyb3VuZFwiLFwidmFsdWVcIjpcIiNlZWVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXItY29sb3JcIixcInZhbHVlXCI6XCIjY2NjXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYm9yZGVyLXJhZGl1c1wiLFwidmFsdWVcIjpcIjNcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXItc3R5bGVcIixcInZhbHVlXCI6XCJzb2xpZFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci13aWR0aFwiLFwidmFsdWVcIjpcIjFcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcImJsYWNrXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMThcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tYm90dG9tXCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tdG9wXCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nXCIsXCJ2YWx1ZVwiOlwiNVwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5hbmRyb2lkIC5sb2dpbi1idXR0b25cIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJiYWNrZ3JvdW5kXCIsXCJ2YWx1ZVwiOlwiI2NjY1wifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci1jb2xvclwiLFwidmFsdWVcIjpcIiM5OTlcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXItcmFkaXVzXCIsXCJ2YWx1ZVwiOlwiM1wifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci1zdHlsZVwiLFwidmFsdWVcIjpcInNvbGlkXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYm9yZGVyLXdpZHRoXCIsXCJ2YWx1ZVwiOlwiMVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwiYmxhY2tcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxMlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImhlaWdodFwiLFwidmFsdWVcIjpcIjMwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLWJvdHRvbVwiLFwidmFsdWVcIjpcIjEwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLXRvcFwiLFwidmFsdWVcIjpcIjEwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZ1wiLFwidmFsdWVcIjpcIjVcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuaW9zIC5sb2dpbi1idXR0b25cIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJiYWNrZ3JvdW5kXCIsXCJ2YWx1ZVwiOlwiIzAwNzViZVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci1jb2xvclwiLFwidmFsdWVcIjpcIiMwMDc1YmVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXItcmFkaXVzXCIsXCJ2YWx1ZVwiOlwiM1wifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci1zdHlsZVwiLFwidmFsdWVcIjpcInNvbGlkXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYm9yZGVyLXdpZHRoXCIsXCJ2YWx1ZVwiOlwiMVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwid2hpdGVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxOFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1ib3R0b21cIixcInZhbHVlXCI6XCIxMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi10b3BcIixcInZhbHVlXCI6XCIxMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInBhZGRpbmdcIixcInZhbHVlXCI6XCIxMFwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5hbmRyb2lkIC5mb3Jnb3QtYnV0dG9uXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYmFja2dyb3VuZFwiLFwidmFsdWVcIjpcInRyYW5zcGFyZW50XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYm9yZGVyXCIsXCJ2YWx1ZVwiOlwibm9uZVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwiI2VhMDkyYVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjExXCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmlvcyAuZm9yZ290LWJ1dHRvblwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJhY2tncm91bmRcIixcInZhbHVlXCI6XCJ0cmFuc3BhcmVudFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlclwiLFwidmFsdWVcIjpcIm5vbmVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcIiNlYTA5MmFcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxNlwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5uYXZpZ2F0aW9uLWZyYW1lIFBhZ2VcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiY29tbWVudFwiLFwiY29tbWVudFwiOlwiIG1hcmdpbi10b3A6IDIwOyBmaXggbmVzdGVkIGZyYW1lIHNwYWNpbmcgXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYmFja2dyb3VuZC1jb2xvclwiLFwidmFsdWVcIjpcIndoaXRlXCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLnRhYlwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJjb21tZW50XCIsXCJjb21tZW50XCI6XCIgcGFkZGluZzogMTA7IFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci10b3AtY29sb3JcIixcInZhbHVlXCI6XCIjZGRkXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYm9yZGVyLXRvcC13aWR0aFwiLFwidmFsdWVcIjpcIjFcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJiYWNrZ3JvdW5kLWNvbG9yXCIsXCJ2YWx1ZVwiOlwiI2VlZWVlZVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwiIzk5OVwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi50YWItc2VsZWN0ZWRcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcIiMwMDc1YmVcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuYW5kcm9pZCAudGFiLWljb25cIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJ0ZXh0LWFsaWduXCIsXCJ2YWx1ZVwiOlwiY2VudGVyXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMjJcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LWZhbWlseVwiLFwidmFsdWVcIjpcImZvbnRhd2Vzb21lXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLWJvdHRvbVwiLFwidmFsdWVcIjpcIjVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tdG9wXCIsXCJ2YWx1ZVwiOlwiNVwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5pb3MgLnRhYi1pY29uXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwidGV4dC1hbGlnblwiLFwidmFsdWVcIjpcImNlbnRlclwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjIyXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1mYW1pbHlcIixcInZhbHVlXCI6XCInRm9udEF3ZXNvbWUnXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLWJvdHRvbVwiLFwidmFsdWVcIjpcIjVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tdG9wXCIsXCJ2YWx1ZVwiOlwiNVwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi50YWItbGFiZWxcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJ0ZXh0LWFsaWduXCIsXCJ2YWx1ZVwiOlwiY2VudGVyXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tYm90dG9tXCIsXCJ2YWx1ZVwiOlwiMVwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5hY3Rpb24tYmFyLXRpdGxlXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC13ZWlnaHRcIixcInZhbHVlXCI6XCJib2xkXCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmFuZHJvaWQgLmxpc3Qtdmlldy1pdGVtXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTRcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tbGVmdFwiLFwidmFsdWVcIjpcIjEwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLXJpZ2h0XCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtaW4taGVpZ2h0XCIsXCJ2YWx1ZVwiOlwiMzhcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLWJvdHRvbVwiLFwidmFsdWVcIjpcIjVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLXRvcFwiLFwidmFsdWVcIjpcIjVcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuaW9zIC5saXN0LXZpZXctaXRlbVwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjE2XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLWxlZnRcIixcInZhbHVlXCI6XCIyMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1yaWdodFwiLFwidmFsdWVcIjpcIjIwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWluLWhlaWdodFwiLFwidmFsdWVcIjpcIjQ0XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy1ib3R0b21cIixcInZhbHVlXCI6XCI4XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy10b3BcIixcInZhbHVlXCI6XCI4XCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmFuZHJvaWQgLmxpc3Qtdmlldy1pdGVtLXNtYWxsXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTFcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tbGVmdFwiLFwidmFsdWVcIjpcIjEwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLXJpZ2h0XCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtaW4taGVpZ2h0XCIsXCJ2YWx1ZVwiOlwiMzhcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLWJvdHRvbVwiLFwidmFsdWVcIjpcIjVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLXRvcFwiLFwidmFsdWVcIjpcIjVcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuaW9zIC5saXN0LXZpZXctaXRlbS1zbWFsbFwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjEzXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLWxlZnRcIixcInZhbHVlXCI6XCIyMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1yaWdodFwiLFwidmFsdWVcIjpcIjIwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWluLWhlaWdodFwiLFwidmFsdWVcIjpcIjQ0XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy1ib3R0b21cIixcInZhbHVlXCI6XCI4XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy10b3BcIixcInZhbHVlXCI6XCI4XCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLnJhZC1saXN0LXZpZXctaXRlbVwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci1ib3R0b20tY29sb3JcIixcInZhbHVlXCI6XCIjZGRkXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYm9yZGVyLWJvdHRvbS13aWR0aFwiLFwidmFsdWVcIjpcIjAuNVwifSx7XCJ0eXBlXCI6XCJjb21tZW50XCIsXCJjb21tZW50XCI6XCIgY29sb3I6ICMyMTIxMjE7IFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjE2XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLWxlZnRcIixcInZhbHVlXCI6XCIyMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInBhZGRpbmctcmlnaHRcIixcInZhbHVlXCI6XCIyMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1pbi1oZWlnaHRcIixcInZhbHVlXCI6XCI0NFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInBhZGRpbmctYm90dG9tXCIsXCJ2YWx1ZVwiOlwiOFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInBhZGRpbmctdG9wXCIsXCJ2YWx1ZVwiOlwiOFwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5hbmRyb2lkIC5saXN0LXZpZXctaXRlbS1mb3JtXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYm9yZGVyLWJvdHRvbS1jb2xvclwiLFwidmFsdWVcIjpcIiNkZGRcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXItYm90dG9tLXdpZHRoXCIsXCJ2YWx1ZVwiOlwiMC41XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTRcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tbGVmdFwiLFwidmFsdWVcIjpcIjEwXCJ9LHtcInR5cGVcIjpcImNvbW1lbnRcIixcImNvbW1lbnRcIjpcIiBtYXJnaW4tcmlnaHQ6IDIwOyBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtaW4taGVpZ2h0XCIsXCJ2YWx1ZVwiOlwiMzhcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLWJvdHRvbVwiLFwidmFsdWVcIjpcIjhcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLXJpZ2h0XCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLXRvcFwiLFwidmFsdWVcIjpcIjhcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuaW9zIC5saXN0LXZpZXctaXRlbS1mb3JtXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYm9yZGVyLWJvdHRvbS1jb2xvclwiLFwidmFsdWVcIjpcIiNkZGRcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXItYm90dG9tLXdpZHRoXCIsXCJ2YWx1ZVwiOlwiMC41XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTZcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tbGVmdFwiLFwidmFsdWVcIjpcIjIwXCJ9LHtcInR5cGVcIjpcImNvbW1lbnRcIixcImNvbW1lbnRcIjpcIiBtYXJnaW4tcmlnaHQ6IDIwOyBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtaW4taGVpZ2h0XCIsXCJ2YWx1ZVwiOlwiNDRcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLWJvdHRvbVwiLFwidmFsdWVcIjpcIjhcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLXJpZ2h0XCIsXCJ2YWx1ZVwiOlwiMjBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLXRvcFwiLFwidmFsdWVcIjpcIjhcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuYW5kcm9pZCAubGlzdC12aWV3LWl0ZW0tZm9ybS1ib3R0b21cIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxNFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1sZWZ0XCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtaW4taGVpZ2h0XCIsXCJ2YWx1ZVwiOlwiMzhcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLWJvdHRvbVwiLFwidmFsdWVcIjpcIjhcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLXJpZ2h0XCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLXRvcFwiLFwidmFsdWVcIjpcIjhcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuaW9zIC5saXN0LXZpZXctaXRlbS1mb3JtLWJvdHRvbVwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjE2XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLWxlZnRcIixcInZhbHVlXCI6XCIyMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1pbi1oZWlnaHRcIixcInZhbHVlXCI6XCI0NFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInBhZGRpbmctYm90dG9tXCIsXCJ2YWx1ZVwiOlwiOFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInBhZGRpbmctcmlnaHRcIixcInZhbHVlXCI6XCIyMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInBhZGRpbmctdG9wXCIsXCJ2YWx1ZVwiOlwiOFwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5saXN0LXZpZXctc2VjdGlvbi1ibGFua1wiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJhY2tncm91bmQtY29sb3JcIixcInZhbHVlXCI6XCIjZGRkXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiaGVpZ2h0XCIsXCJ2YWx1ZVwiOlwiMVwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5hbmRyb2lkIC5saXN0LXZpZXctc2VjdGlvbi1oZWFkZXJcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJiYWNrZ3JvdW5kLWNvbG9yXCIsXCJ2YWx1ZVwiOlwiI2VlZVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci1ib3R0b20tY29sb3JcIixcInZhbHVlXCI6XCIjZGRkXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYm9yZGVyLWJvdHRvbS13aWR0aFwiLFwidmFsdWVcIjpcIjAuNVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci10b3AtY29sb3JcIixcInZhbHVlXCI6XCIjZGRkXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYm9yZGVyLXRvcC13aWR0aFwiLFwidmFsdWVcIjpcIjAuNVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwiIzY2NlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjEwXCJ9LHtcInR5cGVcIjpcImNvbW1lbnRcIixcImNvbW1lbnRcIjpcIiBoZWlnaHQ6IDMwOyBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLWJvdHRvbVwiLFwidmFsdWVcIjpcIjJcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLWxlZnRcIixcInZhbHVlXCI6XCIxMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInBhZGRpbmctcmlnaHRcIixcInZhbHVlXCI6XCIxMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInBhZGRpbmctdG9wXCIsXCJ2YWx1ZVwiOlwiMTBcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuaW9zIC5saXN0LXZpZXctc2VjdGlvbi1oZWFkZXJcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJiYWNrZ3JvdW5kLWNvbG9yXCIsXCJ2YWx1ZVwiOlwiI2VlZVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci1ib3R0b20tY29sb3JcIixcInZhbHVlXCI6XCIjZGRkXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYm9yZGVyLWJvdHRvbS13aWR0aFwiLFwidmFsdWVcIjpcIjAuNVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci10b3AtY29sb3JcIixcInZhbHVlXCI6XCIjZGRkXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYm9yZGVyLXRvcC13aWR0aFwiLFwidmFsdWVcIjpcIjAuNVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwiIzY2NlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjEyXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiaGVpZ2h0XCIsXCJ2YWx1ZVwiOlwiMzVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLWJvdHRvbVwiLFwidmFsdWVcIjpcIjJcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLWxlZnRcIixcInZhbHVlXCI6XCIyMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInBhZGRpbmctcmlnaHRcIixcInZhbHVlXCI6XCIyMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInBhZGRpbmctdG9wXCIsXCJ2YWx1ZVwiOlwiMFwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5hbmRyb2lkIC5saXN0LXZpZXctc2VjdGlvbi1oZWFkZXItbm8tYm9yZGVyXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYmFja2dyb3VuZC1jb2xvclwiLFwidmFsdWVcIjpcIiNlZWVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXItdG9wLWNvbG9yXCIsXCJ2YWx1ZVwiOlwiI2RkZFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci10b3Atd2lkdGhcIixcInZhbHVlXCI6XCIwLjVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcIiM2NjZcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImhlaWdodFwiLFwidmFsdWVcIjpcIjMwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy1ib3R0b21cIixcInZhbHVlXCI6XCIyXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy1sZWZ0XCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLXJpZ2h0XCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLXRvcFwiLFwidmFsdWVcIjpcIjBcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuaW9zIC5saXN0LXZpZXctc2VjdGlvbi1oZWFkZXItbm8tYm9yZGVyXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYmFja2dyb3VuZC1jb2xvclwiLFwidmFsdWVcIjpcIiNlZWVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXItdG9wLWNvbG9yXCIsXCJ2YWx1ZVwiOlwiI2RkZFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci10b3Atd2lkdGhcIixcInZhbHVlXCI6XCIwLjVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcIiM2NjZcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxMlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImhlaWdodFwiLFwidmFsdWVcIjpcIjM1XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy1ib3R0b21cIixcInZhbHVlXCI6XCIyXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy1sZWZ0XCIsXCJ2YWx1ZVwiOlwiMjBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLXJpZ2h0XCIsXCJ2YWx1ZVwiOlwiMjBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLXRvcFwiLFwidmFsdWVcIjpcIjBcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIubGlzdC12aWV3LXNlY3Rpb24tZGV0YWlsXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYmFja2dyb3VuZC1jb2xvclwiLFwidmFsdWVcIjpcIndoaXRlXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYm9yZGVyLXRvcC1jb2xvclwiLFwidmFsdWVcIjpcIiNkZGRcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXItdG9wLXdpZHRoXCIsXCJ2YWx1ZVwiOlwiMC41XCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmFuZHJvaWQgLmxpc3Qtdmlldy1pdGVtLW1haW4tdG9wXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiY29sb3JcIixcInZhbHVlXCI6XCJibGFja1wifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjE0XCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmlvcyAubGlzdC12aWV3LWl0ZW0tbWFpbi10b3BcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxNlwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5hbmRyb2lkIC5saXN0LXZpZXctaXRlbS1tYWluXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTRcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tdG9wXCIsXCJ2YWx1ZVwiOlwiM1wifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5pb3MgLmxpc3Qtdmlldy1pdGVtLW1haW5cIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxNlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi10b3BcIixcInZhbHVlXCI6XCIzXCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmFuZHJvaWQgLmxpc3Qtdmlldy1pdGVtLXBpY2tlclwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwiYmxhY2tcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxNFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIndpZHRoXCIsXCJ2YWx1ZVwiOlwiMTAwJVwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5pb3MgLmxpc3Qtdmlldy1pdGVtLXBpY2tlclwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwiYmxhY2tcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxNlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIndpZHRoXCIsXCJ2YWx1ZVwiOlwiMTAwJVwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5hbmRyb2lkIC5saXN0LXZpZXctaXRlbS10ZXh0dmlld1wiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwiIzY2NlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjE0XCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmlvcyAubGlzdC12aWV3LWl0ZW0tdGV4dHZpZXdcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcIiM2NjZcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxNlwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5hbmRyb2lkIC5saXN0LXZpZXctaXRlbS1sZWZ0XCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiY29sb3JcIixcInZhbHVlXCI6XCJibGFja1wifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjE0XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwidGV4dC1hbGlnblwiLFwidmFsdWVcIjpcImxlZnRcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuaW9zIC5saXN0LXZpZXctaXRlbS1sZWZ0XCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTZcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJ0ZXh0LWFsaWduXCIsXCJ2YWx1ZVwiOlwibGVmdFwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5hbmRyb2lkIC5saXN0LXZpZXctaXRlbS1yaWdodFwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwiIzY2NlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjE0XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwidGV4dC1hbGlnblwiLFwidmFsdWVcIjpcInJpZ2h0XCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmlvcyAubGlzdC12aWV3LWl0ZW0tcmlnaHRcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcIiM2NjZcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxNlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInRleHQtYWxpZ25cIixcInZhbHVlXCI6XCJyaWdodFwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5hbmRyb2lkIC5saXN0LXZpZXctaXRlbS1zdWItZW1haWxcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcIiMwMDc1YmVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxMlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi10b3BcIixcInZhbHVlXCI6XCIzXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwidGV4dC1kZWNvcmF0aW9uXCIsXCJ2YWx1ZVwiOlwidW5kZXJsaW5lXCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmlvcyAubGlzdC12aWV3LWl0ZW0tc3ViLWVtYWlsXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiY29sb3JcIixcInZhbHVlXCI6XCIjMDA3NWJlXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTRcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tdG9wXCIsXCJ2YWx1ZVwiOlwiM1wifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInRleHQtZGVjb3JhdGlvblwiLFwidmFsdWVcIjpcInVuZGVybGluZVwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5hbmRyb2lkIC5saXN0LXZpZXctaXRlbS1zdWItcGhvbmVcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcIiMwMDc1YmVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxMlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi10b3BcIixcInZhbHVlXCI6XCI1XCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmlvcyAubGlzdC12aWV3LWl0ZW0tc3ViLXBob25lXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiY29sb3JcIixcInZhbHVlXCI6XCIjMDA3NWJlXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTRcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tdG9wXCIsXCJ2YWx1ZVwiOlwiM1wifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5hbmRyb2lkIC5saXN0LXZpZXctaXRlbS1zdWItdGl0bGVcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcIiM2NjZcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxMlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtd2VpZ2h0XCIsXCJ2YWx1ZVwiOlwiYm9sZFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi10b3BcIixcInZhbHVlXCI6XCIzXCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmlvcyAubGlzdC12aWV3LWl0ZW0tc3ViLXRpdGxlXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiY29sb3JcIixcInZhbHVlXCI6XCIjNjY2XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTRcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXdlaWdodFwiLFwidmFsdWVcIjpcImJvbGRcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tdG9wXCIsXCJ2YWx1ZVwiOlwiM1wifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5hbmRyb2lkIC5saXN0LXZpZXctaXRlbS1zdWJcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcIiM2NjZcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxMlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi10b3BcIixcInZhbHVlXCI6XCIzXCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmlvcyAubGlzdC12aWV3LWl0ZW0tc3ViXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiY29sb3JcIixcInZhbHVlXCI6XCIjNjY2XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTRcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tdG9wXCIsXCJ2YWx1ZVwiOlwiM1wifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5hbmRyb2lkIC5mbi1saXN0LXZpZXctaXRlbVwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwiI2NjY1wifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtZmFtaWx5XCIsXCJ2YWx1ZVwiOlwiZm9udGF3ZXNvbWVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIyNFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1sZWZ0XCIsXCJ2YWx1ZVwiOlwiMTBcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuaW9zIC5mbi1saXN0LXZpZXctaXRlbVwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwiI2NjY1wifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtZmFtaWx5XCIsXCJ2YWx1ZVwiOlwiJ0ZvbnRBd2Vzb21lJ1wifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjI2XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLWxlZnRcIixcInZhbHVlXCI6XCIxMFwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5hbmRyb2lkIC5mbi1saXN0LXZpZXctaXRlbS1zbWFsbFwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwiIzAwNzViZVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtZmFtaWx5XCIsXCJ2YWx1ZVwiOlwiZm9udGF3ZXNvbWVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxNFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1sZWZ0XCIsXCJ2YWx1ZVwiOlwiMTBcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuaW9zIC5mbi1saXN0LXZpZXctaXRlbS1zbWFsbFwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwiIzAwNzViZVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtZmFtaWx5XCIsXCJ2YWx1ZVwiOlwiJ0ZvbnRBd2Vzb21lJ1wifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjE2XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLWxlZnRcIixcInZhbHVlXCI6XCIxMFwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5sb2dpbi1iYWNrZ3JvdW5kXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImNvbW1lbnRcIixcImNvbW1lbnRcIjpcIiBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3NWJlOyBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJiYWNrZ3JvdW5kLWNvbG9yXCIsXCJ2YWx1ZVwiOlwid2hpdGVcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuYW5kcm9pZCAuc2Nyb2xsLXZpZXctaXRlbVwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwiIzY2NlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjE0XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy1sZWZ0XCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLXJpZ2h0XCIsXCJ2YWx1ZVwiOlwiMTBcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuaW9zIC5zY3JvbGwtdmlldy1pdGVtXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiY29sb3JcIixcInZhbHVlXCI6XCIjNjY2XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTZcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLWxlZnRcIixcInZhbHVlXCI6XCIxNVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInBhZGRpbmctcmlnaHRcIixcInZhbHVlXCI6XCIxNVwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5hbmRyb2lkIC5zZWdtZW50ZWQtYmFyXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYmFja2dyb3VuZC1jb2xvclwiLFwidmFsdWVcIjpcIiMzM2E4ZjFcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcIndoaXRlXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJzZWxlY3RlZC1iYWNrZ3JvdW5kLWNvbG9yXCIsXCJ2YWx1ZVwiOlwiIzAwNzViZVwifSx7XCJ0eXBlXCI6XCJjb21tZW50XCIsXCJjb21tZW50XCI6XCIgTkVFREVEIFwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5pb3MgLnNlZ21lbnRlZC1iYXJcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJiYWNrZ3JvdW5kLWNvbG9yXCIsXCJ2YWx1ZVwiOlwiIzMzYThmMVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwid2hpdGVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxNFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1ib3R0b21cIixcInZhbHVlXCI6XCIxMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi10b3BcIixcInZhbHVlXCI6XCIxMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInNlbGVjdGVkLWJhY2tncm91bmQtY29sb3JcIixcInZhbHVlXCI6XCIjMDA3NWJlXCJ9LHtcInR5cGVcIjpcImNvbW1lbnRcIixcImNvbW1lbnRcIjpcIiBORUVERUQgXCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLnN3aXBlLWljb25zXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiY29sb3JcIixcInZhbHVlXCI6XCIjZmZmXCJ9LHtcInR5cGVcIjpcImNvbW1lbnRcIixcImNvbW1lbnRcIjpcIiBwYWRkaW5nLWxlZnQ6IDEwO1xcbiAgICBwYWRkaW5nLXJpZ2h0OiAxMDsgXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwid2lkdGhcIixcInZhbHVlXCI6XCI4MFwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5ibHVlXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYmFja2dyb3VuZC1jb2xvclwiLFwidmFsdWVcIjpcIiMwMDc1YmVcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuZ3JlZW5cIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiY29tbWVudFwiLFwiY29tbWVudFwiOlwiIGJhY2tncm91bmQtY29sb3I6IGdyZWVuOyBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJiYWNrZ3JvdW5kLWNvbG9yXCIsXCJ2YWx1ZVwiOlwiIzM1YzRhZlwifSx7XCJ0eXBlXCI6XCJjb21tZW50XCIsXCJjb21tZW50XCI6XCIgIzBhNTczZDsgXCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLm9yYW5nZVwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJjb21tZW50XCIsXCJjb21tZW50XCI6XCIgYmFja2dyb3VuZC1jb2xvcjogI2Y2ODMyMDsgXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYmFja2dyb3VuZC1jb2xvclwiLFwidmFsdWVcIjpcIiNlODgwMTFcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIucmVkXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImNvbW1lbnRcIixcImNvbW1lbnRcIjpcIiBiYWNrZ3JvdW5kLWNvbG9yOiAjY2MyZDMwOyBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJiYWNrZ3JvdW5kLWNvbG9yXCIsXCJ2YWx1ZVwiOlwiI2VhMDkyYVwifV19LHtcInR5cGVcIjpcImNvbW1lbnRcIixcImNvbW1lbnRcIjpcIiAuYW5kcm9pZCAuc3dpdGNoIHtcXG4gICAgY29sb3I6ICNjYzJkMzA7XFxufSBcIn0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmlvcyAuc3dpdGNoXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImNvbW1lbnRcIixcImNvbW1lbnRcIjpcIiBiYWNrZ3JvdW5kLWNvbG9yOiAjY2MyZDMwOyBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJiYWNrZ3JvdW5kLWNvbG9yXCIsXCJ2YWx1ZVwiOlwiI2VhMDkyYVwifV19LHtcInR5cGVcIjpcImNvbW1lbnRcIixcImNvbW1lbnRcIjpcIiBTd2l0Y2hbY2hlY2tlZD10cnVlXSB7XFxuICAgIGNvbG9yOiB3aGl0ZSA7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDc1YmU7XFxuICAgIHRyYW5zZm9ybTogc2NhbGUoMS4yNSwgMS4yNSk7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01LCAwKTtcXG4gIH1cXG4gIFxcbiAgU3dpdGNoW2NoZWNrZWQ9ZmFsc2VdIHtcXG4gICAgY29sb3I6IGdyYXk7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGdyYXk7XFxuICB9IFwifSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIudmlldy10aXRsZVwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJhY2tncm91bmQtY29sb3JcIixcInZhbHVlXCI6XCIjMDA3NWJlXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiY29sb3JcIixcInZhbHVlXCI6XCJ3aGl0ZVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjIwXCJ9LHtcInR5cGVcIjpcImNvbW1lbnRcIixcImNvbW1lbnRcIjpcIiBoZWlnaHQ6IDQ0OyBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLWJvdHRvbVwiLFwidmFsdWVcIjpcIjEwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy10b3BcIixcInZhbHVlXCI6XCIxMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIndpZHRoXCIsXCJ2YWx1ZVwiOlwiMTAwJVwifV19LHtcInR5cGVcIjpcImNvbW1lbnRcIixcImNvbW1lbnRcIjpcIlxcbkluIG1hbnkgY2FzZXMgeW91IG1heSB3YW50IHRvIHVzZSB0aGUgTmF0aXZlU2NyaXB0IGNvcmUgdGhlbWUgaW5zdGVhZFxcbm9mIHdyaXRpbmcgeW91ciBvd24gQ1NTIHJ1bGVzLiBGb3IgYSBmdWxsIGxpc3Qgb2YgY2xhc3MgbmFtZXMgaW4gdGhlIHRoZW1lXFxucmVmZXIgdG8gaHR0cDovL2RvY3MubmF0aXZlc2NyaXB0Lm9yZy91aS90aGVtZS5cXG5cIn0se1widHlwZVwiOlwiY29tbWVudFwiLFwiY29tbWVudFwiOlwiQGltcG9ydCAnfm5hdGl2ZXNjcmlwdC10aGVtZS1jb3JlL2Nzcy9jb3JlLmxpZ2h0LmNzcyc7XCJ9XSxcInBhcnNpbmdFcnJvcnNcIjpbXX19OzsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9hcHAuY3NzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInN0eWxlXCIsIHBhdGg6IFwiLi9hcHAuY3NzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxuICAgICAgICAgICAgcmVxdWlyZShcIkBuYXRpdmVzY3JpcHQvd2VicGFjay9oZWxwZXJzL2xvYWQtYXBwbGljYXRpb24tY3NzLXJlZ3VsYXJcIikoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgIGlmIChtb2R1bGUuaG90KSB7XG4gICAgICAgICAgICBjb25zdCBobXJVcGRhdGUgPSByZXF1aXJlKFwiQG5hdGl2ZXNjcmlwdC93ZWJwYWNrL2htclwiKS5obXJVcGRhdGU7XG4gICAgICAgICAgICBnbG9iYWwuX19jb3JlTW9kdWxlc0xpdmVTeW5jID0gZ2xvYmFsLl9fb25MaXZlU3luYztcblxuICAgICAgICAgICAgZ2xvYmFsLl9fb25MaXZlU3luYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgaG90IHVwZGF0ZWQgb24gTGl2ZVN5bmNcbiAgICAgICAgICAgICAgICBobXJVcGRhdGUoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGdsb2JhbC5obXJSZWZyZXNoID0gZnVuY3Rpb24oeyB0eXBlLCBwYXRoIH0gPSB7fSkge1xuICAgICAgICAgICAgICAgIC8vIHRoZSBob3QgdXBkYXRlcyBhcmUgYXBwbGllZCwgYXNrIHRoZSBtb2R1bGVzIHRvIGFwcGx5IHRoZSBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbC5fX2NvcmVNb2R1bGVzTGl2ZVN5bmMoeyB0eXBlLCBwYXRoIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gaGFuZGxlIGhvdCB1cGRhdGVkIG9uIGluaXRpYWwgYXBwIHN0YXJ0XG4gICAgICAgICAgICBobXJVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSByZXF1aXJlLmNvbnRleHQoXCJ+L1wiLCB0cnVlLCAvKD88IVxcYkFwcF9SZXNvdXJjZXNcXGIuKikoPzwhXFwuXFwvXFxidGVzdHNcXGJcXC8uKj8pXFwuKHhtbHxjc3N8anN8KD88IVxcLmRcXC4pdHN8KD88IVxcYl9bXFx3LV0qXFwuKXNjc3MpJC8pO1xuICAgICAgICAgICAgZ2xvYmFsLnJlZ2lzdGVyV2VicGFja01vZHVsZXMoY29udGV4dCk7XG4gICAgICAgICAgICBpZiAobW9kdWxlLmhvdCkge1xuICAgICAgICAgICAgICAgIG1vZHVsZS5ob3QuYWNjZXB0KGNvbnRleHQuaWQsICgpID0+IHsgXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSE1SOiBBY2NlcHQgbW9kdWxlICdcIiArIGNvbnRleHQuaWQgKyBcIicgZnJvbSAnXCIgKyBtb2R1bGUuaWQgKyBcIidcIik7IFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIHJlcXVpcmUoXCJAbmF0aXZlc2NyaXB0L2NvcmUvYnVuZGxlLWVudHJ5LXBvaW50c1wiKTtcbiAgICAgICAgLypcbkluIE5hdGl2ZVNjcmlwdCwgdGhlIGFwcC5qcyBmaWxlIGlzIHRoZSBlbnRyeSBwb2ludCB0byB5b3VyIGFwcGxpY2F0aW9uLlxuWW91IGNhbiB1c2UgdGhpcyBmaWxlIHRvIHBlcmZvcm0gYXBwLWxldmVsIGluaXRpYWxpemF0aW9uLCBidXQgdGhlIHByaW1hcnlcbnB1cnBvc2Ugb2YgdGhlIGZpbGUgaXMgdG8gcGFzcyBjb250cm9sIHRvIHRoZSBhcHDigJlzIGZpcnN0IG1vZHVsZS5cbiovXG5cbnJlcXVpcmUoXCIuL2J1bmRsZS1jb25maWdcIik7XG5yZXF1aXJlKFwiQHByb3BsdWdpbnMvbmF0aXZlc2NyaXB0LXBsYXRmb3JtLWNzc1wiKTtcbmNvbnN0IHsgUGFnZSB9ID0gcmVxdWlyZShcIkBuYXRpdmVzY3JpcHQvY29yZVwiKTtcbmNvbnN0IGFwcGxpY2F0aW9uID0gcmVxdWlyZShcImFwcGxpY2F0aW9uXCIpO1xuXG4vLyBEZXYsIHRlc3QsIHByb2QgdXJsc1xuY29uc3QgYXBpTG9naW5VcmxEZXYgPSBcImh0dHBzOi8vc3RzLWRldi5wY2lhYS5uZXQvYXBpL3BjaS9zaWduaW4vaXNzdWVcIjtcbmNvbnN0IGFwaUxvZ2luVXJsVGVzdCA9IFwiaHR0cHM6Ly9zdHMtdGVzdC5wY2lhYS5uZXQvYXBpL3BjaS9zaWduaW4vaXNzdWVcIjtcbmNvbnN0IGFwaUxvZ2luVXJsUHJvZCA9IFwiaHR0cHM6Ly9zdHMuYXBjaS5vcmcvYXBpL3BjaS9zaWduaW4vaXNzdWVcIjtcbmNvbnN0IGFwaUJhc2VTZXJ2aWNlVXJsRGV2ID0gXCJodHRwczovL2Rldi5wY2lhYS5uZXQvcGNpd2Vic2l0ZS9jb25ncmVzc2FwaS9sZWdpc2xhdG9ycy9cIjtcbmNvbnN0IGFwaUJhc2VTZXJ2aWNlVXJsVGVzdCA9IFwiaHR0cHM6Ly90ZXN0LnBjaWFhLm5ldC9wY2l3ZWJzaXRlL2NvbmdyZXNzYXBpL2xlZ2lzbGF0b3JzL1wiO1xuY29uc3QgYXBpQmFzZVNlcnZpY2VVcmxQcm9kID0gXCJodHRwczovL3d3dy5hcGNpLm9yZy9wY2l3ZWJzaXRlL2NvbmdyZXNzYXBpL2xlZ2lzbGF0b3JzL1wiO1xuY29uc3Qgc2NvcGVEZXYgPSBcImh0dHA6Ly9kZXYucGNpYWEubmV0L1wiO1xuY29uc3Qgc2NvcGVUZXN0ID0gXCJodHRwOi8vdGVzdC5wY2lhYS5uZXQvXCI7XG5jb25zdCBzY29wZVByb2QgPSBcImh0dHA6Ly93d3cuYXBjaS5vcmcvXCI7XG5cbi8vIERlZmluZSBhbGwgZ2xvYmFsIHZhcmlhYmxlcyB1c2VkIHRocm91Z2hvdXQgdGhlIGVudGlyZSBzb2x1dGlvbi5cbmdsb2JhbC5hcGlMb2dpblVybCA9IGFwaUxvZ2luVXJsUHJvZDtcbmdsb2JhbC5hcGlCYXNlU2VydmljZVVybCA9IGFwaUJhc2VTZXJ2aWNlVXJsUHJvZDtcbmdsb2JhbC5zY29wZSA9IHNjb3BlUHJvZDtcbmdsb2JhbC50b2tlbiA9IG51bGw7XG5nbG9iYWwucGVyc29uSWQgPSBudWxsO1xuZ2xvYmFsLmN1cnJlbnRVc2VyID0gbnVsbDtcbmdsb2JhbC5jb21wYW55SWQgPSBudWxsO1xuZ2xvYmFsLmlzUGNpID0gZmFsc2U7XG5nbG9iYWwuaXNDb25ncmVzc0FkbWluID0gZmFsc2U7XG5nbG9iYWwuaXNDb25ncmVzc1VzZXIgPSBmYWxzZTtcbmdsb2JhbC5pc0NvbmdyZXNzRXh0ZXJuYWxVc2VyID0gZmFsc2U7XG5cbi8vYXBwbGljYXRpb24uc3RhcnQoeyBtb2R1bGVOYW1lOiBcImxvZ2luL2xvZ2luLXBhZ2VcIiB9KTtcbi8vYXBwbGljYXRpb24ucnVuKHsgbW9kdWxlTmFtZTogXCJsb2dpbi9sb2dpbi1wYWdlXCIgfSk7XG5hcHBsaWNhdGlvbi5ydW4oeyBtb2R1bGVOYW1lOiBcImFwcC1yb290XCIgfSk7XG5cbi8qXG5EbyBub3QgcGxhY2UgYW55IGNvZGUgYWZ0ZXIgdGhlIGFwcGxpY2F0aW9uIGhhcyBiZWVuIHN0YXJ0ZWQgYXMgaXQgd2lsbCBub3RcbmJlIGV4ZWN1dGVkIG9uIGlPUy5cbiovXG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vYXBwLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vYXBwLmpzXCIgfSk7XG4gICAgfSk7XG59IFxuICAgIFxuICAgICAgICBcbiAgICAgICAgIiwiY29uc3Qgb2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgZnJhbWVNb2R1bGUgPSByZXF1aXJlKFwidWkvZnJhbWVcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xuXG52YXIgcGFnZTtcbnZhciBuYXZpZ2F0aW9uQ29udGV4dDtcblxuLyogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiogVXNlIHRoZSBcIm9uTmF2aWdhdGluZ1RvXCIgaGFuZGxlciB0byBpbml0aWFsaXplIHRoZSBwYWdlIGJpbmRpbmcgY29udGV4dC5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5mdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICBuYXZpZ2F0aW9uQ29udGV4dCA9IHBhZ2UubmF2aWdhdGlvbkNvbnRleHQ7XG5cbiAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIkFzc2lnbm1lbnRcIjtcblxuICAgICAgICBpZiAoYXJncy5pc0JhY2tOYXZpZ2F0aW9uKSB7XG4gICAgICAgICAgICBpZiAoZ2xvYmFsLnJlZnJlc2hBc3NpZ25tZW50cyAhPT0gdW5kZWZpbmVkICYmIGdsb2JhbC5yZWZyZXNoQXNzaWdubWVudHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAvLyBwYWdlLmJpbmRpbmdDb250ZXh0LnNldChcIm1lZXRpbmdDcmVhdGVkXCIsIFwiWVwiKTtcbiAgICAgICAgICAgICAgICAvLyBwYWdlLmJpbmRpbmdDb250ZXh0LnNldChcImxvYmJ5aXN0SWRcIiwgZ2xvYmFsLnBlcnNvbklkKTtcbiAgICAgICAgICAgICAgICAvLyBwYWdlLmJpbmRpbmdDb250ZXh0LnNldChcImxvYmJ5aXN0XCIsIGdsb2JhbC5jdXJyZW50VXNlcik7XG4gICAgICAgICAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dC5tZWV0aW5nQ3JlYXRlZCA9IFwiWVwiO1xuICAgICAgICAgICAgICAgIHBhZ2UuYmluZGluZ0NvbnRleHQubG9iYnlpc3RJZCA9IGdsb2JhbC5wZXJzb25JZDtcbiAgICAgICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0LmxvYmJ5aXN0ID0gZ2xvYmFsLmN1cnJlbnRVc2VyO1xuXG4gICAgICAgICAgICAgICAgdmFyIGxvYmJ5aXN0R3JpZExheW91dCA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJsb2JieWlzdEdyaWRMYXlvdXRcIik7XG4gICAgICAgICAgICAgICAgdmFyIGxvYmJ5aXN0TGFiZWwgPSBwYWdlLmdldFZpZXdCeUlkKFwibG9iYnlpc3RMYWJlbFwiKTtcblxuICAgICAgICAgICAgICAgIGxvYmJ5aXN0R3JpZExheW91dC52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgICAgICAgICAgICAgbG9iYnlpc3RMYWJlbC50ZXh0ID0gZ2xvYmFsLmN1cnJlbnRVc2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2xvYmFsLnJlZnJlc2hBc3NpZ25tZW50cyA9IGZhbHNlO1xuXG4gICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gbmF2aWdhdGlvbkNvbnRleHQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydChlKTtcbiAgICB9XG4gICAgXG59XG5cbmZ1bmN0aW9uIG9uQmFja1RhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLmdvQmFjaygpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KGUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25BZGRUYXAoYXJncykge1xuICAgIHRyeVxuICAgIHtcbiAgICAgICAgdmFyIG1vZGVsID0ge1xuICAgICAgICAgICAgbWVldGluZ0lkOiAwLFxuICAgICAgICAgICAgbWVldGluZ0RhdGU6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICB2ZW51ZVR5cGVJZDogMSxcbiAgICAgICAgICAgIHZlbnVlVHlwZTogXCJJbiBQZXJzb25cIixcbiAgICAgICAgICAgIGF0dGVuZGVlVHlwZUlkOiAxLFxuICAgICAgICAgICAgYXR0ZW5kZWVUeXBlOiBcIlN0YWZmIE9ubHlcIixcbiAgICAgICAgICAgIGxvYmJ5aXN0SWQ6IGdsb2JhbC5wZXJzb25JZCxcbiAgICAgICAgICAgIGxvYmJ5aXN0OiBudWxsLFxuICAgICAgICAgICAgbGVnaXNsYXRvcklkOiBuYXZpZ2F0aW9uQ29udGV4dC5sZWdpc2xhdG9ySWQsXG4gICAgICAgICAgICBmdWxsTmFtZTogbmF2aWdhdGlvbkNvbnRleHQubGVnaXNsYXRvcixcbiAgICAgICAgICAgIG5hbWU6IG51bGwsXG4gICAgICAgICAgICBwY2lJbml0aWF0aXZlczogbmF2aWdhdGlvbkNvbnRleHQuaW5pdGlhdGl2ZSxcbiAgICAgICAgICAgIHN1cnZleXM6IG5hdmlnYXRpb25Db250ZXh0LnN1cnZleSxcbiAgICAgICAgICAgIHBjaUF0dGVuZGVlczogZ2xvYmFsLmN1cnJlbnRVc2VyLFxuICAgICAgICAgICAgcHJpbWFyeU9mZmljZUNvbnRhY3Q6IG51bGwsXG4gICAgICAgICAgICBtZWV0aW5nTG9jYXRpb25JZDogMixcbiAgICAgICAgICAgIGxvY2F0aW9uOiBcIk1lZXRpbmcgaW4gRENcIixcbiAgICAgICAgICAgIGxlZ2lzbGF0b3JTdGFmZkF0dGVuZGVlczogbnVsbCxcbiAgICAgICAgICAgIGZvbGxvd1VwTmVlZGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGZvbGxvd1VwRGF0ZTogbnVsbCxcbiAgICAgICAgICAgIGZvbGxvd1VwTm90ZXM6IG51bGwsXG4gICAgICAgICAgICBjcmVhdG9ySWQ6IGdsb2JhbC5wZXJzb25JZCxcbiAgICAgICAgICAgIG5vdGVzOiBudWxsLFxuICAgICAgICAgICAgaW5pdGlhdGl2ZUlkOiBuYXZpZ2F0aW9uQ29udGV4dC5pbml0aWF0aXZlSWQsXG4gICAgICAgICAgICBzdXJ2ZXlJZDogbmF2aWdhdGlvbkNvbnRleHQuc3VydmV5SWQsXG4gICAgICAgICAgICBhc3NpZ25tZW50SWQ6IG5hdmlnYXRpb25Db250ZXh0LmFzc2lnbm1lbnRJZFxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICAgICAgbW9kdWxlTmFtZTogXCJtZWV0aW5ncy9tZWV0aW5nL21lZXRpbmctcGFnZVwiLFxuICAgICAgICAgICAgY29udGV4dDogbW9kZWwsXG4gICAgICAgICAgICBjbGVhckhpc3Rvcnk6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KGUpO1xuICAgIH1cbn1cblxuZXhwb3J0cy5vbk5hdmlnYXRpbmdUbyA9IG9uTmF2aWdhdGluZ1RvO1xuZXhwb3J0cy5vbkJhY2tUYXAgPSBvbkJhY2tUYXA7XG5leHBvcnRzLm9uQWRkVGFwID0gb25BZGRUYXA7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vYXNzaWdubWVudHMvYXNzaWdubWVudC9hc3NpZ25tZW50LXBhZ2UuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9hc3NpZ25tZW50cy9hc3NpZ25tZW50L2Fzc2lnbm1lbnQtcGFnZS5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJcbm1vZHVsZS5leHBvcnRzID0gXCI8UGFnZSBuYXZpZ2F0aW5nVG89XFxcIm9uTmF2aWdhdGluZ1RvXFxcIiBjbGFzcz1cXFwicGFnZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly9zY2hlbWFzLm5hdGl2ZXNjcmlwdC5vcmcvdG5zLnhzZFxcXCIgPlxcbiAgICA8QWN0aW9uQmFyIGNsYXNzPVxcXCJhY3Rpb24tYmFyXFxcIj5cXG4gICAgICAgIDxhbmRyb2lkPlxcbiAgICAgICAgICAgIDxOYXZpZ2F0aW9uQnV0dG9uIGFuZHJvaWQuc3lzdGVtSWNvbj1cXFwiaWNfbWVudV9iYWNrXFxcIiB0YXA9XFxcIm9uQmFja1RhcFxcXCIgLz5cXG4gICAgICAgIDwvYW5kcm9pZD5cXG4gICAgICAgIDxBY3Rpb25JdGVtIHRhcD1cXFwib25BZGRUYXBcXFwiIGlvcy5zeXN0ZW1JY29uPVxcXCI0XFxcIiBhbmRyb2lkLnN5c3RlbUljb249XFxcImljX21lbnVfYWRkXFxcIiBpb3MucG9zaXRpb249XFxcInJpZ2h0XFxcIiBcXG4gICAgICAgICAgICB2aXNpYmlsaXR5PVxcXCJ7eyBtZWV0aW5nQ3JlYXRlZCA9PT0gJ1knID8gJ2NvbGxhcHNlJyA6ICd2aXNpYmxlJyB9fVxcXCIgLz5cXG4gICAgPC9BY3Rpb25CYXI+XFxuXFxuICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcImF1dG8sIGF1dG8sICpcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiIGNsYXNzPVxcXCJ2aWV3LXRpdGxlXFxcIj5cXG4gICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImFzc2lnbm1lbnRJZFxcXCIgdGV4dD1cXFwie3sgYXNzaWdubWVudElkIH19XFxcIiB2aXNpYmlsaXR5PVxcXCJjb2xsYXBzZWRcXFwiIC8+XFxuICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJsZWdpc2xhdG9yTmFtZVxcXCIgdGV4dD1cXFwie3sgbGVnaXNsYXRvciB9fVxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIiAvPlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjFcXFwiIGNvbD1cXFwiMFxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcImF1dG8sICpcXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJDb21wYW55XFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbGVmdFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJ7eyBjb21wYW55IH19XFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJyaWdodFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcIm1pZGRsZVxcXCIgdGV4dFdyYXA9XFxcInRydWVcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1yaWdodFxcXCIgLz5cXG4gICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiYXV0bywgKlxcXCIgcm93cz1cXFwiYXV0b1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiPlxcbiAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIkluaXRpYXRpdmVcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJtaWRkbGVcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1sZWZ0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IGluaXRpYXRpdmUgfX1cXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcInJpZ2h0XFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIiB0ZXh0V3JhcD1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIiAvPlxcbiAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCJhdXRvLCAqXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiU3VydmV5XFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbGVmdFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJ7eyBzdXJ2ZXkgfX1cXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcInJpZ2h0XFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIiB0ZXh0V3JhcD1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIiAvPlxcbiAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCJhdXRvLCAqXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiTWVldGluZyBDcmVhdGVkP1xcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcIm1pZGRsZVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwie3sgbWVldGluZ0NyZWF0ZWQgPT09ICdZJyA/ICdZZXMnIDogJ05vJyB9fVxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwicmlnaHRcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJtaWRkbGVcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1yaWdodFxcXCIgLz5cXG4gICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgPEdyaWRMYXlvdXQgaWQ9XFxcImxvYmJ5aXN0R3JpZExheW91dFxcXCIgY29sdW1ucz1cXFwiYXV0bywgKlxcXCIgcm93cz1cXFwiYXV0b1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiIHZpc2liaWxpdHk9XFxcInt7IG1lZXRpbmdDcmVhdGVkID09PSAnWScgPyAndmlzaWJsZScgOiAnY29sbGFwc2UnIH19XFxcIj5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJMb2JieWlzdFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcIm1pZGRsZVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwibG9iYnlpc3RMYWJlbFxcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IGxvYmJ5aXN0IH19XFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJyaWdodFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcIm1pZGRsZVxcXCIgdGV4dFdyYXA9XFxcInRydWVcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1yaWdodFxcXCIgLz5cXG4gICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICA8L0dyaWRMYXlvdXQ+XFxuPC9QYWdlPlxcblwiOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnQvYXNzaWdubWVudC1wYWdlLnhtbFwiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJtYXJrdXBcIiwgcGF0aDogXCIuL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnQvYXNzaWdubWVudC1wYWdlLnhtbFwiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBBc3NpZ25tZW50c1ZpZXdNb2RlbCA9IHJlcXVpcmUoXCIuL2Fzc2lnbm1lbnRzLXZpZXctbW9kZWxcIik7XG5jb25zdCBwbGF0Zm9ybSA9IHJlcXVpcmUoXCJwbGF0Zm9ybVwiKTtcbmNvbnN0IE9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpO1xudmFyIGdlc3R1cmVzID0gcmVxdWlyZShcInVpL2dlc3R1cmVzXCIpO1xudmFyIGZyYW1lTW9kdWxlID0gcmVxdWlyZShcInVpL2ZyYW1lXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxuY29uc3QgTUlOX1ggPSAtODA7XG5jb25zdCBNQVhfWCA9IDA7XG5jb25zdCBUSFJFU0hPTEQgPSAwLjU7XG5cbnZhciBzd2lwZU9wZW4gPSBmYWxzZTtcbnZhciBzd2lwZWRJdGVtO1xuXG52YXIgaXNTY3JvbGxpbmcgPSBmYWxzZTtcbnZhciBpc1N3aXBpbmcgPSBmYWxzZTtcblxudmFyIHBhZ2U7XG52YXIgc2VhcmNoQmFyO1xudmFyIGFzc2lnbm1lbnRzUGFnZVNpemUgPSAyNTtcbnZhciBhc3NpZ25tZW50c1NlYXJjaFRleHQgPSBcIlwiO1xudmFyIG1lZXRpbmdDcmVhdGVkID0gXCJOXCI7XG52YXIgYXNzaWdubWVudHNTZWFyY2hTdWJtaXR0ZWQgPSBmYWxzZTtcblxudmFyIGFzc2lnbm1lbnRzTGlzdCA9IG5ldyBBc3NpZ25tZW50c1ZpZXdNb2RlbChbXSk7XG5cbnZhciBwYWdlRGF0YSA9IG5ldyBPYnNlcnZhYmxlTW9kdWxlLmZyb21PYmplY3Qoe1xuICAgIGFzc2lnbm1lbnRzTGlzdDogYXNzaWdubWVudHNMaXN0LFxuICAgIGlzTG9hZGluZzogZmFsc2Vcbn0pO1xuXG5mdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICBcbiAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIkFzc2lnbm1lbnRzXCI7XG5cbiAgICAgICAgaWYgKGFyZ3MuaXNCYWNrTmF2aWdhdGlvbikge1xuICAgICAgICAgICAgaWYgKGdsb2JhbC5yZWZyZXNoQXNzaWdubWVudHMgIT09IHVuZGVmaW5lZCAmJiBnbG9iYWwucmVmcmVzaEFzc2lnbm1lbnRzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgYXNzaWdubWVudHNMaXN0LmVtcHR5KCk7XG5cbiAgICAgICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICBhc3NpZ25tZW50c0xpc3QubG9hZChtZWV0aW5nQ3JlYXRlZCwgYXNzaWdubWVudHNTZWFyY2hUZXh0LCAxLCBhc3NpZ25tZW50c1BhZ2VTaXplKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgICAgICBnbG9iYWwucmVmcmVzaEFzc2lnbm1lbnRzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoYXNzaWdubWVudHNTZWFyY2hUZXh0ICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlYXJjaEJhciA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJzZWFyY2hCYXJcIik7XG5cbiAgICAgICAgICAgICAgICBzZWFyY2hCYXIudGV4dCA9IGFzc2lnbm1lbnRzU2VhcmNoVGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgICAgICAvLyBTaW5jZSB0aGUgUGFnZSBjb250YWlucyBhIFNlZ21lbnRlZEJhcixcbiAgICAgICAgICAgIC8vIHRoZSBzZWxlY3RlZEluZGV4Q2hhbmdlZCBldmVudCB3aWxsIHBlcmZvcm0gdGhlIGluaXRpYWwgbG9hZCBvZiB0aGUgTGlzdFZpZXcuXG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25TZWxlY3RlZEluZGV4Q2hhbmdlZChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKGFyZ3MubmV3SW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIG1lZXRpbmdDcmVhdGVkID0gXCJOXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZWV0aW5nQ3JlYXRlZCA9IFwiWVwiO1xuICAgICAgICB9XG5cbiAgICAgICAgYXNzaWdubWVudHNMaXN0LmVtcHR5KCk7XG5cbiAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuXG4gICAgICAgIGFzc2lnbm1lbnRzTGlzdC5sb2FkKG1lZXRpbmdDcmVhdGVkLCBhc3NpZ25tZW50c1NlYXJjaFRleHQsIDEsIGFzc2lnbm1lbnRzUGFnZVNpemUpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHBhZ2VEYXRhO1xuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblNlYXJjaEJhckxvYWRlZChhcmdzKSB7XG4gICAgc2VhcmNoQmFyID0gYXJncy5vYmplY3Q7XG5cbiAgICBpZiAocGxhdGZvcm0uaXNBbmRyb2lkKSB7XG4gICAgICAgIHNlYXJjaEJhci5hbmRyb2lkLmNsZWFyRm9jdXMoKTtcbiAgICB9IGVsc2UgaWYgKHBsYXRmb3JtLmlzSU9TKSB7XG4gICAgICAgIC8vIGlPUyBTdHlsaW5nXG4gICAgICAgIHNlYXJjaEJhci5pb3Muc2VhcmNoQmFyU3R5bGUgPSBVSVNlYXJjaEJhclN0eWxlLlVJU2VhcmNoQmFyU3R5bGVNaW5pbWFsO1xuICAgICAgICBzZWFyY2hCYXIuaW9zLnNob3dzQ2FuY2VsQnV0dG9uID0gdHJ1ZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU3VibWl0KGFyZ3MpIHtcbiAgICBzZWFyY2hCYXIgPSBhcmdzLm9iamVjdDtcblxuICAgIGFzc2lnbm1lbnRzU2VhcmNoVGV4dCA9IHNlYXJjaEJhci50ZXh0LnRyaW0oKTtcblxuICAgIGFzc2lnbm1lbnRzTGlzdC5lbXB0eSgpO1xuICAgIFxuICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuICAgIGFzc2lnbm1lbnRzTGlzdC5sb2FkKG1lZXRpbmdDcmVhdGVkLCBhc3NpZ25tZW50c1NlYXJjaFRleHQsIDEsIGFzc2lnbm1lbnRzUGFnZVNpemUpLnRoZW4oZnVuY3Rpb24gKCl7XG4gICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG5cbiAgICAgICAgYXNzaWdubWVudHNTZWFyY2hTdWJtaXR0ZWQgPSB0cnVlO1xuICAgIFxuICAgICAgICBzZWFyY2hCYXIuZGlzbWlzc1NvZnRJbnB1dCgpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBvbkNsZWFyKGFyZ3MpIHtcbiAgICBzZWFyY2hCYXIudGV4dCA9IFwiXCI7XG4gICAgYXNzaWdubWVudHNTZWFyY2hUZXh0ID0gXCJcIjtcblxuICAgIGlmIChhc3NpZ25tZW50c1NlYXJjaFN1Ym1pdHRlZCkge1xuICAgICAgICBhc3NpZ25tZW50c0xpc3QuZW1wdHkoKTtcbiAgICAgICAgXG4gICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuICAgICAgICBhc3NpZ25tZW50c0xpc3QubG9hZChtZWV0aW5nQ3JlYXRlZCwgYXNzaWdubWVudHNTZWFyY2hUZXh0LCAxLCBhc3NpZ25tZW50c1BhZ2VTaXplKS50aGVuKGZ1bmN0aW9uICgpe1xuICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcblxuICAgICAgICAgICAgYXNzaWdubWVudHNTZWFyY2hTdWJtaXR0ZWQgPSBmYWxzZTtcbiAgICAgICAgXG4gICAgICAgICAgICBzZWFyY2hCYXIuZGlzbWlzc1NvZnRJbnB1dCgpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uSXRlbUxvYWRpbmcoYXJncykge1xuICAgIGlmIChwbGF0Zm9ybS5pc0lPUykge1xuICAgICAgICB2YXIgY2VsbCA9IGFyZ3MuaW9zO1xuXG4gICAgICAgIGNlbGwuc2VsZWN0aW9uU3R5bGUgPSBVSVRhYmxlVmlld0NlbGxTZWxlY3Rpb25TdHlsZS5VSVRhYmxlVmlld0NlbGxTZWxlY3Rpb25TdHlsZU5vbmU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkl0ZW1UYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGlmIChwbGF0Zm9ybS5pc0lPUykge1xuICAgICAgICAgICAgaWYgKHN3aXBlT3Blbikge1xuICAgICAgICAgICAgICAgIHN3aXBlZEl0ZW0uYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZTogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDBcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHN3aXBlT3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgdmlldyA9IGFyZ3MudmlldztcbiAgICAgICAgICAgICAgICB2YXIgbW9kZWwgPSB2aWV3LmJpbmRpbmdDb250ZXh0O1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGVOYW1lOiBcImFzc2lnbm1lbnRzL2Fzc2lnbm1lbnQvYXNzaWdubWVudC1wYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IG1vZGVsLFxuICAgICAgICAgICAgICAgICAgICBjbGVhckhpc3Rvcnk6IGZhbHNlXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uTG9hZE1vcmVJdGVtcyhhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIGFzc2lnbm1lbnRzTGlzdENvdW50ID0gYXNzaWdubWVudHNMaXN0Lmxlbmd0aDtcbiAgICAgICAgdmFyIGFzc2lnbm1lbnRzUGFnZU51bWJlciA9IE1hdGguY2VpbChhc3NpZ25tZW50c0xpc3RDb3VudCAvIGFzc2lnbm1lbnRzUGFnZVNpemUpICsgMTtcbiAgICAgICAgdmFyIGFzc2lnbm1lbnRzUmVtYWluZGVyID0gYXNzaWdubWVudHNMaXN0Q291bnQgJSBhc3NpZ25tZW50c1BhZ2VTaXplO1xuXG4gICAgICAgIGlmIChhc3NpZ25tZW50c1JlbWFpbmRlciAhPT0gMCAmJiBhc3NpZ25tZW50c1JlbWFpbmRlciA8IGFzc2lnbm1lbnRzUGFnZVNpemUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuICAgICAgICBhc3NpZ25tZW50c0xpc3QubG9hZChtZWV0aW5nQ3JlYXRlZCwgYXNzaWdubWVudHNTZWFyY2hUZXh0LCBhc3NpZ25tZW50c1BhZ2VOdW1iZXIsIGFzc2lnbm1lbnRzUGFnZVNpemUpLnRoZW4oZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkFkZENsaWNrKGFyZ3MpIHtcbiAgICB2YXIgdmlldyA9IGFyZ3Mub2JqZWN0O1xuICAgIFxuICAgIHZhciBtb2RlbCA9IHtcbiAgICAgICAgbWVldGluZ0lkOiAwLFxuICAgICAgICBtZWV0aW5nRGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgdmVudWVUeXBlSWQ6IDEsXG4gICAgICAgIHZlbnVlVHlwZTogXCJJbiBQZXJzb25cIixcbiAgICAgICAgYXR0ZW5kZWVUeXBlSWQ6IDEsXG4gICAgICAgIGF0dGVuZGVlVHlwZTogXCJTdGFmZiBPbmx5XCIsXG4gICAgICAgIGxvYmJ5aXN0SWQ6IGdsb2JhbC5wZXJzb25JZCxcbiAgICAgICAgbG9iYnlpc3Q6IG51bGwsXG4gICAgICAgIGxlZ2lzbGF0b3JJZDogdmlldy5iaW5kaW5nQ29udGV4dC5sZWdpc2xhdG9ySWQsXG4gICAgICAgIGZ1bGxOYW1lOiB2aWV3LmJpbmRpbmdDb250ZXh0LmxlZ2lzbGF0b3IsXG4gICAgICAgIG5hbWU6IG51bGwsXG4gICAgICAgIHBjaUluaXRpYXRpdmVzOiB2aWV3LmJpbmRpbmdDb250ZXh0LmluaXRpYXRpdmUsXG4gICAgICAgIHN1cnZleXM6IHZpZXcuYmluZGluZ0NvbnRleHQuc3VydmV5LFxuICAgICAgICBwY2lBdHRlbmRlZXM6IGdsb2JhbC5jdXJyZW50VXNlcixcbiAgICAgICAgcHJpbWFyeU9mZmljZUNvbnRhY3Q6IG51bGwsXG4gICAgICAgIG1lZXRpbmdMb2NhdGlvbklkOiAxLFxuICAgICAgICBsb2NhdGlvbjogXCJNZWV0aW5nIGluIERpc3RyaWN0XCIsXG4gICAgICAgIGxlZ2lzbGF0b3JTdGFmZkF0dGVuZGVlczogbnVsbCxcbiAgICAgICAgZm9sbG93VXBOZWVkZWQ6IGZhbHNlLFxuICAgICAgICBmb2xsb3dVcERhdGU6IG51bGwsXG4gICAgICAgIGZvbGxvd1VwTm90ZXM6IG51bGwsXG4gICAgICAgIGNyZWF0b3JJZDogZ2xvYmFsLnBlcnNvbklkLFxuICAgICAgICBub3RlczogbnVsbCxcbiAgICAgICAgaW5pdGlhdGl2ZUlkOiB2aWV3LmJpbmRpbmdDb250ZXh0LmluaXRpYXRpdmVJZCxcbiAgICAgICAgc3VydmV5SWQ6IHZpZXcuYmluZGluZ0NvbnRleHQuc3VydmV5SWQsXG4gICAgICAgIGFzc2lnbm1lbnRJZDogdmlldy5iaW5kaW5nQ29udGV4dC5hc3NpZ25tZW50SWRcbiAgICB9XG5cbiAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgIG1vZHVsZU5hbWU6IFwibWVldGluZ3MvbWVldGluZy9tZWV0aW5nLXBhZ2VcIixcbiAgICAgICAgY29udGV4dDogbW9kZWwsXG4gICAgICAgIGNsZWFySGlzdG9yeTogZmFsc2VcbiAgICB9O1xuXG4gICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG5cbiAgICBpZiAoc3dpcGVPcGVuKSB7XG4gICAgICAgIHN3aXBlZEl0ZW0uYW5pbWF0ZSh7XG4gICAgICAgICAgICB0cmFuc2xhdGU6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgZHVyYXRpb246IDIwMFxuICAgICAgICB9KTtcblxuICAgICAgICBzd2lwZU9wZW4gPSBmYWxzZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uTGF5b3V0TG9hZGVkKGFyZ3MpIHtcbiAgICB2YXIgbGF5b3V0ID0gYXJncy5vYmplY3Q7XG5cbiAgICBpZiAocGxhdGZvcm0uaXNBbmRyb2lkKSB7XG4gICAgICAgIGxheW91dC5vbihnZXN0dXJlcy5HZXN0dXJlVHlwZXMudGFwLCBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChzd2lwZU9wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpcGVkSXRlbS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZTogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICBzd2lwZU9wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmlldyA9IGFyZ3MudmlldztcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGVsID0gdmlldy5iaW5kaW5nQ29udGV4dDtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlTmFtZTogXCJhc3NpZ25tZW50cy9hc3NpZ25tZW50L2Fzc2lnbm1lbnQtcGFnZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dDogbW9kZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckhpc3Rvcnk6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoKGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbGF5b3V0Lm9uKGdlc3R1cmVzLkdlc3R1cmVUeXBlcy5wYW4sIGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBsYXlvdXQgPSBhcmdzLm9iamVjdDtcbiAgICAgICAgICAgIHZhciB2aWV3ID0gYXJncy52aWV3O1xuXG4gICAgICAgICAgICBpZiAoc3dpcGVPcGVuICYmIHN3aXBlZEl0ZW0gIT09IHVuZGVmaW5lZCAmJiBzd2lwZWRJdGVtICE9IGxheW91dCkge1xuICAgICAgICAgICAgICAgIHN3aXBlZEl0ZW0uYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZTogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWlzU2Nyb2xsaW5nICYmICFpc1N3aXBpbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoYXJncy5kZWx0YVkpID4gTWF0aC5hYnMoYXJncy5kZWx0YVgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzU2Nyb2xsaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaXNTd2lwaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhhcmdzLmRlbHRhWCkgPiBNYXRoLmFicyhhcmdzLmRlbHRhWSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNTY3JvbGxpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaXNTd2lwaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc1Njcm9sbGluZykge1xuICAgICAgICAgICAgICAgIGlmIChzd2lwZU9wZW4gJiYgc3dpcGVkSXRlbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXBlZEl0ZW0uYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGU6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChhcmdzLnN0YXRlID09PSBnZXN0dXJlcy5HZXN0dXJlU3RhdGVUeXBlcy5lbmRlZCkge1xuICAgICAgICAgICAgICAgICAgICBpc1Njcm9sbGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNTd2lwaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZpZXcuYmluZGluZ0NvbnRleHQubWVldGluZ0NyZWF0ZWQgPT09IFwiTlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhc3NpZ25tZW50c0xpc3RWaWV3ID0gcGFnZS5nZXRWaWV3QnlJZChcImFzc2lnbm1lbnRzTGlzdFZpZXdcIik7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChwbGF0Zm9ybS5pc0FuZHJvaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbm1lbnRzTGlzdFZpZXcubmF0aXZlVmlldy5yZXF1ZXN0RGlzYWxsb3dJbnRlcmNlcHRUb3VjaEV2ZW50KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBsYXRmb3JtLmlzSU9TKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NpZ25tZW50c0xpc3RWaWV3Lmlvcy5zY3JvbGxFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAgICAgc3dpcGVPcGVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgc3dpcGVkSXRlbSA9IGxheW91dDtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3WCA9IGxheW91dC50cmFuc2xhdGVYICsgYXJncy5kZWx0YVg7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1ggPj0gTUlOX1ggJiYgbmV3WCA8PSBNQVhfWCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGF5b3V0LnRyYW5zbGF0ZVggPSBuZXdYO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy5zdGF0ZSA9PT0gZ2VzdHVyZXMuR2VzdHVyZVN0YXRlVHlwZXMuZW5kZWQgJiYgIShuZXdYID09PSBNSU5fWCB8fCBuZXdYID09PSBNQVhfWCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluaXQgb3VyIGRlc3RpbmF0aW9uIFggY29vcmRpbmF0ZSB0byAwLCBpbiBjYXNlIG5laXRoZXIgVEhSRVNIT0xEIGhhcyBiZWVuIGhpdFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRlc3RYID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdXNlciBoaXQgb3IgY3Jvc3NlZCB0aGUgVEhFU0hPTEQgZWl0aGVyIHdheSwgbGV0J3MgZmluaXNoIGluIHRoYXQgZGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3WCA8PSBNSU5fWCAqIFRIUkVTSE9MRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RYID0gTUlOX1g7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5ld1ggPj0gTUFYX1ggKiBUSFJFU0hPTEQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXN0WCA9IE1BWF9YO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlOiB7IHg6IGRlc3RYLCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAocGxhdGZvcm0uaXNBbmRyb2lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NpZ25tZW50c0xpc3RWaWV3Lm5hdGl2ZVZpZXcucmVxdWVzdERpc2FsbG93SW50ZXJjZXB0VG91Y2hFdmVudChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxhdGZvcm0uaXNJT1MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbm1lbnRzTGlzdFZpZXcuaW9zLnNjcm9sbEVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaXNTd2lwaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaXNTd2lwaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5leHBvcnRzLm9uTmF2aWdhdGluZ1RvID0gb25OYXZpZ2F0aW5nVG87XG5leHBvcnRzLm9uU2VsZWN0ZWRJbmRleENoYW5nZWQgPSBvblNlbGVjdGVkSW5kZXhDaGFuZ2VkO1xuZXhwb3J0cy5vblNlYXJjaEJhckxvYWRlZCA9IG9uU2VhcmNoQmFyTG9hZGVkO1xuZXhwb3J0cy5vblN1Ym1pdCA9IG9uU3VibWl0O1xuZXhwb3J0cy5vbkNsZWFyID0gb25DbGVhcjtcbmV4cG9ydHMub25JdGVtTG9hZGluZyA9IG9uSXRlbUxvYWRpbmc7XG5leHBvcnRzLm9uSXRlbVRhcCA9IG9uSXRlbVRhcDtcbmV4cG9ydHMub25Mb2FkTW9yZUl0ZW1zID0gb25Mb2FkTW9yZUl0ZW1zO1xuZXhwb3J0cy5vbkxheW91dExvYWRlZCA9IG9uTGF5b3V0TG9hZGVkO1xuZXhwb3J0cy5vbkFkZENsaWNrID0gb25BZGRDbGljaztcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9hc3NpZ25tZW50cy9hc3NpZ25tZW50cy1wYWdlLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vYXNzaWdubWVudHMvYXNzaWdubWVudHMtcGFnZS5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJcbm1vZHVsZS5leHBvcnRzID0gXCI8UGFnZSBuYXZpZ2F0aW5nVG89XFxcIm9uTmF2aWdhdGluZ1RvXFxcIiBjbGFzcz1cXFwicGFnZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly9zY2hlbWFzLm5hdGl2ZXNjcmlwdC5vcmcvdG5zLnhzZFxcXCIgPlxcbiAgICA8QWN0aW9uQmFyIGNsYXNzPVxcXCJhY3Rpb24tYmFyXFxcIiAvPlxcblxcbiAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCJhdXRvLCBhdXRvLCAqXFxcIiBoZWlnaHQ9XFxcIjEwMCVcXFwiIHdpZHRoPVxcXCIxMDAlXFxcIj5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcInRvcFxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIj5cXG4gICAgICAgICAgICA8U2VhcmNoQmFyIGlkPVxcXCJzZWFyY2hCYXJcXFwiIGhpbnQ9XFxcIlNlYXJjaFxcXCIgdGV4dD1cXFwiXFxcIiBsb2FkZWQ9XFxcIm9uU2VhcmNoQmFyTG9hZGVkXFxcIiBzdWJtaXQ9XFxcIm9uU3VibWl0XFxcIiBjbGVhcj1cXFwib25DbGVhclxcXCIgLz5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIxXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCI+XFxuICAgICAgICAgICAgPFNlZ21lbnRlZEJhciBjbGFzcz1cXFwic2VnbWVudGVkLWJhclxcXCIgc2VsZWN0ZWRJbmRleENoYW5nZWQ9XFxcIm9uU2VsZWN0ZWRJbmRleENoYW5nZWRcXFwiPlxcbiAgICAgICAgICAgICAgICA8U2VnbWVudGVkQmFyLml0ZW1zPlxcbiAgICAgICAgICAgICAgICAgICAgPFNlZ21lbnRlZEJhckl0ZW0gdGl0bGU9XFxcIk9wZW4gQXNzaWdubWVudHNcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8U2VnbWVudGVkQmFySXRlbSB0aXRsZT1cXFwiQ2xvc2VkIEFzc2lnbm1lbnRzXFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8L1NlZ21lbnRlZEJhci5pdGVtcz5cXG4gICAgICAgICAgICA8L1NlZ21lbnRlZEJhcj5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIyXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiPlxcbiAgICAgICAgICAgIDxMaXN0VmlldyBpZD1cXFwiYXNzaWdubWVudHNMaXN0Vmlld1xcXCIgaXRlbXM9XFxcInt7IGFzc2lnbm1lbnRzTGlzdCB9fVxcXCIgaXRlbUxvYWRpbmc9XFxcIm9uSXRlbUxvYWRpbmdcXFwiIGl0ZW1UYXA9XFxcIm9uSXRlbVRhcFxcXCIgbG9hZE1vcmVJdGVtcz1cXFwib25Mb2FkTW9yZUl0ZW1zXFxcIiBoZWlnaHQ9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgICAgICAgICA8TGlzdFZpZXcuaXRlbVRlbXBsYXRlPlxcbiAgICAgICAgICAgICAgICAgICAgPEFic29sdXRlTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gQkFDS0dST1VORDogU3dpcGUgQWN0aW9ucyAtLT5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCA4MFxcXCIgYW5kcm9pZDpyb3dzPVxcXCI2N1xcXCIgaW9zOnJvd3M9XFxcIjc1XFxcIiB3aWR0aD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCBjb2w9XFxcIjBcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbD1cXFwiMVxcXCIgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiKiwgYXV0bywgYXV0bywgKlxcXCIgdGFwPVxcXCJvbkFkZENsaWNrXFxcIiBjbGFzcz1cXFwic3dpcGUtaWNvbnMgb3JhbmdlXFxcIiBcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk9XFxcInt7IG1lZXRpbmdDcmVhdGVkID09PSAnWScgPyAnY29sbGFwc2UnIDogJ3Zpc2libGUnIH19XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMVxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCImI3hmMDczO1xcXCIgY2xhc3M9XFxcInRhYi1pY29uXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMlxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJBZGQgTWVldGluZ1xcXCIgY2xhc3M9XFxcInRhYi1sYWJlbFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjNcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gRk9SRUdST1VORDogTGlzdCBWaWV3IEl0ZW0gRGV0YWlscyAtLT5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgbG9hZGVkPVxcXCJvbkxheW91dExvYWRlZFxcXCIgYmFja2dyb3VuZENvbG9yPVxcXCJ3aGl0ZVxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCIqXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cXFwie3sgbGVnaXNsYXRvciB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLW1haW4tdG9wXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcImF1dG8sICpcXFwiIHJvd3M9XFxcIipcXFwiIHZpc2liaWxpdHk9XFxcInt7IGluaXRpYXRpdmUubGVuZ3RoID4gMCA/ICd2aXNpYmxlJyA6ICdjb2xsYXBzZScgfX1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIkluaXRpYXRpdmU6IFxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1Yi10aXRsZVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJ7eyBpbml0aWF0aXZlIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCJhdXRvLCAqXFxcIiByb3dzPVxcXCIqXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJTdXJ2ZXk6IFxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1Yi10aXRsZVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJ7eyBzdXJ2ZXkgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1zdWJcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwiJiN4ZjEwNTtcXFwiIGNsYXNzPVxcXCJmbi1saXN0LXZpZXctaXRlbVxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcIm1pZGRsZVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICA8L0Fic29sdXRlTGF5b3V0PlxcbiAgICAgICAgICAgICAgICA8L0xpc3RWaWV3Lml0ZW1UZW1wbGF0ZT5cXG4gICAgICAgICAgICA8L0xpc3RWaWV3PlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgIDxBY3Rpdml0eUluZGljYXRvciBidXN5PVxcXCJ7eyBpc0xvYWRpbmcgfX1cXFwiIGFuZHJvaWQ6aGVpZ2h0PVxcXCIyNSVcXFwiIGFuZHJvaWQ6d2lkdGg9XFxcIjI1JVxcXCIgaW9zLmFjdGl2aXR5SW5kaWNhdG9yVmlld1N0eWxlPVxcXCJ3aGl0ZUxhcmdlXFxcIiByb3dTcGFuPVxcXCIzXFxcIiBjb2xTcGFuPVxcXCIxXFxcIiAvPlxcbiAgICA8L0dyaWRMYXlvdXQ+XFxuPC9QYWdlPlxcblwiOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnRzLXBhZ2UueG1sXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcIm1hcmt1cFwiLCBwYXRoOiBcIi4vYXNzaWdubWVudHMvYXNzaWdubWVudHMtcGFnZS54bWxcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3Qgb2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgT2JzZXJ2YWJsZUFycmF5ID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZS1hcnJheVwiKS5PYnNlcnZhYmxlQXJyYXk7XG52YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxuZnVuY3Rpb24gQXNzaWdubWVudHNWaWV3TW9kZWwoaXRlbXMpIHtcbiAgICBjb25zdCB2aWV3TW9kZWwgPSBuZXcgT2JzZXJ2YWJsZUFycmF5KGl0ZW1zKTtcbiAgICBcbiAgICB2aWV3TW9kZWwubG9hZCA9IGZ1bmN0aW9uKG1lZXRpbmdDcmVhdGVkLCBmaWx0ZXIsIHBhZ2UsIHBhZ2VTaXplKSB7XG4gICAgICAgIHJldHVybiBodHRwLnJlcXVlc3Qoe1xuICAgICAgICAgICAgdXJsOiBnbG9iYWwuYXBpQmFzZVNlcnZpY2VVcmwgKyBcImFzc2lnbm1lbnRzZmlsdGVyP21lZXRpbmdDcmVhdGVkPVwiICsgbWVldGluZ0NyZWF0ZWQgKyBcIiZmaWx0ZXI9XCIgKyBmaWx0ZXIucmVwbGFjZSgvIC9nLCBcIiUyMFwiKSArIFwiJnBhZ2U9XCIgKyBwYWdlICsgXCImcGFnZVNpemU9XCIgKyBwYWdlU2l6ZSArIFwiJmNvbXBhbnlJZD1cIiArIGdsb2JhbC5jb21wYW55SWQsXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLCBcIkF1dGhvcml6YXRpb25cIjogZ2xvYmFsLnRva2VuIH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXNwb25zZS5jb250ZW50LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzdWx0KTtcblxuICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGFzc2lnbm1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXNzaWdubWVudC5Bc3NpZ25tZW50SWQgIT09IG51bGwgJiYgYXNzaWdubWVudC5Bc3NpZ25tZW50SWQgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmlld01vZGVsLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWdubWVudElkOiBhc3NpZ25tZW50LkFzc2lnbm1lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhbnlJZDogYXNzaWdubWVudC5Db21wYW55SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wYW55OiBhc3NpZ25tZW50LkNvbXBhbnksXG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWF0aXZlSWQ6IGFzc2lnbm1lbnQuSW5pdGlhdGl2ZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhdGl2ZTogYXNzaWdubWVudC5Jbml0aWF0aXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VydmV5SWQ6IGFzc2lnbm1lbnQuU3VydmV5SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdXJ2ZXk6IGFzc2lnbm1lbnQuU3VydmV5LFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVnaXNsYXRvcklkOiBhc3NpZ25tZW50LkxlZ2lzbGF0b3JJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZ2lzbGF0b3I6IGFzc2lnbm1lbnQuTGVnaXNsYXRvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnR5OiBhc3NpZ25tZW50LlBhcnR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFydHlOYW1lOiBhc3NpZ25tZW50LlBhcnR5TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiBhc3NpZ25tZW50LlN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVOYW1lOiBhc3NpZ25tZW50LlN0YXRlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1pdHRlZUlkczogYXNzaWdubWVudC5Db21taXR0ZWVJZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21taXR0ZWVzOiBhc3NpZ25tZW50LkNvbW1pdHRlZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkRGF0ZTogYXNzaWdubWVudC5DcmVhdGVkRGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRpb25EYXRlOiBhc3NpZ25tZW50LkNvbXBsZXRpb25EYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWdubWVudFN0YXR1c0NvZGU6IGFzc2lnbm1lbnQuQXNzaWdubWVudFN0YXR1c0NvZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NpZ25tZW50U3RhdHVzOiBhc3NpZ25tZW50LkFzc2lnbm1lbnRTdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZWV0aW5nQ3JlYXRlZDogYXNzaWdubWVudC5NZWV0aW5nQ3JlYXRlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lZXRpbmdJZDogYXNzaWdubWVudC5NZWV0aW5nSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2JieWlzdElkOiBhc3NpZ25tZW50LkxvYmJ5aXN0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2JieWlzdDogYXNzaWdubWVudC5Mb2JieWlzdFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZpZXdNb2RlbC5lbXB0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB3aGlsZSAodmlld01vZGVsLmxlbmd0aCkge1xuICAgICAgICAgICAgdmlld01vZGVsLnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gdmlld01vZGVsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFzc2lnbm1lbnRzVmlld01vZGVsO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnRzLXZpZXctbW9kZWwuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9hc3NpZ25tZW50cy9hc3NpZ25tZW50cy12aWV3LW1vZGVsLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsImlmIChnbG9iYWwuVE5TX1dFQlBBQ0spIHtcbiAgICAvLyByZWdpc3RlcnMgdG5zLWNvcmUtbW9kdWxlcyBVSSBmcmFtZXdvcmsgbW9kdWxlc1xuICAgIHJlcXVpcmUoXCJidW5kbGUtZW50cnktcG9pbnRzXCIpO1xuXG4gICAgLy8gcmVnaXN0ZXIgYXBwbGljYXRpb24gbW9kdWxlc1xuICAgIC8vIFRoaXMgd2lsbCByZWdpc3RlciBlYWNoIGBwYWdlYCBwb3N0Zml4ZWQgeG1sLCBjc3MsIGpzLCB0cywgc2NzcyBldGMuIGluIHRoZSBhcHAvIGZvbGRlclxuICAgIGNvbnN0IGNvbnRleHQgPSByZXF1aXJlLmNvbnRleHQoXCJ+L1wiLCB0cnVlLCAvKHBhZ2V8ZnJhZ21lbnQpXFwuKHhtbHxjc3N8anN8dHN8c2NzcykkLyk7XG4gICAgZ2xvYmFsLnJlZ2lzdGVyV2VicGFja01vZHVsZXMoY29udGV4dCk7XG59XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vYnVuZGxlLWNvbmZpZy5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL2J1bmRsZS1jb25maWcuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3QgQ29tbWl0dGVlVmlld01vZGVsID0gcmVxdWlyZShcIi4vY29tbWl0dGVlLXZpZXctbW9kZWxcIik7XG5jb25zdCBvYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBmcmFtZU1vZHVsZSA9IHJlcXVpcmUoXCJ1aS9mcmFtZVwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG52YXIgcGFnZTtcblxudmFyIGNvbW1pdHRlZUxpc3QgPSBuZXcgQ29tbWl0dGVlVmlld01vZGVsKFtdKTtcblxudmFyIHBhZ2VEYXRhID0gbmV3IG9ic2VydmFibGVNb2R1bGUuZnJvbU9iamVjdCh7XG4gICAgY29tbWl0dGVlTGlzdDogY29tbWl0dGVlTGlzdCxcbiAgICBpc0xvYWRpbmc6IGZhbHNlXG59KTtcblxuZnVuY3Rpb24gb25OYXZpZ2F0aW5nVG8oYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHBhZ2UgPSBhcmdzLm9iamVjdDtcbiAgICAgICAgXG4gICAgICAgIHBhZ2UuYWN0aW9uQmFyLnRpdGxlID0gXCJDb21taXR0ZWVcIjtcblxuICAgICAgICB2YXIgbmF2aWdhdGlvbkNvbnRleHQgPSBwYWdlLm5hdmlnYXRpb25Db250ZXh0O1xuXG4gICAgICAgIHZhciBjb21taXR0ZWVOYW1lID0gcGFnZS5nZXRWaWV3QnlJZChcImNvbW1pdHRlZU5hbWVcIik7XG4gICAgICAgIHZhciBjb21taXR0ZWUgPSBuYXZpZ2F0aW9uQ29udGV4dC5jb21taXR0ZWVOYW1lO1xuICAgICAgICB2YXIgbWF4TGVuZ3RoID0gMzU7XG5cbiAgICAgICAgaWYgKGNvbW1pdHRlZS5sZW5ndGggPiBtYXhMZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBtYXhMZW5ndGg7IGkgPiAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBjb21taXR0ZWUuaW5kZXhPZihcIiBcIiwgaSk7XG5cbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPiAtMSAmJiBwb3NpdGlvbiA8PSBtYXhMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tbWl0dGVlID0gY29tbWl0dGVlLnN1YnN0cigwLCBwb3NpdGlvbikgKyBcIi4uLlwiXG5cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29tbWl0dGVlTmFtZS50ZXh0ID0gY29tbWl0dGVlO1xuXG4gICAgICAgIGNvbW1pdHRlZUxpc3QuZW1wdHkoKTtcblxuICAgICAgICBpZiAoY29tbWl0dGVlTGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcbiAgICBcbiAgICAgICAgICAgIGNvbW1pdHRlZUxpc3QubG9hZChuYXZpZ2F0aW9uQ29udGV4dC5jb21taXR0ZWVJZCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBwYWdlRGF0YTtcbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25CYWNrVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkuZ29CYWNrKCk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkl0ZW1UYXAoYXJncykge1xuICAgIHZhciB2aWV3ID0gYXJncy52aWV3O1xuICAgIHZhciBtb2RlbCA9IHZpZXcuYmluZGluZ0NvbnRleHQ7XG5cbiAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgIG1vZHVsZU5hbWU6IFwibGVnaXNsYXRvcnMvbGVnaXNsYXRvci9sZWdpc2xhdG9yLXBhZ2VcIixcbiAgICAgICAgY29udGV4dDogbW9kZWwsXG4gICAgICAgIGNsZWFySGlzdG9yeTogZmFsc2VcbiAgICB9O1xuXG4gICAgdHJ5XG4gICAge1xuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkubmF2aWdhdGUobmF2aWdhdGlvbkVudHJ5KTtcbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0cy5vbk5hdmlnYXRpbmdUbyA9IG9uTmF2aWdhdGluZ1RvO1xuZXhwb3J0cy5vbkJhY2tUYXAgPSBvbkJhY2tUYXA7XG5leHBvcnRzLm9uSXRlbVRhcCA9IG9uSXRlbVRhcDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9jb21taXR0ZWVzL2NvbW1pdHRlZS9jb21taXR0ZWUtcGFnZS5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL2NvbW1pdHRlZXMvY29tbWl0dGVlL2NvbW1pdHRlZS1wYWdlLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxubW9kdWxlLmV4cG9ydHMgPSBcIjxQYWdlIG5hdmlnYXRpbmdUbz1cXFwib25OYXZpZ2F0aW5nVG9cXFwiIGNsYXNzPVxcXCJwYWdlXFxcIiB4bWxucz1cXFwiaHR0cDovL3NjaGVtYXMubmF0aXZlc2NyaXB0Lm9yZy90bnMueHNkXFxcIiA+XFxuICAgIDxBY3Rpb25CYXIgY2xhc3M9XFxcImFjdGlvbi1iYXJcXFwiPlxcbiAgICAgICAgPGFuZHJvaWQ+XFxuICAgICAgICAgICAgPE5hdmlnYXRpb25CdXR0b24gYW5kcm9pZC5zeXN0ZW1JY29uPVxcXCJpY19tZW51X2JhY2tcXFwiIHRhcD1cXFwib25CYWNrVGFwXFxcIiAvPlxcbiAgICAgICAgPC9hbmRyb2lkPlxcbiAgICA8L0FjdGlvbkJhcj5cXG5cXG4gICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiYXV0bywgKlxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIiB3aWR0aD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgY2xhc3M9XFxcInZpZXctdGl0bGVcXFwiPlxcbiAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwiY29tbWl0dGVlTmFtZVxcXCIgdGV4dD1cXFwiXFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiIC8+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMVxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIj5cXG4gICAgICAgICAgICA8TGlzdFZpZXcgaXRlbXM9XFxcInt7IGNvbW1pdHRlZUxpc3QgfX1cXFwiIGl0ZW1UYXA9XFxcIm9uSXRlbVRhcFxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIj5cXG4gICAgICAgICAgICAgICAgPExpc3RWaWV3Lml0ZW1UZW1wbGF0ZT5cXG4gICAgICAgICAgICAgICAgICAgIDxTdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCIqXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJtaWRkbGVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcInt7IGZ1bGxOYW1lIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbWFpbi10b3BcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCJhdXRvLCAqXFxcIiByb3dzPVxcXCIqXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcInt7IHRpdGxlIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwie3sgc2lkZSB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1YlxcXCIgdmlzaWJpbGl0eT1cXFwie3sgc2lkZS5sZW5ndGggPiAwID8gJ3Zpc2libGUnIDogJ2NvbGxhcHNlJyB9fVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCImI3hmMTA1O1xcXCIgY2xhc3M9XFxcImZuLWxpc3Qtdmlldy1pdGVtXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgIDwvTGlzdFZpZXcuaXRlbVRlbXBsYXRlPlxcbiAgICAgICAgICAgIDwvTGlzdFZpZXc+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPEFjdGl2aXR5SW5kaWNhdG9yIGJ1c3k9XFxcInt7IGlzTG9hZGluZyB9fVxcXCIgYW5kcm9pZDpoZWlnaHQ9XFxcIjI1JVxcXCIgYW5kcm9pZDp3aWR0aD1cXFwiMjUlXFxcIiBpb3MuYWN0aXZpdHlJbmRpY2F0b3JWaWV3U3R5bGU9XFxcIndoaXRlTGFyZ2VcXFwiIHJvd1NwYW49XFxcIjNcXFwiIGNvbFNwYW49XFxcIjFcXFwiIC8+XFxuICAgIDwvR3JpZExheW91dD5cXG48L1BhZ2U+XFxuXCI7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vY29tbWl0dGVlcy9jb21taXR0ZWUvY29tbWl0dGVlLXBhZ2UueG1sXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcIm1hcmt1cFwiLCBwYXRoOiBcIi4vY29tbWl0dGVlcy9jb21taXR0ZWUvY29tbWl0dGVlLXBhZ2UueG1sXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IG9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpO1xudmFyIE9ic2VydmFibGVBcnJheSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGUtYXJyYXlcIikuT2JzZXJ2YWJsZUFycmF5O1xudmFyIGh0dHAgPSByZXF1aXJlKFwiaHR0cFwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG5cbmZ1bmN0aW9uIENvbW1pdHRlZVZpZXdNb2RlbChpdGVtcykge1xuICAgIGNvbnN0IHZpZXdNb2RlbCA9IG5ldyBPYnNlcnZhYmxlQXJyYXkoaXRlbXMpO1xuXG4gICAgdmlld01vZGVsLmxvYWQgPSBmdW5jdGlvbihjb21taXR0ZWVJZCkge1xuICAgICAgICByZXR1cm4gaHR0cC5yZXF1ZXN0KHtcbiAgICAgICAgICAgIHVybDogZ2xvYmFsLmFwaUJhc2VTZXJ2aWNlVXJsICsgXCJjb21taXR0ZWVtZW1iZXJzP2NvbW1pdHRlZUlkPVwiICsgY29tbWl0dGVlSWQsXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLCBcIkF1dGhvcml6YXRpb25cIjogZ2xvYmFsLnRva2VuIH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXNwb25zZS5jb250ZW50LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzdWx0KTtcblxuICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGxlZ2lzbGF0b3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2lkZSA9IGxlZ2lzbGF0b3IuU2lkZTtcblxuICAgICAgICAgICAgICAgIGlmIChzaWRlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2lkZSA9IFwiIChcIiArIHNpZGUgKyBcIilcIjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2aWV3TW9kZWwucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1pdHRlZUlkOiBsZWdpc2xhdG9yLkNvbW1pdHRlZUlkLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBsZWdpc2xhdG9yLk5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHN1YmNvbW1pdHRlZTogbGVnaXNsYXRvci5TdWJjb21taXR0ZWUsXG4gICAgICAgICAgICAgICAgICAgIHNpZGU6IHNpZGUsXG4gICAgICAgICAgICAgICAgICAgIHJhbms6IGxlZ2lzbGF0b3IuUmFuayxcbiAgICAgICAgICAgICAgICAgICAgYmlvR3VpZGVJZDogbGVnaXNsYXRvci5CaW9HdWlkZUlkLFxuICAgICAgICAgICAgICAgICAgICBsZWdpc2xhdG9ySWQ6IGxlZ2lzbGF0b3IuTGVnaXNsYXRvcklkLFxuICAgICAgICAgICAgICAgICAgICBmdWxsTmFtZTogbGVnaXNsYXRvci5GdWxsTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGxlZ2lzbGF0b3IuVGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIG9mZmljZTogbGVnaXNsYXRvci5PZmZpY2UsXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlOiBsZWdpc2xhdG9yLlN0YXRlLFxuICAgICAgICAgICAgICAgICAgICBzdGF0ZU5hbWU6IGxlZ2lzbGF0b3IuU3RhdGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICBwaG9uZTogbGVnaXNsYXRvci5QaG9uZSxcbiAgICAgICAgICAgICAgICAgICAgdGVybVN0YXJ0OiBsZWdpc2xhdG9yLlRlcm1TdGFydCxcbiAgICAgICAgICAgICAgICAgICAgdGVybUVuZDogbGVnaXNsYXRvci5UZXJtRW5kLFxuICAgICAgICAgICAgICAgICAgICBjaGFtYmVyOiBsZWdpc2xhdG9yLkNoYW1iZXIsXG4gICAgICAgICAgICAgICAgICAgIHBhcnR5OiBsZWdpc2xhdG9yLlBhcnR5LFxuICAgICAgICAgICAgICAgICAgICBwYXJ0eU5hbWU6IGxlZ2lzbGF0b3IuUGFydHlOYW1lLFxuICAgICAgICAgICAgICAgICAgICBiaW86IGxlZ2lzbGF0b3IuQmlvUGxhaW5UZXh0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZpZXdNb2RlbC5lbXB0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB3aGlsZSAodmlld01vZGVsLmxlbmd0aCkge1xuICAgICAgICAgICAgdmlld01vZGVsLnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gdmlld01vZGVsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENvbW1pdHRlZVZpZXdNb2RlbDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9jb21taXR0ZWVzL2NvbW1pdHRlZS9jb21taXR0ZWUtdmlldy1tb2RlbC5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL2NvbW1pdHRlZXMvY29tbWl0dGVlL2NvbW1pdHRlZS12aWV3LW1vZGVsLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IENvbW1pdHRlZXNWaWV3TW9kZWwgPSByZXF1aXJlKFwiLi9jb21taXR0ZWVzLXZpZXctbW9kZWxcIik7XG5jb25zdCBwbGF0Zm9ybSA9IHJlcXVpcmUoXCJwbGF0Zm9ybVwiKTtcbmNvbnN0IE9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpO1xudmFyIGZyYW1lTW9kdWxlID0gcmVxdWlyZShcInVpL2ZyYW1lXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcbnZhciBwYWdlO1xudmFyIHNlYXJjaEJhcjtcbnZhciBjb21taXR0ZWVzUGFnZVNpemUgPSAyNTtcbnZhciBjb21taXR0ZWVzU2VhcmNoVGV4dCA9IFwiXCI7XG52YXIgY2hhbWJlcklkID0gMDtcbnZhciBjb21taXR0ZWVzU2VhcmNoU3VibWl0dGVkID0gZmFsc2U7XG5cbnZhciBjb21taXR0ZWVzTGlzdCA9IG5ldyBDb21taXR0ZWVzVmlld01vZGVsKFtdKTtcblxudmFyIHBhZ2VEYXRhID0gbmV3IE9ic2VydmFibGVNb2R1bGUuZnJvbU9iamVjdCh7XG4gICAgY29tbWl0dGVlc0xpc3Q6IGNvbW1pdHRlZXNMaXN0LFxuICAgIGlzTG9hZGluZzogZmFsc2Vcbn0pO1xuXG5mdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICBcbiAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIkNvbW1pdHRlZXNcIjtcbiAgICBcbiAgICAgICAgaWYgKGNvbW1pdHRlZXNTZWFyY2hUZXh0ICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB2YXIgc2VhcmNoQmFyID0gcGFnZS5nZXRWaWV3QnlJZChcInNlYXJjaEJhclwiKTtcblxuICAgICAgICAgICAgc2VhcmNoQmFyLnRleHQgPSBjb21taXR0ZWVzU2VhcmNoVGV4dDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gU2luY2UgdGhlIFBhZ2UgY29udGFpbnMgYSBTZWdtZW50ZWRCYXIsXG4gICAgICAgIC8vIHRoZSBzZWxlY3RlZEluZGV4Q2hhbmdlZCBldmVudCB3aWxsIHBlcmZvcm0gdGhlIGluaXRpYWwgbG9hZCBvZiB0aGUgTGlzdFZpZXcuXG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU2VsZWN0ZWRJbmRleENoYW5nZWQoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGNoYW1iZXJJZCA9IGFyZ3MubmV3SW5kZXg7XG5cbiAgICAgICAgY29tbWl0dGVlc0xpc3QuZW1wdHkoKTtcblxuICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgdHJ1ZSk7XG5cbiAgICAgICAgY29tbWl0dGVlc0xpc3QubG9hZChjaGFtYmVySWQsIGNvbW1pdHRlZXNTZWFyY2hUZXh0LCAxLCBjb21taXR0ZWVzUGFnZVNpemUpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHBhZ2VEYXRhO1xuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblNlYXJjaEJhckxvYWRlZChhcmdzKVxue1xuICAgIHNlYXJjaEJhciA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgaWYgKHBsYXRmb3JtLmlzQW5kcm9pZCkge1xuICAgICAgICBzZWFyY2hCYXIuYW5kcm9pZC5jbGVhckZvY3VzKCk7XG4gICAgfSBlbHNlIGlmIChwbGF0Zm9ybS5pc0lPUykge1xuICAgICAgICAvLyBpT1MgU3R5bGluZ1xuICAgICAgICBzZWFyY2hCYXIuaW9zLnNlYXJjaEJhclN0eWxlID0gVUlTZWFyY2hCYXJTdHlsZS5VSVNlYXJjaEJhclN0eWxlTWluaW1hbDtcbiAgICAgICAgc2VhcmNoQmFyLmlvcy5zaG93c0NhbmNlbEJ1dHRvbiA9IHRydWU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblN1Ym1pdChhcmdzKVxue1xuICAgIHNlYXJjaEJhciA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgY29tbWl0dGVlc1NlYXJjaFRleHQgPSBzZWFyY2hCYXIudGV4dC50cmltKCk7XG5cbiAgICBjb21taXR0ZWVzTGlzdC5lbXB0eSgpO1xuICAgIFxuICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuICAgIGNvbW1pdHRlZXNMaXN0LmxvYWQoY2hhbWJlcklkLCBjb21taXR0ZWVzU2VhcmNoVGV4dCwgMSwgY29tbWl0dGVlc1BhZ2VTaXplKS50aGVuKGZ1bmN0aW9uICgpe1xuICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuXG4gICAgICAgIGNvbW1pdHRlZXNTZWFyY2hTdWJtaXR0ZWQgPSB0cnVlO1xuICAgIFxuICAgICAgICBzZWFyY2hCYXIuZGlzbWlzc1NvZnRJbnB1dCgpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBvbkNsZWFyKGFyZ3MpXG57XG4gICAgc2VhcmNoQmFyLnRleHQgPSBcIlwiO1xuICAgIGNvbW1pdHRlZXNTZWFyY2hUZXh0ID0gXCJcIjtcblxuICAgIGlmIChjb21taXR0ZWVzU2VhcmNoU3VibWl0dGVkKSB7XG4gICAgICAgIGNvbW1pdHRlZXNMaXN0LmVtcHR5KCk7XG4gICAgICAgIFxuICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgdHJ1ZSk7XG5cbiAgICAgICAgY29tbWl0dGVlc0xpc3QubG9hZChjaGFtYmVySWQsIGNvbW1pdHRlZXNTZWFyY2hUZXh0LCAxLCBjb21taXR0ZWVzUGFnZVNpemUpLnRoZW4oZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuXG4gICAgICAgICAgICBjb21taXR0ZWVzU2VhcmNoU3VibWl0dGVkID0gZmFsc2U7XG4gICAgICAgIFxuICAgICAgICAgICAgc2VhcmNoQmFyLmRpc21pc3NTb2Z0SW5wdXQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkl0ZW1UYXAoYXJncykge1xuICAgIHRyeVxuICAgIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYXJncy5pbmRleDtcbiAgICAgICAgdmFyIGNvbW1pdHRlZSA9IGNvbW1pdHRlZXNMaXN0LmdldEl0ZW0oaW5kZXgpO1xuICAgICAgICB2YXIgY29tbWl0dGVlSWQ7XG4gICAgICAgIHZhciBjb21taXR0ZWVOYW1lO1xuXG4gICAgICAgIGlmIChjb21taXR0ZWUuaXNTdWJjb21taXR0ZWUgPT09IFwiVHJ1ZVwiKSB7XG4gICAgICAgICAgICBjb21taXR0ZWVJZCA9IGNvbW1pdHRlZS5zdWJjb21taXR0ZWVJZDtcbiAgICAgICAgICAgIGNvbW1pdHRlZU5hbWUgPSBjb21taXR0ZWUuc3ViY29tbWl0dGVlTmFtZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbW1pdHRlZUlkID0gY29tbWl0dGVlLmNvbW1pdHRlZUlkO1xuICAgICAgICAgICAgY29tbWl0dGVlTmFtZSA9IGNvbW1pdHRlZS5jb21taXR0ZWVOYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICAgICAgbW9kdWxlTmFtZTogXCJjb21taXR0ZWVzL2NvbW1pdHRlZS9jb21taXR0ZWUtcGFnZVwiLFxuICAgICAgICAgICAgY29udGV4dDogeyBcbiAgICAgICAgICAgICAgICBjb21taXR0ZWVJZDogY29tbWl0dGVlSWQsXG4gICAgICAgICAgICAgICAgY29tbWl0dGVlTmFtZTogY29tbWl0dGVlTmFtZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsZWFySGlzdG9yeTogZmFsc2VcbiAgICAgICAgfTtcblxuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkubmF2aWdhdGUobmF2aWdhdGlvbkVudHJ5KTtcbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25Mb2FkTW9yZUl0ZW1zKGFyZ3MpXG57XG4gICAgdmFyIGNvbW1pdHRlZXNMaXN0Q291bnQgPSBjb21taXR0ZWVzTGlzdC5sZW5ndGg7XG4gICAgdmFyIGNvbW1pdHRlZXNQYWdlTnVtYmVyID0gTWF0aC5jZWlsKGNvbW1pdHRlZXNMaXN0Q291bnQgLyBjb21taXR0ZWVzUGFnZVNpemUpICsgMTtcbiAgICB2YXIgY29tbWl0dGVlc1JlbWFpbmRlciA9IGNvbW1pdHRlZXNMaXN0Q291bnQgJSBjb21taXR0ZWVzUGFnZVNpemU7XG5cbiAgICBpZiAoY29tbWl0dGVlc1JlbWFpbmRlciAhPT0gMCAmJiBjb21taXR0ZWVzUmVtYWluZGVyIDwgY29tbWl0dGVlc1BhZ2VTaXplKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuICAgIGNvbW1pdHRlZXNMaXN0LmxvYWQoY2hhbWJlcklkLCBjb21taXR0ZWVzU2VhcmNoVGV4dCwgY29tbWl0dGVlc1BhZ2VOdW1iZXIsIGNvbW1pdHRlZXNQYWdlU2l6ZSkudGhlbihmdW5jdGlvbiAoKXtcbiAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcbiAgICB9KTtcbn1cblxuZXhwb3J0cy5vbk5hdmlnYXRpbmdUbyA9IG9uTmF2aWdhdGluZ1RvO1xuZXhwb3J0cy5vblNlbGVjdGVkSW5kZXhDaGFuZ2VkID0gb25TZWxlY3RlZEluZGV4Q2hhbmdlZDtcbmV4cG9ydHMub25TZWFyY2hCYXJMb2FkZWQgPSBvblNlYXJjaEJhckxvYWRlZDtcbmV4cG9ydHMub25TdWJtaXQgPSBvblN1Ym1pdDtcbmV4cG9ydHMub25DbGVhciA9IG9uQ2xlYXI7XG5leHBvcnRzLm9uSXRlbVRhcCA9IG9uSXRlbVRhcDtcbmV4cG9ydHMub25Mb2FkTW9yZUl0ZW1zID0gb25Mb2FkTW9yZUl0ZW1zO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2NvbW1pdHRlZXMvY29tbWl0dGVlcy1wYWdlLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vY29tbWl0dGVlcy9jb21taXR0ZWVzLXBhZ2UuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiXG5tb2R1bGUuZXhwb3J0cyA9IFwiPFBhZ2UgbmF2aWdhdGluZ1RvPVxcXCJvbk5hdmlnYXRpbmdUb1xcXCIgY2xhc3M9XFxcInBhZ2VcXFwiIHhtbG5zPVxcXCJodHRwOi8vc2NoZW1hcy5uYXRpdmVzY3JpcHQub3JnL3Rucy54c2RcXFwiID5cXG4gICAgPEFjdGlvbkJhciBjbGFzcz1cXFwiYWN0aW9uLWJhclxcXCIgLz5cXG5cXG4gICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiYXV0bywgYXV0bywgKlxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIiB3aWR0aD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCI+XFxuICAgICAgICAgICAgPFNlYXJjaEJhciBpZD1cXFwic2VhcmNoQmFyXFxcIiBoaW50PVxcXCJTZWFyY2hcXFwiIHRleHQ9XFxcIlxcXCIgbG9hZGVkPVxcXCJvblNlYXJjaEJhckxvYWRlZFxcXCIgc3VibWl0PVxcXCJvblN1Ym1pdFxcXCIgY2xlYXI9XFxcIm9uQ2xlYXJcXFwiIC8+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMVxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiPlxcbiAgICAgICAgICAgIDxTZWdtZW50ZWRCYXIgY2xhc3M9XFxcInNlZ21lbnRlZC1iYXJcXFwiIHNlbGVjdGVkSW5kZXhDaGFuZ2VkPVxcXCJvblNlbGVjdGVkSW5kZXhDaGFuZ2VkXFxcIj5cXG4gICAgICAgICAgICAgICAgPFNlZ21lbnRlZEJhci5pdGVtcz5cXG4gICAgICAgICAgICAgICAgICAgIDxTZWdtZW50ZWRCYXJJdGVtIGNsYXNzPVxcXCJzZWxlY3RlZFNlZ21lbnRcXFwiIHRpdGxlPVxcXCJBbGxcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8U2VnbWVudGVkQmFySXRlbSB0aXRsZT1cXFwiSG91c2VcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8U2VnbWVudGVkQmFySXRlbSB0aXRsZT1cXFwiU2VuYXRlXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgPFNlZ21lbnRlZEJhckl0ZW0gdGl0bGU9XFxcIkpvaW50XFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgPFNlZ21lbnRlZEJhckl0ZW0gdGl0bGU9XFxcIkNhdWN1c1xcXCIgLz5cXG4gICAgICAgICAgICAgICAgPC9TZWdtZW50ZWRCYXIuaXRlbXM+XFxuICAgICAgICAgICAgPC9TZWdtZW50ZWRCYXI+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMlxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIj5cXG4gICAgICAgICAgICA8TGlzdFZpZXcgaXRlbXM9XFxcInt7IGNvbW1pdHRlZXNMaXN0IH19XFxcIiBpdGVtVGFwPVxcXCJvbkl0ZW1UYXBcXFwiIGxvYWRNb3JlSXRlbXM9XFxcIm9uTG9hZE1vcmVJdGVtc1xcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIj5cXG4gICAgICAgICAgICAgICAgPExpc3RWaWV3Lml0ZW1UZW1wbGF0ZT5cXG4gICAgICAgICAgICAgICAgICAgIDxTdGFja0xheW91dCB3aWR0aD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKiwgYXV0b1xcXCIgcm93cz1cXFwiKlxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJ7eyBpc1N1YmNvbW1pdHRlZSA9PT0gJ1RydWUnID8gc3ViY29tbWl0dGVlTmFtZSA6IGNvbW1pdHRlZU5hbWUgfX1cXFwiIHRleHRXcmFwPVxcXCJ0cnVlXFxcIiBcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cXFwie3sgaXNTdWJjb21taXR0ZWUgPT09ICdUcnVlJyA/ICdtYXJnaW4tbGVmdDogMTU7JyA6ICdtYXJnaW4tbGVmdDogMDsnIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbWFpbi10b3BcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCJhdXRvLCAqXFxcIiByb3dzPVxcXCIqXFxcIiB2aXNpYmlsaXR5PVxcXCJ7eyBmdWxsTmFtZS5sZW5ndGggPiAwID8gJ3Zpc2libGUnIDogJ2NvbGxhcHNlJyB9fVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJ7eyB0aXRsZSB9fVxcXCIgc3R5bGU9XFxcInt7IGlzU3ViY29tbWl0dGVlID09PSAnVHJ1ZScgPyAnbWFyZ2luLWxlZnQ6IDE1OycgOiAnbWFyZ2luLWxlZnQ6IDA7JyB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1Yi10aXRsZVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IGZ1bGxOYW1lIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiYXV0bywgKlxcXCIgcm93cz1cXFwiKlxcXCIgdmlzaWJpbGl0eT1cXFwie3sgcGhvbmUubGVuZ3RoID4gMCA/ICd2aXNpYmxlJyA6ICdjb2xsYXBzZScgfX1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiUGhvbmU6IFxcXCIgc3R5bGU9XFxcInt7IGlzU3ViY29tbWl0dGVlID09PSAnVHJ1ZScgPyAnbWFyZ2luLWxlZnQ6IDE1OycgOiAnbWFyZ2luLWxlZnQ6IDA7JyB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1Yi10aXRsZVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IHBob25lIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcIiYjeGYxMDU7XFxcIiBjbGFzcz1cXFwiZm4tbGlzdC12aWV3LWl0ZW1cXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJtaWRkbGVcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgPC9MaXN0Vmlldy5pdGVtVGVtcGxhdGU+XFxuICAgICAgICAgICAgPC9MaXN0Vmlldz5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8QWN0aXZpdHlJbmRpY2F0b3IgYnVzeT1cXFwie3sgaXNMb2FkaW5nIH19XFxcIiBhbmRyb2lkOmhlaWdodD1cXFwiMjUlXFxcIiBhbmRyb2lkOndpZHRoPVxcXCIyNSVcXFwiIGlvcy5hY3Rpdml0eUluZGljYXRvclZpZXdTdHlsZT1cXFwid2hpdGVMYXJnZVxcXCIgcm93U3Bhbj1cXFwiM1xcXCIgY29sU3Bhbj1cXFwiMVxcXCIgLz5cXG4gICAgPC9HcmlkTGF5b3V0PlxcbjwvUGFnZT5cXG5cIjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9jb21taXR0ZWVzL2NvbW1pdHRlZXMtcGFnZS54bWxcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwibWFya3VwXCIsIHBhdGg6IFwiLi9jb21taXR0ZWVzL2NvbW1pdHRlZXMtcGFnZS54bWxcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3Qgb2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgT2JzZXJ2YWJsZUFycmF5ID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZS1hcnJheVwiKS5PYnNlcnZhYmxlQXJyYXk7XG52YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxuZnVuY3Rpb24gQ29tbWl0dGVlc1ZpZXdNb2RlbChpdGVtcykge1xuICAgIGNvbnN0IHZpZXdNb2RlbCA9IG5ldyBPYnNlcnZhYmxlQXJyYXkoaXRlbXMpO1xuICAgIFxuICAgIHZpZXdNb2RlbC5sb2FkID0gZnVuY3Rpb24oY2hhbWJlcklkLCBmaWx0ZXIsIHBhZ2UsIHBhZ2VTaXplKSB7XG4gICAgICAgIHJldHVybiBodHRwLnJlcXVlc3Qoe1xuICAgICAgICAgICAgdXJsOiBnbG9iYWwuYXBpQmFzZVNlcnZpY2VVcmwgKyBcImNvbW1pdHRlZXNmaWx0ZXI/Y2hhbWJlcklkPVwiICsgY2hhbWJlcklkICsgXCImZmlsdGVyPVwiICsgZmlsdGVyLnJlcGxhY2UoLyAvZywgXCIlMjBcIikgKyBcIiZwYWdlPVwiICsgcGFnZSArIFwiJnBhZ2VTaXplPVwiICsgcGFnZVNpemUsXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLCBcIkF1dGhvcml6YXRpb25cIjogZ2xvYmFsLnRva2VuIH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXNwb25zZS5jb250ZW50LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzdWx0KTtcblxuICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGNvbW1pdHRlZSkge1xuICAgICAgICAgICAgICAgIGlmIChjb21taXR0ZWUuRnVsbE5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZ1bGxOYW1lID0gY29tbWl0dGVlLkZ1bGxOYW1lO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGl0bGUgPSBjb21taXR0ZWUuVGl0bGU7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZ1bGxOYW1lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aXRsZS5pbmRleE9mKFwiO1wiKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IHRpdGxlLnN1YnN0cigwLCB0aXRsZS5pbmRleE9mKCc7JykpICsgXCI6IFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxOYW1lID0gZnVsbE5hbWUucmVwbGFjZShcIjtcIiwgXCIsIFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgKz0gXCI6IFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmlld01vZGVsLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWl0dGVlSWQ6IGNvbW1pdHRlZS5Db21taXR0ZWVJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1pdHRlZU5hbWU6IGNvbW1pdHRlZS5Db21taXR0ZWVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Q29tbWl0dGVlSWQ6IGNvbW1pdHRlZS5QYXJlbnRDb21taXR0ZWVJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YmNvbW1pdHRlZUlkOiBjb21taXR0ZWUuU3ViY29tbWl0dGVlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJjb21taXR0ZWVOYW1lOiBjb21taXR0ZWUuU3ViY29tbWl0dGVlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU3ViY29tbWl0dGVlOiBjb21taXR0ZWUuSXNTdWJjb21taXR0ZWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFtYmVySWQ6IGNvbW1pdHRlZS5DaGFtYmVySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFtYmVyOiBjb21taXR0ZWUuQ2hhbWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZmljZTogY29tbWl0dGVlLk9mZmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBob25lOiBjb21taXR0ZWUuUGhvbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWJzaXRlOiBjb21taXR0ZWUuV2Vic2l0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxOYW1lOiBmdWxsTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZpZXdNb2RlbC5lbXB0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB3aGlsZSAodmlld01vZGVsLmxlbmd0aCkge1xuICAgICAgICAgICAgdmlld01vZGVsLnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gdmlld01vZGVsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENvbW1pdHRlZXNWaWV3TW9kZWw7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vY29tbWl0dGVlcy9jb21taXR0ZWVzLXZpZXctbW9kZWwuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9jb21taXR0ZWVzL2NvbW1pdHRlZXMtdmlldy1tb2RlbC5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJ2YXIgZ3JpZExheW91dCA9IHJlcXVpcmUoXCJ1aS9sYXlvdXRzL2dyaWQtbGF5b3V0XCIpXG52YXIgc3RhY2tMYXlvdXQgPSByZXF1aXJlKFwidWkvbGF5b3V0cy9zdGFjay1sYXlvdXRcIilcbnZhciBMYWJlbCA9IHJlcXVpcmUoXCJ1aS9sYWJlbFwiKS5MYWJlbFxuLy92YXIgZGVwZW5kZW5jeU9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwidWkvY29yZS9kZXBlbmRlbmN5LW9ic2VydmFibGVcIilcbi8vdmFyIFZpZXcgPSByZXF1aXJlKFwidWkvY29yZS92aWV3XCIpLlZpZXdcbnZhciBmcmFtZSA9IHJlcXVpcmUoXCJ1aS9mcmFtZVwiKVxuLy92YXIgcGxhdGZvcm0gPSByZXF1aXJlKFwicGxhdGZvcm1cIilcbnZhciBjb2xvciA9IHJlcXVpcmUoXCJjb2xvclwiKVxuXG52YXIgVGFiTmF2aWdhdGlvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRhYk5hdmlnYXRpb24sIF9zdXBlcilcbiAgICBmdW5jdGlvbiBUYWJOYXZpZ2F0aW9uKCkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKVxuXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gbmV3IGNvbG9yLkNvbG9yKFwiI2ZmZmZmZlwiKVxuICAgICAgICB0aGlzLm5hdkZyYW1lID0gbmV3IGZyYW1lLkZyYW1lKClcbiAgICAgICAgdGhpcy5fdGFicyA9IFtdXG4gICAgICAgIFxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzXG4gICAgICAgIHRoaXMub24oJ2xvYWRlZCcsIGZ1bmN0aW9uKGFyZ3Mpe1xuICAgICAgICAgICAgdmFyIG9iaiA9IGFyZ3Mub2JqZWN0XG4gICAgICAgICAgICBpZihvYmouaWQ9PT0ndGFiLW5hdmlnYXRpb24nKXtcbiAgICAgICAgICAgICAgcmV0dXJuOyAgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuY3JlYXRlVWkob2JqLnRhYnMpXG4gICAgICAgICAgICBfdGhpcy5uYXZGcmFtZS5pc0xvYWRlZCA9IGZhbHNlXG4gICAgICAgICAgICBfdGhpcy5uYXZGcmFtZS5uYXZpZ2F0ZShvYmoudGFic1swXS5wYXRoKVxuICAgICAgICB9KVxuXG4gICAgfVxuXG4gICAgVGFiTmF2aWdhdGlvbi5wcm90b3R5cGUuY3JlYXRlVWkgPSBmdW5jdGlvbiAoaXRlbXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpc1xuICAgICAgICB2YXIgbnVtSXRlbXMgPSBpdGVtcy5sZW5ndGhcbiAgICAgICAgdGhpcy5yZW1vdmVDaGlsZHJlbigpXG4gICAgICAgIHRoaXMuaWQgPSBcInRhYi1uYXZpZ2F0aW9uXCIgICAgICAgIFxuICAgICAgICB0aGlzLmFkZFJvdyhuZXcgZ3JpZExheW91dC5JdGVtU3BlYygxLCBncmlkTGF5b3V0LkdyaWRVbml0VHlwZS5zdGFyKSlcbiAgICAgICAgdGhpcy5hZGRSb3cobmV3IGdyaWRMYXlvdXQuSXRlbVNwZWMoMSwgZ3JpZExheW91dC5HcmlkVW5pdFR5cGUuYXV0bykpXG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUl0ZW1zOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYWRkQ29sdW1uKG5ldyBncmlkTGF5b3V0Lkl0ZW1TcGVjKDEsIGdyaWRMYXlvdXQuR3JpZFVuaXRUeXBlLnN0YXIpKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5uYXZGcmFtZS5jbGFzc05hbWUgPSBcIm5hdmlnYXRpb24tZnJhbWVcIlxuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMubmF2RnJhbWUpXG4gICAgICAgIGdyaWRMYXlvdXQuR3JpZExheW91dC5zZXRDb2x1bW4odGhpcy5uYXZGcmFtZSwgMClcbiAgICAgICAgZ3JpZExheW91dC5HcmlkTGF5b3V0LnNldFJvdyh0aGlzLm5hdkZyYW1lLCAwKVxuICAgICAgICBncmlkTGF5b3V0LkdyaWRMYXlvdXQuc2V0Q29sdW1uU3Bhbih0aGlzLm5hdkZyYW1lLCBudW1JdGVtcylcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUl0ZW1zOyBpKyspIHtcbiAgICAgICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRJdGVtID0gaXRlbXNbaV1cblxuICAgICAgICAgICAgICAgIHZhciB0YWIgPSBuZXcgc3RhY2tMYXlvdXQuU3RhY2tMYXlvdXQoKVxuICAgICAgICAgICAgICAgIHRhYi5kaXJlY3Rpb24gPSBcInZlcnRpY2FsXCJcbiAgICAgICAgICAgICAgICBpZihpID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGFiLmNsYXNzTmFtZSA9IFwidGFiIHRhYi1zZWxlY3RlZFwiXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFiLmNsYXNzTmFtZSA9IFwidGFiXCJcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0YWIuaWQgPSBcInRhYl9cIitpXG4gICAgICAgICAgICAgICAgdGFiLm9uKFwidGFwXCIsIGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5vblRhYlNlbGVjdGVkKGFyZ3MsIGN1cnJlbnRJdGVtKSBcbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgdmFyIGljb24gPSBuZXcgTGFiZWwoKVxuICAgICAgICAgICAgICAgIGljb24uY2xhc3NOYW1lID0gJ3RhYi1pY29uJ1xuICAgICAgICAgICAgICAgIC8vaWNvbi50ZXh0ID0gU3RyaW5nLmZyb21DaGFyQ29kZShjdXJyZW50SXRlbS5pY29uQ29kZSlcbiAgICAgICAgICAgICAgICBpY29uLnRleHQgPSBjdXJyZW50SXRlbS5pY29uQ29kZVxuICAgICAgICAgICAgICAgIHRhYi5hZGRDaGlsZChpY29uKVxuXG4gICAgICAgICAgICAgICAgdmFyIGxhYmVsID0gbmV3IExhYmVsKClcbiAgICAgICAgICAgICAgICBsYWJlbC5jbGFzc05hbWUgPSAndGFiLWxhYmVsJ1xuICAgICAgICAgICAgICAgIGxhYmVsLnRleHQgPSBjdXJyZW50SXRlbS5sYWJlbFxuICAgICAgICAgICAgICAgIHRhYi5hZGRDaGlsZChsYWJlbClcblxuICAgICAgICAgICAgICAgIF90aGlzLl90YWJzLnB1c2godGFiKVxuICAgICAgICAgICAgICAgIF90aGlzLmFkZENoaWxkKHRhYilcbiAgICAgICAgICAgICAgICBncmlkTGF5b3V0LkdyaWRMYXlvdXQuc2V0Um93KHRhYiwgMSlcbiAgICAgICAgICAgICAgICBncmlkTGF5b3V0LkdyaWRMYXlvdXQuc2V0Q29sdW1uKHRhYiwgaSlcbiAgICAgICAgICAgIH0oKSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIFRhYk5hdmlnYXRpb24ucHJvdG90eXBlLnNob3dUYWIgPSBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHZhciBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgICAgICBtb2R1bGVOYW1lOiBpdGVtLnBhdGgsXG4gICAgICAgICAgICBhbmltYXRlZDogZmFsc2UsXG4gICAgICAgICAgICBjbGVhckhpc3Rvcnk6IHRydWVcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5hdkZyYW1lLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSlcbiAgICB9XG5cbiAgICBUYWJOYXZpZ2F0aW9uLnByb3RvdHlwZS5vblRhYlNlbGVjdGVkID0gZnVuY3Rpb24gKGFyZ3MsIGl0ZW0pIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkT2JqID0gYXJncy5vYmplY3RcbiAgICAgICAgaWYgKHNlbGVjdGVkT2JqLmNsYXNzTmFtZS5pbmRleE9mKFwidGFiLXNlbGVjdGVkXCIpID4gLTEpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RhYnMuZm9yRWFjaChmdW5jdGlvbih0YWIpe1xuICAgICAgICAgICAgdGFiLmNsYXNzTmFtZSA9ICd0YWInXG4gICAgICAgIH0pO1xuICAgICAgICBzZWxlY3RlZE9iai5jbGFzc05hbWUgPSAndGFiIHRhYi1zZWxlY3RlZCdcbiAgICAgICAgdGhpcy5zaG93VGFiKGl0ZW0pXG4gICAgfVxuXG4gICAgcmV0dXJuIFRhYk5hdmlnYXRpb25cblxufShncmlkTGF5b3V0LkdyaWRMYXlvdXQpKVxuXG5leHBvcnRzLlRhYk5hdmlnYXRpb24gPSBUYWJOYXZpZ2F0aW9uOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2NvbXBvbmVudHMvdGFiLW5hdmlnYXRpb24uanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9jb21wb25lbnRzL3RhYi1uYXZpZ2F0aW9uLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIi8qXG5JbiBOYXRpdmVTY3JpcHQsIGEgZmlsZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgYW4gWE1MIGZpbGUgaXMga25vd24gYXNcbmEgY29kZS1iZWhpbmQgZmlsZS4gVGhlIGNvZGUtYmVoaW5kIGlzIGEgZ3JlYXQgcGxhY2UgdG8gcGxhY2UgeW91ciB2aWV3XG5sb2dpYywgYW5kIHRvIHNldCB1cCB5b3VyIHBhZ2XigJlzIGRhdGEgYmluZGluZy5cbiovXG5cbi8qXG5OYXRpdmVTY3JpcHQgYWRoZXJlcyB0byB0aGUgQ29tbW9uSlMgc3BlY2lmaWNhdGlvbiBmb3IgZGVhbGluZyB3aXRoXG5KYXZhU2NyaXB0IG1vZHVsZXMuIFRoZSBDb21tb25KUyByZXF1aXJlKCkgZnVuY3Rpb24gaXMgaG93IHlvdSBpbXBvcnRcbkphdmFTY3JpcHQgbW9kdWxlcyBkZWZpbmVkIGluIG90aGVyIGZpbGVzLlxuKi9cbmNvbnN0IEhvbWVWaWV3TW9kZWwgPSByZXF1aXJlKFwiLi9ob21lLXZpZXctbW9kZWxcIik7XG4vL3ZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG5cbmNvbnN0IGhvbWVWaWV3TW9kZWwgPSBuZXcgSG9tZVZpZXdNb2RlbCgpO1xudmFyIHBhZ2U7XG5cbmZ1bmN0aW9uIG9uTmF2aWdhdGluZ1RvKGFyZ3MpIHtcbiAgICAvKlxuICAgIFRoaXMgZ2V0cyBhIHJlZmVyZW5jZSB0aGlzIHBhZ2XigJlzIDxQYWdlPiBVSSBjb21wb25lbnQuIFlvdSBjYW5cbiAgICB2aWV3IHRoZSBBUEkgcmVmZXJlbmNlIG9mIHRoZSBQYWdlIHRvIHNlZSB3aGF04oCZcyBhdmFpbGFibGUgYXRcbiAgICBodHRwczovL2RvY3MubmF0aXZlc2NyaXB0Lm9yZy9hcGktcmVmZXJlbmNlL2NsYXNzZXMvX3VpX3BhZ2VfLnBhZ2UuaHRtbFxuICAgICovXG4gICAgLy9jb25zdCBwYWdlID0gYXJncy5vYmplY3Q7XG4gICAgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgLypcbiAgICBBIHBhZ2XigJlzIGJpbmRpbmdDb250ZXh0IGlzIGFuIG9iamVjdCB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIHBlcmZvcm1cbiAgICBkYXRhIGJpbmRpbmcgYmV0d2VlbiBYTUwgbWFya3VwIGFuZCBKYXZhU2NyaXB0IGNvZGUuIFByb3BlcnRpZXNcbiAgICBvbiB0aGUgYmluZGluZ0NvbnRleHQgY2FuIGJlIGFjY2Vzc2VkIHVzaW5nIHRoZSB7eyB9fSBzeW50YXggaW4gWE1MLlxuICAgIEluIHRoaXMgZXhhbXBsZSwgdGhlIHt7IG1lc3NhZ2UgfX0gYW5kIHt7IG9uVGFwIH19IGJpbmRpbmdzIGFyZSByZXNvbHZlZFxuICAgIGFnYWluc3QgdGhlIG9iamVjdCByZXR1cm5lZCBieSBjcmVhdGVWaWV3TW9kZWwoKS5cblxuICAgIFlvdSBjYW4gbGVhcm4gbW9yZSBhYm91dCBkYXRhIGJpbmRpbmcgaW4gTmF0aXZlU2NyaXB0IGF0XG4gICAgaHR0cHM6Ly9kb2NzLm5hdGl2ZXNjcmlwdC5vcmcvY29yZS1jb25jZXB0cy9kYXRhLWJpbmRpbmcuXG4gICAgKi9cbiAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gaG9tZVZpZXdNb2RlbDtcbn1cblxuLyogZnVuY3Rpb24gb25UYWJWaWV3TG9hZGVkKGFyZ3MpIHtcbiAgICBjb25zdCB0YWJWaWV3ID0gYXJncy5vYmplY3Q7XG5cbiAgICB0YWJWaWV3LmVhY2hDaGlsZCgoY2hpbGQpID0+IHtcbiAgICAgICAgY2hpbGQuX2lvc1ZpZXdDb250cm9sbGVyLnRhYkJhckl0ZW0udGl0bGVQb3NpdGlvbkFkanVzdG1lbnQgPSB7XG4gICAgICAgICAgICBob3Jpem9udGFsOiAwLFxuICAgICAgICAgICAgdmVydGljYWw6IDBcbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIHBhZ2UuYWN0aW9uQmFyLnRpdGxlID0gXCJMZWdpc2xhdG9yc1wiO1xufSAqL1xuXG4vKiBmdW5jdGlvbiBvblRhYlZpZXdTZWxlY3RlZEluZGV4Q2hhbmdlZChhcmdzKSB7XG4gICAgdmFyIHRhYlZpZXcgPSBhcmdzLm9iamVjdDtcbiAgICB2YXIgc2VsZWN0ZWRJbmRleCA9IHRhYlZpZXcuc2VsZWN0ZWRJbmRleDtcbiAgICAgICAgXG4gICAgaWYgKHNlbGVjdGVkSW5kZXggPT09IDApIHsgLy8gTGVnaXNsYXRvcnNcbiAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIkxlZ2lzbGF0b3JzXCI7XG4gICAgfSBlbHNlIGlmIChzZWxlY3RlZEluZGV4ID09PSAxKSB7IC8vIENvbW1pdHRlZXNcbiAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIkNvbW1pdHRlZXNcIjtcbiAgICB9IGVsc2UgaWYgKHNlbGVjdGVkSW5kZXggPT09IDIpIHsgLy8gTXkgTWVldGluZ3NcbiAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIk15IE1lZXRpbmdzXCI7XG4gICAgfSBlbHNlIHsgLy8gQXNzaWdubWVudHNcbiAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIkFzc2lnbm1lbnRzXCI7XG4gICAgfVxufSAqL1xuXG4vKlxuRXhwb3J0aW5nIGEgZnVuY3Rpb24gaW4gYSBOYXRpdmVTY3JpcHQgY29kZS1iZWhpbmQgZmlsZSBtYWtlcyBpdCBhY2Nlc3NpYmxlXG50byB0aGUgZmlsZeKAmXMgY29ycmVzcG9uZGluZyBYTUwgZmlsZS4gSW4gdGhpcyBjYXNlLCBleHBvcnRpbmcgdGhlIG9uTmF2aWdhdGluZ1RvXG5mdW5jdGlvbiBoZXJlIG1ha2VzIHRoZSBuYXZpZ2F0aW5nVG89XCJvbk5hdmlnYXRpbmdUb1wiIGJpbmRpbmcgaW4gdGhpcyBwYWdl4oCZcyBYTUxcbmZpbGUgd29yay5cbiovXG5leHBvcnRzLm9uTmF2aWdhdGluZ1RvID0gb25OYXZpZ2F0aW5nVG87XG4vLyBleHBvcnRzLm9uVGFiVmlld0xvYWRlZCA9IG9uVGFiVmlld0xvYWRlZDtcbi8vIGV4cG9ydHMub25UYWJWaWV3U2VsZWN0ZWRJbmRleENoYW5nZWQgPSBvblRhYlZpZXdTZWxlY3RlZEluZGV4Q2hhbmdlZDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9ob21lL2hvbWUtcGFnZS5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL2hvbWUvaG9tZS1wYWdlLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxubW9kdWxlLmV4cG9ydHMgPSBcIjxQYWdlIGNsYXNzPVxcXCJwYWdlXFxcIiBuYXZpZ2F0aW5nVG89XFxcIm9uTmF2aWdhdGluZ1RvXFxcIiB4bWxucz1cXFwiaHR0cDovL3NjaGVtYXMubmF0aXZlc2NyaXB0Lm9yZy90bnMueHNkXFxcIj5cXG4gICAgPEFjdGlvbkJhciBjbGFzcz1cXFwiYWN0aW9uLWJhclxcXCIgLz5cXG5cXG4gICAgPEdyaWRMYXlvdXQ+XFxuICAgICAgICA8IS0tIEFkZCB5b3VyIHBhZ2UgY29udGVudCBoZXJlIC0tPlxcbiAgICA8L0dyaWRMYXlvdXQ+XFxuICAgIDwhLS08VGFiVmlldyBpZD1cXFwibWFpblRhYnNcXFwiIGxvYWRlZD1cXFwib25UYWJWaWV3TG9hZGVkXFxcIiBzZWxlY3RlZEluZGV4Q2hhbmdlZD1cXFwib25UYWJWaWV3U2VsZWN0ZWRJbmRleENoYW5nZWRcXFwiPlxcbiAgICAgICAgPFRhYlZpZXcuaXRlbXM+XFxuICAgICAgICAgICAgPFRhYlZpZXdJdGVtIHRpdGxlPVxcXCJMZWdpc2xhdG9yc1xcXCIgaWNvblNvdXJjZT1cXFwicmVzOi8vbGVnaXNsYXRvci1pY29uXFxcIiB4bWxuczpMZWdpc2xhdG9ycz1cXFwiaG9tZS9sZWdpc2xhdG9yc1xcXCI+XFxuICAgICAgICAgICAgICAgIDxUYWJWaWV3SXRlbS52aWV3PlxcbiAgICAgICAgICAgICAgICAgICAgPExlZ2lzbGF0b3JzOmxlZ2lzbGF0b3JzLXBhZ2UgLz5cXG4gICAgICAgICAgICAgICAgPC9UYWJWaWV3SXRlbS52aWV3PlxcbiAgICAgICAgICAgIDwvVGFiVmlld0l0ZW0+XFxuICAgICAgICAgICAgPFRhYlZpZXdJdGVtIHRpdGxlPVxcXCJDb21taXR0ZWVzXFxcIiBpY29uU291cmNlPVxcXCJyZXM6Ly9jb21taXR0ZWUtaWNvblxcXCIgeG1sbnM6Q29tbWl0dGVlcz1cXFwiaG9tZS9jb21taXR0ZWVzXFxcIj5cXG4gICAgICAgICAgICAgICAgPFRhYlZpZXdJdGVtLnZpZXc+XFxuICAgICAgICAgICAgICAgICAgICA8Q29tbWl0dGVlczpjb21taXR0ZWVzLXBhZ2UgLz5cXG4gICAgICAgICAgICAgICAgPC9UYWJWaWV3SXRlbS52aWV3PlxcbiAgICAgICAgICAgIDwvVGFiVmlld0l0ZW0+XFxuICAgICAgICAgICAgPFRhYlZpZXdJdGVtIHRpdGxlPVxcXCJNeSBNZWV0aW5nc1xcXCIgaWNvblNvdXJjZT1cXFwicmVzOi8vbWVldGluZy1pY29uXFxcIj5cXG4gICAgICAgICAgICAgICAgPFRhYlZpZXdJdGVtLnZpZXc+XFxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cXFwiTXkgTWVldGluZ3NcXFwiIC8+XFxuICAgICAgICAgICAgICAgIDwvVGFiVmlld0l0ZW0udmlldz5cXG4gICAgICAgICAgICA8L1RhYlZpZXdJdGVtPlxcbiAgICAgICAgICAgIDxUYWJWaWV3SXRlbSB0aXRsZT1cXFwiQXNzaWdubWVudHNcXFwiIGljb25Tb3VyY2U9XFxcInJlczovL2Fzc2lnbm1lbnQtaWNvblxcXCIgeG1sbnM6QXNzaWdubWVudHM9XFxcImhvbWUvYXNzaWdubWVudHNcXFwiPlxcbiAgICAgICAgICAgICAgICA8VGFiVmlld0l0ZW0udmlldz5cXG4gICAgICAgICAgICAgICAgICAgIDxBc3NpZ25tZW50czphc3NpZ25tZW50cy1wYWdlIC8+XFxuICAgICAgICAgICAgICAgIDwvVGFiVmlld0l0ZW0udmlldz5cXG4gICAgICAgICAgICA8L1RhYlZpZXdJdGVtPlxcbiAgICAgICAgPC9UYWJWaWV3Lml0ZW1zPlxcbiAgICA8L1RhYlZpZXc+LS0+XFxuPC9QYWdlPlxcblwiOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2hvbWUvaG9tZS1wYWdlLnhtbFwiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJtYXJrdXBcIiwgcGF0aDogXCIuL2hvbWUvaG9tZS1wYWdlLnhtbFwiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBPYnNlcnZhYmxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKS5PYnNlcnZhYmxlO1xuXG5mdW5jdGlvbiBIb21lVmlld01vZGVsKCkge1xuICAgIGNvbnN0IHZpZXdNb2RlbCA9IG5ldyBPYnNlcnZhYmxlKCk7XG5cbiAgICByZXR1cm4gdmlld01vZGVsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEhvbWVWaWV3TW9kZWw7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vaG9tZS9ob21lLXZpZXctbW9kZWwuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9ob21lL2hvbWUtdmlldy1tb2RlbC5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBvYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBmcmFtZU1vZHVsZSA9IHJlcXVpcmUoXCJ1aS9mcmFtZVwiKTtcblxuZnVuY3Rpb24gb25OYXZpZ2F0aW5nVG8oYXJncykge1xuICAgIGNvbnN0IHBhZ2UgPSBhcmdzLm9iamVjdDtcbiAgICB2YXIgbmF2aWdhdGlvbkNvbnRleHQgPSBwYWdlLm5hdmlnYXRpb25Db250ZXh0O1xuXG4gICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIkJpb1wiO1xuXG4gICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IG5hdmlnYXRpb25Db250ZXh0O1xufVxuXG5mdW5jdGlvbiBvbkJhY2tUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5nb0JhY2soKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydChlKTtcbiAgICB9XG59XG5cbmV4cG9ydHMub25OYXZpZ2F0aW5nVG8gPSBvbk5hdmlnYXRpbmdUbztcbmV4cG9ydHMub25CYWNrVGFwID0gb25CYWNrVGFwO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvYmlvL2Jpby1wYWdlLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9iaW8vYmlvLXBhZ2UuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiXG5tb2R1bGUuZXhwb3J0cyA9IFwiPFBhZ2UgbmF2aWdhdGluZ1RvPVxcXCJvbk5hdmlnYXRpbmdUb1xcXCIgY2xhc3M9XFxcInBhZ2VcXFwiIHhtbG5zPVxcXCJodHRwOi8vc2NoZW1hcy5uYXRpdmVzY3JpcHQub3JnL3Rucy54c2RcXFwiID5cXG4gICAgPEFjdGlvbkJhciBjbGFzcz1cXFwiYWN0aW9uLWJhclxcXCI+XFxuICAgICAgICA8YW5kcm9pZD5cXG4gICAgICAgICAgICA8TmF2aWdhdGlvbkJ1dHRvbiBhbmRyb2lkLnN5c3RlbUljb249XFxcImljX21lbnVfYmFja1xcXCIgdGFwPVxcXCJvbkJhY2tUYXBcXFwiIC8+XFxuICAgICAgICA8L2FuZHJvaWQ+XFxuICAgIDwvQWN0aW9uQmFyPlxcblxcbiAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCJhdXRvLCBhdXRvLCAqXFxcIiBoZWlnaHQ9XFxcIjEwMCVcXFwiIHdpZHRoPVxcXCIxMDAlXFxcIj5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcInRvcFxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIiBjbGFzcz1cXFwidmlldy10aXRsZVxcXCI+XFxuICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJsZWdpc2xhdG9ySWRcXFwiIHRleHQ9XFxcInt7IGxlZ2lzbGF0b3JJZCB9fVxcXCIgdmlzaWJpbGl0eT1cXFwiY29sbGFwc2VkXFxcIiAvPlxcbiAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwibGVnaXNsYXRvck5hbWVcXFwiIHRleHQ9XFxcInt7IGZ1bGxOYW1lIH19XFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiIC8+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMVxcXCIgY29sPVxcXCIwXFxcIj5cXG4gICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiT2ZmaWNlXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbGVmdFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJ7eyBvZmZpY2UgfX1cXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcInJpZ2h0XFxcIiAgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIiAvPlxcbiAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiU3RhdGVcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1sZWZ0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IHN0YXRlTmFtZSB9fVxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwicmlnaHRcXFwiICBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tcmlnaHRcXFwiIC8+XFxuICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIiosIGF1dG9cXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJQaG9uZVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwie3sgcGhvbmUgfX1cXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcInJpZ2h0XFxcIiAgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIiAvPlxcbiAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiVGVybSBTdGFydFxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwie3sgdGVybVN0YXJ0IH19XFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJyaWdodFxcXCIgIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1yaWdodFxcXCIgLz5cXG4gICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKiwgYXV0b1xcXCIgcm93cz1cXFwiYXV0b1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiPlxcbiAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIkNoYW1iZXJcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1sZWZ0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IGNoYW1iZXIgfX1cXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcInJpZ2h0XFxcIiAgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIiAvPlxcbiAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiUGFydHlcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1sZWZ0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IHBhcnR5TmFtZSB9fVxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwicmlnaHRcXFwiICBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tcmlnaHRcXFwiIC8+XFxuICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJCaW9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1sZWZ0XFxcIiAvPlxcbiAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIyXFxcIiBjb2w9XFxcIjBcXFwiPlxcbiAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcIipcXFwiPlxcbiAgICAgICAgICAgICAgICA8IS0tIDxTY3JvbGxWaWV3IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIj4gLS0+XFxuICAgICAgICAgICAgICAgICAgICA8VGV4dFZpZXcgdGV4dD1cXFwie3sgYmlvIH19XFxcIiBlZGl0YWJsZT1cXFwiZmFsc2VcXFwiIGNsYXNzPVxcXCJzY3JvbGwtdmlldy1pdGVtXFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8IS0tIDwvU2Nyb2xsVmlldz4gLS0+XFxuICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgPC9HcmlkTGF5b3V0PlxcbjwvUGFnZT5cXG5cIjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2Jpby9iaW8tcGFnZS54bWxcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwibWFya3VwXCIsIHBhdGg6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2Jpby9iaW8tcGFnZS54bWxcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3QgQ29tbWl0dGVlc1ZpZXdNb2RlbCA9IHJlcXVpcmUoXCIuL2NvbW1pdHRlZXMtdmlldy1tb2RlbFwiKTtcbmNvbnN0IG9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpO1xudmFyIGZyYW1lTW9kdWxlID0gcmVxdWlyZShcInVpL2ZyYW1lXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcbnZhciBwYWdlO1xuXG52YXIgY29tbWl0dGVlc0xpc3QgPSBuZXcgQ29tbWl0dGVlc1ZpZXdNb2RlbChbXSk7XG5cbnZhciBwYWdlRGF0YSA9IG5ldyBvYnNlcnZhYmxlTW9kdWxlLmZyb21PYmplY3Qoe1xuICAgIGNvbW1pdHRlZXNMaXN0OiBjb21taXR0ZWVzTGlzdCxcbiAgICBpc0xvYWRpbmc6IGZhbHNlXG59KTtcblxuZnVuY3Rpb24gb25OYXZpZ2F0aW5nVG8oYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHBhZ2UgPSBhcmdzLm9iamVjdDtcbiAgICAgICAgXG4gICAgICAgIHBhZ2UuYWN0aW9uQmFyLnRpdGxlID0gXCJDb21taXR0ZWVzXCI7XG5cbiAgICAgICAgdmFyIG5hdmlnYXRpb25Db250ZXh0ID0gcGFnZS5uYXZpZ2F0aW9uQ29udGV4dDtcbiAgICAgICAgdmFyIGxlZ2lzbGF0b3JJZCA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJsZWdpc2xhdG9ySWRcIik7XG4gICAgICAgIHZhciBsZWdpc2xhdG9yTmFtZSA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJsZWdpc2xhdG9yTmFtZVwiKTtcbiAgICBcbiAgICAgICAgbGVnaXNsYXRvcklkLnRleHQgPSBuYXZpZ2F0aW9uQ29udGV4dC5sZWdpc2xhdG9ySWQ7XG4gICAgICAgIGxlZ2lzbGF0b3JOYW1lLnRleHQgPSBuYXZpZ2F0aW9uQ29udGV4dC5mdWxsTmFtZTtcbiAgICBcbiAgICAgICAgY29tbWl0dGVlc0xpc3QuZW1wdHkoKTtcbiAgICBcbiAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuICAgIFxuICAgICAgICBjb21taXR0ZWVzTGlzdC5sb2FkKG5hdmlnYXRpb25Db250ZXh0LmxlZ2lzbGF0b3JJZCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHBhZ2VEYXRhO1xuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkJhY2tUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5nb0JhY2soKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydChlKTtcbiAgICB9XG59XG5cbmV4cG9ydHMub25OYXZpZ2F0aW5nVG8gPSBvbk5hdmlnYXRpbmdUbztcbmV4cG9ydHMub25CYWNrVGFwID0gb25CYWNrVGFwO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvY29tbWl0dGVlcy9jb21taXR0ZWVzLXBhZ2UuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2NvbW1pdHRlZXMvY29tbWl0dGVlcy1wYWdlLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxubW9kdWxlLmV4cG9ydHMgPSBcIjxQYWdlIG5hdmlnYXRpbmdUbz1cXFwib25OYXZpZ2F0aW5nVG9cXFwiIGNsYXNzPVxcXCJwYWdlXFxcIiB4bWxucz1cXFwiaHR0cDovL3NjaGVtYXMubmF0aXZlc2NyaXB0Lm9yZy90bnMueHNkXFxcIiA+XFxuICAgIDxBY3Rpb25CYXIgY2xhc3M9XFxcImFjdGlvbi1iYXJcXFwiPlxcbiAgICAgICAgPGFuZHJvaWQ+XFxuICAgICAgICAgICAgPE5hdmlnYXRpb25CdXR0b24gYW5kcm9pZC5zeXN0ZW1JY29uPVxcXCJpY19tZW51X2JhY2tcXFwiIHRhcD1cXFwib25CYWNrVGFwXFxcIiAvPlxcbiAgICAgICAgPC9hbmRyb2lkPlxcbiAgICA8L0FjdGlvbkJhcj5cXG5cXG4gICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiYXV0bywgKlxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIiB3aWR0aD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgY2xhc3M9XFxcInZpZXctdGl0bGVcXFwiPlxcbiAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwibGVnaXNsYXRvcklkXFxcIiB0ZXh0PVxcXCJcXFwiIHZpc2liaWxpdHk9XFxcImNvbGxhcHNlZFxcXCIgLz5cXG4gICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImxlZ2lzbGF0b3JOYW1lXFxcIiB0ZXh0PVxcXCJcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgLz5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIxXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiPlxcbiAgICAgICAgICAgIDxMaXN0VmlldyBpdGVtcz1cXFwie3sgY29tbWl0dGVlc0xpc3QgfX1cXFwiIGhlaWdodD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMaXN0Vmlldy5pdGVtVGVtcGxhdGU+XFxuICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiKlxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJ7eyBuYW1lIH19XFxcIiB0ZXh0V3JhcD1cXFwidHJ1ZVxcXCIgc3R5bGU9XFxcInt7IHN1YmNvbW1pdHRlZSA9PT0gJ1RydWUnID8gJ21hcmdpbi1sZWZ0OiAxNTsnIDogJ21hcmdpbi1sZWZ0OiAwOycgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1tYWluLXRvcFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJ7eyB0aXRsZSB9fVxcXCIgc3R5bGU9XFxcInt7IHN1YmNvbW1pdHRlZSA9PT0gJ1RydWUnID8gJ21hcmdpbi1sZWZ0OiAxNTsnIDogJ21hcmdpbi1sZWZ0OiAwOycgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1zdWJcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgPC9MaXN0Vmlldy5pdGVtVGVtcGxhdGU+XFxuICAgICAgICAgICAgPC9MaXN0Vmlldz5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8QWN0aXZpdHlJbmRpY2F0b3IgYnVzeT1cXFwie3sgaXNMb2FkaW5nIH19XFxcIiBhbmRyb2lkOmhlaWdodD1cXFwiMjUlXFxcIiBhbmRyb2lkOndpZHRoPVxcXCIyNSVcXFwiIGlvcy5hY3Rpdml0eUluZGljYXRvclZpZXdTdHlsZT1cXFwid2hpdGVMYXJnZVxcXCIgcm93U3Bhbj1cXFwiMlxcXCIgY29sU3Bhbj1cXFwiMVxcXCIgLz5cXG4gICAgPC9HcmlkTGF5b3V0PlxcbjwvUGFnZT5cXG5cIjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2NvbW1pdHRlZXMvY29tbWl0dGVlcy1wYWdlLnhtbFwiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJtYXJrdXBcIiwgcGF0aDogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvY29tbWl0dGVlcy9jb21taXR0ZWVzLXBhZ2UueG1sXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IE9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpO1xudmFyIE9ic2VydmFibGVBcnJheSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGUtYXJyYXlcIikuT2JzZXJ2YWJsZUFycmF5O1xudmFyIGh0dHAgPSByZXF1aXJlKFwiaHR0cFwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG5cbmZ1bmN0aW9uIENvbW1pdHRlZXNWaWV3TW9kZWwoaXRlbXMpIHtcbiAgICBjb25zdCB2aWV3TW9kZWwgPSBuZXcgT2JzZXJ2YWJsZUFycmF5KGl0ZW1zKTtcbiAgICBcbiAgICB2aWV3TW9kZWwubG9hZCA9IGZ1bmN0aW9uKGxlZ2lzbGF0b3JJZCkge1xuICAgICAgICByZXR1cm4gaHR0cC5yZXF1ZXN0KHtcbiAgICAgICAgICAgIHVybDogZ2xvYmFsLmFwaUJhc2VTZXJ2aWNlVXJsICsgXCJjb21taXR0ZWVzP2xlZ2lzbGF0b3JJZD1cIiArIGxlZ2lzbGF0b3JJZCxcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiQXV0aG9yaXphdGlvblwiOiBnbG9iYWwudG9rZW4gfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmNvbnRlbnQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShyZXN1bHQpO1xuXG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oY29tbWl0dGVlKSB7XG4gICAgICAgICAgICAgICAgdmlld01vZGVsLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBjb21taXR0ZWVJZDogY29tbWl0dGVlLkNvbW1pdHRlZUlkLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBjb21taXR0ZWUuTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgcGhvbmU6IGNvbW1pdHRlZS5QaG9uZSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbWJlcklkOiBjb21taXR0ZWUuQ2hhbWJlcklkLFxuICAgICAgICAgICAgICAgICAgICBjaGFtYmVyOiBjb21taXR0ZWUuQ2hhbWJlcixcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50Q29tbWl0dGVlSWQ6IGNvbW1pdHRlZS5QYXJlbnRDb21taXR0ZWVJZCxcbiAgICAgICAgICAgICAgICAgICAgc3ViY29tbWl0dGVlOiBjb21taXR0ZWUuU3ViY29tbWl0dGVlLFxuICAgICAgICAgICAgICAgICAgICByYW5rOiBjb21taXR0ZWUuUmFuayxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGNvbW1pdHRlZS5UaXRsZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2aWV3TW9kZWwuZW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgd2hpbGUgKHZpZXdNb2RlbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZpZXdNb2RlbC5wb3AoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgcmV0dXJuIHZpZXdNb2RlbDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDb21taXR0ZWVzVmlld01vZGVsO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvY29tbWl0dGVlcy9jb21taXR0ZWVzLXZpZXctbW9kZWwuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2NvbW1pdHRlZXMvY29tbWl0dGVlcy12aWV3LW1vZGVsLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IEluaXRpYXRpdmV0aWVyc1ZpZXdNb2RlbCA9IHJlcXVpcmUoXCIuL2luaXRpYXRpdmV0aWVycy12aWV3LW1vZGVsXCIpO1xuY29uc3Qgb2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgZnJhbWVNb2R1bGUgPSByZXF1aXJlKFwidWkvZnJhbWVcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xudmFyIHBhZ2U7XG5cbnZhciBpbml0aWF0aXZlVGllcnNMaXN0ID0gbmV3IEluaXRpYXRpdmV0aWVyc1ZpZXdNb2RlbChbXSk7XG5cbnZhciBwYWdlRGF0YSA9IG5ldyBvYnNlcnZhYmxlTW9kdWxlLmZyb21PYmplY3Qoe1xuICAgIGluaXRpYXRpdmVUaWVyc0xpc3Q6IGluaXRpYXRpdmVUaWVyc0xpc3QsXG4gICAgaXNMb2FkaW5nOiBmYWxzZVxufSk7XG5cbmZ1bmN0aW9uIG9uTmF2aWdhdGluZ1RvKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBwYWdlID0gYXJncy5vYmplY3Q7XG4gICAgICAgIFxuICAgICAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiSW5pdGlhdGl2ZSBUaWVyc1wiO1xuXG4gICAgICAgIHZhciBuYXZpZ2F0aW9uQ29udGV4dCA9IHBhZ2UubmF2aWdhdGlvbkNvbnRleHQ7XG4gICAgICAgIHZhciBsZWdpc2xhdG9ySWQgPSBwYWdlLmdldFZpZXdCeUlkKFwibGVnaXNsYXRvcklkXCIpO1xuICAgICAgICB2YXIgbGVnaXNsYXRvck5hbWUgPSBwYWdlLmdldFZpZXdCeUlkKFwibGVnaXNsYXRvck5hbWVcIik7XG4gICAgXG4gICAgICAgIGxlZ2lzbGF0b3JJZC50ZXh0ID0gbmF2aWdhdGlvbkNvbnRleHQubGVnaXNsYXRvcklkO1xuICAgICAgICBsZWdpc2xhdG9yTmFtZS50ZXh0ID0gbmF2aWdhdGlvbkNvbnRleHQuZnVsbE5hbWU7XG4gICAgXG4gICAgICAgIGluaXRpYXRpdmVUaWVyc0xpc3QuZW1wdHkoKTtcbiAgICBcbiAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuICAgIFxuICAgICAgICBpbml0aWF0aXZlVGllcnNMaXN0LmxvYWQobmF2aWdhdGlvbkNvbnRleHQubGVnaXNsYXRvcklkKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIFxuICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uQmFja1RhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLmdvQmFjaygpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KGUpO1xuICAgIH1cbn1cblxuZXhwb3J0cy5vbk5hdmlnYXRpbmdUbyA9IG9uTmF2aWdhdGluZ1RvO1xuZXhwb3J0cy5vbkJhY2tUYXAgPSBvbkJhY2tUYXA7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9pbml0aWF0aXZldGllcnMvaW5pdGlhdGl2ZXRpZXJzLXBhZ2UuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2luaXRpYXRpdmV0aWVycy9pbml0aWF0aXZldGllcnMtcGFnZS5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJcbm1vZHVsZS5leHBvcnRzID0gXCI8UGFnZSBuYXZpZ2F0aW5nVG89XFxcIm9uTmF2aWdhdGluZ1RvXFxcIiBjbGFzcz1cXFwicGFnZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly9zY2hlbWFzLm5hdGl2ZXNjcmlwdC5vcmcvdG5zLnhzZFxcXCIgPlxcbiAgICA8QWN0aW9uQmFyIGNsYXNzPVxcXCJhY3Rpb24tYmFyXFxcIj5cXG4gICAgICAgIDxhbmRyb2lkPlxcbiAgICAgICAgICAgIDxOYXZpZ2F0aW9uQnV0dG9uIGFuZHJvaWQuc3lzdGVtSWNvbj1cXFwiaWNfbWVudV9iYWNrXFxcIiB0YXA9XFxcIm9uQmFja1RhcFxcXCIgLz5cXG4gICAgICAgIDwvYW5kcm9pZD5cXG4gICAgPC9BY3Rpb25CYXI+XFxuXFxuICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcImF1dG8sIGF1dG8sICpcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiIGNsYXNzPVxcXCJ2aWV3LXRpdGxlXFxcIj5cXG4gICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImxlZ2lzbGF0b3JJZFxcXCIgdGV4dD1cXFwiXFxcIiB2aXNpYmlsaXR5PVxcXCJjb2xsYXBzZWRcXFwiIC8+XFxuICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJsZWdpc2xhdG9yTmFtZVxcXCIgdGV4dD1cXFwiXFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiIC8+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMVxcXCIgY29sPVxcXCIwXFxcIj5cXG4gICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCIqXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW1cXFwiPlxcbiAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIkluaXRpYXRpdmVcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1tYWluLXRvcFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJUaWVyXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbWFpbi10b3BcXFwiIC8+XFxuICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgIDxCb3JkZXIgYm9yZGVyV2lkdGg9XFxcIjAuMjVcXFwiIGJvcmRlckNvbG9yPVxcXCIjMDAwMDAwXFxcIiAvPlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjJcXFwiIGNvbD1cXFwiMFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcInRvcFxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgICAgIDxMaXN0VmlldyBpdGVtcz1cXFwie3sgaW5pdGlhdGl2ZVRpZXJzTGlzdCB9fVxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIj5cXG4gICAgICAgICAgICAgICAgPExpc3RWaWV3Lml0ZW1UZW1wbGF0ZT5cXG4gICAgICAgICAgICAgICAgICAgIDxTdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCIqXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcInt7IGluaXRpYXRpdmUgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1tYWluLXRvcFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJ7eyB0aWVyIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbWFpbi10b3BcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgPC9MaXN0Vmlldy5pdGVtVGVtcGxhdGU+XFxuICAgICAgICAgICAgPC9MaXN0Vmlldz5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8QWN0aXZpdHlJbmRpY2F0b3IgYnVzeT1cXFwie3sgaXNMb2FkaW5nIH19XFxcIiBhbmRyb2lkOmhlaWdodD1cXFwiMjUlXFxcIiBhbmRyb2lkOndpZHRoPVxcXCIyNSVcXFwiIGlvcy5hY3Rpdml0eUluZGljYXRvclZpZXdTdHlsZT1cXFwid2hpdGVMYXJnZVxcXCIgcm93U3Bhbj1cXFwiM1xcXCIgY29sU3Bhbj1cXFwiMVxcXCIgLz5cXG4gICAgPC9HcmlkTGF5b3V0PlxcbjwvUGFnZT5cXG5cIjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2luaXRpYXRpdmV0aWVycy9pbml0aWF0aXZldGllcnMtcGFnZS54bWxcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwibWFya3VwXCIsIHBhdGg6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2luaXRpYXRpdmV0aWVycy9pbml0aWF0aXZldGllcnMtcGFnZS54bWxcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3Qgb2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgT2JzZXJ2YWJsZUFycmF5ID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZS1hcnJheVwiKS5PYnNlcnZhYmxlQXJyYXk7XG52YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxuZnVuY3Rpb24gSW5pdGlhdGl2ZXRpZXJzVmlld01vZGVsKGl0ZW1zKSB7XG4gICAgY29uc3Qgdmlld01vZGVsID0gbmV3IE9ic2VydmFibGVBcnJheShpdGVtcyk7XG5cbiAgICB2aWV3TW9kZWwubG9hZCA9IGZ1bmN0aW9uKGxlZ2lzbGF0b3JJZCkge1xuICAgICAgICByZXR1cm4gaHR0cC5yZXF1ZXN0KHtcbiAgICAgICAgICAgIHVybDogZ2xvYmFsLmFwaUJhc2VTZXJ2aWNlVXJsICsgXCJpbml0aWF0aXZlc3RhbmNlcz9sZWdpc2xhdG9ySWQ9XCIgKyBsZWdpc2xhdG9ySWQsXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLCBcIkF1dGhvcml6YXRpb25cIjogZ2xvYmFsLnRva2VuIH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXNwb25zZS5jb250ZW50LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzdWx0KTtcblxuICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGluaXRpYXRpdmUpIHtcbiAgICAgICAgICAgICAgICB2aWV3TW9kZWwucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYXRpdmVJZDogaW5pdGlhdGl2ZS5Jbml0aWF0aXZlSWQsXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYXRpdmU6IGluaXRpYXRpdmUuSW5pdGlhdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgbGVnaXNsYXRvcklkOiBpbml0aWF0aXZlLkxlZ2lzbGF0b3JJZCxcbiAgICAgICAgICAgICAgICAgICAgbGVnaXNsYXRvcjogaW5pdGlhdGl2ZS5MZWdpc2xhdG9yLFxuICAgICAgICAgICAgICAgICAgICB0aWVyOiBpbml0aWF0aXZlLlRpZXIsXG4gICAgICAgICAgICAgICAgICAgIGlzc3VlU3RhbmNlSWQ6IGluaXRpYXRpdmUuSXNzdWVTdGFuY2VJZCxcbiAgICAgICAgICAgICAgICAgICAgaXNzdWVTdGFuY2U6IGluaXRpYXRpdmUuSXNzdWVTdGFuY2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmlld01vZGVsLmVtcHR5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHdoaWxlICh2aWV3TW9kZWwubGVuZ3RoKSB7XG4gICAgICAgICAgICB2aWV3TW9kZWwucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHJldHVybiB2aWV3TW9kZWw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gSW5pdGlhdGl2ZXRpZXJzVmlld01vZGVsO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvaW5pdGlhdGl2ZXRpZXJzL2luaXRpYXRpdmV0aWVycy12aWV3LW1vZGVsLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9pbml0aWF0aXZldGllcnMvaW5pdGlhdGl2ZXRpZXJzLXZpZXctbW9kZWwuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3QgTGVnaXNsYXRvclZpZXdNb2RlbCA9IHJlcXVpcmUoXCIuL2xlZ2lzbGF0b3Itdmlldy1tb2RlbFwiKTtcbmNvbnN0IG9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpO1xuLy8gY29uc3QgQ29sb3IgPSByZXF1aXJlKFwiY29sb3JcIikuQ29sb3I7XG52YXIgZnJhbWVNb2R1bGUgPSByZXF1aXJlKFwidWkvZnJhbWVcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xudmFyIHBhZ2U7XG52YXIgbmF2aWdhdGlvbkNvbnRleHQ7XG5cbnZhciBsZWdpc2xhdG9yTGlzdCA9IG5ldyBMZWdpc2xhdG9yVmlld01vZGVsKFtdKTtcblxudmFyIHBhZ2VEYXRhID0gbmV3IG9ic2VydmFibGVNb2R1bGUuZnJvbU9iamVjdCh7XG4gICAgbGVnaXNsYXRvckxpc3Q6IGxlZ2lzbGF0b3JMaXN0LFxuICAgIGlzTG9hZGluZzogZmFsc2Vcbn0pO1xuXG5mdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIkxlZ2lzbGF0b3JcIjtcblxuICAgIC8vIGlmIChmcmFtZU1vZHVsZS50b3Btb3N0KCkuaW9zKSB7XG4gICAgLy8gICAgIHZhciBuYXZpZ2F0aW9uQmFyID0gZnJhbWVNb2R1bGUudG9wbW9zdCgpLmlvcy5jb250cm9sbGVyLm5hdmlnYXRpb25CYXI7XG5cbiAgICAvLyAgICAgLy9kaWFsb2dzLmFsZXJ0KG5hdmlnYXRpb25CYXIuaXRlbXMpO1xuXG4gICAgLy8gICAgIHRyeSB7XG4gICAgLy8gICAgICAgICBuYXZpZ2F0aW9uQmFyLnRpbnRDb2xvciA9IG5ldyBDb2xvcihcIiMwMDdhZmZcIikuaW9zO1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIGNhdGNoKGUpXG4gICAgLy8gICAgIHtcbiAgICAvLyAgICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG5cbiAgICAvLyBpZiAocGFnZS5pb3MpXG4gICAgLy8ge1xuICAgIC8vICAgICB2YXIgc2VsZWN0ZWRWaWV3Q29udHJvbGxlciA9IHBhZ2UuaW9zO1xuXG4gICAgLy8gICAgIHNlbGVjdGVkVmlld0NvbnRyb2xsZXIuaGlkZXNCb3R0b21CYXJXaGVuUHVzaGVkID0gZmFsc2U7XG4gICAgLy8gfVxuXG4gICAgbmF2aWdhdGlvbkNvbnRleHQgPSBwYWdlLm5hdmlnYXRpb25Db250ZXh0O1xuICAgIHZhciBsZWdpc2xhdG9ySWQgPSBwYWdlLmdldFZpZXdCeUlkKFwibGVnaXNsYXRvcklkXCIpO1xuICAgIHZhciBsZWdpc2xhdG9yTmFtZSA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJsZWdpc2xhdG9yTmFtZVwiKTtcbiAgICBcbiAgICBsZWdpc2xhdG9ySWQudGV4dCA9IG5hdmlnYXRpb25Db250ZXh0LmxlZ2lzbGF0b3JJZDtcbiAgICBsZWdpc2xhdG9yTmFtZS50ZXh0ID0gbmF2aWdhdGlvbkNvbnRleHQuZnVsbE5hbWU7XG5cbiAgICBsZWdpc2xhdG9yTGlzdC5lbXB0eSgpO1xuICAgIGxlZ2lzbGF0b3JMaXN0LmxvYWQobmF2aWdhdGlvbkNvbnRleHQuYmlvZ3VpZGVJZCk7XG5cbiAgICAvL2RpYWxvZ3MuYWxlcnQobGVnaXNsYXRvckxpc3QuZ2V0SXRlbShsZWdpc2xhdG9yTGlzdC5sZW5ndGggLSAxKS50aXRsZSk7XG4gICAgXG4gICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHBhZ2VEYXRhO1xufVxuXG5mdW5jdGlvbiBvbkJhY2tUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5nb0JhY2soKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydChlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uSXRlbVRhcChhcmdzKVxue1xuICAgIHRyeVxuICAgIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYXJncy5pbmRleDtcbiAgICAgICAgdmFyIGl0ZW0gPSBsZWdpc2xhdG9yTGlzdC5nZXRJdGVtKGluZGV4KTtcblxuICAgICAgICBuYXZpZ2F0aW9uQ29udGV4dC5yZWZlcmVuY2UgPSBcIm5hdlwiO1xuICAgICAgICBuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsVHlwZSA9IFwibGVnaXNsYXRvclwiO1xuICAgICAgICBuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsSWQgPSBuYXZpZ2F0aW9uQ29udGV4dC5sZWdpc2xhdG9ySWQ7XG5cbiAgICAgICAgY29uc3QgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICAgICAgbW9kdWxlTmFtZTogaXRlbS5uYXZpZ2F0ZVRvLFxuICAgICAgICAgICAgY29udGV4dDogbmF2aWdhdGlvbkNvbnRleHQsXG4gICAgICAgICAgICBjbGVhckhpc3Rvcnk6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydHMub25OYXZpZ2F0aW5nVG8gPSBvbk5hdmlnYXRpbmdUbztcbmV4cG9ydHMub25CYWNrVGFwID0gb25CYWNrVGFwO1xuZXhwb3J0cy5vbkl0ZW1UYXAgPSBvbkl0ZW1UYXA7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9sZWdpc2xhdG9yLXBhZ2UuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2xlZ2lzbGF0b3ItcGFnZS5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJcbm1vZHVsZS5leHBvcnRzID0gXCI8UGFnZSBuYXZpZ2F0aW5nVG89XFxcIm9uTmF2aWdhdGluZ1RvXFxcIiBjbGFzcz1cXFwicGFnZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly9zY2hlbWFzLm5hdGl2ZXNjcmlwdC5vcmcvdG5zLnhzZFxcXCIgPlxcbiAgICA8QWN0aW9uQmFyIGNsYXNzPVxcXCJhY3Rpb24tYmFyXFxcIj5cXG4gICAgICAgIDxhbmRyb2lkPlxcbiAgICAgICAgICAgIDxOYXZpZ2F0aW9uQnV0dG9uIGFuZHJvaWQuc3lzdGVtSWNvbj1cXFwiaWNfbWVudV9iYWNrXFxcIiB0YXA9XFxcIm9uQmFja1RhcFxcXCIgLz5cXG4gICAgICAgIDwvYW5kcm9pZD5cXG4gICAgPC9BY3Rpb25CYXI+XFxuXFxuICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcImF1dG8sICpcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiIGNsYXNzPVxcXCJ2aWV3LXRpdGxlXFxcIj5cXG4gICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImxlZ2lzbGF0b3JJZFxcXCIgdGV4dD1cXFwiXFxcIiB2aXNpYmlsaXR5PVxcXCJjb2xsYXBzZWRcXFwiIC8+XFxuICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJsZWdpc2xhdG9yTmFtZVxcXCIgdGV4dD1cXFwiXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiIC8+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMVxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIiB3aWR0aD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICAgICAgPExpc3RWaWV3IGl0ZW1zPVxcXCJ7eyBsZWdpc2xhdG9yTGlzdCB9fVxcXCIgaXRlbVRhcD1cXFwib25JdGVtVGFwXFxcIiBoZWlnaHQ9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgICAgICAgICA8TGlzdFZpZXcuaXRlbVRlbXBsYXRlPlxcbiAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIiosIGF1dG9cXFwiIHJvd3M9XFxcIipcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwie3sgdGl0bGUgfX1cXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJtaWRkbGVcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1tYWluLXRvcFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCImI3hmMTA1O1xcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcIm1pZGRsZVxcXCIgY2xhc3M9XFxcImZuLWxpc3Qtdmlldy1pdGVtXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgIDwvTGlzdFZpZXcuaXRlbVRlbXBsYXRlPlxcbiAgICAgICAgICAgIDwvTGlzdFZpZXc+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICA8L0dyaWRMYXlvdXQ+XFxuPC9QYWdlPlxcblwiOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvbGVnaXNsYXRvci1wYWdlLnhtbFwiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJtYXJrdXBcIiwgcGF0aDogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvbGVnaXNsYXRvci1wYWdlLnhtbFwiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBvYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBPYnNlcnZhYmxlQXJyYXkgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlLWFycmF5XCIpLk9ic2VydmFibGVBcnJheTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG5cbmZ1bmN0aW9uIExlZ2lzbGF0b3JWaWV3TW9kZWwoaXRlbXMpIHtcbiAgICBjb25zdCB2aWV3TW9kZWwgPSBuZXcgT2JzZXJ2YWJsZUFycmF5KGl0ZW1zKTtcblxuICAgIHZpZXdNb2RlbC5sb2FkID0gZnVuY3Rpb24oYmlvZ3VpZGVJZCkge1xuICAgICAgICB2YXIgZGF0YTtcblxuICAgICAgICBpZiAoYmlvZ3VpZGVJZCA9PT0gbnVsbCB8fCBiaW9ndWlkZUlkID09PSBcIlwiKSB7XG4gICAgICAgICAgICBkYXRhID0gW1xuICAgICAgICAgICAgICAgIHtcInRpdGxlXCI6IFwiTWVldGluZ3NcIiwgXCJuYXZpZ2F0ZVRvXCI6IFwibWVldGluZ3MvbWVldGluZ3MtcGFnZVwifSxcbiAgICAgICAgICAgICAgICB7XCJ0aXRsZVwiOiBcIkluaXRpYXRpdmUgVGllcnNcIiwgXCJuYXZpZ2F0ZVRvXCI6IFwibGVnaXNsYXRvcnMvbGVnaXNsYXRvci9pbml0aWF0aXZldGllcnMvaW5pdGlhdGl2ZXRpZXJzLXBhZ2VcIn0sXG4gICAgICAgICAgICAgICAge1widGl0bGVcIjogXCJTdXJ2ZXlzXCIsIFwibmF2aWdhdGVUb1wiOiBcImxlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXlzLXBhZ2VcIn0sXG4gICAgICAgICAgICAgICAge1widGl0bGVcIjogXCJSZWxhdGlvbnNoaXBzXCIsIFwibmF2aWdhdGVUb1wiOiBcInByb2ZpbGVzL3Byb2ZpbGVzLXBhZ2VcIn0sXG4gICAgICAgICAgICAgICAge1widGl0bGVcIjogXCJDb21taXR0ZWVzXCIsIFwibmF2aWdhdGVUb1wiOiBcImxlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvY29tbWl0dGVlcy9jb21taXR0ZWVzLXBhZ2VcIn1cbiAgICAgICAgICAgIF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRhID0gW1xuICAgICAgICAgICAgICAgIHtcInRpdGxlXCI6IFwiTWVldGluZ3NcIiwgXCJuYXZpZ2F0ZVRvXCI6IFwibWVldGluZ3MvbWVldGluZ3MtcGFnZVwifSxcbiAgICAgICAgICAgICAgICB7XCJ0aXRsZVwiOiBcIkluaXRpYXRpdmUgVGllcnNcIiwgXCJuYXZpZ2F0ZVRvXCI6IFwibGVnaXNsYXRvcnMvbGVnaXNsYXRvci9pbml0aWF0aXZldGllcnMvaW5pdGlhdGl2ZXRpZXJzLXBhZ2VcIn0sXG4gICAgICAgICAgICAgICAge1widGl0bGVcIjogXCJTdXJ2ZXlzXCIsIFwibmF2aWdhdGVUb1wiOiBcImxlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXlzLXBhZ2VcIn0sXG4gICAgICAgICAgICAgICAge1widGl0bGVcIjogXCJSZWxhdGlvbnNoaXBzXCIsIFwibmF2aWdhdGVUb1wiOiBcInByb2ZpbGVzL3Byb2ZpbGVzLXBhZ2VcIn0sXG4gICAgICAgICAgICAgICAge1widGl0bGVcIjogXCJCaW9cIiwgXCJuYXZpZ2F0ZVRvXCI6IFwibGVnaXNsYXRvcnMvbGVnaXNsYXRvci9iaW8vYmlvLXBhZ2VcIn0sXG4gICAgICAgICAgICAgICAge1widGl0bGVcIjogXCJDb21taXR0ZWVzXCIsIFwibmF2aWdhdGVUb1wiOiBcImxlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvY29tbWl0dGVlcy9jb21taXR0ZWVzLXBhZ2VcIn1cbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oZGF0YUl0ZW0pIHtcbiAgICAgICAgICAgIHZpZXdNb2RlbC5wdXNoKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogZGF0YUl0ZW0udGl0bGUsXG4gICAgICAgICAgICAgICAgbmF2aWdhdGVUbzogZGF0YUl0ZW0ubmF2aWdhdGVUb1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2aWV3TW9kZWwuZW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgd2hpbGUgKHZpZXdNb2RlbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZpZXdNb2RlbC5wb3AoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gdmlld01vZGVsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IExlZ2lzbGF0b3JWaWV3TW9kZWw7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9sZWdpc2xhdG9yLXZpZXctbW9kZWwuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2xlZ2lzbGF0b3Itdmlldy1tb2RlbC5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBTZWxlY3RWaWV3TW9kZWwgPSByZXF1aXJlKFwiLi9zZWxlY3Qtdmlldy1tb2RlbFwiKTtcbmNvbnN0IE9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpO1xudmFyIGh0dHAgPSByZXF1aXJlKFwiaHR0cFwiKTtcbnZhciBmcmFtZU1vZHVsZSA9IHJlcXVpcmUoXCJ1aS9mcmFtZVwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG52YXIgcGFnZTtcbnZhciBuYXZpZ2F0aW9uQ29udGV4dDtcblxudmFyIHNlbGVjdExpc3QgPSBuZXcgU2VsZWN0Vmlld01vZGVsKFtdKTtcblxudmFyIHN3aXRjaFRhcCA9IGZhbHNlO1xuXG52YXIgcGFnZURhdGEgPSBuZXcgT2JzZXJ2YWJsZU1vZHVsZS5mcm9tT2JqZWN0KHtcbiAgICBib3VuZERhdGE6IG51bGwsXG4gICAgc2VsZWN0TGlzdDogc2VsZWN0TGlzdCxcbiAgICBpc0xvYWRpbmc6IGZhbHNlXG59KTtcblxuZnVuY3Rpb24gb25OYXZpZ2F0aW5nVG8oYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHBhZ2UgPSBhcmdzLm9iamVjdDtcbiAgICAgICAgbmF2aWdhdGlvbkNvbnRleHQgPSBwYWdlLm5hdmlnYXRpb25Db250ZXh0O1xuICAgICAgICBcbiAgICAgICAgcGFnZURhdGEuYm91bmREYXRhID0gbmF2aWdhdGlvbkNvbnRleHQ7XG4gICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS51cGRhdGVkID0gZmFsc2U7XG4gICAgICAgIFxuICAgICAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiU2VsZWN0IFN1cnZleShzKVwiO1xuXG4gICAgICAgIHNlbGVjdExpc3QuZW1wdHkoKTtcblxuICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgdHJ1ZSk7XG5cbiAgICAgICAgc2VsZWN0TGlzdC5sb2FkKG5hdmlnYXRpb25Db250ZXh0Lm1lZXRpbmdJZCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuXG4gICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblN3aXRjaExvYWRlZChhcmdzKSB7XG4gICAgdmFyIGNoZWNrZWRTd2l0Y2ggPSBhcmdzLm9iamVjdDtcblxuICAgIGNoZWNrZWRTd2l0Y2gub24oXCJ0YXBcIiwgZnVuY3Rpb24oYXJncykge1xuICAgICAgICAvLyBOZWNlc3NhcnkgdG8gcHJldmVudCB0aGUgY2hlY2tlZENoYW5nZSBldmVudCBmcm9tIGZpcmluZyBvbiB0aGUgc3dpdGNoIHdoZW4gdXNlciBzY3JvbGxzLlxuICAgICAgICBzd2l0Y2hUYXAgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgY2hlY2tlZFN3aXRjaC5vbihcImNoZWNrZWRDaGFuZ2VcIiwgZnVuY3Rpb24oYXJncykge1xuICAgICAgICBpZiAoc3dpdGNoVGFwKSB7XG4gICAgICAgICAgICB2YXIgc3RhY2tMYXlvdXQgPSBhcmdzLm9iamVjdC5wYXJlbnQ7XG4gICAgICAgICAgICB2YXIgaW5kZXhMYWJlbCA9IHN0YWNrTGF5b3V0LmdldFZpZXdCeUlkKFwiaW5kZXhMYWJlbFwiKTtcblxuICAgICAgICAgICAgdmFyIG1vZGVsID0gc2VsZWN0TGlzdC5nZXRJdGVtKGluZGV4TGFiZWwudGV4dCk7XG5cbiAgICAgICAgICAgIG1vZGVsLmNoZWNrZWQgPSBhcmdzLnZhbHVlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBodHRwLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgIHVybDogZ2xvYmFsLmFwaUJhc2VTZXJ2aWNlVXJsICsgXCJ1cGRhdGVtZWV0aW5nc3VydmV5XCIsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLCBcIkF1dGhvcml6YXRpb25cIjogZ2xvYmFsLnRva2VuIH0sXG4gICAgICAgICAgICAgICAgY29udGVudDogSlNPTi5zdHJpbmdpZnkobW9kZWwpXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIC8vIHZhciByZXN1bHQgPSByZXNwb25zZS5jb250ZW50LnRvSlNPTigpO1xuXG4gICAgICAgICAgICAgICAgLy8gZGlhbG9ncy5hbGVydChyZXN1bHQpO1xuICAgICAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS51cGRhdGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHN3aXRjaFRhcCA9IGZhbHNlO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gb25CYWNrVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkuZ29CYWNrKCk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgfVxufVxuXG5leHBvcnRzLm9uTmF2aWdhdGluZ1RvID0gb25OYXZpZ2F0aW5nVG87XG5leHBvcnRzLm9uU3dpdGNoTG9hZGVkID0gb25Td2l0Y2hMb2FkZWQ7XG5leHBvcnRzLm9uQmFja1RhcCA9IG9uQmFja1RhcDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc2VsZWN0L3NlbGVjdC1wYWdlLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3NlbGVjdC9zZWxlY3QtcGFnZS5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJcbm1vZHVsZS5leHBvcnRzID0gXCI8UGFnZSBuYXZpZ2F0aW5nVG89XFxcIm9uTmF2aWdhdGluZ1RvXFxcIiBjbGFzcz1cXFwicGFnZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly9zY2hlbWFzLm5hdGl2ZXNjcmlwdC5vcmcvdG5zLnhzZFxcXCIgPlxcbiAgICA8QWN0aW9uQmFyIGNsYXNzPVxcXCJhY3Rpb24tYmFyXFxcIj5cXG4gICAgICAgIDxhbmRyb2lkPlxcbiAgICAgICAgICAgIDxOYXZpZ2F0aW9uQnV0dG9uIGFuZHJvaWQuc3lzdGVtSWNvbj1cXFwiaWNfbWVudV9iYWNrXFxcIiB0YXA9XFxcIm9uQmFja1RhcFxcXCIgLz5cXG4gICAgICAgIDwvYW5kcm9pZD5cXG4gICAgPC9BY3Rpb25CYXI+XFxuXFxuICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcIipcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMVxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIj5cXG4gICAgICAgICAgICA8TGlzdFZpZXcgaXRlbXM9XFxcInt7IHNlbGVjdExpc3QgfX1cXFwiIGl0ZW1UZW1wbGF0ZVNlbGVjdG9yPVxcXCIkaW5kZXhcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMaXN0Vmlldy5pdGVtVGVtcGxhdGU+XFxuICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKiwgYXV0b1xcXCIgcm93cz1cXFwiKlxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJ7eyBzdXJ2ZXkgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1tYWluLXRvcFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcImF1dG8sICpcXFwiIHJvd3M9XFxcIipcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiU2Vzc2lvbiBZZWFyOiBcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1zdWItdGl0bGVcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJ7eyB5ZWFyIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiYXV0bywgKlxcXCIgcm93cz1cXFwiKlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJDaGFtYmVyL0NhdWN1czogXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViLXRpdGxlXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwie3sgY2hhbWJlciB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1YlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTd2l0Y2ggaWQ9XFxcImNoZWNrZWRTd2l0Y2hcXFwiIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiBjaGVja2VkPVxcXCJ7eyBjaGVja2VkIH19XFxcIiBcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkZWQ9XFxcIm9uU3dpdGNoTG9hZGVkXFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJyaWdodFxcXCIgY2xhc3M9XFxcInN3aXRjaFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwiaW5kZXhMYWJlbFxcXCIgdGV4dD1cXFwie3sgJGluZGV4IH19XFxcIiB2aXNpYmlsaXR5PVxcXCJjb2xsYXBzZVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICA8L0xpc3RWaWV3Lml0ZW1UZW1wbGF0ZT5cXG4gICAgICAgICAgICA8L0xpc3RWaWV3PlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgIDxBY3Rpdml0eUluZGljYXRvciBidXN5PVxcXCJ7eyBpc0xvYWRpbmcgfX1cXFwiIGFuZHJvaWQ6aGVpZ2h0PVxcXCIyNSVcXFwiIGFuZHJvaWQ6d2lkdGg9XFxcIjI1JVxcXCIgaW9zLmFjdGl2aXR5SW5kaWNhdG9yVmlld1N0eWxlPVxcXCJ3aGl0ZUxhcmdlXFxcIiByb3dTcGFuPVxcXCIxXFxcIiBjb2xTcGFuPVxcXCIxXFxcIiAvPlxcbiAgICA8L0dyaWRMYXlvdXQ+XFxuPC9QYWdlPlxcblwiOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zZWxlY3Qvc2VsZWN0LXBhZ2UueG1sXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcIm1hcmt1cFwiLCBwYXRoOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3NlbGVjdC9zZWxlY3QtcGFnZS54bWxcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3QgT2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgT2JzZXJ2YWJsZUFycmF5ID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZS1hcnJheVwiKS5PYnNlcnZhYmxlQXJyYXk7XG52YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxuZnVuY3Rpb24gU2VsZWN0Vmlld01vZGVsKGl0ZW1zKSB7XG4gICAgY29uc3Qgdmlld01vZGVsID0gbmV3IE9ic2VydmFibGVBcnJheShpdGVtcyk7XG4gICAgXG4gICAgdmlld01vZGVsLmxvYWQgPSBmdW5jdGlvbihtZWV0aW5nSWQpIHtcbiAgICAgICAgcmV0dXJuIGh0dHAucmVxdWVzdCh7XG4gICAgICAgICAgICB1cmw6IGdsb2JhbC5hcGlCYXNlU2VydmljZVVybCArIFwibWVldGluZ3N1cnZleXM/bWVldGluZ0lkPVwiICsgbWVldGluZ0lkLFxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiwgXCJBdXRob3JpemF0aW9uXCI6IGdsb2JhbC50b2tlbiB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzcG9uc2UuY29udGVudC50b1N0cmluZygpO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHJlc3VsdCk7XG5cbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihzdXJ2ZXkpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hlY2tlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHN1cnZleS5DaGVja2VkID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2aWV3TW9kZWwucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG1lZXRpbmdJZDogc3VydmV5Lk1lZXRpbmdJZCxcbiAgICAgICAgICAgICAgICAgICAgbGVnaXNsYXRvcklkOiBzdXJ2ZXkuTGVnaXNsYXRvcklkLFxuICAgICAgICAgICAgICAgICAgICBzdXJ2ZXlJZDogc3VydmV5LlN1cnZleUlkLFxuICAgICAgICAgICAgICAgICAgICBzdXJ2ZXk6IHN1cnZleS5TdXJ2ZXksXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYXRpdmVJZHM6IHN1cnZleS5Jbml0aWF0aXZlSWRzLFxuICAgICAgICAgICAgICAgICAgICBpbnRpdGlhdGl2ZXM6IHN1cnZleS5Jbml0aWF0aXZlcyxcbiAgICAgICAgICAgICAgICAgICAgeWVhcjogc3VydmV5LlllYXIsXG4gICAgICAgICAgICAgICAgICAgIGNoYW1iZXJJZDogc3VydmV5LkNoYW1iZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgY2hhbWJlcjogc3VydmV5LkNoYW1iZXIsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IHN1cnZleS5DaGVja2VkXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZpZXdNb2RlbC5lbXB0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB3aGlsZSAodmlld01vZGVsLmxlbmd0aCkge1xuICAgICAgICAgICAgdmlld01vZGVsLnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gdmlld01vZGVsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNlbGVjdFZpZXdNb2RlbDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc2VsZWN0L3NlbGVjdC12aWV3LW1vZGVsLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3NlbGVjdC9zZWxlY3Qtdmlldy1tb2RlbC5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBSZXNwb25zZVZpZXdNb2RlbCA9IHJlcXVpcmUoXCIuL3Jlc3BvbnNlLXZpZXctbW9kZWxcIik7XG5jb25zdCBwbGF0Zm9ybSA9IHJlcXVpcmUoXCJwbGF0Zm9ybVwiKTtcbmNvbnN0IE9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpO1xudmFyIE9ic2VydmFibGVBcnJheSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGUtYXJyYXlcIikuT2JzZXJ2YWJsZUFycmF5O1xudmFyIGh0dHAgPSByZXF1aXJlKFwiaHR0cFwiKTtcbnZhciBmcmFtZU1vZHVsZSA9IHJlcXVpcmUoXCJ1aS9mcmFtZVwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG5cbnZhciBwYWdlO1xudmFyIG5hdmlnYXRpb25Db250ZXh0O1xuXG52YXIgcmVzcG9uc2VMaXN0ID0gbmV3IFJlc3BvbnNlVmlld01vZGVsKFtdKTtcbnZhciByZXNwb25zZUluZGV4ID0gMDtcblxudmFyIHBhZ2VEYXRhID0gbmV3IE9ic2VydmFibGVNb2R1bGUuZnJvbU9iamVjdCh7XG4gICAgYm91bmREYXRhOiBudWxsLFxuICAgIHJlc3BvbnNlSW5kZXg6IHJlc3BvbnNlSW5kZXgsXG4gICAgcmVzcG9uc2VMaXN0OiByZXNwb25zZUxpc3QsXG4gICAgaXNMb2FkaW5nOiBmYWxzZVxufSk7XG5cbmZ1bmN0aW9uIG9uTmF2aWdhdGluZ1RvKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBwYWdlID0gYXJncy5vYmplY3Q7XG5cbiAgICAgICAgbmF2aWdhdGlvbkNvbnRleHQgPSBwYWdlLm5hdmlnYXRpb25Db250ZXh0O1xuXG4gICAgICAgIHZhciBsZWdpc2xhdG9ySWQgPSBwYWdlLmdldFZpZXdCeUlkKFwibGVnaXNsYXRvcklkXCIpO1xuICAgICAgICB2YXIgbGVnaXNsYXRvck5hbWUgPSBwYWdlLmdldFZpZXdCeUlkKFwibGVnaXNsYXRvck5hbWVcIik7XG5cbiAgICAgICAgbGVnaXNsYXRvcklkLnRleHQgPSBuYXZpZ2F0aW9uQ29udGV4dC5sZWdpc2xhdG9ySWQ7XG4gICAgICAgIGxlZ2lzbGF0b3JOYW1lLnRleHQgPSBuYXZpZ2F0aW9uQ29udGV4dC5mdWxsTmFtZTtcbiAgICAgICAgXG4gICAgICAgIHZhciBzdXJ2ZXlUaXRsZSA9IG5hdmlnYXRpb25Db250ZXh0LmJvdW5kRGF0YS5zdXJ2ZXk7XG4gICAgICAgIHZhciBtYXhMZW5ndGggPSAyMDtcblxuICAgICAgICBpZiAoc3VydmV5VGl0bGUubGVuZ3RoID4gbWF4TGVuZ3RoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gbWF4TGVuZ3RoOyBpID4gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gc3VydmV5VGl0bGUuaW5kZXhPZihcIiBcIiwgaSk7XG5cbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPiAtMSAmJiBwb3NpdGlvbiA8PSBtYXhMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VydmV5VGl0bGUgPSBzdXJ2ZXlUaXRsZS5zdWJzdHIoMCwgcG9zaXRpb24pICsgXCIuLi5cIlxuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHBhZ2UuYWN0aW9uQmFyLnRpdGxlID0gc3VydmV5VGl0bGU7XG5cbiAgICAgICAgcGFnZURhdGEuYm91bmREYXRhID0gbmF2aWdhdGlvbkNvbnRleHQuYm91bmREYXRhO1xuICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEucmVzdWx0ID0gXCJcIjtcblxuICAgICAgICByZXNwb25zZUxpc3QuZW1wdHkoKTtcblxuICAgICAgICBpZiAocmVzcG9uc2VMaXN0Lkl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuICAgIFxuICAgICAgICAgICAgcmVzcG9uc2VMaXN0LmxvYWQocGFnZURhdGEuYm91bmREYXRhLnN1cnZleVF1ZXN0aW9uSWQpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlSW5kZXggPSAwO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLmJvdW5kRGF0YS5yZXNwb25zZUlkLnRvU3RyaW5nKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBwYWdlRGF0YS5yZXNwb25zZUxpc3QgPSByZXNwb25zZUxpc3Q7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHJlc3BvbnNlTGlzdC5MaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFnZURhdGEucmVzcG9uc2VMaXN0Lkxpc3QuZ2V0SXRlbShpKS5yZXNwb25zZUlkID09PSBwYWdlRGF0YS5ib3VuZERhdGEucmVzcG9uc2VJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcGFnZURhdGEucmVzcG9uc2VJbmRleCA9IHJlc3BvbnNlSW5kZXg7XG5cbiAgICAgICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG5cbiAgICAgICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25Mb2FkZWQoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciByZXNwb25zZUxpc3RQaWNrZXIgPSBwYWdlLmdldFZpZXdCeUlkKFwicmVzcG9uc2VMaXN0UGlja2VyXCIpO1xuICAgICAgICBcbiAgICAgICAgcmVzcG9uc2VMaXN0UGlja2VyLm9uKFwic2VsZWN0ZWRJbmRleENoYW5nZVwiLCBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB2YXIgcmVzcG9uc2VMYWJlbCA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJyZXNwb25zZUxhYmVsXCIpO1xuXG4gICAgICAgICAgICByZXNwb25zZUxhYmVsLnRleHQgPSBwYWdlRGF0YS5yZXNwb25zZUxpc3QuSXRlbXMuZ2V0SXRlbShhcmdzLm9iamVjdC5zZWxlY3RlZEluZGV4KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uQmFja1RhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHBsYXRmb3JtLmlzQW5kcm9pZCkge1xuICAgICAgICAgICAgdmFyIGNvbW1lbnRzID0gcGFnZS5nZXRWaWV3QnlJZChcImNvbW1lbnRzXCIpO1xuXG4gICAgICAgICAgICBjb21tZW50cy5kaXNtaXNzU29mdElucHV0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkuZ29CYWNrKCk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkdyaWRMYXlvdXRUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGlmIChwbGF0Zm9ybS5pc0FuZHJvaWQpIHtcbiAgICAgICAgICAgIHZhciBjb21tZW50cyA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJjb21tZW50c1wiKTtcblxuICAgICAgICAgICAgY29tbWVudHMuZGlzbWlzc1NvZnRJbnB1dCgpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblN0YWNrTGF5b3V0VGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAocGxhdGZvcm0uaXNBbmRyb2lkKSB7XG4gICAgICAgICAgICB2YXIgY29tbWVudHMgPSBwYWdlLmdldFZpZXdCeUlkKFwiY29tbWVudHNcIik7XG5cbiAgICAgICAgICAgIGNvbW1lbnRzLmRpc21pc3NTb2Z0SW5wdXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXNwb25zZUxpc3RQaWNrZXJHcmlkTGF5b3V0ID0gcGFnZS5nZXRWaWV3QnlJZChcInJlc3BvbnNlTGlzdFBpY2tlckdyaWRMYXlvdXRcIik7XG4gICAgICAgIFxuICAgICAgICBpZiAocmVzcG9uc2VMaXN0UGlja2VyR3JpZExheW91dC52aXNpYmlsaXR5ID09PSBcImNvbGxhcHNlXCIpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlTGlzdFBpY2tlckdyaWRMYXlvdXQudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuXG4gICAgICAgICAgICBwYWdlLmFkZENzcyhcIiNyZXNwb25zZUxhYmVsIHtjb2xvcjogI2NjMmQzMDt9XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzcG9uc2VMaXN0UGlja2VyR3JpZExheW91dC52aXNpYmlsaXR5ID0gXCJjb2xsYXBzZVwiO1xuXG4gICAgICAgICAgICBwYWdlLmFkZENzcyhcIiNyZXNwb25zZUxhYmVsIHtjb2xvcjogIzY2Njt9XCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU2F2ZVRhcChhcmdzKSB7XG4gICAgaWYgKHBsYXRmb3JtLmlzQW5kcm9pZCkge1xuICAgICAgICB2YXIgY29tbWVudHMgPSBwYWdlLmdldFZpZXdCeUlkKFwiY29tbWVudHNcIik7XG5cbiAgICAgICAgY29tbWVudHMuZGlzbWlzc1NvZnRJbnB1dCgpO1xuICAgIH1cblxuICAgIHZhciByZXNwb25zZUxpc3RQaWNrZXIgPSBwYWdlLmdldFZpZXdCeUlkKFwicmVzcG9uc2VMaXN0UGlja2VyXCIpO1xuXG4gICAgcGFnZURhdGEuYm91bmREYXRhLnJlc3BvbnNlSWQgPSBwYWdlRGF0YS5yZXNwb25zZUxpc3QuTGlzdC5nZXRJdGVtKHJlc3BvbnNlTGlzdFBpY2tlci5zZWxlY3RlZEluZGV4KS5yZXNwb25zZUlkO1xuICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5yZXNwb25zZSA9IHBhZ2VEYXRhLnJlc3BvbnNlTGlzdC5MaXN0LmdldEl0ZW0ocmVzcG9uc2VMaXN0UGlja2VyLnNlbGVjdGVkSW5kZXgpLnJlc3BvbnNlO1xuICAgIFxuICAgIHZhciByZXN1bHQ7XG5cbiAgICBodHRwLnJlcXVlc3Qoe1xuICAgICAgICB1cmw6IGdsb2JhbC5hcGlCYXNlU2VydmljZVVybCArIFwidXBkYXRlbGVnaXNsYXRvcnN1cnZleVwiLFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLCBcIkF1dGhvcml6YXRpb25cIjogZ2xvYmFsLnRva2VuIH0sXG4gICAgICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KHBhZ2VEYXRhLmJvdW5kRGF0YSlcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEucmVzdWx0ID0gXCJVcGRhdGVcIjtcblxuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkuZ29CYWNrKCk7XG4gICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbmV4cG9ydHMub25OYXZpZ2F0aW5nVG8gPSBvbk5hdmlnYXRpbmdUbztcbmV4cG9ydHMub25Mb2FkZWQgPSBvbkxvYWRlZDtcbmV4cG9ydHMub25CYWNrVGFwID0gb25CYWNrVGFwO1xuZXhwb3J0cy5vbkdyaWRMYXlvdXRUYXAgPSBvbkdyaWRMYXlvdXRUYXA7XG5leHBvcnRzLm9uU3RhY2tMYXlvdXRUYXAgPSBvblN0YWNrTGF5b3V0VGFwO1xuZXhwb3J0cy5vblNhdmVUYXAgPSBvblNhdmVUYXA7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9xdWVzdGlvbi9xdWVzdGlvbi1wYWdlLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9xdWVzdGlvbi9xdWVzdGlvbi1wYWdlLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxubW9kdWxlLmV4cG9ydHMgPSBcIjxQYWdlIG5hdmlnYXRpbmdUbz1cXFwib25OYXZpZ2F0aW5nVG9cXFwiIGxvYWRlZD1cXFwib25Mb2FkZWRcXFwiIGNsYXNzPVxcXCJwYWdlXFxcIiB4bWxucz1cXFwiaHR0cDovL3NjaGVtYXMubmF0aXZlc2NyaXB0Lm9yZy90bnMueHNkXFxcIiA+XFxuICAgIDxBY3Rpb25CYXIgY2xhc3M9XFxcImFjdGlvbi1iYXJcXFwiPlxcbiAgICAgICAgPGFuZHJvaWQ+XFxuICAgICAgICAgICAgPE5hdmlnYXRpb25CdXR0b24gYW5kcm9pZC5zeXN0ZW1JY29uPVxcXCJpY19tZW51X2JhY2tcXFwiIHRhcD1cXFwib25CYWNrVGFwXFxcIiAvPlxcbiAgICAgICAgPC9hbmRyb2lkPlxcbiAgICAgICAgPEFjdGlvbkl0ZW0gdGFwPVxcXCJvblNhdmVUYXBcXFwiIGlvcy5zeXN0ZW1JY29uPVxcXCIzXFxcIiBhbmRyb2lkLnN5c3RlbUljb249XFxcImljX21lbnVfc2F2ZVxcXCIgaW9zLnBvc2l0aW9uPVxcXCJyaWdodFxcXCIgLz5cXG4gICAgPC9BY3Rpb25CYXI+XFxuXFxuICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcImF1dG8sICpcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiIHRhcD1cXFwib25HcmlkTGF5b3V0VGFwXFxcIj5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcInRvcFxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIiBjbGFzcz1cXFwidmlldy10aXRsZVxcXCIgdmlzaWJpbGl0eT1cXFwie3sgYm91bmREYXRhLnJlbGF0aW9uYWxUeXBlID09PSAnbGVnaXNsYXRvcicgPyAndmlzaWJsZScgOiAnY29sbGFwc2UnIH19XFxcIj5cXG4gICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImxlZ2lzbGF0b3JJZFxcXCIgdGV4dD1cXFwiXFxcIiB2aXNpYmlsaXR5PVxcXCJjb2xsYXBzZWRcXFwiIC8+XFxuICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJsZWdpc2xhdG9yTmFtZVxcXCIgdGV4dD1cXFwiXFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiIC8+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMVxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIj5cXG4gICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwie3sgYm91bmREYXRhLnN1cnZleVF1ZXN0aW9uIH19XFxcIiB0ZXh0V3JhcD1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgIDxTdGFja0xheW91dCB0YXA9XFxcIm9uU3RhY2tMYXlvdXRUYXBcXFwiPlxcbiAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIlJlc3BvbnNlXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbGVmdFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwicmVzcG9uc2VMYWJlbFxcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IGJvdW5kRGF0YS5yZXNwb25zZSB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICA8R3JpZExheW91dCBpZD1cXFwicmVzcG9uc2VMaXN0UGlja2VyR3JpZExheW91dFxcXCIgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiYXV0b1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiIHZpc2liaWxpdHk9XFxcImNvbGxhcHNlXFxcIj5cXG4gICAgICAgICAgICAgICAgPExpc3RQaWNrZXIgaWQ9XFxcInJlc3BvbnNlTGlzdFBpY2tlclxcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIGl0ZW1zPVxcXCJ7eyByZXNwb25zZUxpc3QuSXRlbXMgfX1cXFwiIHNlbGVjdGVkSW5kZXg9XFxcInt7IHJlc3BvbnNlSW5kZXggfX1cXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXBpY2tlclxcXCI+PC9MaXN0UGlja2VyPlxcbiAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiRm9sbG93IFVwIFJlcXVpcmVkP1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgICAgIDxTd2l0Y2ggcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIGNoZWNrZWQ9XFxcInt7IGJvdW5kRGF0YS5mb2xsb3dVcFJlcXVpcmVkIH19XFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJyaWdodFxcXCIgY2xhc3M9XFxcInN3aXRjaFxcXCIgLz5cXG4gICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgPCEtLSA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiQ29tbWVudHMvT2JzZXJ2YXRpb25zXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbGVmdFxcXCIgLz5cXG4gICAgICAgICAgICA8L0dyaWRMYXlvdXQ+IC0tPlxcbiAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcIipcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICAgICAgPFRleHRWaWV3IGlkPVxcXCJjb21tZW50c1xcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcInt7IGJvdW5kRGF0YS5jb21tZW50cyB9fVxcXCIgaGludD1cXFwiQ29tbWVudHMvT2JzZXJ2YXRpb25zXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tdGV4dHZpZXdcXFwiIC8+XFxuICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgIDxBY3Rpdml0eUluZGljYXRvciBidXN5PVxcXCJ7eyBpc0xvYWRpbmcgfX1cXFwiIGFuZHJvaWQ6aGVpZ2h0PVxcXCIyNSVcXFwiIGFuZHJvaWQ6d2lkdGg9XFxcIjI1JVxcXCIgaW9zLmFjdGl2aXR5SW5kaWNhdG9yVmlld1N0eWxlPVxcXCJ3aGl0ZUxhcmdlXFxcIiByb3dTcGFuPVxcXCIyXFxcIiBjb2xTcGFuPVxcXCIxXFxcIiAvPlxcbiAgICA8L0dyaWRMYXlvdXQ+XFxuPC9QYWdlPlxcblwiOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXkvcXVlc3Rpb24vcXVlc3Rpb24tcGFnZS54bWxcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwibWFya3VwXCIsIHBhdGg6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5L3F1ZXN0aW9uL3F1ZXN0aW9uLXBhZ2UueG1sXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IE9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpLk9ic2VydmFibGU7XG52YXIgT2JzZXJ2YWJsZUFycmF5ID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZS1hcnJheVwiKS5PYnNlcnZhYmxlQXJyYXk7XG52YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxuZnVuY3Rpb24gUmVzcG9uc2VWaWV3TW9kZWwoKSB7XG4gICAgY29uc3Qgdmlld01vZGVsID0gbmV3IE9ic2VydmFibGVNb2R1bGUoKTtcbiAgICB2aWV3TW9kZWwuSXRlbXMgPSBuZXcgT2JzZXJ2YWJsZUFycmF5KCk7XG4gICAgdmlld01vZGVsLkxpc3QgPSBuZXcgT2JzZXJ2YWJsZUFycmF5KCk7XG5cbiAgICB2aWV3TW9kZWwubG9hZCA9IGZ1bmN0aW9uKHN1cnZleVF1ZXN0aW9uSWQpIHtcbiAgICAgICAgcmV0dXJuIGh0dHAucmVxdWVzdCh7XG4gICAgICAgICAgICB1cmw6IGdsb2JhbC5hcGlCYXNlU2VydmljZVVybCArIFwic3VydmV5cmVzcG9uc2VzZXQ/c3VydmV5UXVlc3Rpb25JZD1cIiArIHN1cnZleVF1ZXN0aW9uSWQsXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLCBcIkF1dGhvcml6YXRpb25cIjogZ2xvYmFsLnRva2VuIH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXNwb25zZS5jb250ZW50LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzdWx0KTtcblxuICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdmlld01vZGVsLkl0ZW1zLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLlJlc3BvbnNlXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5MaXN0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZUlkOiByZXNwb25zZS5SZXNwb25zZUlkLFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZTogcmVzcG9uc2UuUmVzcG9uc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmlld01vZGVsLmVtcHR5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHdoaWxlICh2aWV3TW9kZWwuSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2aWV3TW9kZWwuSXRlbXMucG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAodmlld01vZGVsLkxpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICB2aWV3TW9kZWwuTGlzdC5wb3AoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgcmV0dXJuIHZpZXdNb2RlbDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBSZXNwb25zZVZpZXdNb2RlbDs7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9xdWVzdGlvbi9yZXNwb25zZS12aWV3LW1vZGVsLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9xdWVzdGlvbi9yZXNwb25zZS12aWV3LW1vZGVsLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IFN1cnZleVZpZXdNb2RlbCA9IHJlcXVpcmUoXCIuL3N1cnZleS12aWV3LW1vZGVsXCIpO1xuY29uc3QgT2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG5jb25zdCBhcHBNb2R1bGUgPSByZXF1aXJlKFwiYXBwbGljYXRpb25cIik7XG52YXIgZnJhbWVNb2R1bGUgPSByZXF1aXJlKFwidWkvZnJhbWVcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xudmFyIHBhZ2U7XG52YXIgbW9kZWw7XG52YXIgbmF2aWdhdGlvbkNvbnRleHQ7XG5cbnZhciBzdXJ2ZXlMaXN0ID0gbmV3IFN1cnZleVZpZXdNb2RlbChbXSk7XG5cbnZhciBwYWdlRGF0YSA9IG5ldyBPYnNlcnZhYmxlTW9kdWxlLmZyb21PYmplY3Qoe1xuICAgIGJvdW5kRGF0YTogbnVsbCxcbiAgICBzdXJ2ZXlMaXN0OiBzdXJ2ZXlMaXN0LFxuICAgIGlzTG9hZGluZzogZmFsc2Vcbn0pO1xuXG5mdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgICAgIG5hdmlnYXRpb25Db250ZXh0ID0gcGFnZS5uYXZpZ2F0aW9uQ29udGV4dDtcblxuICAgICAgICB2YXIgc3VydmV5VGl0bGUgPSBuYXZpZ2F0aW9uQ29udGV4dC5zdXJ2ZXk7XG4gICAgICAgIHZhciBtYXhMZW5ndGggPSAyMDtcblxuICAgICAgICBpZiAoc3VydmV5VGl0bGUubGVuZ3RoID4gbWF4TGVuZ3RoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gbWF4TGVuZ3RoOyBpID4gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gc3VydmV5VGl0bGUuaW5kZXhPZihcIiBcIiwgaSk7XG5cbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPiAtMSAmJiBwb3NpdGlvbiA8PSBtYXhMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VydmV5VGl0bGUgPSBzdXJ2ZXlUaXRsZS5zdWJzdHIoMCwgcG9zaXRpb24pICsgXCIuLi5cIlxuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIlN1cnZleVwiO1xuICAgICAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IHN1cnZleVRpdGxlO1xuXG4gICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YSA9IG5hdmlnYXRpb25Db250ZXh0O1xuXG4gICAgICAgIGNvbnN0IGJvb2xUZXh0Q29udmVydGVyID0gKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gXCJOb1wiO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBcIlllc1wiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGFwcE1vZHVsZS5nZXRSZXNvdXJjZXMoKS5ib29sVGV4dENvbnZlcnRlciA9IGJvb2xUZXh0Q29udmVydGVyO1xuXG4gICAgICAgIGlmIChhcmdzLmlzQmFja05hdmlnYXRpb24pIHtcbiAgICAgICAgICAgIGlmIChtb2RlbC5yZXN1bHQgPT09IFwiVXBkYXRlXCIpIHtcbiAgICAgICAgICAgICAgICBzdXJ2ZXlMaXN0LmVtcHR5KCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoc3VydmV5TGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHN1cnZleUxpc3QubG9hZChuYXZpZ2F0aW9uQ29udGV4dC5sZWdpc2xhdG9ySWQsIG5hdmlnYXRpb25Db250ZXh0LnN1cnZleUlkKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBwYWdlRGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5hdmlnYXRpb25Db250ZXh0ID0gcGFnZS5uYXZpZ2F0aW9uQ29udGV4dDtcblxuICAgICAgICAgICAgdmFyIGxlZ2lzbGF0b3JJZCA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJsZWdpc2xhdG9ySWRcIik7XG4gICAgICAgICAgICB2YXIgbGVnaXNsYXRvck5hbWUgPSBwYWdlLmdldFZpZXdCeUlkKFwibGVnaXNsYXRvck5hbWVcIik7XG5cbiAgICAgICAgICAgIGxlZ2lzbGF0b3JJZC50ZXh0ID0gbmF2aWdhdGlvbkNvbnRleHQubGVnaXNsYXRvcklkO1xuICAgICAgICAgICAgbGVnaXNsYXRvck5hbWUudGV4dCA9IG5hdmlnYXRpb25Db250ZXh0LmZ1bGxOYW1lO1xuXG4gICAgICAgICAgICBzdXJ2ZXlMaXN0LmVtcHR5KCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcbiAgICBcbiAgICAgICAgICAgIHN1cnZleUxpc3QubG9hZChuYXZpZ2F0aW9uQ29udGV4dC5sZWdpc2xhdG9ySWQsIG5hdmlnYXRpb25Db250ZXh0LnN1cnZleUlkKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHBhZ2VEYXRhO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uQmFja1RhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLmdvQmFjaygpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KGUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25JdGVtVGFwKGFyZ3MpIHtcbiAgICB0cnlcbiAgICB7XG4gICAgICAgIHZhciBsZWdpc2xhdG9ySWQgPSBwYWdlLmdldFZpZXdCeUlkKFwibGVnaXNsYXRvcklkXCIpO1xuICAgICAgICB2YXIgbGVnaXNsYXRvck5hbWUgPSBwYWdlLmdldFZpZXdCeUlkKFwibGVnaXNsYXRvck5hbWVcIik7XG4gICAgICAgIHZhciB2aWV3ID0gYXJncy52aWV3O1xuXG4gICAgICAgIG1vZGVsID0gdmlldy5iaW5kaW5nQ29udGV4dDtcbiAgICAgICAgbW9kZWwucmVsYXRpb25hbFR5cGUgPSBuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsVHlwZTtcbiAgICAgICAgbW9kZWwucmVsYXRpb25hbElkID0gbmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbElkO1xuICAgICAgICAvL2RpYWxvZ3MuYWxlcnQodmlldy5iaW5kaW5nQ29udGV4dC5zdXJ2ZXlRdWVzdGlvbik7XG5cbiAgICAgICAgY29uc3QgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICAgICAgbW9kdWxlTmFtZTogXCJsZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5L3F1ZXN0aW9uL3F1ZXN0aW9uLXBhZ2VcIixcbiAgICAgICAgICAgIGNvbnRleHQ6IHsgXG4gICAgICAgICAgICAgICAgbGVnaXNsYXRvcklkOiBsZWdpc2xhdG9ySWQudGV4dCxcbiAgICAgICAgICAgICAgICBmdWxsTmFtZTogbGVnaXNsYXRvck5hbWUudGV4dCxcbiAgICAgICAgICAgICAgICBib3VuZERhdGE6IG1vZGVsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xlYXJIaXN0b3J5OiBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnRzLm9uTmF2aWdhdGluZ1RvID0gb25OYXZpZ2F0aW5nVG87XG5leHBvcnRzLm9uQmFja1RhcCA9IG9uQmFja1RhcDtcbmV4cG9ydHMub25JdGVtVGFwID0gb25JdGVtVGFwO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXkvc3VydmV5LXBhZ2UuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5L3N1cnZleS1wYWdlLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxubW9kdWxlLmV4cG9ydHMgPSBcIjxQYWdlIG5hdmlnYXRpbmdUbz1cXFwib25OYXZpZ2F0aW5nVG9cXFwiIGNsYXNzPVxcXCJwYWdlXFxcIiB4bWxucz1cXFwiaHR0cDovL3NjaGVtYXMubmF0aXZlc2NyaXB0Lm9yZy90bnMueHNkXFxcIiA+XFxuICAgIDxBY3Rpb25CYXIgY2xhc3M9XFxcImFjdGlvbi1iYXJcXFwiPlxcbiAgICAgICAgPGFuZHJvaWQ+XFxuICAgICAgICAgICAgPE5hdmlnYXRpb25CdXR0b24gYW5kcm9pZC5zeXN0ZW1JY29uPVxcXCJpY19tZW51X2JhY2tcXFwiIHRhcD1cXFwib25CYWNrVGFwXFxcIiAvPlxcbiAgICAgICAgPC9hbmRyb2lkPlxcbiAgICA8L0FjdGlvbkJhcj5cXG5cXG4gICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiYXV0bywgKlxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIiB3aWR0aD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgY2xhc3M9XFxcInZpZXctdGl0bGVcXFwiIHZpc2liaWxpdHk9XFxcInt7IGJvdW5kRGF0YS5yZWxhdGlvbmFsVHlwZSA9PT0gJ2xlZ2lzbGF0b3InID8gJ3Zpc2libGUnIDogJ2NvbGxhcHNlJyB9fVxcXCI+XFxuICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJsZWdpc2xhdG9ySWRcXFwiIHRleHQ9XFxcIlxcXCIgdmlzaWJpbGl0eT1cXFwiY29sbGFwc2VkXFxcIiAvPlxcbiAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwibGVnaXNsYXRvck5hbWVcXFwiIHRleHQ9XFxcIlxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIiAvPlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjFcXFwiIGNvbD1cXFwiMFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcInRvcFxcXCI+XFxuICAgICAgICAgICAgPExpc3RWaWV3IGl0ZW1zPVxcXCJ7eyBzdXJ2ZXlMaXN0IH19XFxcIiBpdGVtVGFwPVxcXCJvbkl0ZW1UYXBcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMaXN0Vmlldy5pdGVtVGVtcGxhdGU+XFxuICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKiwgYXV0b1xcXCIgcm93cz1cXFwiKlxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJ7eyBzdXJ2ZXlRdWVzdGlvbiB9fVxcXCIgdGV4dFdyYXA9XFxcInRydWVcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1tYWluLXRvcFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJTdXJ2ZXkgUXVlc3Rpb24gUmVzcG9uc2VcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1zdWJcXFwiIHN0eWxlPVxcXCJmb250LXN0eWxlOiBpdGFsaWM7XFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCJhdXRvLCAqXFxcIiByb3dzPVxcXCIqXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIlJlc3BvbnNlOiBcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1zdWItdGl0bGVcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJ7eyByZXNwb25zZSB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1YlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcImF1dG8sICpcXFwiIHJvd3M9XFxcIipcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiRm9sbG93IFVwIFJlcXVpcmVkPyBcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1zdWItdGl0bGVcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJ7eyBmb2xsb3dVcFJlcXVpcmVkIHwgYm9vbFRleHRDb252ZXJ0ZXIoKSB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1YlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTdGFja0xheW91dCBkaXJlY3Rpb249XFxcImhvcml6b250YWxcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiQ29tbWVudHMvT2JzZXJ2YXRpb25zOiBcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1zdWItdGl0bGVcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJ7eyBjb21tZW50cyB9fVxcXCIgdGV4dFdyYXA9XFxcInRydWVcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1zdWJcXFwiIHZpc2liaWxpdHk9XFxcInt7IGNvbW1lbnRzID09PSBudWxsIHx8IGNvbW1lbnRzLmxlbmd0aCA9PT0gMCA/ICdjb2xsYXBzZScgOiAndmlzaWJsZScgfX1cXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcIiYjeGYxMDU7XFxcIiBjbGFzcz1cXFwiZm4tbGlzdC12aWV3LWl0ZW1cXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgPC9MaXN0Vmlldy5pdGVtVGVtcGxhdGU+XFxuICAgICAgICAgICAgPC9MaXN0Vmlldz5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8QWN0aXZpdHlJbmRpY2F0b3IgYnVzeT1cXFwie3sgaXNMb2FkaW5nIH19XFxcIiBhbmRyb2lkOmhlaWdodD1cXFwiMjUlXFxcIiBhbmRyb2lkOndpZHRoPVxcXCIyNSVcXFwiIGlvcy5hY3Rpdml0eUluZGljYXRvclZpZXdTdHlsZT1cXFwid2hpdGVMYXJnZVxcXCIgcm93U3Bhbj1cXFwiMlxcXCIgY29sU3Bhbj1cXFwiMVxcXCIgLz5cXG4gICAgPC9HcmlkTGF5b3V0PlxcbjwvUGFnZT5cXG5cIjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5L3N1cnZleS1wYWdlLnhtbFwiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJtYXJrdXBcIiwgcGF0aDogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXkvc3VydmV5LXBhZ2UueG1sXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IG9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpO1xudmFyIE9ic2VydmFibGVBcnJheSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGUtYXJyYXlcIikuT2JzZXJ2YWJsZUFycmF5O1xudmFyIGh0dHAgPSByZXF1aXJlKFwiaHR0cFwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG5cbmZ1bmN0aW9uIFN1cnZleVZpZXdNb2RlbChpdGVtcykge1xuICAgIGNvbnN0IHZpZXdNb2RlbCA9IG5ldyBPYnNlcnZhYmxlQXJyYXkoaXRlbXMpO1xuXG4gICAgdmlld01vZGVsLmxvYWQgPSBmdW5jdGlvbihsZWdpc2xhdG9ySWQsIHN1cnZleUlkKSB7XG4gICAgICAgIHJldHVybiBodHRwLnJlcXVlc3Qoe1xuICAgICAgICAgICAgdXJsOiBnbG9iYWwuYXBpQmFzZVNlcnZpY2VVcmwgKyBcImxlZ2lzbGF0b3JzdXJ2ZXk/bGVnaXNsYXRvcklkPVwiICsgbGVnaXNsYXRvcklkICsgXCImc3VydmV5SWQ9XCIgKyBzdXJ2ZXlJZCxcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiQXV0aG9yaXphdGlvblwiOiBnbG9iYWwudG9rZW4gfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmNvbnRlbnQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShyZXN1bHQpO1xuXG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oc3VydmV5UXVlc3Rpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgZm9sbG93VXBSZXF1aXJlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHN1cnZleVF1ZXN0aW9uLkZvbGxvd1VwUmVxdWlyZWQgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvbGxvd1VwUmVxdWlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbGVnaXNsYXRvcklkOiBzdXJ2ZXlRdWVzdGlvbi5MZWdpc2xhdG9ySWQsXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxOYW1lOiBzdXJ2ZXlRdWVzdGlvbi5GdWxsTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgc3VydmV5SWQ6IHN1cnZleVF1ZXN0aW9uLlN1cnZleUlkLFxuICAgICAgICAgICAgICAgICAgICBzdXJ2ZXk6IHN1cnZleVF1ZXN0aW9uLlN1cnZleSxcbiAgICAgICAgICAgICAgICAgICAgc3VydmV5UXVlc3Rpb25JZDogc3VydmV5UXVlc3Rpb24uU3VydmV5UXVlc3Rpb25JZCxcbiAgICAgICAgICAgICAgICAgICAgc3VydmV5UXVlc3Rpb246IHN1cnZleVF1ZXN0aW9uLlN1cnZleVF1ZXN0aW9uLFxuICAgICAgICAgICAgICAgICAgICBpbml0aWF0aXZlSWRzOiBzdXJ2ZXlRdWVzdGlvbi5Jbml0aWF0aXZlSWRzLFxuICAgICAgICAgICAgICAgICAgICBpbml0aWF0aXZlczogc3VydmV5UXVlc3Rpb24uSW5pdGlhdGl2ZXMsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlSWQ6IHN1cnZleVF1ZXN0aW9uLlJlc3BvbnNlSWQsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiBzdXJ2ZXlRdWVzdGlvbi5SZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgZm9sbG93VXBSZXF1aXJlZDogZm9sbG93VXBSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudHM6IHN1cnZleVF1ZXN0aW9uLkNvbW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICBlZGl0b3JJZDogc3VydmV5UXVlc3Rpb24uRWRpdG9ySWQsXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvcjogc3VydmV5UXVlc3Rpb24uRWRpdG9yLFxuICAgICAgICAgICAgICAgICAgICBtb2RpZmllZERhdGU6IHN1cnZleVF1ZXN0aW9uLk1vZGlmaWVkRGF0ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2aWV3TW9kZWwuZW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgd2hpbGUgKHZpZXdNb2RlbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZpZXdNb2RlbC5wb3AoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgcmV0dXJuIHZpZXdNb2RlbDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTdXJ2ZXlWaWV3TW9kZWw7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9zdXJ2ZXktdmlldy1tb2RlbC5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXkvc3VydmV5LXZpZXctbW9kZWwuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3QgU3VydmV5c1ZpZXdNb2RlbCA9IHJlcXVpcmUoXCIuL3N1cnZleXMtdmlldy1tb2RlbFwiKTtcbmNvbnN0IG9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpO1xuY29uc3QgYXBwTW9kdWxlID0gcmVxdWlyZShcImFwcGxpY2F0aW9uXCIpO1xudmFyIGZyYW1lTW9kdWxlID0gcmVxdWlyZShcInVpL2ZyYW1lXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcbnZhciBwYWdlO1xudmFyIG5hdmlnYXRpb25Db250ZXh0O1xuXG52YXIgc3VydmV5c0FjdGl2ZTtcblxudmFyIHN1cnZleXNMaXN0ID0gbmV3IFN1cnZleXNWaWV3TW9kZWwoW10pO1xuXG52YXIgcGFnZURhdGEgPSBuZXcgb2JzZXJ2YWJsZU1vZHVsZS5mcm9tT2JqZWN0KHtcbiAgICBib3VuZERhdGE6IG51bGwsXG4gICAgc3VydmV5c0xpc3Q6IHN1cnZleXNMaXN0LFxuICAgIGlzTG9hZGluZzogZmFsc2Vcbn0pO1xuXG5mdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgICAgIHBhZ2UuYWN0aW9uQmFyLnRpdGxlID0gXCJTdXJ2ZXlzXCI7XG5cbiAgICAgICAgbmF2aWdhdGlvbkNvbnRleHQgPSBwYWdlLm5hdmlnYXRpb25Db250ZXh0O1xuXG4gICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YSA9IG5hdmlnYXRpb25Db250ZXh0O1xuXG4gICAgICAgIHZhciBsZWdpc2xhdG9ySWQgPSBwYWdlLmdldFZpZXdCeUlkKFwibGVnaXNsYXRvcklkXCIpO1xuICAgICAgICB2YXIgbGVnaXNsYXRvck5hbWUgPSBwYWdlLmdldFZpZXdCeUlkKFwibGVnaXNsYXRvck5hbWVcIik7XG5cbiAgICAgICAgbGVnaXNsYXRvcklkLnRleHQgPSBuYXZpZ2F0aW9uQ29udGV4dC5sZWdpc2xhdG9ySWQ7XG4gICAgICAgIGxlZ2lzbGF0b3JOYW1lLnRleHQgPSBuYXZpZ2F0aW9uQ29udGV4dC5mdWxsTmFtZTtcblxuICAgICAgICBpZiAoYXJncy5pc0JhY2tOYXZpZ2F0aW9uKSB7XG4gICAgICAgICAgICBzdXJ2ZXlzTGlzdC5lbXB0eSgpO1xuXG4gICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIHN1cnZleXNMaXN0LmxvYWQobmF2aWdhdGlvbkNvbnRleHQubGVnaXNsYXRvcklkLCBuYXZpZ2F0aW9uQ29udGV4dC5tZWV0aW5nSWQsIHN1cnZleXNBY3RpdmUpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFNpbmNlIHRoZSBQYWdlIGNvbnRhaW5zIGEgU2VnbWVudGVkQmFyLFxuICAgICAgICAgICAgLy8gdGhlIHNlbGVjdGVkSW5kZXhDaGFuZ2VkIGV2ZW50IHdpbGwgcGVyZm9ybSB0aGUgaW5pdGlhbCBsb2FkIG9mIHRoZSBMaXN0Vmlldy5cblxuICAgICAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHBhZ2VEYXRhO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU2VsZWN0ZWRJbmRleENoYW5nZWQoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGlmIChhcmdzLm5ld0luZGV4ID09PSAwKSB7XG4gICAgICAgICAgICBzdXJ2ZXlzQWN0aXZlID0gXCJZXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdXJ2ZXlzQWN0aXZlID0gXCJOXCI7XG4gICAgICAgIH1cblxuICAgICAgICBzdXJ2ZXlzTGlzdC5lbXB0eSgpO1xuXG4gICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuICAgICAgICBzdXJ2ZXlzTGlzdC5sb2FkKG5hdmlnYXRpb25Db250ZXh0LmxlZ2lzbGF0b3JJZCwgbmF2aWdhdGlvbkNvbnRleHQubWVldGluZ0lkLCBzdXJ2ZXlzQWN0aXZlKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBwYWdlRGF0YTtcbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25BZGRUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5yZWxhdGlvbmFsVHlwZSA9IFwibWVldGluZ1wiO1xuICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEucmVsYXRpb25hbElkID0gcGFnZURhdGEuYm91bmREYXRhLm1lZXRpbmdJZDtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgICAgIG1vZHVsZU5hbWU6IFwibGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3NlbGVjdC9zZWxlY3QtcGFnZVwiLFxuICAgICAgICAgICAgY29udGV4dDogcGFnZURhdGEuYm91bmREYXRhLFxuICAgICAgICAgICAgY2xlYXJIaXN0b3J5OiBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkJhY2tUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5nb0JhY2soKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydChlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uSXRlbVRhcChhcmdzKSB7XG4gICAgdHJ5XG4gICAge1xuICAgICAgICB2YXIgbGVnaXNsYXRvcklkID0gcGFnZS5nZXRWaWV3QnlJZChcImxlZ2lzbGF0b3JJZFwiKTtcbiAgICAgICAgdmFyIGxlZ2lzbGF0b3JOYW1lID0gcGFnZS5nZXRWaWV3QnlJZChcImxlZ2lzbGF0b3JOYW1lXCIpO1xuICAgICAgICB2YXIgaW5kZXggPSBhcmdzLmluZGV4O1xuICAgICAgICB2YXIgaXRlbSA9IHN1cnZleXNMaXN0LmdldEl0ZW0oaW5kZXgpO1xuXG4gICAgICAgIGNvbnN0IG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgICAgIG1vZHVsZU5hbWU6IFwibGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9zdXJ2ZXktcGFnZVwiLFxuICAgICAgICAgICAgY29udGV4dDogeyBcbiAgICAgICAgICAgICAgICBzdXJ2ZXlJZDogaXRlbS5zdXJ2ZXlJZCxcbiAgICAgICAgICAgICAgICBzdXJ2ZXk6IGl0ZW0uc3VydmV5LFxuICAgICAgICAgICAgICAgIGxlZ2lzbGF0b3JJZDogbGVnaXNsYXRvcklkLnRleHQsXG4gICAgICAgICAgICAgICAgZnVsbE5hbWU6IGxlZ2lzbGF0b3JOYW1lLnRleHQsXG4gICAgICAgICAgICAgICAgcmVsYXRpb25hbFR5cGU6IG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxUeXBlLFxuICAgICAgICAgICAgICAgIHJlbGF0aW9uYWxJZDogbmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbElkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xlYXJIaXN0b3J5OiBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnRzLm9uTmF2aWdhdGluZ1RvID0gb25OYXZpZ2F0aW5nVG87XG5leHBvcnRzLm9uU2VsZWN0ZWRJbmRleENoYW5nZWQgPSBvblNlbGVjdGVkSW5kZXhDaGFuZ2VkO1xuZXhwb3J0cy5vbkFkZFRhcCA9IG9uQWRkVGFwO1xuZXhwb3J0cy5vbkJhY2tUYXAgPSBvbkJhY2tUYXA7XG5leHBvcnRzLm9uSXRlbVRhcCA9IG9uSXRlbVRhcDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5cy1wYWdlLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleXMtcGFnZS5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJcbm1vZHVsZS5leHBvcnRzID0gXCI8UGFnZSBuYXZpZ2F0aW5nVG89XFxcIm9uTmF2aWdhdGluZ1RvXFxcIiBjbGFzcz1cXFwicGFnZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly9zY2hlbWFzLm5hdGl2ZXNjcmlwdC5vcmcvdG5zLnhzZFxcXCIgPlxcbiAgICA8QWN0aW9uQmFyIGNsYXNzPVxcXCJhY3Rpb24tYmFyXFxcIj5cXG4gICAgICAgIDxhbmRyb2lkPlxcbiAgICAgICAgICAgIDxOYXZpZ2F0aW9uQnV0dG9uIGFuZHJvaWQuc3lzdGVtSWNvbj1cXFwiaWNfbWVudV9iYWNrXFxcIiB0YXA9XFxcIm9uQmFja1RhcFxcXCIgLz5cXG4gICAgICAgIDwvYW5kcm9pZD5cXG4gICAgICAgIDxBY3Rpb25JdGVtIHRhcD1cXFwib25BZGRUYXBcXFwiIGlvcy5zeXN0ZW1JY29uPVxcXCI0XFxcIiBhbmRyb2lkLnN5c3RlbUljb249XFxcImljX21lbnVfYWRkXFxcIiBpb3MucG9zaXRpb249XFxcInJpZ2h0XFxcIiBcXG4gICAgICAgICAgICB2aXNpYmlsaXR5PVxcXCJ7eyBib3VuZERhdGEucmVsYXRpb25hbFR5cGUgPT09ICdsZWdpc2xhdG9yJyA/ICdjb2xsYXBzZScgOiAndmlzaWJsZScgfX1cXFwiIC8+XFxuICAgIDwvQWN0aW9uQmFyPlxcblxcbiAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCJhdXRvLCBhdXRvLCAqXFxcIiBoZWlnaHQ9XFxcIjEwMCVcXFwiIHdpZHRoPVxcXCIxMDAlXFxcIj5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcInRvcFxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIiBjbGFzcz1cXFwidmlldy10aXRsZVxcXCIgdmlzaWJpbGl0eT1cXFwie3sgYm91bmREYXRhLnJlbGF0aW9uYWxUeXBlID09PSAnbGVnaXNsYXRvcicgPyAndmlzaWJsZScgOiAnY29sbGFwc2UnIH19XFxcIj5cXG4gICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImxlZ2lzbGF0b3JJZFxcXCIgdGV4dD1cXFwiXFxcIiB2aXNpYmlsaXR5PVxcXCJjb2xsYXBzZWRcXFwiIC8+XFxuICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJsZWdpc2xhdG9yTmFtZVxcXCIgdGV4dD1cXFwiXFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiIC8+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMVxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiPlxcbiAgICAgICAgICAgIDxTZWdtZW50ZWRCYXIgY2xhc3M9XFxcInNlZ21lbnRlZC1iYXJcXFwiIHNlbGVjdGVkSW5kZXhDaGFuZ2VkPVxcXCJvblNlbGVjdGVkSW5kZXhDaGFuZ2VkXFxcIj5cXG4gICAgICAgICAgICAgICAgPFNlZ21lbnRlZEJhci5pdGVtcz5cXG4gICAgICAgICAgICAgICAgICAgIDxTZWdtZW50ZWRCYXJJdGVtIHRpdGxlPVxcXCJDdXJyZW50IFN1cnZleXNcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8U2VnbWVudGVkQmFySXRlbSB0aXRsZT1cXFwiQXJjaGl2ZWQgU3VydmV5c1xcXCIgLz5cXG4gICAgICAgICAgICAgICAgPC9TZWdtZW50ZWRCYXIuaXRlbXM+XFxuICAgICAgICAgICAgPC9TZWdtZW50ZWRCYXI+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMlxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIj5cXG4gICAgICAgICAgICA8TGlzdFZpZXcgaXRlbXM9XFxcInt7IHN1cnZleXNMaXN0IH19XFxcIiBpdGVtVGFwPVxcXCJvbkl0ZW1UYXBcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMaXN0Vmlldy5pdGVtVGVtcGxhdGU+XFxuICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKiwgYXV0b1xcXCIgcm93cz1cXFwiKlxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJ7eyBzdXJ2ZXkgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1tYWluLXRvcFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcImF1dG8sICpcXFwiIHJvd3M9XFxcIipcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiSW5pdGlhdGl2ZShzKTogXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViLXRpdGxlXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwie3sgaW5pdGlhdGl2ZXMgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1zdWJcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCJhdXRvLCAqXFxcIiByb3dzPVxcXCIqXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIlNlc3Npb24gWWVhcjogXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViLXRpdGxlXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwie3sgeWVhciB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1YlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcImF1dG8sICpcXFwiIHJvd3M9XFxcIipcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiQ2hhbWJlci9DYXVjdXM6IFxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1Yi10aXRsZVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IGNoYW1iZXIgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1zdWJcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cXFwie3sgcXVlc3Rpb25Db3VudCB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1YlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCImI3hmMTA1O1xcXCIgY2xhc3M9XFxcImZuLWxpc3Qtdmlldy1pdGVtXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgIDwvTGlzdFZpZXcuaXRlbVRlbXBsYXRlPlxcbiAgICAgICAgICAgIDwvTGlzdFZpZXc+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPEFjdGl2aXR5SW5kaWNhdG9yIGJ1c3k9XFxcInt7IGlzTG9hZGluZyB9fVxcXCIgYW5kcm9pZDpoZWlnaHQ9XFxcIjI1JVxcXCIgYW5kcm9pZDp3aWR0aD1cXFwiMjUlXFxcIiBpb3MuYWN0aXZpdHlJbmRpY2F0b3JWaWV3U3R5bGU9XFxcIndoaXRlTGFyZ2VcXFwiIHJvd1NwYW49XFxcIjNcXFwiIGNvbFNwYW49XFxcIjFcXFwiIC8+XFxuICAgIDwvR3JpZExheW91dD5cXG48L1BhZ2U+XFxuXCI7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleXMtcGFnZS54bWxcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwibWFya3VwXCIsIHBhdGg6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5cy1wYWdlLnhtbFwiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBvYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBPYnNlcnZhYmxlQXJyYXkgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlLWFycmF5XCIpLk9ic2VydmFibGVBcnJheTtcbnZhciBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xuXG5mdW5jdGlvbiBTdXJ2ZXlzVmlld01vZGVsKGl0ZW1zKSB7XG4gICAgY29uc3Qgdmlld01vZGVsID0gbmV3IE9ic2VydmFibGVBcnJheShpdGVtcyk7XG5cbiAgICB2aWV3TW9kZWwubG9hZCA9IGZ1bmN0aW9uKGxlZ2lzbGF0b3JJZCwgbWVldGluZ0lkLCBzdXJ2ZXlzQWN0aXZlKSB7XG4gICAgICAgIHZhciB1cmwgPSBnbG9iYWwuYXBpQmFzZVNlcnZpY2VVcmwgKyBcImxlZ2lzbGF0b3JzdXJ2ZXlzP2xlZ2lzbGF0b3JJZD1cIiArIGxlZ2lzbGF0b3JJZDtcblxuICAgICAgICBpZiAobWVldGluZ0lkICE9PSBudWxsKSB7XG4gICAgICAgICAgICB1cmwgKz0gXCImbWVldGluZ0lkPVwiICsgbWVldGluZ0lkO1xuICAgICAgICB9XG5cbiAgICAgICAgdXJsICs9IFwiJmFjdGl2ZT1cIiArIHN1cnZleXNBY3RpdmU7XG5cbiAgICAgICAgcmV0dXJuIGh0dHAucmVxdWVzdCh7XG4gICAgICAgICAgICB1cmw6IHVybCwgLy9nbG9iYWwuYXBpQmFzZVNlcnZpY2VVcmwgKyBcImxlZ2lzbGF0b3JzdXJ2ZXlzP2xlZ2lzbGF0b3JJZD1cIiArIGxlZ2lzbGF0b3JJZCArIFwiJmFjdGl2ZT1cIiArIHN1cnZleXNBY3RpdmUsXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLCBcIkF1dGhvcml6YXRpb25cIjogZ2xvYmFsLnRva2VuIH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXNwb25zZS5jb250ZW50LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzdWx0KTtcblxuICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKHN1cnZleSkge1xuICAgICAgICAgICAgICAgIHZhciBxdWVzdGlvbkNvdW50ID0gXCIoXCIgKyBzdXJ2ZXkuUXVlc3Rpb25Db3VudCArIFwiIHN1cnZleSBxdWVzdGlvbnMpXCI7XG5cbiAgICAgICAgICAgICAgICB2aWV3TW9kZWwucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGxlZ2lzbGF0b3JJZDogc3VydmV5LkxlZ2lzbGF0b3JJZCxcbiAgICAgICAgICAgICAgICAgICAgZnVsbE5hbWU6IHN1cnZleS5GdWxsTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgc3VydmV5SWQ6IHN1cnZleS5TdXJ2ZXlJZCxcbiAgICAgICAgICAgICAgICAgICAgc3VydmV5OiBzdXJ2ZXkuU3VydmV5LFxuICAgICAgICAgICAgICAgICAgICBpbml0aWF0aXZlSWRzOiBzdXJ2ZXkuSW5pdGlhdGl2ZUlkcyxcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhdGl2ZXM6IHN1cnZleS5Jbml0aWF0aXZlcyxcbiAgICAgICAgICAgICAgICAgICAgeWVhcjogc3VydmV5LlllYXIsXG4gICAgICAgICAgICAgICAgICAgIGNoYW1iZXI6IHN1cnZleS5DaGFtYmVyLFxuICAgICAgICAgICAgICAgICAgICBxdWVzdGlvbkNvdW50OiBxdWVzdGlvbkNvdW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZpZXdNb2RlbC5lbXB0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB3aGlsZSAodmlld01vZGVsLmxlbmd0aCkge1xuICAgICAgICAgICAgdmlld01vZGVsLnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gdmlld01vZGVsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFN1cnZleXNWaWV3TW9kZWw7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleXMtdmlldy1tb2RlbC5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXlzLXZpZXctbW9kZWwuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3QgTGVnaXNsYXRvcnNWaWV3TW9kZWwgPSByZXF1aXJlKFwiLi9sZWdpc2xhdG9ycy12aWV3LW1vZGVsXCIpO1xuY29uc3QgcGxhdGZvcm0gPSByZXF1aXJlKFwicGxhdGZvcm1cIik7XG5jb25zdCBPYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBnZXN0dXJlcyA9IHJlcXVpcmUoXCJ1aS9nZXN0dXJlc1wiKTtcbnZhciBmcmFtZU1vZHVsZSA9IHJlcXVpcmUoXCJ1aS9mcmFtZVwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG5cbmNvbnN0IE1JTl9YID0gLTE2MDtcbmNvbnN0IE1BWF9YID0gMDtcbmNvbnN0IFRIUkVTSE9MRCA9IDAuMjU7XG5cbnZhciBzd2lwZU9wZW4gPSBmYWxzZTtcbnZhciBzd2lwZWRJdGVtO1xuXG52YXIgaXNTY3JvbGxpbmcgPSBmYWxzZTtcbnZhciBpc1N3aXBpbmcgPSBmYWxzZTtcblxudmFyIHBhZ2U7XG4vLyB2YXIgdmlldztcbnZhciBzZWFyY2hCYXI7XG52YXIgbGVnaXNsYXRvcnNQYWdlU2l6ZSA9IDI1O1xudmFyIGxlZ2lzbGF0b3JzU2VhcmNoVGV4dCA9IFwiXCI7XG52YXIgbGVnaXNsYXRvcnNTZWFyY2hTdWJtaXR0ZWQgPSBmYWxzZTtcblxudmFyIGxlZ2lzbGF0b3JzTGlzdCA9IG5ldyBMZWdpc2xhdG9yc1ZpZXdNb2RlbChbXSk7XG5cbnZhciBwYWdlRGF0YSA9IG5ldyBPYnNlcnZhYmxlTW9kdWxlLmZyb21PYmplY3Qoe1xuICAgIGxlZ2lzbGF0b3JzTGlzdDogbGVnaXNsYXRvcnNMaXN0LFxuICAgIGlzTG9hZGluZzogZmFsc2Vcbn0pO1xuXG5mdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICBcbiAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIkxlZ2lzbGF0b3JzXCI7XG5cbiAgICAgICAgaWYgKGxlZ2lzbGF0b3JzU2VhcmNoVGV4dCAhPT0gXCJcIikge1xuICAgICAgICAgICAgdmFyIHNlYXJjaEJhciA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJzZWFyY2hCYXJcIik7XG5cbiAgICAgICAgICAgIHNlYXJjaEJhci50ZXh0ID0gbGVnaXNsYXRvcnNTZWFyY2hUZXh0O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAobGVnaXNsYXRvcnNMaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuXG4gICAgICAgICAgICBsZWdpc2xhdG9yc0xpc3QubG9hZChsZWdpc2xhdG9yc1NlYXJjaFRleHQsIDEsIGxlZ2lzbGF0b3JzUGFnZVNpemUpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBwYWdlRGF0YTtcblxuICAgICAgICAvLyB2YXIgb2JzZXJ2ZXJUYXAgPSBwYWdlLm9ic2VydmUoZ2VzdHVyZXMuR2VzdHVyZVR5cGVzLnRhcCwgZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgLy8gICAgIHNlYXJjaEJhci5kaXNtaXNzU29mdElucHV0KCk7IH0pXG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbi8vIGZ1bmN0aW9uIG9uVmlld0xvYWRlZChhcmdzKSB7XG4vLyAgICAgdmlldyA9IGFyZ3Mub2JqZWN0O1xuLy8gICAgIHBhZ2UgPSB2aWV3LnBhZ2U7XG4gICAgXG4vLyAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIkxlZ2lzbGF0b3JzXCI7XG5cbi8vICAgICAvL2xlZ2lzbGF0b3JzTGlzdC5lbXB0eSgpO1xuICAgIFxuLy8gICAgIGlmIChsZWdpc2xhdG9yc0xpc3QubGVuZ3RoID09PSAwKSB7XG4vLyAgICAgICAgIHZpZXdEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuLy8gICAgICAgICBsZWdpc2xhdG9yc0xpc3QubG9hZChsZWdpc2xhdG9yc1NlYXJjaFRleHQsIDEsIGxlZ2lzbGF0b3JzUGFnZVNpemUpLnRoZW4oZnVuY3Rpb24gKCkge1xuLy8gICAgICAgICAgICAgdmlld0RhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcbi8vICAgICAgICAgfSk7XG5cbi8vICAgICAgICAgdmlldy5iaW5kaW5nQ29udGV4dCA9IHZpZXdEYXRhO1xuLy8gICAgIH1cblxuLy8gICAgIC8vIHZhciBvYnNlcnZlclRhcCA9IHBhZ2Uub2JzZXJ2ZShnZXN0dXJlcy5HZXN0dXJlVHlwZXMudGFwLCBmdW5jdGlvbiAoYXJncykge1xuLy8gICAgIC8vICAgICBzZWFyY2hCYXIuZGlzbWlzc1NvZnRJbnB1dCgpOyB9KVxuLy8gfVxuXG4vLyBmdW5jdGlvbiBvblZpZXdVbmxvYWRlZChhcmdzKSB7XG5cbi8vIH1cblxuZnVuY3Rpb24gb25TZWFyY2hCYXJMb2FkZWQoYXJncykge1xuICAgIHNlYXJjaEJhciA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgaWYgKHBsYXRmb3JtLmlzQW5kcm9pZCkge1xuICAgICAgICBzZWFyY2hCYXIuYW5kcm9pZC5jbGVhckZvY3VzKCk7XG4gICAgfSBlbHNlIGlmIChwbGF0Zm9ybS5pc0lPUykge1xuICAgICAgICAvLyBpT1MgU3R5bGluZ1xuICAgICAgICBzZWFyY2hCYXIuaW9zLnNlYXJjaEJhclN0eWxlID0gVUlTZWFyY2hCYXJTdHlsZS5VSVNlYXJjaEJhclN0eWxlTWluaW1hbDtcbiAgICAgICAgc2VhcmNoQmFyLmlvcy5zaG93c0NhbmNlbEJ1dHRvbiA9IHRydWU7XG4gICAgICAgIC8vc2VhcmNoQmFyLmlvcy5hbmltYXRlZCA9IHRydWU7XG4gICAgICAgIC8vIHNlYXJjaGJhci5pb3Muc2V0U2hvd3NDYW5jZWxCdXR0b25BbmltYXRlZCh0cnVlLCB0cnVlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU3VibWl0KGFyZ3MpIHtcbiAgICBzZWFyY2hCYXIgPSBhcmdzLm9iamVjdDtcblxuICAgIGxlZ2lzbGF0b3JzU2VhcmNoVGV4dCA9IHNlYXJjaEJhci50ZXh0LnRyaW0oKTtcblxuICAgIGxlZ2lzbGF0b3JzTGlzdC5lbXB0eSgpO1xuICAgIFxuICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuICAgIGxlZ2lzbGF0b3JzTGlzdC5sb2FkKGxlZ2lzbGF0b3JzU2VhcmNoVGV4dCwgMSwgbGVnaXNsYXRvcnNQYWdlU2l6ZSkudGhlbihmdW5jdGlvbiAoKXtcbiAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcblxuICAgICAgICBsZWdpc2xhdG9yc1NlYXJjaFN1Ym1pdHRlZCA9IHRydWU7XG4gICAgXG4gICAgICAgIHNlYXJjaEJhci5kaXNtaXNzU29mdElucHV0KCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIG9uQ2xlYXIoYXJncykge1xuICAgIHNlYXJjaEJhci50ZXh0ID0gXCJcIjtcbiAgICBsZWdpc2xhdG9yc1NlYXJjaFRleHQgPSBcIlwiO1xuXG4gICAgaWYgKGxlZ2lzbGF0b3JzU2VhcmNoU3VibWl0dGVkKSB7XG4gICAgICAgIGxlZ2lzbGF0b3JzTGlzdC5lbXB0eSgpO1xuICAgICAgICBcbiAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuXG4gICAgICAgIGxlZ2lzbGF0b3JzTGlzdC5sb2FkKGxlZ2lzbGF0b3JzU2VhcmNoVGV4dCwgMSwgbGVnaXNsYXRvcnNQYWdlU2l6ZSkudGhlbihmdW5jdGlvbiAoKXtcbiAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIGxlZ2lzbGF0b3JzU2VhcmNoU3VibWl0dGVkID0gZmFsc2U7XG4gICAgICAgIFxuICAgICAgICAgICAgc2VhcmNoQmFyLmRpc21pc3NTb2Z0SW5wdXQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkl0ZW1Mb2FkaW5nKGFyZ3MpIHtcbiAgICBpZiAocGxhdGZvcm0uaXNJT1MpIHtcbiAgICAgICAgdmFyIGNlbGwgPSBhcmdzLmlvcztcblxuICAgICAgICBjZWxsLnNlbGVjdGlvblN0eWxlID0gVUlUYWJsZVZpZXdDZWxsU2VsZWN0aW9uU3R5bGUuVUlUYWJsZVZpZXdDZWxsU2VsZWN0aW9uU3R5bGVOb25lO1xuICAgIH1cbn1cblxuLy8gZnVuY3Rpb24gb25CdXR0b25UYXAoYXJncykge1xuLy8gICAgIHNlYXJjaEJhci5pb3Muc2hvd3NDYW5jZWxCdXR0b24gPSAhc2VhcmNoQmFyLmlvcy5zaG93c0NhbmNlbEJ1dHRvbjtcbi8vIH1cblxuZnVuY3Rpb24gb25JdGVtVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAocGxhdGZvcm0uaXNJT1MpIHtcbiAgICAgICAgICAgIGlmIChzd2lwZU9wZW4pIHtcbiAgICAgICAgICAgICAgICBzd2lwZWRJdGVtLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGU6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBzd2lwZU9wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHZpZXcgPSBhcmdzLnZpZXc7XG4gICAgICAgICAgICAgICAgdmFyIG1vZGVsID0gdmlldy5iaW5kaW5nQ29udGV4dDtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlTmFtZTogXCJsZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2xlZ2lzbGF0b3ItcGFnZVwiLFxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiBtb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJIaXN0b3J5OiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkubmF2aWdhdGUobmF2aWdhdGlvbkVudHJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkxvYWRNb3JlSXRlbXMoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBsZWdpc2xhdG9yc0xpc3RDb3VudCA9IGxlZ2lzbGF0b3JzTGlzdC5sZW5ndGg7XG4gICAgICAgIHZhciBsZWdpc2xhdG9yc1BhZ2VOdW1iZXIgPSBNYXRoLmNlaWwobGVnaXNsYXRvcnNMaXN0Q291bnQgLyBsZWdpc2xhdG9yc1BhZ2VTaXplKSArIDE7XG4gICAgICAgIHZhciBsZWdpc2xhdG9yc1JlbWFpbmRlciA9IGxlZ2lzbGF0b3JzTGlzdENvdW50ICUgbGVnaXNsYXRvcnNQYWdlU2l6ZTtcblxuICAgICAgICBpZiAobGVnaXNsYXRvcnNSZW1haW5kZXIgIT09IDAgJiYgbGVnaXNsYXRvcnNSZW1haW5kZXIgPCBsZWdpc2xhdG9yc1BhZ2VTaXplKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgdHJ1ZSk7XG5cbiAgICAgICAgbGVnaXNsYXRvcnNMaXN0LmxvYWQobGVnaXNsYXRvcnNTZWFyY2hUZXh0LCBsZWdpc2xhdG9yc1BhZ2VOdW1iZXIsIGxlZ2lzbGF0b3JzUGFnZVNpemUpLnRoZW4oZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkFkZENsaWNrKGFyZ3MpIHtcbiAgICB2YXIgdmlldyA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgdmFyIG1vZGVsID0ge1xuICAgICAgICBtZWV0aW5nSWQ6IDAsXG4gICAgICAgIG1lZXRpbmdEYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICB2ZW51ZVR5cGVJZDogMSxcbiAgICAgICAgdmVudWVUeXBlOiBcIkluIFBlcnNvblwiLFxuICAgICAgICBhdHRlbmRlZVR5cGVJZDogMSxcbiAgICAgICAgYXR0ZW5kZWVUeXBlOiBcIlN0YWZmIE9ubHlcIixcbiAgICAgICAgbG9iYnlpc3RJZDogZ2xvYmFsLnBlcnNvbklkLFxuICAgICAgICBsb2JieWlzdDogbnVsbCxcbiAgICAgICAgbGVnaXNsYXRvcklkOiB2aWV3LmJpbmRpbmdDb250ZXh0LmxlZ2lzbGF0b3JJZCxcbiAgICAgICAgZnVsbE5hbWU6IHZpZXcuYmluZGluZ0NvbnRleHQuZnVsbE5hbWUsXG4gICAgICAgIG5hbWU6IG51bGwsXG4gICAgICAgIHBjaUluaXRpYXRpdmVzOiBudWxsLFxuICAgICAgICBzdXJ2ZXlzOiBudWxsLFxuICAgICAgICBwY2lBdHRlbmRlZXM6IGdsb2JhbC5jdXJyZW50VXNlcixcbiAgICAgICAgcHJpbWFyeU9mZmljZUNvbnRhY3Q6IG51bGwsXG4gICAgICAgIG1lZXRpbmdMb2NhdGlvbklkOiAyLFxuICAgICAgICBsb2NhdGlvbjogXCJNZWV0aW5nIGluIERDXCIsXG4gICAgICAgIGxlZ2lzbGF0b3JTdGFmZkF0dGVuZGVlczogbnVsbCxcbiAgICAgICAgZm9sbG93VXBOZWVkZWQ6IGZhbHNlLFxuICAgICAgICBmb2xsb3dVcERhdGU6IG51bGwsXG4gICAgICAgIGZvbGxvd1VwTm90ZXM6IG51bGwsXG4gICAgICAgIGNyZWF0b3JJZDogZ2xvYmFsLnBlcnNvbklkLFxuICAgICAgICBub3RlczogbnVsbCxcbiAgICAgICAgaW5pdGlhdGl2ZUlkOiBudWxsLFxuICAgICAgICBzdXJ2ZXlJZDogbnVsbCxcbiAgICAgICAgYXNzaWdubWVudElkOiBudWxsXG4gICAgfVxuXG4gICAgY29uc3QgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICBtb2R1bGVOYW1lOiBcIm1lZXRpbmdzL21lZXRpbmcvbWVldGluZy1wYWdlXCIsXG4gICAgICAgIGNvbnRleHQ6IG1vZGVsLFxuICAgICAgICBjbGVhckhpc3Rvcnk6IGZhbHNlXG4gICAgfTtcblxuICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuXG4gICAgaWYgKHN3aXBlT3Blbikge1xuICAgICAgICBzd2lwZWRJdGVtLmFuaW1hdGUoe1xuICAgICAgICAgICAgdHJhbnNsYXRlOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3dpcGVPcGVuID0gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblZpZXdDbGljayhhcmdzKSB7XG4gICAgdmFyIHZpZXcgPSBhcmdzLm9iamVjdDtcbiAgICB2YXIgbW9kZWwgPSB2aWV3LmJpbmRpbmdDb250ZXh0O1xuXG4gICAgbW9kZWwucmVmZXJlbmNlID0gXCJuYXZcIjtcbiAgICBtb2RlbC5yZWxhdGlvbmFsVHlwZSA9IFwibGVnaXNsYXRvclwiO1xuICAgIG1vZGVsLnJlbGF0aW9uYWxJZCA9IHZpZXcuYmluZGluZ0NvbnRleHQubGVnaXNsYXRvcklkO1xuXG4gICAgY29uc3QgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICBtb2R1bGVOYW1lOiBcIm1lZXRpbmdzL21lZXRpbmdzLXBhZ2VcIixcbiAgICAgICAgY29udGV4dDogbW9kZWwsXG4gICAgICAgIGNsZWFySGlzdG9yeTogZmFsc2VcbiAgICB9O1xuXG4gICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG5cbiAgICBpZiAoc3dpcGVPcGVuKSB7XG4gICAgICAgIHN3aXBlZEl0ZW0uYW5pbWF0ZSh7XG4gICAgICAgICAgICB0cmFuc2xhdGU6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgZHVyYXRpb246IDIwMFxuICAgICAgICB9KTtcblxuICAgICAgICBzd2lwZU9wZW4gPSBmYWxzZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uTGF5b3V0TG9hZGVkKGFyZ3MpIHtcbiAgICB2YXIgbGF5b3V0ID0gYXJncy5vYmplY3Q7XG5cbiAgICBpZiAocGxhdGZvcm0uaXNBbmRyb2lkKSB7XG4gICAgICAgIGxheW91dC5vbihnZXN0dXJlcy5HZXN0dXJlVHlwZXMudGFwLCBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChzd2lwZU9wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpcGVkSXRlbS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZTogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgc3dpcGVPcGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZpZXcgPSBhcmdzLnZpZXc7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RlbCA9IHZpZXcuYmluZGluZ0NvbnRleHQ7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVOYW1lOiBcImxlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvbGVnaXNsYXRvci1wYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiBtb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySGlzdG9yeTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoKGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbGF5b3V0Lm9uKGdlc3R1cmVzLkdlc3R1cmVUeXBlcy5wYW4sIGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBsYXlvdXQgPSBhcmdzLm9iamVjdDtcbiAgICAgICAgICAgIHZhciB2aWV3ID0gYXJncy52aWV3O1xuXG4gICAgICAgICAgICBpZiAoc3dpcGVPcGVuICYmIHN3aXBlZEl0ZW0gIT09IHVuZGVmaW5lZCAmJiBzd2lwZWRJdGVtICE9IGxheW91dCkge1xuICAgICAgICAgICAgICAgIHN3aXBlZEl0ZW0uYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZTogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWlzU2Nyb2xsaW5nICYmICFpc1N3aXBpbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoYXJncy5kZWx0YVkpID4gTWF0aC5hYnMoYXJncy5kZWx0YVgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzU2Nyb2xsaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaXNTd2lwaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhhcmdzLmRlbHRhWCkgPiBNYXRoLmFicyhhcmdzLmRlbHRhWSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNTY3JvbGxpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaXNTd2lwaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc1Njcm9sbGluZykge1xuICAgICAgICAgICAgICAgIGlmIChzd2lwZU9wZW4gJiYgc3dpcGVkSXRlbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXBlZEl0ZW0uYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGU6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChhcmdzLnN0YXRlID09PSBnZXN0dXJlcy5HZXN0dXJlU3RhdGVUeXBlcy5lbmRlZCkge1xuICAgICAgICAgICAgICAgICAgICBpc1Njcm9sbGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNTd2lwaW5nKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxlZ2lzbGF0b3JzTGlzdFZpZXcgPSBwYWdlLmdldFZpZXdCeUlkKFwibGVnaXNsYXRvcnNMaXN0Vmlld1wiKTtcblxuICAgICAgICAgICAgICAgIGlmIChwbGF0Zm9ybS5pc0FuZHJvaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVnaXNsYXRvcnNMaXN0Vmlldy5uYXRpdmVWaWV3LnJlcXVlc3REaXNhbGxvd0ludGVyY2VwdFRvdWNoRXZlbnQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbGF0Zm9ybS5pc0lPUykge1xuICAgICAgICAgICAgICAgICAgICBsZWdpc2xhdG9yc0xpc3RWaWV3Lmlvcy5zY3JvbGxFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc3dpcGVPcGVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzd2lwZWRJdGVtID0gbGF5b3V0O1xuXG4gICAgICAgICAgICAgICAgdmFyIG5ld1ggPSBsYXlvdXQudHJhbnNsYXRlWCArIGFyZ3MuZGVsdGFYO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5ld1ggPj0gTUlOX1ggJiYgbmV3WCA8PSBNQVhfWCkge1xuICAgICAgICAgICAgICAgICAgICBsYXlvdXQudHJhbnNsYXRlWCA9IG5ld1g7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChhcmdzLnN0YXRlID09PSBnZXN0dXJlcy5HZXN0dXJlU3RhdGVUeXBlcy5lbmRlZCAmJiAhKG5ld1ggPT09IE1JTl9YIHx8IG5ld1ggPT09IE1BWF9YKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpbml0IG91ciBkZXN0aW5hdGlvbiBYIGNvb3JkaW5hdGUgdG8gMCwgaW4gY2FzZSBuZWl0aGVyIFRIUkVTSE9MRCBoYXMgYmVlbiBoaXRcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRlc3RYID0gMDtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHVzZXIgaGl0IG9yIGNyb3NzZWQgdGhlIFRIRVNIT0xEIGVpdGhlciB3YXksIGxldCdzIGZpbmlzaCBpbiB0aGF0IGRpcmVjdGlvblxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3WCA8PSBNSU5fWCAqIFRIUkVTSE9MRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdFggPSBNSU5fWDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZXdYID49IE1BWF9YICogVEhSRVNIT0xEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0WCA9IE1BWF9YO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBsYXlvdXQuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGU6IHsgeDogZGVzdFgsIHk6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsYXRmb3JtLmlzQW5kcm9pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVnaXNsYXRvcnNMaXN0Vmlldy5uYXRpdmVWaWV3LnJlcXVlc3REaXNhbGxvd0ludGVyY2VwdFRvdWNoRXZlbnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBsYXRmb3JtLmlzSU9TKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWdpc2xhdG9yc0xpc3RWaWV3Lmlvcy5zY3JvbGxFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlzU3dpcGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZXhwb3J0cy5vbk5hdmlnYXRpbmdUbyA9IG9uTmF2aWdhdGluZ1RvO1xuLy8gZXhwb3J0cy5vblZpZXdMb2FkZWQgPSBvblZpZXdMb2FkZWQ7XG4vLyBleHBvcnRzLm9uVmlld1VubG9hZGVkID0gb25WaWV3VW5sb2FkZWQ7XG5leHBvcnRzLm9uU2VhcmNoQmFyTG9hZGVkID0gb25TZWFyY2hCYXJMb2FkZWQ7XG5leHBvcnRzLm9uU3VibWl0ID0gb25TdWJtaXQ7XG5leHBvcnRzLm9uQ2xlYXIgPSBvbkNsZWFyO1xuLy8gZXhwb3J0cy5vbkJ1dHRvblRhcCA9IG9uQnV0dG9uVGFwO1xuZXhwb3J0cy5vbkl0ZW1Mb2FkaW5nID0gb25JdGVtTG9hZGluZztcbmV4cG9ydHMub25JdGVtVGFwID0gb25JdGVtVGFwO1xuZXhwb3J0cy5vbkxvYWRNb3JlSXRlbXMgPSBvbkxvYWRNb3JlSXRlbXM7XG5leHBvcnRzLm9uTGF5b3V0TG9hZGVkID0gb25MYXlvdXRMb2FkZWQ7XG5leHBvcnRzLm9uQWRkQ2xpY2sgPSBvbkFkZENsaWNrO1xuZXhwb3J0cy5vblZpZXdDbGljayA9IG9uVmlld0NsaWNrO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3JzLXBhZ2UuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9ycy1wYWdlLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxubW9kdWxlLmV4cG9ydHMgPSBcIjxQYWdlIG5hdmlnYXRpbmdUbz1cXFwib25OYXZpZ2F0aW5nVG9cXFwiIGNsYXNzPVxcXCJwYWdlXFxcIiB4bWxucz1cXFwiaHR0cDovL3NjaGVtYXMubmF0aXZlc2NyaXB0Lm9yZy90bnMueHNkXFxcIiA+XFxuICAgIDxBY3Rpb25CYXIgY2xhc3M9XFxcImFjdGlvbi1iYXJcXFwiIC8+XFxuICAgIFxcbjwhLS0gPFN0YWNrTGF5b3V0IGxvYWRlZD1cXFwib25WaWV3TG9hZGVkXFxcIiB1bmxvYWRlZD1cXFwib25WaWV3VW5sb2FkZWRcXFwiPiAtLT5cXG4gICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiYXV0bywgKlxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIiB3aWR0aD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgZGlyZWN0aW9uPVxcXCJob3Jpem9udGFsXFxcIj5cXG4gICAgICAgICAgICA8U2VhcmNoQmFyIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiBpZD1cXFwic2VhcmNoQmFyXFxcIiBoaW50PVxcXCJTZWFyY2hcXFwiIHRleHQ9XFxcIlxcXCIgbG9hZGVkPVxcXCJvblNlYXJjaEJhckxvYWRlZFxcXCIgc3VibWl0PVxcXCJvblN1Ym1pdFxcXCIgY2xlYXI9XFxcIm9uQ2xlYXJcXFwiIC8+XFxuICAgICAgICAgICAgPCEtLSA8QnV0dG9uIHRhcD1cXFwib25CdXR0b25UYXBcXFwiIHRleHQ9XFxcIlRvZ2dsZSBDYW5jZWxcXFwiIC8+IC0tPlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjFcXFwiIGNvbD1cXFwiMFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcInRvcFxcXCI+XFxuICAgICAgICAgICAgPExpc3RWaWV3IGlkPVxcXCJsZWdpc2xhdG9yc0xpc3RWaWV3XFxcIiBpdGVtcz1cXFwie3sgbGVnaXNsYXRvcnNMaXN0IH19XFxcIiBpdGVtTG9hZGluZz1cXFwib25JdGVtTG9hZGluZ1xcXCIgaXRlbVRhcD1cXFwib25JdGVtVGFwXFxcIiBsb2FkTW9yZUl0ZW1zPVxcXCJvbkxvYWRNb3JlSXRlbXNcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMaXN0Vmlldy5pdGVtVGVtcGxhdGU+XFxuICAgICAgICAgICAgICAgICAgICA8QWJzb2x1dGVMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBCQUNLR1JPVU5EOiBTd2lwZSBBY3Rpb25zIC0tPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIiosIDgwLCA4MFxcXCIgcm93cz1cXFwiNTRcXFwiIHdpZHRoPVxcXCIxMDAlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIGNvbD1cXFwiMFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sPVxcXCIxXFxcIiBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCIqLCBhdXRvLCBhdXRvLCAqXFxcIiB0YXA9XFxcIm9uQWRkQ2xpY2tcXFwiIGNsYXNzPVxcXCJzd2lwZS1pY29ucyBvcmFuZ2VcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIxXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIiYjeGYwNzM7XFxcIiBjbGFzcz1cXFwidGFiLWljb25cXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIyXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIkFkZCBNZWV0aW5nXFxcIiBjbGFzcz1cXFwidGFiLWxhYmVsXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiM1xcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sPVxcXCIyXFxcIiBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCIqLCBhdXRvLCBhdXRvLCAqXFxcIiB0YXA9XFxcIm9uVmlld0NsaWNrXFxcIiBjbGFzcz1cXFwic3dpcGUtaWNvbnMgYmx1ZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjFcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiJiN4ZjJiNTtcXFwiIGNsYXNzPVxcXCJ0YWItaWNvblxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjJcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiTWVldGluZ3NcXFwiIGNsYXNzPVxcXCJ0YWItbGFiZWxcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIzXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0tIEZPUkVHUk9VTkQ6IExpc3QgVmlldyBJdGVtIERldGFpbHMgLS0+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IGxvYWRlZD1cXFwib25MYXlvdXRMb2FkZWRcXFwiIGJhY2tncm91bmRDb2xvcj1cXFwid2hpdGVcXFwiIHdpZHRoPVxcXCIxMDAlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKiwgYXV0b1xcXCIgcm93cz1cXFwiKlxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtXFxcIiBoZWlnaHQ9XFxcIjU0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwie3sgY29tYmluZWROYW1lIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbWFpbi10b3BcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJtaWRkbGVcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcIiYjeGYxMDU7XFxcIiBjbGFzcz1cXFwiZm4tbGlzdC12aWV3LWl0ZW1cXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJtaWRkbGVcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgPC9BYnNvbHV0ZUxheW91dD5cXG4gICAgICAgICAgICAgICAgPC9MaXN0Vmlldy5pdGVtVGVtcGxhdGU+XFxuICAgICAgICAgICAgPC9MaXN0Vmlldz5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8QWN0aXZpdHlJbmRpY2F0b3IgYnVzeT1cXFwie3sgaXNMb2FkaW5nIH19XFxcIiBhbmRyb2lkOmhlaWdodD1cXFwiMjUlXFxcIiBhbmRyb2lkOndpZHRoPVxcXCIyNSVcXFwiIGlvcy5hY3Rpdml0eUluZGljYXRvclZpZXdTdHlsZT1cXFwid2hpdGVMYXJnZVxcXCIgcm93U3Bhbj1cXFwiMlxcXCIgY29sU3Bhbj1cXFwiMVxcXCIgLz5cXG4gICAgPC9HcmlkTGF5b3V0PlxcbjwhLS0gPC9TdGFja0xheW91dD4gLS0+XFxuPC9QYWdlPlxcblwiOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3JzLXBhZ2UueG1sXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcIm1hcmt1cFwiLCBwYXRoOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvcnMtcGFnZS54bWxcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3Qgb2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgT2JzZXJ2YWJsZUFycmF5ID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZS1hcnJheVwiKS5PYnNlcnZhYmxlQXJyYXk7XG52YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxuZnVuY3Rpb24gTGVnaXNsYXRvcnNWaWV3TW9kZWwoaXRlbXMpIHtcbiAgICBjb25zdCB2aWV3TW9kZWwgPSBuZXcgT2JzZXJ2YWJsZUFycmF5KGl0ZW1zKTtcbiAgICBcbiAgICB2aWV3TW9kZWwubG9hZCA9IGZ1bmN0aW9uKGZpbHRlciwgcGFnZSwgcGFnZVNpemUpIHtcbiAgICAgICAgcmV0dXJuIGh0dHAucmVxdWVzdCh7XG4gICAgICAgICAgICB1cmw6IGdsb2JhbC5hcGlCYXNlU2VydmljZVVybCArIFwibGVnaXNsYXRvcmZpbHRlcj9maWx0ZXI9XCIgKyBmaWx0ZXIucmVwbGFjZSgvIC9nLCBcIiUyMFwiKSArIFwiJnBhZ2U9XCIgKyBwYWdlICsgXCImcGFnZVNpemU9XCIgKyBwYWdlU2l6ZSxcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiQXV0aG9yaXphdGlvblwiOiBnbG9iYWwudG9rZW4gfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmNvbnRlbnQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShyZXN1bHQpO1xuXG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24obGVnaXNsYXRvcikge1xuICAgICAgICAgICAgICAgIGlmIChsZWdpc2xhdG9yLkxlZ2lzbGF0b3JJZCAhPT0gbnVsbCAmJiBsZWdpc2xhdG9yLkxlZ2lzbGF0b3JJZCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWdpc2xhdG9ySWQ6IGxlZ2lzbGF0b3IuTGVnaXNsYXRvcklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmlvZ3VpZGVJZDogbGVnaXNsYXRvci5CaW9ndWlkZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmlydGhkYXRlOiBsZWdpc2xhdG9yLkJpcnRoZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW1iZXI6IGxlZ2lzbGF0b3IuQ2hhbWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxOYW1lOiBsZWdpc2xhdG9yLkZ1bGxOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzdHJpY3Q6IGxlZ2lzbGF0b3IuRGlzdHJpY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWNlYm9va0lkOiBsZWdpc2xhdG9yLkZhY2Vib29rSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBmYXg6IGxlZ2lzbGF0b3IuRmF4LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tYmluZWROYW1lOiBsZWdpc2xhdG9yLkxhc3ROYW1lICsgXCIsIFwiICsgbGVnaXNsYXRvci5GaXJzdE5hbWUgKyBcIiBcIiArIGxlZ2lzbGF0b3IuTWlkZGxlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogbGVnaXNsYXRvci5GaXJzdE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0TmFtZTogbGVnaXNsYXRvci5MYXN0TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pZGRsZU5hbWU6IGxlZ2lzbGF0b3IuTWlkZGxlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbmRlcjogbGVnaXNsYXRvci5HZW5kZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbk9mZmljZTogbGVnaXNsYXRvci5Jbk9mZmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZmljZTogbGVnaXNsYXRvci5PZmZpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0eTogbGVnaXNsYXRvci5QYXJ0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnR5TmFtZTogbGVnaXNsYXRvci5QYXJ0eU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwaG9uZTogbGVnaXNsYXRvci5QaG9uZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiBsZWdpc2xhdG9yLlN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVOYW1lOiBsZWdpc2xhdG9yLlN0YXRlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlUmFuazogbGVnaXNsYXRvci5TdGF0ZVJhbmssXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXJtU3RhcnQ6IGxlZ2lzbGF0b3IuVGVybVN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVybUVuZDogbGVnaXNsYXRvci5UZXJtRW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGxlZ2lzbGF0b3IuVGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZU5hbWU6IGxlZ2lzbGF0b3IuVGl0bGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHdpdHRlcklkOiBsZWdpc2xhdG9yLlR3aXR0ZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdlYnNpdGU6IGxlZ2lzbGF0b3IuV2Vic2l0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHlvdVR1YmVVcmw6IGxlZ2lzbGF0b3IuWW91VHViZVVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpbzogbGVnaXNsYXRvci5CaW9QbGFpblRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVVybDogbGVnaXNsYXRvci5QaWN0dXJlVXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGxlZ2lzbGF0b3IuRGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2aWV3TW9kZWwuZW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgd2hpbGUgKHZpZXdNb2RlbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZpZXdNb2RlbC5wb3AoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgcmV0dXJuIHZpZXdNb2RlbDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBMZWdpc2xhdG9yc1ZpZXdNb2RlbDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9ycy12aWV3LW1vZGVsLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvcnMtdmlldy1tb2RlbC5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBMb2dpblZpZXdNb2RlbCA9IHJlcXVpcmUoXCIuL2xvZ2luLXZpZXctbW9kZWxcIik7XG5jb25zdCBwbGF0Zm9ybU1vZHVsZSA9IHJlcXVpcmUoXCJwbGF0Zm9ybVwiKTtcbmNvbnN0IG9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpO1xuY29uc3QgYXBwU2V0dGluZ3MgPSByZXF1aXJlKFwiYXBwbGljYXRpb24tc2V0dGluZ3NcIik7XG5jb25zdCBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG52YXIgdXRpbHNNb2R1bGUgPSByZXF1aXJlKFwidG5zLWNvcmUtbW9kdWxlcy91dGlscy91dGlsc1wiKTtcbmNvbnN0IGZpbmdlcnByaW50QXV0aFBsdWdpbiA9IHJlcXVpcmUoXCJuYXRpdmVzY3JpcHQtZmluZ2VycHJpbnQtYXV0aFwiKTtcbnZhciBmaW5nZXJwcmludEF1dGggPSBuZXcgZmluZ2VycHJpbnRBdXRoUGx1Z2luLkZpbmdlcnByaW50QXV0aCgpO1xudmFyIHZpZXcgPSByZXF1aXJlKFwidWkvY29yZS92aWV3XCIpO1xudmFyIG9yaWVudGF0aW9uID0gcmVxdWlyZSgnQHByb3BsdWdpbnMvbmF0aXZlc2NyaXB0LW9yaWVudGF0aW9uJyk7XG52YXIgcGFnZTtcbnZhciBsb2dpblZpZXdNb2RlbDtcbnZhciBlbWFpbDtcbnZhciBwYXNzd29yZDtcbnZhciByZW1lbWJlck1lO1xuXG5mdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgb3JpZW50YXRpb24uZGlzYWJsZVJvdGF0aW9uKCk7XG4gICAgLy8gcGFnZSA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgLy8gbG9naW5WaWV3TW9kZWwgPSBuZXcgTG9naW5WaWV3TW9kZWwoKTtcblxuICAgIC8vIGxvZ2luVmlld01vZGVsLmVtYWlsID0gYXBwU2V0dGluZ3MuZ2V0U3RyaW5nKFwiZW1haWxcIiwgXCJcIik7XG4gICAgLy8gbG9naW5WaWV3TW9kZWwucGFzc3dvcmQgPSBhcHBTZXR0aW5ncy5nZXRTdHJpbmcoXCJwYXNzd29yZFwiLCBcIlwiKTtcbiAgICAvLyBsb2dpblZpZXdNb2RlbC5yZW1lbWJlck1lID0gYXBwU2V0dGluZ3MuZ2V0Qm9vbGVhbihcInJlbWVtYmVyTWVcIiwgZmFsc2UpO1xuICAgIC8vIGxvZ2luVmlld01vZGVsLnVzZVRvdWNoSWQgPSBhcHBTZXR0aW5ncy5nZXRCb29sZWFuKFwidXNlVG91Y2hJZFwiLCBmYWxzZSk7XG5cbiAgICAvLyBwYWdlLmJpbmRpbmdDb250ZXh0ID0gbG9naW5WaWV3TW9kZWw7XG59XG5cbmZ1bmN0aW9uIG9uTG9hZGVkKGFyZ3MpXG57XG4gICAgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgLy8gZW1haWwgPSB2aWV3LmdldFZpZXdCeUlkKHBhZ2UsIFwiZW1haWxcIik7XG4gICAgLy8gcGFzc3dvcmQgPSB2aWV3LmdldFZpZXdCeUlkKHBhZ2UsIFwicGFzc3dvcmRcIik7XG4gICAgLy8gcmVtZW1iZXJNZSA9IHZpZXcuZ2V0Vmlld0J5SWQocGFnZSwgXCJyZW1lbWJlck1lXCIpO1xuXG4gICAgbG9naW5WaWV3TW9kZWwgPSBuZXcgTG9naW5WaWV3TW9kZWwoKTtcblxuICAgIGxvZ2luVmlld01vZGVsLmVtYWlsID0gYXBwU2V0dGluZ3MuZ2V0U3RyaW5nKFwiZW1haWxcIiwgXCJcIik7XG4gICAgbG9naW5WaWV3TW9kZWwucGFzc3dvcmQgPSBhcHBTZXR0aW5ncy5nZXRTdHJpbmcoXCJwYXNzd29yZFwiLCBcIlwiKTtcbiAgICBsb2dpblZpZXdNb2RlbC5yZW1lbWJlck1lID0gYXBwU2V0dGluZ3MuZ2V0Qm9vbGVhbihcInJlbWVtYmVyTWVcIiwgZmFsc2UpO1xuICAgIGxvZ2luVmlld01vZGVsLnVzZVRvdWNoSWQgPSBhcHBTZXR0aW5ncy5nZXRCb29sZWFuKFwidXNlVG91Y2hJZFwiLCBmYWxzZSk7XG5cbiAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gbG9naW5WaWV3TW9kZWw7XG59XG5cbmZ1bmN0aW9uIG9uTmF2aWdhdGVkVG8oYXJncylcbntcbiAgICB0cnkge1xuICAgICAgICBpZiAocGxhdGZvcm1Nb2R1bGUuaXNJT1MpIHtcbiAgICAgICAgICAgIGlmIChsb2dpblZpZXdNb2RlbC51c2VUb3VjaElkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbmdlcnByaW50QXV0aC5hdmFpbGFibGUoKS50aGVuKFxuICAgICAgICAgICAgICAgICAgICBmaW5nZXJwcmludEF1dGgudmVyaWZ5RmluZ2VycHJpbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0xvZyBvbiB0byB2aWV3IGxlZ2lzbGF0b3IgaW5mb3JtYXRpb24nIC8vIG9wdGlvbmFsLCBzaG93biBpbiB0aGUgZmluZ2VycHJpbnQgZGlhbG9nIChkZWZhdWx0OiAnU2NhbiB5b3VyIGZpbmdlcicpLlxuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKFxuICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJpbmRpbmdDb250ZXh0ID0gcGFnZS5iaW5kaW5nQ29udGV4dDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmRpbmdDb250ZXh0LnNpZ25JbihudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiBlcnJvci5jb2RlID09PSAtMywgdGhlIHVzZXIgcHJlc3NlZCB0aGUgYnV0dG9uIGxhYmVsZWQgd2l0aCB5b3VyIGZhbGxiYWNrTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoXCJGaW5nZXJwcmludCBOT1QgT0suIEVycm9yIGNvZGU6IFwiICsgZXJyb3IuY29kZSArIFwiLiBFcnJvciBtZXNzYWdlOiBcIiArIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU2lnbmluQnV0dG9uVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBsZXQgYnV0dG9uID0gYXJncy5vYmplY3Q7XG5cbiAgICAgICAgZW1haWwgPSBidXR0b24ucGFnZS5nZXRWaWV3QnlJZChcImVtYWlsXCIpO1xuICAgICAgICBwYXNzd29yZCA9IGJ1dHRvbi5wYWdlLmdldFZpZXdCeUlkKFwicGFzc3dvcmRcIik7XG4gICAgICAgIHJlbWVtYmVyTWUgPSBidXR0b24ucGFnZS5nZXRWaWV3QnlJZChcInJlbWVtYmVyTWVcIik7XG5cbiAgICAgICAgYXBwU2V0dGluZ3Muc2V0Qm9vbGVhbihcInJlbWVtYmVyTWVcIiwgcmVtZW1iZXJNZS5jaGVja2VkKTtcblxuICAgICAgICBpZiAocmVtZW1iZXJNZS5jaGVja2VkKVxuICAgICAgICB7XG4gICAgICAgICAgICBhcHBTZXR0aW5ncy5zZXRTdHJpbmcoXCJlbWFpbFwiLCBlbWFpbC50ZXh0KTtcbiAgICAgICAgICAgIGFwcFNldHRpbmdzLnNldFN0cmluZyhcInBhc3N3b3JkXCIsIHBhc3N3b3JkLnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgYXBwU2V0dGluZ3Muc2V0Qm9vbGVhbihcInVzZVRvdWNoSWRcIiwgZmFsc2UpO1xuICAgICAgICAgICAgYXBwU2V0dGluZ3Muc2V0U3RyaW5nKFwiZW1haWxcIiwgXCJcIik7XG4gICAgICAgICAgICBhcHBTZXR0aW5ncy5zZXRTdHJpbmcoXCJwYXNzd29yZFwiLCBcIlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzY2FuVHlwZTtcblxuICAgICAgICBmaW5nZXJwcmludEF1dGguYXZhaWxhYmxlKCkudGhlbigocmVzdWx0KSA9PiBcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHJlc3VsdC50b3VjaCkge1xuICAgICAgICAgICAgICAgIHNjYW5UeXBlID0gXCJ0b3VjaFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNjYW5UeXBlID0gXCJmYWNlXCJcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbG9naW5WaWV3TW9kZWwuc2lnbkluKHNjYW5UeXBlKTtcbiAgICAgICAgfSkuY2F0Y2goKGUpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHNjYW5UeXBlID0gbnVsbDtcblxuICAgICAgICAgICAgbG9naW5WaWV3TW9kZWwuc2lnbkluKHNjYW5UeXBlKTtcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25Gb3Jnb3RQYXNzd29yZFRhcCgpIHtcbiAgICB1dGlsc01vZHVsZS5vcGVuVXJsKFwiaHR0cHM6Ly93d3cucGNpYWEubmV0L3BjaXdlYnNpdGUvQWNjb3VudHMvZm9yZ290cGFzc3dvcmQuYXNweFwiKVxufVxuXG5leHBvcnRzLm9uTmF2aWdhdGluZ1RvID0gb25OYXZpZ2F0aW5nVG87XG5leHBvcnRzLm9uTG9hZGVkID0gb25Mb2FkZWQ7XG5leHBvcnRzLm9uTmF2aWdhdGVkVG8gPSBvbk5hdmlnYXRlZFRvO1xuZXhwb3J0cy5vblNpZ25pbkJ1dHRvblRhcCA9IG9uU2lnbmluQnV0dG9uVGFwO1xuZXhwb3J0cy5vbkZvcmdvdFBhc3N3b3JkVGFwID0gb25Gb3Jnb3RQYXNzd29yZFRhcDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9sb2dpbi9sb2dpbi1wYWdlLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vbG9naW4vbG9naW4tcGFnZS5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJcbm1vZHVsZS5leHBvcnRzID0gXCI8UGFnZSBjbGFzcz1cXFwicGFnZVxcXCIgbmF2aWdhdGluZ1RvPVxcXCJvbk5hdmlnYXRpbmdUb1xcXCIgbG9hZGVkPVxcXCJvbkxvYWRlZFxcXCIgbmF2aWdhdGVkVG89XFxcIm9uTmF2aWdhdGVkVG9cXFwiIHhtbG5zPVxcXCJodHRwOi8vc2NoZW1hcy5uYXRpdmVzY3JpcHQub3JnL3Rucy54c2RcXFwiIHN0eWxlPVxcXCJtYXJnaW4tdG9wOiAwO1xcXCI+XFxuICAgIDxTY3JvbGxWaWV3IGNsYXNzPVxcXCJsb2dpbi1iYWNrZ3JvdW5kXFxcIj5cXG4gICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcIiosIGF1dG8sIGF1dG8sIGF1dG8sIGF1dG8sIGF1dG9cXFwiIGhlaWdodD1cXFwiMTAwJVxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIj5cXG4gICAgICAgICAgICAgICAgPEltYWdlIHNyYz1cXFwicmVzOi8vbG9naW5cXFwiIGFuZHJvaWQ6c3RyZXRjaD1cXFwiYXNwZWN0RmlsbFxcXCIgaW9zOnN0cmV0Y2g9XFxcIm5vbmVcXFwiPjwvSW1hZ2U+XFxuICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIxXFxcIiBjb2w9XFxcIjBcXFwiIG9yaWVudGF0aW9uPVxcXCJ2ZXJ0aWNhbFxcXCIgYmFja2dyb3VuZENvbG9yPVxcXCIjZWVlXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwiYm90dG9tXFxcIiBtYXJnaW49XFxcIjAgMTAgMCAxMFxcXCIgYm9yZGVyUmFkaXVzPVxcXCI1XFxcIj5cXG4gICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IG9yaWVudGF0aW9uPVxcXCJob3Jpem9udGFsXFxcIiBjbGFzcz1cXFwibG9naW4tZmllbGRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHdpZHRoPVxcXCIxMCVcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxJbWFnZSBzcmM9XFxcInJlczovL2VtYWlsXFxcIiBhbmRyb2lkOnN0cmV0Y2g9XFxcImFzcGVjdEZpbGxcXFwiIGlvczpzdHJldGNoPVxcXCJub25lXFxcIj48L0ltYWdlPlxcbiAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgICAgIDxTdGFja0xheW91dCB3aWR0aD1cXFwiOTAlXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkIGlkPVxcXCJlbWFpbFxcXCIgaGludD1cXFwiRW1haWxcXFwiIGtleWJvYXJkVHlwZT1cXFwiZW1haWxcXFwiIGF1dG9jb3JyZWN0PVxcXCJmYWxzZVxcXCIgYXV0b2NhcGl0YWxpemF0aW9uPVxcXCJub25lXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0PVxcXCJ7eyBlbWFpbCB9fVxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiIHRleHRBbGlnbm1lbnQ9XFxcImxlZnRcXFwiPjwvVGV4dEZpZWxkPlxcbiAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjJcXFwiIGNvbD1cXFwiMFxcXCIgb3JpZW50YXRpb249XFxcInZlcnRpY2FsXFxcIiBiYWNrZ3JvdW5kQ29sb3I9XFxcIiNlZWVcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJib3R0b21cXFwiIG1hcmdpbj1cXFwiNSAxMCAwIDEwXFxcIiBib3JkZXJSYWRpdXM9XFxcIjVcXFwiPlxcbiAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgb3JpZW50YXRpb249XFxcImhvcml6b250YWxcXFwiIGNsYXNzPVxcXCJsb2dpbi1maWVsZFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgd2lkdGg9XFxcIjEwJVxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlIHNyYz1cXFwicmVzOi8vcGFzc3dvcmRcXFwiIGFuZHJvaWQ6c3RyZXRjaD1cXFwiYXNwZWN0RmlsbFxcXCIgaW9zOnN0cmV0Y2g9XFxcIm5vbmVcXFwiPjwvSW1hZ2U+XFxuICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHdpZHRoPVxcXCI5MCVcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgaWQ9XFxcInBhc3N3b3JkXFxcIiBoaW50PVxcXCJQYXNzd29yZFxcXCIgc2VjdXJlPVxcXCJ0cnVlXFxcIiBhdXRvY29ycmVjdD1cXFwiZmFsc2VcXFwiIGF1dG9jYXBpdGFsaXphdGlvbj1cXFwibm9uZVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dD1cXFwie3sgcGFzc3dvcmQgfX1cXFwiIHdpZHRoPVxcXCIxMDAlXFxcIiB0ZXh0QWxpZ25tZW50PVxcXCJsZWZ0XFxcIj48L1RleHRGaWVsZD5cXG4gICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIzXFxcIiBjb2w9XFxcIjBcXFwiIG9yaWVudGF0aW9uPVxcXCJ2ZXJ0aWNhbFxcXCIgYmFja2dyb3VuZENvbG9yPVxcXCIjZWVlXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwiYm90dG9tXFxcIiBtYXJnaW49XFxcIjUgMTAgMCAxMFxcXCIgYm9yZGVyUmFkaXVzPVxcXCI1XFxcIj5cXG4gICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IG9yaWVudGF0aW9uPVxcXCJob3Jpem9udGFsXFxcIiBjbGFzcz1cXFwibG9naW4tZmllbGQtc3dpdGNoXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxTdGFja0xheW91dCB3aWR0aD1cXFwiNDAlXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cXFwiUmVtZW1iZXIgTWVcXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHdpZHRoPVxcXCI2MCVcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxTd2l0Y2ggaWQ9XFxcInJlbWVtYmVyTWVcXFwiIGNoZWNrZWQ9XFxcInt7IHJlbWVtYmVyTWUgfX1cXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcInJpZ2h0XFxcIiBjbGFzcz1cXFwic3dpdGNoXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjRcXFwiIGNvbD1cXFwiMFxcXCIgb3JpZW50YXRpb249XFxcInZlcnRpY2FsXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIiBtYXJnaW49XFxcIjAgMTAgMCAxMFxcXCI+XFxuICAgICAgICAgICAgICAgIDxCdXR0b24gY2xhc3M9XFxcImxvZ2luLWJ1dHRvblxcXCIgdGV4dD1cXFwiU2lnbiBJblxcXCIgdGFwPVxcXCJvblNpZ25pbkJ1dHRvblRhcFxcXCI+PC9CdXR0b24+XFxuICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCI1XFxcIiBjb2w9XFxcIjBcXFwiIG9yaWVudGF0aW9uPVxcXCJ2ZXJ0aWNhbFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcInRvcFxcXCIgbWFyZ2luPVxcXCI1IDEwIDMwIDEwXFxcIj5cXG4gICAgICAgICAgICAgICAgPEJ1dHRvbiBjbGFzcz1cXFwiZm9yZ290LWJ1dHRvblxcXCIgdGV4dD1cXFwiRm9yZ290IFBhc3N3b3JkP1xcXCIgdGFwPVxcXCJvbkZvcmdvdFBhc3N3b3JkVGFwXFxcIj48L0J1dHRvbj5cXG4gICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgIDwhLS0gPExhYmVsIGNsYXNzPVxcXCJtLXQtMTAgbS1iLTEwIG0tbC0xNSBtLXItMTVcXFwiIHRleHQ9XFxcIkZvcmdvdCBwYXNzd29yZD9cXFwiIHRhcD1cXFwib25Gb3Jnb3RQYXNzd29yZFRhcFxcXCI+PC9MYWJlbD4gLS0+XFxuICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgIDwvU2Nyb2xsVmlldz5cXG48L1BhZ2U+XCI7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbG9naW4vbG9naW4tcGFnZS54bWxcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwibWFya3VwXCIsIHBhdGg6IFwiLi9sb2dpbi9sb2dpbi1wYWdlLnhtbFwiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBwbGF0Zm9ybU1vZHVsZSA9IHJlcXVpcmUoXCJwbGF0Zm9ybVwiKTtcbmNvbnN0IG9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpO1xudmFyIGZyYW1lTW9kdWxlID0gcmVxdWlyZShcInVpL2ZyYW1lXCIpO1xudmFyIGFwcFNldHRpbmdzID0gcmVxdWlyZShcImFwcGxpY2F0aW9uLXNldHRpbmdzXCIpO1xudmFyIGh0dHAgPSByZXF1aXJlKFwiaHR0cFwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG5cbmZ1bmN0aW9uIExvZ2luVmlld01vZGVsKCkge1xuICAgIGNvbnN0IHZpZXdNb2RlbCA9IG9ic2VydmFibGVNb2R1bGUuZnJvbU9iamVjdCh7XG4gICAgICAgIGVtYWlsOiBcIlwiLFxuICAgICAgICBwYXNzd29yZDogXCJcIixcbiAgICAgICAgcmVtZW1iZXJNZTogZmFsc2UsXG4gICAgICAgIHVzZVRvdWNoSWQ6IGZhbHNlLFxuXG4gICAgICAgIHNpZ25JbjogZnVuY3Rpb24oc2NhblR5cGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGVtYWlsID0gdGhpcy5lbWFpbDtcbiAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkID0gdGhpcy5wYXNzd29yZDtcblxuICAgICAgICAgICAgLy8gZGlhbG9ncy5hbGVydChnbG9iYWwudG9rZW4gKyBcIlxcbmlzUGNpOiBcIiArIGdsb2JhbC5pc1BjaSArIFwiXFxuaXNDb25ncmVzc0FkbWluOiBcIiArIGdsb2JhbC5pc0NvbmdyZXNzQWRtaW4gKyBcbiAgICAgICAgICAgIC8vICAgICBcIlxcbmlzQ29uZ3Jlc3NVc2VyOiBcIiArIGdsb2JhbC5pc0NvbmdyZXNzVXNlciArIFwiXFxuaXNDb25ncmVzc0V4dGVybmFsVXNlcjogXCIgKyBnbG9iYWwuaXNDb25ncmVzc0V4dGVybmFsVXNlciArIFxuICAgICAgICAgICAgLy8gICAgIFwiXFxucGVyc29uSWQ6IFwiICsgZ2xvYmFsLnBlcnNvbklkICsgXCJcXG5jb21wYW55SWQ6IFwiICsgZ2xvYmFsLmNvbXBhbnlJZCArIFwiXFxuY3VycmVudFVzZXI6IFwiICsgZ2xvYmFsLmN1cnJlbnRVc2VyKTtcblxuICAgICAgICAgICAgaHR0cC5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICB1cmw6IGdsb2JhbC5hcGlMb2dpblVybCxcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgICAgICAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeSh7IEVtYWlsQWRkcmVzczogZW1haWwsIFBhc3N3b3JkOiBwYXNzd29yZCwgU2NvcGU6IGdsb2JhbC5zY29wZSB9KVxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzcG9uc2UuY29udGVudC50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShyZXN1bHQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuQWNjZXNzVG9rZW4gIT09IHVuZGVmaW5lZCAmJiBkYXRhLkFjY2Vzc1Rva2VuICE9PSBudWxsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsLnRva2VuID0gZGF0YS5BY2Nlc3NUb2tlbjtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHZhciBwY2lFdmVyeW9uZVBvc2l0aW9uID0gZ2xvYmFsLnRva2VuLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcInBjaS5ldmVyeW9uZVwiKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocGNpRXZlcnlvbmVQb3NpdGlvbiA+IDApXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbC5pc1BjaSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgY29uZ3Jlc3NVc2VyUG9zaXRpb24gPSBnbG9iYWwudG9rZW4udG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiY29uZ3Jlc3MrdXNlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbmdyZXNzRXh0ZXJuYWxVc2VyUG9zaXRpb24gPSBnbG9iYWwudG9rZW4udG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiY29uZ3Jlc3MrZXh0ZXJuYWwrdXNlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbmdyZXNzQWRtaW5Qb3NpdGlvbiA9IGdsb2JhbC50b2tlbi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJjb25ncmVzcythZG1pblwiKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY29uZ3Jlc3NBZG1pblBvc2l0aW9uID4gMClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsLmlzQ29uZ3Jlc3NBZG1pbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY29uZ3Jlc3NVc2VyUG9zaXRpb24gPiAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWwuaXNDb25ncmVzc1VzZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvbmdyZXNzRXh0ZXJuYWxVc2VyUG9zaXRpb24gPiAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWwuaXNDb25ncmVzc0V4dGVybmFsVXNlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZ2xvYmFsLmlzQ29uZ3Jlc3NBZG1pbiB8fCBnbG9iYWwuaXNDb25ncmVzc1VzZXIgfHwgZ2xvYmFsLmlzQ29uZ3Jlc3NFeHRlcm5hbFVzZXIpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwZXJzb25JZFBvc2l0aW9uID0gdG9rZW4udG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiJnBlcnNvbmlkPVwiKSArIDEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpcnN0TmFtZVBvc2l0aW9uID0gdG9rZW4udG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiJmZpcnN0bmFtZT1cIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbC5wZXJzb25JZCA9IHRva2VuLnNsaWNlKHBlcnNvbklkUG9zaXRpb24sIGZpcnN0TmFtZVBvc2l0aW9uKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZ1bGxOYW1lUG9zaXRpb24gPSB0b2tlbi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCImZnVsbG5hbWU9XCIpICsgMTA7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RyZWV0QWRkcmVzczFQb3NpdGlvbiA9IHRva2VuLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIiZzdHJlZXRhZGRyZXNzMT1cIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbC5jdXJyZW50VXNlciA9IGRlY29kZVVSSUNvbXBvbmVudCh0b2tlbi5zbGljZShmdWxsTmFtZVBvc2l0aW9uLCBzdHJlZXRBZGRyZXNzMVBvc2l0aW9uKSkucmVwbGFjZShcIitcIiwgXCIgXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tcGFueUlkUG9zaXRpb24gPSB0b2tlbi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCImY29tcGFueWlkPVwiKSArIDExO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlcHRJZFBvc2l0aW9uID0gdG9rZW4udG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiJmRlcHRpZD1cIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbC5jb21wYW55SWQgPSB0b2tlbi5zbGljZShjb21wYW55SWRQb3NpdGlvbiwgZGVwdElkUG9zaXRpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlTmFtZTogXCJtYWluLXBhZ2VcIiwgLy8gXCJob21lL2hvbWUtcGFnZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySGlzdG9yeTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZVRvdWNoSWQgPSBhcHBTZXR0aW5ncy5nZXRCb29sZWFuKFwidXNlVG91Y2hJZFwiLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVtZW1iZXJNZSA9IGFwcFNldHRpbmdzLmdldEJvb2xlYW4oXCJyZW1lbWJlck1lXCIsIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh1c2VUb3VjaElkID09PSB1bmRlZmluZWQgfHwgdXNlVG91Y2hJZCA9PT0gbnVsbCB8fCB1c2VUb3VjaElkID09PSBmYWxzZSkgJiYgc2NhblR5cGUgPT09IFwidG91Y2hcIiAmJiByZW1lbWJlck1lICYmIHBsYXRmb3JtTW9kdWxlLmlzSU9TKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZ3MuY29uZmlybShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiVG91Y2ggSUQgZm9yIFxcXCJMZWdDb25cXFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIldvdWxkIHlvdSBsaWtlIHRvIHVzZSB0aGUgZmluZ2VycHJpbnQgc2Nhbm5lciB0byBsb2cgb24gaW4gdGhlIGZ1dHVyZT9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJZZXNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IFwiTm9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwU2V0dGluZ3Muc2V0Qm9vbGVhbihcInVzZVRvdWNoSWRcIiwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2goZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwU2V0dGluZ3Muc2V0Qm9vbGVhbihcInVzZVRvdWNoSWRcIiwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkubmF2aWdhdGUobmF2aWdhdGlvbkVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoKGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHVzZVRvdWNoSWQgPT09IHVuZGVmaW5lZCB8fCB1c2VUb3VjaElkID09PSBudWxsIHx8IHVzZVRvdWNoSWQgPT09IGZhbHNlKSAmJiBzY2FuVHlwZSA9PT0gXCJmYWNlXCIgJiYgcmVtZW1iZXJNZSAmJiBwbGF0Zm9ybU1vZHVsZS5pc0lPUylcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBTZXR0aW5ncy5zZXRCb29sZWFuKFwidXNlVG91Y2hJZFwiLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaChlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlhbG9ncy5hbGVydChcIlVuYXV0aG9yaXplZCB1c2VyIGFjY291bnQuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHVuZGVmaW5lZCBvciBudWxsIGRhdGEuQWNjZXNzVG9rZW4gcmV0dXJuZWQuICBcbiAgICAgICAgICAgICAgICAgICAgLy8gVXN1YWxseSB0aGUgcmVzdWx0IG9mIGludmFsaWQgdXNlciBuYW1lIGFuZCBwYXNzd29yZC5cbiAgICAgICAgICAgICAgICAgICAgLy9kaWFsb2dzLmFsZXJ0KFwiTnVsbCBhY2Nlc3MgdG9rZW4gcmV0dXJuZWQuXCIpO1xuICAgICAgICAgICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KFwiSW52YWxpZCBlbWFpbCBhZGRyZXNzIG9yIHBhc3N3b3JkLlwiKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdmlld01vZGVsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IExvZ2luVmlld01vZGVsO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2xvZ2luL2xvZ2luLXZpZXctbW9kZWwuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9sb2dpbi9sb2dpbi12aWV3LW1vZGVsLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IGFwcGxpY2F0aW9uID0gcmVxdWlyZShcImFwcGxpY2F0aW9uXCIpO1xudmFyIGZyYW1lID0gcmVxdWlyZShcInVpL2ZyYW1lXCIpO1xudmFyIGdyaWRMYXlvdXQgPSByZXF1aXJlKFwidWkvbGF5b3V0cy9ncmlkLWxheW91dFwiKTtcbnZhciBzdGFja0xheW91dCA9IHJlcXVpcmUoXCJ1aS9sYXlvdXRzL3N0YWNrLWxheW91dFwiKVxudmFyIExhYmVsID0gcmVxdWlyZShcInVpL2xhYmVsXCIpLkxhYmVsO1xudmFyIG9yaWVudGF0aW9uID0gcmVxdWlyZSgnQHByb3BsdWdpbnMvbmF0aXZlc2NyaXB0LW9yaWVudGF0aW9uJyk7XG5cbnZhciBwYWdlO1xuXG5mdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgb3JpZW50YXRpb24uZW5hYmxlUm90YXRpb24oKTtcbiAgICBwYWdlID0gYXJncy5vYmplY3Q7XG4gICAgcGFnZS5fdGFicyA9IFtdO1xuXG4gICAgcGFnZS50YWJJdGVtcyA9IFtcbiAgICAgICAgeyBwYXRoOiBcImxlZ2lzbGF0b3JzL2xlZ2lzbGF0b3JzLXBhZ2VcIiwgaWNvbkNvZGU6IFwiXFx1ZjE5Y1wiLCBsYWJlbDogXCJMZWdpc2xhdG9yc1wiIH0sXG4gICAgICAgIHsgcGF0aDogXCJjb21taXR0ZWVzL2NvbW1pdHRlZXMtcGFnZVwiLCBpY29uQ29kZTogXCJcXHVmMGMwXCIsIGxhYmVsOiBcIkNvbW1pdHRlZXNcIiB9LFxuICAgICAgICB7IHBhdGg6IFwibWVldGluZ3MvbWVldGluZ3MtcGFnZVwiLCBpY29uQ29kZTogXCJcXHVmMmI1XCIsIGxhYmVsOiBcIk15IE1lZXRpbmdzXCIgfSxcbiAgICAgICAgeyBwYXRoOiBcImFzc2lnbm1lbnRzL2Fzc2lnbm1lbnRzLXBhZ2VcIiwgaWNvbkNvZGU6IFwiXFx1ZjAzYVwiLCBsYWJlbDogXCJBc3NpZ25tZW50c1wiIH1cbiAgICBdO1xuXG4gICAgdmFyIG51bUl0ZW1zID0gcGFnZS50YWJJdGVtcy5sZW5ndGg7XG5cbiAgICB2YXIgbmV3R3JpZCA9IG5ldyBncmlkTGF5b3V0LkdyaWRMYXlvdXQoKTtcblxuICAgIG5ld0dyaWQuaWQgPSBcInRhYi1uYXZpZ2F0aW9uXCI7XG5cbiAgICBuZXdHcmlkLmFkZFJvdyhuZXcgZ3JpZExheW91dC5JdGVtU3BlYygxLCBcInN0YXJcIikpO1xuICAgIG5ld0dyaWQuYWRkUm93KG5ldyBncmlkTGF5b3V0Lkl0ZW1TcGVjKDEsIFwiYXV0b1wiKSk7XG4gICAgXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1JdGVtczsgaSsrKSB7XG4gICAgICAgIG5ld0dyaWQuYWRkQ29sdW1uKG5ldyBncmlkTGF5b3V0Lkl0ZW1TcGVjKDEsIFwic3RhclwiKSk7XG4gICAgfVxuICAgIFxuICAgIHZhciBmcmFtZUhvbGRlciA9IG5ldyBzdGFja0xheW91dC5TdGFja0xheW91dCgpO1xuICAgIFxuICAgIHBhZ2UubmF2RnJhbWUgPSBuZXcgZnJhbWUuRnJhbWUoKTtcblxuICAgIHBhZ2UubmF2RnJhbWUuaWQgPSBcIm5hdmlnYXRpb24tZnJhbWVcIjtcbiAgICBwYWdlLm5hdkZyYW1lLmNsYXNzTmFtZSA9IFwibmF2aWdhdGlvbi1mcmFtZVwiO1xuXG4gICAgZnJhbWVIb2xkZXIuYWRkQ2hpbGQocGFnZS5uYXZGcmFtZSk7XG5cbiAgICBuZXdHcmlkLmFkZENoaWxkKGZyYW1lSG9sZGVyKTtcblxuICAgIGdyaWRMYXlvdXQuR3JpZExheW91dC5zZXRDb2x1bW4oZnJhbWVIb2xkZXIsIDApO1xuICAgIGdyaWRMYXlvdXQuR3JpZExheW91dC5zZXRSb3coZnJhbWVIb2xkZXIsIDApO1xuICAgIGdyaWRMYXlvdXQuR3JpZExheW91dC5zZXRDb2x1bW5TcGFuKGZyYW1lSG9sZGVyLCBudW1JdGVtcyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUl0ZW1zOyBpKyspIHtcbiAgICAgICAgdmFyIGN1cnJlbnRJdGVtID0gcGFnZS50YWJJdGVtc1tpXTtcbiAgICAgICAgdmFyIHRhYiA9IG5ldyBzdGFja0xheW91dC5TdGFja0xheW91dCgpO1xuXG4gICAgICAgIHRhYi5kaXJlY3Rpb24gPSBcInZlcnRpY2FsXCI7XG5cbiAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgIHRhYi5jbGFzc05hbWUgPSBcInRhYiB0YWItc2VsZWN0ZWRcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhYi5jbGFzc05hbWUgPSBcInRhYlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFiLmlkID0gXCJ0YWJfXCIgKyBpO1xuICAgICAgICBcbiAgICAgICAgdGFiLm9uKFwidGFwXCIsIGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gb25UYWJTZWxlY3RlZChhcmdzLCBjdXJyZW50SXRlbSk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgdmFyIGljb24gPSBuZXcgTGFiZWwoKTtcblxuICAgICAgICBpY29uLmNsYXNzTmFtZSA9ICd0YWItaWNvbic7XG5cbiAgICAgICAgLy9pY29uLnRleHQgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGN1cnJlbnRJdGVtLmljb25Db2RlKVxuICAgICAgICBpY29uLnRleHQgPSBjdXJyZW50SXRlbS5pY29uQ29kZTtcbiAgICAgICAgdGFiLmFkZENoaWxkKGljb24pO1xuXG4gICAgICAgIHZhciBsYWJlbCA9IG5ldyBMYWJlbCgpO1xuXG4gICAgICAgIGxhYmVsLmNsYXNzTmFtZSA9ICd0YWItbGFiZWwnO1xuICAgICAgICBsYWJlbC50ZXh0ID0gY3VycmVudEl0ZW0ubGFiZWw7XG4gICAgICAgIHRhYi5hZGRDaGlsZChsYWJlbCk7XG5cbiAgICAgICAgcGFnZS5fdGFicy5wdXNoKHRhYik7XG4gICAgICAgIG5ld0dyaWQuYWRkQ2hpbGQodGFiKTtcblxuICAgICAgICBncmlkTGF5b3V0LkdyaWRMYXlvdXQuc2V0Um93KHRhYiwgMSk7XG4gICAgICAgIGdyaWRMYXlvdXQuR3JpZExheW91dC5zZXRDb2x1bW4odGFiLCBpKTtcbiAgICB9XG5cbiAgICBwYWdlLmNvbnRlbnQgPSBuZXdHcmlkO1xuXG4gICAgY29uc3QgZGF0ZUNvbnZlcnRlciA9ICh2YWx1ZSwgZm9ybWF0KSA9PiB7XG4gICAgICAgIGxldCByZXN1bHQgPSBmb3JtYXQ7XG5cbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAvL3Jlc3VsdCA9IFwiXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBkYXkgPSB2YWx1ZS5nZXREYXRlKCk7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZShcIkREXCIsIGRheSA8IDEwID8gYDAke2RheX1gIDogZGF5KTtcbiAgICAgICAgICAgIGNvbnN0IG1vbnRoID0gdmFsdWUuZ2V0TW9udGgoKSArIDE7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZShcIk1NXCIsIG1vbnRoIDwgMTAgPyBgMCR7bW9udGh9YCA6IG1vbnRoKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKFwiWVlZWVwiLCB2YWx1ZS5nZXRGdWxsWWVhcigpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIGFwcGxpY2F0aW9uLmdldFJlc291cmNlcygpLmRhdGVDb252ZXJ0ZXIgPSBkYXRlQ29udmVydGVyO1xuICAgIGFwcGxpY2F0aW9uLmdldFJlc291cmNlcygpLmRhdGVGb3JtYXQgPSBcIk1NL0REL1lZWVlcIjtcblxuICAgIHZhciBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgIG1vZHVsZU5hbWU6IHBhZ2UudGFiSXRlbXNbMF0ucGF0aCxcbiAgICAgICAgY29udGV4dDoge1xuICAgICAgICAgICAgcmVmZXJlbmNlOiBcInRhYlwiXG4gICAgICAgIH0sXG4gICAgICAgIGNsZWFySGlzdG9yeTogdHJ1ZVxuICAgIH1cblxuICAgIHBhZ2UubmF2RnJhbWUubmF2aWdhdGUobmF2aWdhdGlvbkVudHJ5KTtcbiAgICAvL3BhZ2UubmF2RnJhbWUubmF2aWdhdGUocGFnZS50YWJJdGVtc1swXS5wYXRoKTtcbn1cblxuZnVuY3Rpb24gb25UYWJTZWxlY3RlZChhcmdzKSB7XG4gICAgdmFyIHNlbGVjdGVkVGFiID0gYXJncy5vYmplY3Q7XG4gICAgdmFyIGluZGV4ID0gc2VsZWN0ZWRUYWIuaWQuc3Vic3RyaW5nKHNlbGVjdGVkVGFiLmlkLmluZGV4T2YoXCJ0YWJfXCIpICsgNCk7XG5cbiAgICBpZiAoc2VsZWN0ZWRUYWIuY2xhc3NOYW1lLmluZGV4T2YoXCJ0YWItc2VsZWN0ZWRcIikgPiAtMSkge1xuICAgICAgICB2YXIgY3VycmVudEZyYW1lID0gcGFnZS5nZXRWaWV3QnlJZChcIm5hdmlnYXRpb24tZnJhbWVcIik7XG4gICAgICAgIFxuICAgICAgICBpZiAocGFnZS50YWJJdGVtc1tpbmRleF0ubGFiZWwgPT09IGN1cnJlbnRGcmFtZS5jdXJyZW50UGFnZS5hY3Rpb25CYXIudGl0bGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBhZ2UuX3RhYnMuZm9yRWFjaChmdW5jdGlvbih0YWIpIHtcbiAgICAgICAgdGFiLmNsYXNzTmFtZSA9ICd0YWInO1xuICAgIH0pO1xuXG4gICAgc2VsZWN0ZWRUYWIuY2xhc3NOYW1lID0gJ3RhYiB0YWItc2VsZWN0ZWQnO1xuXG4gICAgc2hvd1RhYihwYWdlLnRhYkl0ZW1zW2luZGV4XSk7XG59XG5cbmZ1bmN0aW9uIHNob3dUYWIodGFiSXRlbSkge1xuICAgIHZhciBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgIG1vZHVsZU5hbWU6IHRhYkl0ZW0ucGF0aCxcbiAgICAgICAgY29udGV4dDoge1xuICAgICAgICAgICAgcmVmZXJlbmNlOiBcInRhYlwiXG4gICAgICAgIH0sXG4gICAgICAgIGNsZWFySGlzdG9yeTogdHJ1ZVxuICAgIH1cblxuICAgIHBhZ2UubmF2RnJhbWUubmF2aWdhdGUobmF2aWdhdGlvbkVudHJ5KVxufVxuXG5leHBvcnRzLm9uTmF2aWdhdGluZ1RvID0gb25OYXZpZ2F0aW5nVG87XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbWFpbi1wYWdlLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vbWFpbi1wYWdlLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxubW9kdWxlLmV4cG9ydHMgPSBcIjxQYWdlIHhtbG5zPVxcXCJodHRwOi8vc2NoZW1hcy5uYXRpdmVzY3JpcHQub3JnL3Rucy54c2RcXFwiIGJhY2tncm91bmRTcGFuVW5kZXJTdGF0dXNCYXI9XFxcInRydWVcXFwiIGFjdGlvbkJhckhpZGRlbj1cXFwidHJ1ZVxcXCIgbmF2aWdhdGluZ1RvPVxcXCJvbk5hdmlnYXRpbmdUb1xcXCI+XFxuPC9QYWdlPlxcblwiOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL21haW4tcGFnZS54bWxcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwibWFya3VwXCIsIHBhdGg6IFwiLi9tYWluLXBhZ2UueG1sXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IEF0dGVuZGVlVHlwZVZpZXdNb2RlbCA9IHJlcXVpcmUoXCIuL2F0dGVuZGVldHlwZS12aWV3LW1vZGVsXCIpO1xuY29uc3QgT2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgZnJhbWVNb2R1bGUgPSByZXF1aXJlKFwidWkvZnJhbWVcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xuXG52YXIgcGFnZTtcbnZhciBuYXZpZ2F0aW9uQ29udGV4dDtcbnZhciBhdHRlbmRlZVR5cGVMaXN0ID0gbmV3IEF0dGVuZGVlVHlwZVZpZXdNb2RlbChbXSk7XG5cbnZhciBhdHRlbmRlZVR5cGVJbmRleCA9IDA7XG5cbnZhciBwYWdlRGF0YSA9IG5ldyBPYnNlcnZhYmxlTW9kdWxlLmZyb21PYmplY3Qoe1xuICAgIGJvdW5kRGF0YTogbnVsbCxcbiAgICBhdHRlbmRlZVR5cGVJbmRleDogYXR0ZW5kZWVUeXBlSW5kZXgsXG4gICAgYXR0ZW5kZWVUeXBlTGlzdDogbnVsbCxcbiAgICBpc0xvYWRpbmc6IGZhbHNlXG59KTtcblxuZnVuY3Rpb24gb25OYXZpZ2F0aW5nVG8oYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHBhZ2UgPSBhcmdzLm9iamVjdDtcbiAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIkNvbmcuIE9mZmljZSBBdHRlbmRlZXNcIjtcblxuICAgICAgICBuYXZpZ2F0aW9uQ29udGV4dCA9IHBhZ2UubmF2aWdhdGlvbkNvbnRleHQ7XG5cbiAgICAgICAgcGFnZURhdGEuYm91bmREYXRhID0gbmF2aWdhdGlvbkNvbnRleHQ7XG5cbiAgICAgICAgaWYgKGdsb2JhbC5hdHRlbmRlZVR5cGVMaXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuICAgICAgICAgICAgYXR0ZW5kZWVUeXBlTGlzdC5sb2FkKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZ2xvYmFsLmF0dGVuZGVlVHlwZUxpc3QgPSBhdHRlbmRlZVR5cGVMaXN0O1xuXG4gICAgICAgICAgICAgICAgcGFnZURhdGEuYXR0ZW5kZWVUeXBlTGlzdCA9IGdsb2JhbC5hdHRlbmRlZVR5cGVMaXN0O1xuXG4gICAgICAgICAgICAgICAgYXR0ZW5kZWVUeXBlSW5kZXggPSAwO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLmJvdW5kRGF0YS5hdHRlbmRlZVR5cGVJZCAhPT0gbnVsbCAmJiBwYWdlRGF0YS5ib3VuZERhdGEuYXR0ZW5kZWVUeXBlSWQudG9TdHJpbmcoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWdlRGF0YS5hdHRlbmRlZVR5cGVMaXN0Lkxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWdlRGF0YS5hdHRlbmRlZVR5cGVMaXN0Lkxpc3QuZ2V0SXRlbShpKS5hdHRlbmRlZVR5cGVJZCA9PT0gcGFnZURhdGEuYm91bmREYXRhLmF0dGVuZGVlVHlwZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0ZW5kZWVUeXBlSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcGFnZURhdGEuYXR0ZW5kZWVUeXBlSW5kZXggPSBhdHRlbmRlZVR5cGVJbmRleDtcblxuICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhZ2VEYXRhLmF0dGVuZGVlVHlwZUxpc3QgPSBnbG9iYWwuYXR0ZW5kZWVUeXBlTGlzdDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgYXR0ZW5kZWVUeXBlSW5kZXggPSAwO1xuXG4gICAgICAgICAgICBpZiAocGFnZURhdGEuYm91bmREYXRhLmF0dGVuZGVlVHlwZUlkICE9PSBudWxsICYmIHBhZ2VEYXRhLmJvdW5kRGF0YS5hdHRlbmRlZVR5cGVJZC50b1N0cmluZygpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgaTtcblxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWdlRGF0YS5hdHRlbmRlZVR5cGVMaXN0Lkxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLmF0dGVuZGVlVHlwZUxpc3QuTGlzdC5nZXRJdGVtKGkpLmF0dGVuZGVlVHlwZUlkID09PSBwYWdlRGF0YS5ib3VuZERhdGEuYXR0ZW5kZWVUeXBlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGVuZGVlVHlwZUluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGFnZURhdGEuYXR0ZW5kZWVUeXBlSW5kZXggPSBhdHRlbmRlZVR5cGVJbmRleDtcblxuICAgICAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHBhZ2VEYXRhO1xuICAgICAgICB9XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25Mb2FkZWQoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBhdHRlbmRlZVR5cGVMaXN0UGlja2VyID0gcGFnZS5nZXRWaWV3QnlJZChcImF0dGVuZGVlVHlwZUxpc3RQaWNrZXJcIik7XG4gICAgICAgIFxuICAgICAgICBhdHRlbmRlZVR5cGVMaXN0UGlja2VyLm9uKFwic2VsZWN0ZWRJbmRleENoYW5nZVwiLCBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB2YXIgYXR0ZW5kZWVUeXBlSXRlbSA9IHBhZ2VEYXRhLmF0dGVuZGVlVHlwZUxpc3QuTGlzdC5nZXRJdGVtKGFyZ3Mub2JqZWN0LnNlbGVjdGVkSW5kZXgpO1xuICAgICAgICAgICAgLy9kaWFsb2dzLmFsZXJ0KGF0dGVuZGVlVHlwZUl0ZW0uYXR0ZW5kZWVUeXBlSWQgKyBcIjogXCIgKyBhdHRlbmRlZVR5cGVJdGVtLmF0dGVuZGVlVHlwZSk7XG4gICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEuYXR0ZW5kZWVUeXBlSWQgPSBhdHRlbmRlZVR5cGVJdGVtLmF0dGVuZGVlVHlwZUlkO1xuICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLmF0dGVuZGVlVHlwZSA9IGF0dGVuZGVlVHlwZUl0ZW0uYXR0ZW5kZWVUeXBlO1xuICAgICAgICB9KTtcblxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uQmFja1RhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLmdvQmFjaygpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KGUpO1xuICAgIH1cbn1cblxuZXhwb3J0cy5vbk5hdmlnYXRpbmdUbyA9IG9uTmF2aWdhdGluZ1RvO1xuZXhwb3J0cy5vbkxvYWRlZCA9IG9uTG9hZGVkO1xuZXhwb3J0cy5vbkJhY2tUYXAgPSBvbkJhY2tUYXA7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbWVldGluZ3MvbWVldGluZy9hdHRlbmRlZXR5cGUvYXR0ZW5kZWV0eXBlLXBhZ2UuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL2F0dGVuZGVldHlwZS9hdHRlbmRlZXR5cGUtcGFnZS5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJcbm1vZHVsZS5leHBvcnRzID0gXCI8UGFnZSBuYXZpZ2F0aW5nVG89XFxcIm9uTmF2aWdhdGluZ1RvXFxcIiBsb2FkZWQ9XFxcIm9uTG9hZGVkXFxcIiBjbGFzcz1cXFwicGFnZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly9zY2hlbWFzLm5hdGl2ZXNjcmlwdC5vcmcvdG5zLnhzZFxcXCIgPlxcbiAgICA8QWN0aW9uQmFyIGNsYXNzPVxcXCJhY3Rpb24tYmFyXFxcIj5cXG4gICAgICAgIDxhbmRyb2lkPlxcbiAgICAgICAgICAgIDxOYXZpZ2F0aW9uQnV0dG9uIGFuZHJvaWQuc3lzdGVtSWNvbj1cXFwiaWNfbWVudV9iYWNrXFxcIiB0YXA9XFxcIm9uQmFja1RhcFxcXCIgLz5cXG4gICAgICAgIDwvYW5kcm9pZD5cXG4gICAgPC9BY3Rpb25CYXI+XFxuXFxuICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcImF1dG8sIGF1dG8sICpcXFwiPlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LXNlY3Rpb24taGVhZGVyXFxcIj48L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPEdyaWRMYXlvdXQgcm93PVxcXCIxXFxcIiBjb2w9XFxcIjBcXFwiIGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICA8TGlzdFBpY2tlciBpZD1cXFwiYXR0ZW5kZWVUeXBlTGlzdFBpY2tlclxcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIGl0ZW1zPVxcXCJ7eyBhdHRlbmRlZVR5cGVMaXN0Lkl0ZW1zIH19XFxcIiBzZWxlY3RlZEluZGV4PVxcXCJ7eyBhdHRlbmRlZVR5cGVJbmRleCB9fVxcXCIgXFxuICAgICAgICAgICAgICAgIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXBpY2tlclxcXCI+PC9MaXN0UGlja2VyPlxcbiAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMlxcXCIgY29sPVxcXCIwXFxcIiBoZWlnaHQ9XFxcIjEwMCVcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctc2VjdGlvbi1oZWFkZXJcXFwiPjwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8QWN0aXZpdHlJbmRpY2F0b3IgYnVzeT1cXFwie3sgaXNMb2FkaW5nIH19XFxcIiBhbmRyb2lkOmhlaWdodD1cXFwiMjUlXFxcIiBhbmRyb2lkOndpZHRoPVxcXCIyNSVcXFwiIGlvcy5hY3Rpdml0eUluZGljYXRvclZpZXdTdHlsZT1cXFwid2hpdGVMYXJnZVxcXCIgcm93U3Bhbj1cXFwiM1xcXCIgY29sU3Bhbj1cXFwiMVxcXCIgLz5cXG4gICAgPC9HcmlkTGF5b3V0PlxcbjwvUGFnZT5cXG5cIjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9tZWV0aW5ncy9tZWV0aW5nL2F0dGVuZGVldHlwZS9hdHRlbmRlZXR5cGUtcGFnZS54bWxcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwibWFya3VwXCIsIHBhdGg6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL2F0dGVuZGVldHlwZS9hdHRlbmRlZXR5cGUtcGFnZS54bWxcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3QgT2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIikuT2JzZXJ2YWJsZTtcbnZhciBPYnNlcnZhYmxlQXJyYXkgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlLWFycmF5XCIpLk9ic2VydmFibGVBcnJheTtcbnZhciBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xuXG5mdW5jdGlvbiBBdHRlbmRlZVR5cGVWaWV3TW9kZWwoKSB7XG4gICAgY29uc3Qgdmlld01vZGVsID0gbmV3IE9ic2VydmFibGVNb2R1bGUoKTtcbiAgICB2aWV3TW9kZWwuSXRlbXMgPSBuZXcgT2JzZXJ2YWJsZUFycmF5KCk7XG4gICAgdmlld01vZGVsLkxpc3QgPSBuZXcgT2JzZXJ2YWJsZUFycmF5KCk7XG5cbiAgICB2aWV3TW9kZWwubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaHR0cC5yZXF1ZXN0KHtcbiAgICAgICAgICAgIHVybDogZ2xvYmFsLmFwaUJhc2VTZXJ2aWNlVXJsICsgXCJtZWV0aW5nYXR0ZW5kZWV0eXBlc1wiLFxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiwgXCJBdXRob3JpemF0aW9uXCI6IGdsb2JhbC50b2tlbiB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzcG9uc2UuY29udGVudC50b1N0cmluZygpO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHJlc3VsdCk7XG5cbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihhdHRlbmRlZVR5cGUpIHtcbiAgICAgICAgICAgICAgICB2aWV3TW9kZWwuSXRlbXMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgYXR0ZW5kZWVUeXBlLlR5cGVcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgdmlld01vZGVsLkxpc3QucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGF0dGVuZGVlVHlwZUlkOiBhdHRlbmRlZVR5cGUuQXR0ZW5kZWVUeXBlSWQsXG4gICAgICAgICAgICAgICAgICAgIGF0dGVuZGVlVHlwZTogYXR0ZW5kZWVUeXBlLlR5cGVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmlld01vZGVsLmVtcHR5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHdoaWxlICh2aWV3TW9kZWwuSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2aWV3TW9kZWwuSXRlbXMucG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAodmlld01vZGVsLkxpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICB2aWV3TW9kZWwuTGlzdC5wb3AoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgcmV0dXJuIHZpZXdNb2RlbDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBdHRlbmRlZVR5cGVWaWV3TW9kZWw7OyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL21lZXRpbmdzL21lZXRpbmcvYXR0ZW5kZWV0eXBlL2F0dGVuZGVldHlwZS12aWV3LW1vZGVsLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vbWVldGluZ3MvbWVldGluZy9hdHRlbmRlZXR5cGUvYXR0ZW5kZWV0eXBlLXZpZXctbW9kZWwuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3QgcGxhdGZvcm0gPSByZXF1aXJlKFwicGxhdGZvcm1cIik7XG52YXIgZnJhbWVNb2R1bGUgPSByZXF1aXJlKFwidWkvZnJhbWVcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xuXG52YXIgcGFnZTtcbnZhciBuYXZpZ2F0aW9uQ29udGV4dDtcblxuZnVuY3Rpb24gb25OYXZpZ2F0aW5nVG8oYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHBhZ2UgPSBhcmdzLm9iamVjdDtcbiAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIkZvbGxvdyBVcFwiO1xuXG4gICAgICAgIG5hdmlnYXRpb25Db250ZXh0ID0gcGFnZS5uYXZpZ2F0aW9uQ29udGV4dDtcblxuICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gbmF2aWdhdGlvbkNvbnRleHQ7XG5cbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkxvYWRlZChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIGZvbGxvd1VwRGF0ZURhdGVQaWNrZXIgPSBwYWdlLmdldFZpZXdCeUlkKFwiZm9sbG93VXBEYXRlRGF0ZVBpY2tlclwiKTtcblxuICAgICAgICBmb2xsb3dVcERhdGVEYXRlUGlja2VyLm9uKFwiZGF0ZUNoYW5nZVwiLCBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB2YXIgZm9sbG93VXBEYXRlTGFiZWwgPSBwYWdlLmdldFZpZXdCeUlkKFwiZm9sbG93VXBEYXRlTGFiZWxcIik7XG5cbiAgICAgICAgICAgIGZvbGxvd1VwRGF0ZUxhYmVsLnRleHQgPSBkYXRlQ29udmVydGVyKGFyZ3MudmFsdWUsIFwiTU0vREQvWVlZWVwiKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uQmFja1RhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgZGlzbWlzc0tleWJvYXJkKClcblxuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkuZ29CYWNrKCk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkdyaWRMYXlvdXRUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGRpc21pc3NLZXlib2FyZCgpXG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblN3aXRjaExvYWRlZChhcmdzKSB7XG4gICAgdmFyIGNoZWNrZWRTd2l0Y2ggPSBhcmdzLm9iamVjdDtcblxuICAgIGNoZWNrZWRTd2l0Y2gub24oXCJjaGVja2VkQ2hhbmdlXCIsIGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgZGlzbWlzc0tleWJvYXJkKClcblxuICAgICAgICB2YXIgZGV0YWlsc0xhYmVsID0gcGFnZS5nZXRWaWV3QnlJZChcImRldGFpbHNMYWJlbFwiKTtcbiAgICAgICAgdmFyIGZvbGxvd1VwRGV0YWlsc1N0YWNrTGF5b3V0ID0gcGFnZS5nZXRWaWV3QnlJZChcImZvbGxvd1VwRGV0YWlsc1N0YWNrTGF5b3V0XCIpO1xuICAgICAgICB2YXIgZm9sbG93VXBEYXRlRGF0ZVBpY2tlckdyaWRMYXlvdXQgPSBwYWdlLmdldFZpZXdCeUlkKFwiZm9sbG93VXBEYXRlRGF0ZVBpY2tlckdyaWRMYXlvdXRcIik7XG5cbiAgICAgICAgaWYgKGFyZ3MudmFsdWUpIHtcbiAgICAgICAgICAgIGRldGFpbHNMYWJlbC52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgICAgICAgICBmb2xsb3dVcERldGFpbHNTdGFja0xheW91dC52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZXRhaWxzTGFiZWwudmlzaWJpbGl0eSA9IFwiY29sbGFwc2VcIjtcbiAgICAgICAgICAgIGZvbGxvd1VwRGV0YWlsc1N0YWNrTGF5b3V0LnZpc2liaWxpdHkgPSBcImNvbGxhcHNlXCI7XG4gICAgICAgIH1cblxuICAgICAgICBmb2xsb3dVcERhdGVEYXRlUGlja2VyR3JpZExheW91dC52aXNpYmlsaXR5ID0gXCJjb2xsYXBzZVwiO1xuXG4gICAgICAgIHBhZ2UuYWRkQ3NzKFwiI2ZvbGxvd1VwRGF0ZUxhYmVsIHtjb2xvcjogIzY2Njt9XCIpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBvblRleHRWaWV3Rm9jdXMoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBmb2xsb3dVcERhdGVEYXRlUGlja2VyR3JpZExheW91dCA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJmb2xsb3dVcERhdGVEYXRlUGlja2VyR3JpZExheW91dFwiKTtcblxuICAgICAgICBmb2xsb3dVcERhdGVEYXRlUGlja2VyR3JpZExheW91dC52aXNpYmlsaXR5ID0gXCJjb2xsYXBzZVwiO1xuXG4gICAgICAgIHBhZ2UuYWRkQ3NzKFwiI2ZvbGxvd1VwRGF0ZUxhYmVsIHtjb2xvcjogIzY2Njt9XCIpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU3RhY2tMYXlvdXRGb2xsb3dVcERhdGVUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGRpc21pc3NLZXlib2FyZCgpXG5cbiAgICAgICAgdmFyIGZvbGxvd1VwRGF0ZURhdGVQaWNrZXJHcmlkTGF5b3V0ID0gcGFnZS5nZXRWaWV3QnlJZChcImZvbGxvd1VwRGF0ZURhdGVQaWNrZXJHcmlkTGF5b3V0XCIpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGZvbGxvd1VwRGF0ZURhdGVQaWNrZXJHcmlkTGF5b3V0LnZpc2liaWxpdHkgPT09IFwiY29sbGFwc2VcIikge1xuICAgICAgICAgICAgZm9sbG93VXBEYXRlRGF0ZVBpY2tlckdyaWRMYXlvdXQudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuXG4gICAgICAgICAgICBwYWdlLmFkZENzcyhcIiNmb2xsb3dVcERhdGVMYWJlbCB7Y29sb3I6ICNjYzJkMzA7fVwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvbGxvd1VwRGF0ZURhdGVQaWNrZXJHcmlkTGF5b3V0LnZpc2liaWxpdHkgPSBcImNvbGxhcHNlXCI7XG5cbiAgICAgICAgICAgIHBhZ2UuYWRkQ3NzKFwiI2ZvbGxvd1VwRGF0ZUxhYmVsIHtjb2xvcjogIzY2Njt9XCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRhdGVDb252ZXJ0ZXIodmFsdWUsIGZvcm1hdCkge1xuICAgIGxldCByZXN1bHQgPSBmb3JtYXQ7XG5cbiAgICBjb25zdCBkYXkgPSB2YWx1ZS5nZXREYXRlKCk7XG5cbiAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZShcIkREXCIsIGRheSA8IDEwID8gYDAke2RheX1gIDogZGF5KTtcblxuICAgIGNvbnN0IG1vbnRoID0gdmFsdWUuZ2V0TW9udGgoKSArIDE7XG5cbiAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZShcIk1NXCIsIG1vbnRoIDwgMTAgPyBgMCR7bW9udGh9YCA6IG1vbnRoKTtcbiAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZShcIllZWVlcIiwgdmFsdWUuZ2V0RnVsbFllYXIoKSk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBkaXNtaXNzS2V5Ym9hcmQoKSB7XG4gICAgaWYgKHBsYXRmb3JtLmlzQW5kcm9pZCkge1xuICAgICAgICB2YXIgZm9sbG93VXBOb3RlcyA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJmb2xsb3dVcE5vdGVzXCIpO1xuXG4gICAgICAgIGZvbGxvd1VwTm90ZXMuZGlzbWlzc1NvZnRJbnB1dCgpO1xuICAgIH1cbn1cblxuZXhwb3J0cy5vbk5hdmlnYXRpbmdUbyA9IG9uTmF2aWdhdGluZ1RvO1xuZXhwb3J0cy5vbkxvYWRlZCA9IG9uTG9hZGVkO1xuZXhwb3J0cy5vbkJhY2tUYXAgPSBvbkJhY2tUYXA7XG5leHBvcnRzLm9uR3JpZExheW91dFRhcCA9IG9uR3JpZExheW91dFRhcDtcbmV4cG9ydHMub25Td2l0Y2hMb2FkZWQgPSBvblN3aXRjaExvYWRlZDtcbmV4cG9ydHMub25UZXh0Vmlld0ZvY3VzID0gb25UZXh0Vmlld0ZvY3VzO1xuZXhwb3J0cy5vblN0YWNrTGF5b3V0Rm9sbG93VXBEYXRlVGFwID0gb25TdGFja0xheW91dEZvbGxvd1VwRGF0ZVRhcDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9tZWV0aW5ncy9tZWV0aW5nL2ZvbGxvd3VwL2ZvbGxvd3VwLXBhZ2UuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL2ZvbGxvd3VwL2ZvbGxvd3VwLXBhZ2UuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiXG5tb2R1bGUuZXhwb3J0cyA9IFwiPFBhZ2UgbmF2aWdhdGluZ1RvPVxcXCJvbk5hdmlnYXRpbmdUb1xcXCIgbG9hZGVkPVxcXCJvbkxvYWRlZFxcXCIgY2xhc3M9XFxcInBhZ2VcXFwiIHhtbG5zPVxcXCJodHRwOi8vc2NoZW1hcy5uYXRpdmVzY3JpcHQub3JnL3Rucy54c2RcXFwiID5cXG4gICAgPEFjdGlvbkJhciBjbGFzcz1cXFwiYWN0aW9uLWJhclxcXCI+XFxuICAgICAgICA8YW5kcm9pZD5cXG4gICAgICAgICAgICA8TmF2aWdhdGlvbkJ1dHRvbiBhbmRyb2lkLnN5c3RlbUljb249XFxcImljX21lbnVfYmFja1xcXCIgdGFwPVxcXCJvbkJhY2tUYXBcXFwiIC8+XFxuICAgICAgICA8L2FuZHJvaWQ+XFxuICAgIDwvQWN0aW9uQmFyPlxcblxcbiAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCJhdXRvLCBhdXRvLCAqXFxcIiB0YXA9XFxcIm9uR3JpZExheW91dFRhcFxcXCI+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctc2VjdGlvbi1oZWFkZXJcXFwiPjwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIxXFxcIiBjb2w9XFxcIjBcXFwiPlxcbiAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIiosIGF1dG9cXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtLWJvdHRvbVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiRm9sbG93IFVwIE5lZWRlZD9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1sZWZ0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8U3dpdGNoIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiBjaGVja2VkPVxcXCJ7eyBmb2xsb3dVcE5lZWRlZCB9fVxcXCIgbG9hZGVkPVxcXCJvblN3aXRjaExvYWRlZFxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwicmlnaHRcXFwiIGNsYXNzPVxcXCJzd2l0Y2hcXFwiIC8+XFxuICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjJcXFwiIGNvbD1cXFwiMFxcXCIgc3R5bGU9XFxcImJhY2tncm91bmQtY29sb3I6ICNlZWU7XFxcIj5cXG4gICAgICAgICAgICA8U3RhY2tMYXlvdXQgdmVydGljYWxBbGlnbm1lbnQ9XFxcImJvdHRvbVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1zZWN0aW9uLWhlYWRlci1uby1ib3JkZXJcXFwiPlxcbiAgICAgICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImRldGFpbHNMYWJlbFxcXCIgdGV4dD1cXFwiREVUQUlMU1xcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcImJvdHRvbVxcXCIgdmlzaWJpbGl0eT1cXFwie3sgZm9sbG93VXBOZWVkZWQgPT09ICd0cnVlJyB8fCBmb2xsb3dVcE5lZWRlZCA9PT0gdHJ1ZSA/ICd2aXNpYmxlJyA6ICdjb2xsYXBzZScgfX1cXFwiIC8+XFxuICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICA8U3RhY2tMYXlvdXQgaWQ9XFxcImZvbGxvd1VwRGV0YWlsc1N0YWNrTGF5b3V0XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LXNlY3Rpb24tZGV0YWlsXFxcIiB2aXNpYmlsaXR5PVxcXCJ7eyBmb2xsb3dVcE5lZWRlZCA9PT0gJ3RydWUnIHx8IGZvbGxvd1VwTmVlZGVkID09PSB0cnVlID8gJ3Zpc2libGUnIDogJ2NvbGxhcHNlJyB9fVxcXCI+XFxuICAgICAgICAgICAgICAgIDxTdGFja0xheW91dCB0YXA9XFxcIm9uU3RhY2tMYXlvdXRGb2xsb3dVcERhdGVUYXBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKiwgYXV0b1xcXCIgcm93cz1cXFwiYXV0b1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiRm9sbG93IFVwIENvbXBsZXRlZFxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJmb2xsb3dVcERhdGVMYWJlbFxcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IGZvbGxvd1VwRGF0ZSB8IGRhdGVDb252ZXJ0ZXIoZGF0ZUZvcm1hdCkgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1yaWdodFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgaWQ9XFxcImZvbGxvd1VwRGF0ZURhdGVQaWNrZXJHcmlkTGF5b3V0XFxcIiBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCIgdmlzaWJpbGl0eT1cXFwiY29sbGFwc2VcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPERhdGVQaWNrZXIgaWQ9XFxcImZvbGxvd1VwRGF0ZURhdGVQaWNrZXJcXFwiIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiBkYXRlPVxcXCJ7eyBmb2xsb3dVcERhdGUgfX1cXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIj48L0RhdGVQaWNrZXI+XFxuICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiKlxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm0tYm90dG9tXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxUZXh0VmlldyBpZD1cXFwiZm9sbG93VXBOb3Rlc1xcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcInt7IGZvbGxvd1VwTm90ZXMgfX1cXFwiIGZvY3VzPVxcXCJvblRleHRWaWV3Rm9jdXNcXFwiIGhpbnQ9XFxcIkZvbGxvdyBVcCBOb3Rlc1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXRleHR2aWV3XFxcIiBoZWlnaHQ9XFxcIjEwMCVcXFwiIC8+XFxuICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgPC9HcmlkTGF5b3V0PlxcbjwvUGFnZT5cXG5cIjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9tZWV0aW5ncy9tZWV0aW5nL2ZvbGxvd3VwL2ZvbGxvd3VwLXBhZ2UueG1sXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcIm1hcmt1cFwiLCBwYXRoOiBcIi4vbWVldGluZ3MvbWVldGluZy9mb2xsb3d1cC9mb2xsb3d1cC1wYWdlLnhtbFwiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBJbml0aWF0aXZlc1ZpZXdNb2RlbCA9IHJlcXVpcmUoXCIuL2luaXRpYXRpdmVzLXZpZXctbW9kZWxcIik7XG5jb25zdCBPYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG52YXIgZnJhbWVNb2R1bGUgPSByZXF1aXJlKFwidWkvZnJhbWVcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xudmFyIHBhZ2U7XG52YXIgbmF2aWdhdGlvbkNvbnRleHQ7XG5cbnZhciBpbml0aWF0aXZlc0xpc3QgPSBuZXcgSW5pdGlhdGl2ZXNWaWV3TW9kZWwoW10pO1xuXG52YXIgc3dpdGNoVGFwID0gZmFsc2U7XG5cbnZhciBwYWdlRGF0YSA9IG5ldyBPYnNlcnZhYmxlTW9kdWxlLmZyb21PYmplY3Qoe1xuICAgIGJvdW5kRGF0YTogbnVsbCxcbiAgICBpbml0aWF0aXZlc0xpc3Q6IGluaXRpYXRpdmVzTGlzdCxcbiAgICBpc0xvYWRpbmc6IGZhbHNlXG59KTtcblxuZnVuY3Rpb24gb25OYXZpZ2F0aW5nVG8oYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHBhZ2UgPSBhcmdzLm9iamVjdDtcbiAgICAgICAgbmF2aWdhdGlvbkNvbnRleHQgPSBwYWdlLm5hdmlnYXRpb25Db250ZXh0O1xuXG4gICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YSA9IG5hdmlnYXRpb25Db250ZXh0O1xuICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEudXBkYXRlZCA9IGZhbHNlO1xuICAgICAgICBcbiAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIlNlbGVjdCBJbml0aWF0aXZlKHMpXCI7XG5cbiAgICAgICAgaW5pdGlhdGl2ZXNMaXN0LmVtcHR5KCk7XG5cbiAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuXG4gICAgICAgIGluaXRpYXRpdmVzTGlzdC5sb2FkKG5hdmlnYXRpb25Db250ZXh0Lm1lZXRpbmdJZCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuXG4gICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblN3aXRjaExvYWRlZChhcmdzKSB7XG4gICAgdmFyIGNoZWNrZWRTd2l0Y2ggPSBhcmdzLm9iamVjdDtcblxuICAgIGNoZWNrZWRTd2l0Y2gub24oXCJ0YXBcIiwgZnVuY3Rpb24oYXJncykge1xuICAgICAgICAvLyBOZWNlc3NhcnkgdG8gcHJldmVudCB0aGUgY2hlY2tlZENoYW5nZSBldmVudCBmcm9tIGZpcmluZyBvbiB0aGUgc3dpdGNoIHdoZW4gdXNlciBzY3JvbGxzLlxuICAgICAgICBzd2l0Y2hUYXAgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgY2hlY2tlZFN3aXRjaC5vbihcImNoZWNrZWRDaGFuZ2VcIiwgZnVuY3Rpb24oYXJncykge1xuICAgICAgICBpZiAoc3dpdGNoVGFwKSB7XG4gICAgICAgICAgICB2YXIgc3RhY2tMYXlvdXQgPSBhcmdzLm9iamVjdC5wYXJlbnQ7XG4gICAgICAgICAgICB2YXIgaW5kZXhMYWJlbCA9IHN0YWNrTGF5b3V0LmdldFZpZXdCeUlkKFwiaW5kZXhMYWJlbFwiKTtcblxuICAgICAgICAgICAgdmFyIG1vZGVsID0gaW5pdGlhdGl2ZXNMaXN0LmdldEl0ZW0oaW5kZXhMYWJlbC50ZXh0KTtcblxuICAgICAgICAgICAgbW9kZWwuY2hlY2tlZCA9IGFyZ3MudmFsdWU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGh0dHAucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgdXJsOiBnbG9iYWwuYXBpQmFzZVNlcnZpY2VVcmwgKyBcInVwZGF0ZW1lZXRpbmdpbml0aWF0aXZlXCIsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLCBcIkF1dGhvcml6YXRpb25cIjogZ2xvYmFsLnRva2VuIH0sXG4gICAgICAgICAgICAgICAgY29udGVudDogSlNPTi5zdHJpbmdpZnkobW9kZWwpXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIC8vIHZhciByZXN1bHQgPSByZXNwb25zZS5jb250ZW50LnRvSlNPTigpO1xuXG4gICAgICAgICAgICAgICAgLy8gZGlhbG9ncy5hbGVydChyZXN1bHQpO1xuICAgICAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS51cGRhdGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHN3aXRjaFRhcCA9IGZhbHNlO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gb25CYWNrVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkuZ29CYWNrKCk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgfVxufVxuXG5leHBvcnRzLm9uTmF2aWdhdGluZ1RvID0gb25OYXZpZ2F0aW5nVG87XG5leHBvcnRzLm9uU3dpdGNoTG9hZGVkID0gb25Td2l0Y2hMb2FkZWQ7XG5leHBvcnRzLm9uQmFja1RhcCA9IG9uQmFja1RhcDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9tZWV0aW5ncy9tZWV0aW5nL2luaXRpYXRpdmVzL2luaXRpYXRpdmVzLXBhZ2UuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL2luaXRpYXRpdmVzL2luaXRpYXRpdmVzLXBhZ2UuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiXG5tb2R1bGUuZXhwb3J0cyA9IFwiPFBhZ2UgbmF2aWdhdGluZ1RvPVxcXCJvbk5hdmlnYXRpbmdUb1xcXCIgY2xhc3M9XFxcInBhZ2VcXFwiIHhtbG5zPVxcXCJodHRwOi8vc2NoZW1hcy5uYXRpdmVzY3JpcHQub3JnL3Rucy54c2RcXFwiID5cXG4gICAgPEFjdGlvbkJhciBjbGFzcz1cXFwiYWN0aW9uLWJhclxcXCI+XFxuICAgICAgICA8YW5kcm9pZD5cXG4gICAgICAgICAgICA8TmF2aWdhdGlvbkJ1dHRvbiBhbmRyb2lkLnN5c3RlbUljb249XFxcImljX21lbnVfYmFja1xcXCIgdGFwPVxcXCJvbkJhY2tUYXBcXFwiIC8+XFxuICAgICAgICA8L2FuZHJvaWQ+XFxuICAgIDwvQWN0aW9uQmFyPlxcblxcbiAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCIqXFxcIiBoZWlnaHQ9XFxcIjEwMCVcXFwiIHdpZHRoPVxcXCIxMDAlXFxcIj5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjFcXFwiIGNvbD1cXFwiMFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcInRvcFxcXCI+XFxuICAgICAgICAgICAgPExpc3RWaWV3IGl0ZW1zPVxcXCJ7eyBpbml0aWF0aXZlc0xpc3QgfX1cXFwiIGl0ZW1UZW1wbGF0ZVNlbGVjdG9yPVxcXCIkaW5kZXhcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMaXN0Vmlldy5pdGVtVGVtcGxhdGU+XFxuICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKiwgYXV0b1xcXCIgcm93cz1cXFwiKlxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJ7eyBpbml0aWF0aXZlIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbWFpbi10b3BcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcIm1pZGRsZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3dpdGNoIGlkPVxcXCJjaGVja2VkU3dpdGNoXFxcIiByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgY2hlY2tlZD1cXFwie3sgY2hlY2tlZCB9fVxcXCIgXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVkPVxcXCJvblN3aXRjaExvYWRlZFxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwicmlnaHRcXFwiIGNsYXNzPVxcXCJzd2l0Y2hcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImluZGV4TGFiZWxcXFwiIHRleHQ9XFxcInt7ICRpbmRleCB9fVxcXCIgdmlzaWJpbGl0eT1cXFwiY29sbGFwc2VcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgPC9MaXN0Vmlldy5pdGVtVGVtcGxhdGU+XFxuICAgICAgICAgICAgPC9MaXN0Vmlldz5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8QWN0aXZpdHlJbmRpY2F0b3IgYnVzeT1cXFwie3sgaXNMb2FkaW5nIH19XFxcIiBhbmRyb2lkOmhlaWdodD1cXFwiMjUlXFxcIiBhbmRyb2lkOndpZHRoPVxcXCIyNSVcXFwiIGlvcy5hY3Rpdml0eUluZGljYXRvclZpZXdTdHlsZT1cXFwid2hpdGVMYXJnZVxcXCIgcm93U3Bhbj1cXFwiMVxcXCIgY29sU3Bhbj1cXFwiMVxcXCIgLz5cXG4gICAgPC9HcmlkTGF5b3V0PlxcbjwvUGFnZT5cXG5cIjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9tZWV0aW5ncy9tZWV0aW5nL2luaXRpYXRpdmVzL2luaXRpYXRpdmVzLXBhZ2UueG1sXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcIm1hcmt1cFwiLCBwYXRoOiBcIi4vbWVldGluZ3MvbWVldGluZy9pbml0aWF0aXZlcy9pbml0aWF0aXZlcy1wYWdlLnhtbFwiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBPYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBPYnNlcnZhYmxlQXJyYXkgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlLWFycmF5XCIpLk9ic2VydmFibGVBcnJheTtcbnZhciBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xuXG5mdW5jdGlvbiBJbml0aWF0aXZlc1ZpZXdNb2RlbChpdGVtcykge1xuICAgIGNvbnN0IHZpZXdNb2RlbCA9IG5ldyBPYnNlcnZhYmxlQXJyYXkoaXRlbXMpO1xuICAgIFxuICAgIHZpZXdNb2RlbC5sb2FkID0gZnVuY3Rpb24obWVldGluZ0lkKSB7XG4gICAgICAgIHJldHVybiBodHRwLnJlcXVlc3Qoe1xuICAgICAgICAgICAgdXJsOiBnbG9iYWwuYXBpQmFzZVNlcnZpY2VVcmwgKyBcIm1lZXRpbmdpbml0aWF0aXZlcz9tZWV0aW5nSWQ9XCIgKyBtZWV0aW5nSWQsXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLCBcIkF1dGhvcml6YXRpb25cIjogZ2xvYmFsLnRva2VuIH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXNwb25zZS5jb250ZW50LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzdWx0KTtcblxuICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGluaXRpYXRpdmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hlY2tlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaWYgKGluaXRpYXRpdmUuQ2hlY2tlZCA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmlld01vZGVsLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBtZWV0aW5nSWQ6IGluaXRpYXRpdmUuTWVldGluZ0lkLFxuICAgICAgICAgICAgICAgICAgICBsZWdpc2xhdG9ySWQ6IGluaXRpYXRpdmUuTGVnaXNsYXRvcklkLFxuICAgICAgICAgICAgICAgICAgICBpbml0aWF0aXZlSWQ6IGluaXRpYXRpdmUuSW5pdGlhdGl2ZUlkLFxuICAgICAgICAgICAgICAgICAgICBpbml0aWF0aXZlOiBpbml0aWF0aXZlLkluaXRpYXRpdmUsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IGluaXRpYXRpdmUuQ2hlY2tlZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2aWV3TW9kZWwuZW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgd2hpbGUgKHZpZXdNb2RlbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZpZXdNb2RlbC5wb3AoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgcmV0dXJuIHZpZXdNb2RlbDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBJbml0aWF0aXZlc1ZpZXdNb2RlbDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9tZWV0aW5ncy9tZWV0aW5nL2luaXRpYXRpdmVzL2luaXRpYXRpdmVzLXZpZXctbW9kZWwuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL2luaXRpYXRpdmVzL2luaXRpYXRpdmVzLXZpZXctbW9kZWwuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3QgTWVldGluZ1ZpZXdNb2RlbCA9IHJlcXVpcmUoXCIuL21lZXRpbmctdmlldy1tb2RlbFwiKTtcbmNvbnN0IHBsYXRmb3JtID0gcmVxdWlyZShcInBsYXRmb3JtXCIpO1xuY29uc3QgT2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgT2JzZXJ2YWJsZUFycmF5ID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZS1hcnJheVwiKS5PYnNlcnZhYmxlQXJyYXk7XG5jb25zdCBhcHBNb2R1bGUgPSByZXF1aXJlKFwiYXBwbGljYXRpb25cIik7XG52YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xudmFyIGZyYW1lTW9kdWxlID0gcmVxdWlyZShcInVpL2ZyYW1lXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxudmFyIHBhZ2U7XG52YXIgbmF2aWdhdGlvbkNvbnRleHQ7XG5cbi8vIHZhciBwYWdlRGF0YSA9IG5ldyBPYnNlcnZhYmxlTW9kdWxlLmZyb21PYmplY3Qoe1xuLy8gICAgIGJvdW5kRGF0YTogbnVsbFxuLy8gfSk7XG5cbnZhciBwYWdlRGF0YSA9IG5ldyBPYnNlcnZhYmxlTW9kdWxlLk9ic2VydmFibGUoKTtcblxuZnVuY3Rpb24gb25OYXZpZ2F0aW5nVG8oYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHBhZ2UgPSBhcmdzLm9iamVjdDtcblxuICAgICAgICB2YXIgb2ZmZXJlZFRvTWVtYmVyc0xhYmVsID0gcGFnZS5nZXRWaWV3QnlJZChcIm9mZmVyZWRUb01lbWJlcnNMYWJlbFwiKTtcbiAgICAgICAgdmFyIGZvbGxvd1VwVGl0bGUgPSBwYWdlLmdldFZpZXdCeUlkKFwiZm9sbG93VXBUaXRsZVwiKTtcbiAgICAgICAgdmFyIGZvbGxvd1VwTGFiZWwgPSBwYWdlLmdldFZpZXdCeUlkKFwiZm9sbG93VXBMYWJlbFwiKTtcblxuICAgICAgICBjb25zdCBsaW1pdFRleHQgPSAodGV4dCwgbGltaXQpID0+IHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSB0ZXh0O1xuXG4gICAgICAgICAgICBpZiAocmVzdWx0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiBsaW1pdCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gbGltaXQ7IGkgPiAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHJlc3VsdC5pbmRleE9mKFwiIFwiLCBpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID4gLTEgJiYgcG9zaXRpb24gPD0gbGltaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc3Vic3RyKDAsIHBvc2l0aW9uKSArIFwiLi4uXCJcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGFwcE1vZHVsZS5nZXRSZXNvdXJjZXMoKS5saW1pdFRleHQgPSBsaW1pdFRleHQ7XG5cbiAgICAgICAgaWYgKGFyZ3MuaXNCYWNrTmF2aWdhdGlvbikge1xuICAgICAgICAgICAgdmFyIHZlbnVlVHlwZUxhYmVsID0gcGFnZS5nZXRWaWV3QnlJZChcInZlbnVlVHlwZUxhYmVsXCIpO1xuICAgICAgICAgICAgdmFyIG5vdGVzTGFiZWwgPSBwYWdlLmdldFZpZXdCeUlkKFwibm90ZXNMYWJlbFwiKTtcbiAgICAgICAgICAgIHZhciBsZWdpc2xhdG9yTGFiZWwgPSBwYWdlLmdldFZpZXdCeUlkKFwibGVnaXNsYXRvckxhYmVsXCIpO1xuICAgICAgICAgICAgdmFyIGF0dGVuZGVlVHlwZUxhYmVsID0gcGFnZS5nZXRWaWV3QnlJZChcImF0dGVuZGVlVHlwZUxhYmVsXCIpO1xuICAgICAgICAgICAgdmFyIG1lZXRpbmdMb2NhdGlvbkxhYmVsID0gcGFnZS5nZXRWaWV3QnlJZChcIm1lZXRpbmdMb2NhdGlvbkxhYmVsXCIpO1xuICAgICAgICAgICAgdmFyIHN0YWZmQXR0ZW5kZWVzTGFiZWwgPSBwYWdlLmdldFZpZXdCeUlkKFwic3RhZmZBdHRlbmRlZXNMYWJlbFwiKTtcblxuICAgICAgICAgICAgdmVudWVUeXBlTGFiZWwudGV4dCA9IHBhZ2VEYXRhLnZlbnVlVHlwZTtcblxuICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLm9mZmVyZWRUb01lbWJlcnMgPT09IHRydWUgfHwgcGFnZURhdGEub2ZmZXJlZFRvTWVtYmVycyA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICAgICBvZmZlcmVkVG9NZW1iZXJzTGFiZWwudGV4dCA9IFwiWWVzXCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9mZmVyZWRUb01lbWJlcnNMYWJlbC50ZXh0ID0gXCJOb1wiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBub3Rlc0xhYmVsLnRleHQgPSBsaW1pdFRleHQocGFnZURhdGEubm90ZXMsIDMwKTtcbiAgICAgICAgICAgIGxlZ2lzbGF0b3JMYWJlbC50ZXh0ID0gcGFnZURhdGEuZnVsbE5hbWU7XG4gICAgICAgICAgICBhdHRlbmRlZVR5cGVMYWJlbC50ZXh0ID0gcGFnZURhdGEuYXR0ZW5kZWVUeXBlO1xuICAgICAgICAgICAgbWVldGluZ0xvY2F0aW9uTGFiZWwudGV4dCA9IHBhZ2VEYXRhLmxvY2F0aW9uO1xuICAgICAgICAgICAgc3RhZmZBdHRlbmRlZXNMYWJlbC50ZXh0ID0gbGltaXRUZXh0KHBhZ2VEYXRhLmxlZ2lzbGF0b3JTdGFmZkF0dGVuZGVlcywgMjApO1xuXG4gICAgICAgICAgICBpZiAocGFnZURhdGEuZm9sbG93VXBOZWVkZWQgPT09IHRydWUgfHwgcGFnZURhdGEuZm9sbG93VXBOZWVkZWQgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLmZvbGxvd1VwRGF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBmb2xsb3dVcFRpdGxlLnRleHQgPSBcIkZvbGxvdyBVcCBOZWVkZWQ/XCI7XG4gICAgICAgICAgICAgICAgICAgIGZvbGxvd1VwTGFiZWwudGV4dCA9IFwiWWVzXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9sbG93VXBUaXRsZS50ZXh0ID0gXCJGb2xsb3cgVXAgRGF0ZVwiO1xuICAgICAgICAgICAgICAgICAgICBmb2xsb3dVcExhYmVsLnRleHQgPSBkYXRlQ29udmVydGVyKHBhZ2VEYXRhLmZvbGxvd1VwRGF0ZSwgXCJNTS9ERC9ZWVlZXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9sbG93VXBUaXRsZS50ZXh0ID0gXCJGb2xsb3cgVXAgTmVlZGVkP1wiO1xuICAgICAgICAgICAgICAgIGZvbGxvd1VwTGFiZWwudGV4dCA9IFwiTm9cIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLnVwZGF0ZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudE1lZXRpbmcgPSBuZXcgTWVldGluZ1ZpZXdNb2RlbCgpO1xuXG4gICAgICAgICAgICAgICAgY3VycmVudE1lZXRpbmcubG9hZChwYWdlRGF0YS5tZWV0aW5nSWQpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5pdGlhdGl2ZXNMYWJlbCA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJpbml0aWF0aXZlc0xhYmVsXCIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3VydmV5c0xhYmVsID0gcGFnZS5nZXRWaWV3QnlJZChcInN1cnZleXNMYWJlbFwiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBjaUF0dGVuZGVlc0xhYmVsID0gcGFnZS5nZXRWaWV3QnlJZChcInBjaUF0dGVuZGVlc0xhYmVsXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnBjaUluaXRpYXRpdmVzID0gY3VycmVudE1lZXRpbmcucGNpSW5pdGlhdGl2ZXM7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnN1cnZleXMgPSBjdXJyZW50TWVldGluZy5zdXJ2ZXlzO1xuICAgICAgICAgICAgICAgICAgICBwYWdlRGF0YS5wY2lBdHRlbmRlZXMgPSBjdXJyZW50TWVldGluZy5wY2lBdHRlbmRlZXM7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpbml0aWF0aXZlc0xhYmVsLnRleHQgPSBsaW1pdFRleHQocGFnZURhdGEucGNpSW5pdGlhdGl2ZXMsIDI1KTtcbiAgICAgICAgICAgICAgICAgICAgc3VydmV5c0xhYmVsLnRleHQgPSBsaW1pdFRleHQocGFnZURhdGEuc3VydmV5cywgMjUpO1xuICAgICAgICAgICAgICAgICAgICBwY2lBdHRlbmRlZXNMYWJlbC50ZXh0ID0gbGltaXRUZXh0KHBhZ2VEYXRhLnBjaUF0dGVuZGVlcywgMjUpO1xuXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnVwZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmF2aWdhdGlvbkNvbnRleHQgPSBwYWdlLm5hdmlnYXRpb25Db250ZXh0O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBwYWdlRGF0YSA9IG5hdmlnYXRpb25Db250ZXh0O1xuICAgICAgICAgICAgcGFnZURhdGEucmVzdWx0ID0gXCJcIjtcblxuICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLm1lZXRpbmdJZCA9PT0gbnVsbCB8fCBwYWdlRGF0YS5tZWV0aW5nSWQgPT09IDApIHtcbiAgICAgICAgICAgICAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiQWRkIE1lZXRpbmdcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIkVkaXQgTWVldGluZ1wiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGFnZURhdGEub2ZmZXJlZFRvTWVtYmVycyA9PT0gdHJ1ZSB8fCBwYWdlRGF0YS5vZmZlcmVkVG9NZW1iZXJzID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgICAgIG9mZmVyZWRUb01lbWJlcnNMYWJlbC50ZXh0ID0gXCJZZXNcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2ZmZXJlZFRvTWVtYmVyc0xhYmVsLnRleHQgPSBcIk5vXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwYWdlRGF0YS5mb2xsb3dVcE5lZWRlZCA9PT0gdHJ1ZSB8fCBwYWdlRGF0YS5mb2xsb3dVcE5lZWRlZCA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFnZURhdGEuZm9sbG93VXBEYXRlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvbGxvd1VwVGl0bGUudGV4dCA9IFwiRm9sbG93IFVwIE5lZWRlZD9cIjtcbiAgICAgICAgICAgICAgICAgICAgZm9sbG93VXBMYWJlbC50ZXh0ID0gXCJZZXNcIjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmb2xsb3dVcFRpdGxlLnRleHQgPSBcIkZvbGxvdyBVcCBDb21wbGV0ZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgZm9sbG93VXBMYWJlbC50ZXh0ID0gZGF0ZUNvbnZlcnRlcihwYWdlRGF0YS5mb2xsb3dVcERhdGUsIFwiTU0vREQvWVlZWVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvbGxvd1VwVGl0bGUudGV4dCA9IFwiRm9sbG93IFVwIE5lZWRlZD9cIjtcbiAgICAgICAgICAgICAgICBmb2xsb3dVcExhYmVsLnRleHQgPSBcIk5vXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBwYWdlRGF0YTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkxvYWRlZChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIG1lZXRpbmdEYXRlRGF0ZVBpY2tlciA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJtZWV0aW5nRGF0ZURhdGVQaWNrZXJcIik7XG4gICAgICAgIFxuICAgICAgICBtZWV0aW5nRGF0ZURhdGVQaWNrZXIub24oXCJkYXRlQ2hhbmdlXCIsIGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBtZWV0aW5nRGF0ZUxhYmVsID0gcGFnZS5nZXRWaWV3QnlJZChcIm1lZXRpbmdEYXRlTGFiZWxcIik7XG5cbiAgICAgICAgICAgIG1lZXRpbmdEYXRlTGFiZWwudGV4dCA9IGRhdGVDb252ZXJ0ZXIoYXJncy52YWx1ZSwgXCJNTS9ERC9ZWVlZXCIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25TdGFja0xheW91dE1lZXRpbmdEYXRlVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgbWVldGluZ0RhdGVHcmlkTGF5b3V0ID0gcGFnZS5nZXRWaWV3QnlJZChcIm1lZXRpbmdEYXRlR3JpZExheW91dFwiKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChtZWV0aW5nRGF0ZUdyaWRMYXlvdXQudmlzaWJpbGl0eSA9PT0gXCJjb2xsYXBzZVwiKSB7XG4gICAgICAgICAgICBtZWV0aW5nRGF0ZUdyaWRMYXlvdXQudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuXG4gICAgICAgICAgICBwYWdlLmFkZENzcyhcIiNtZWV0aW5nRGF0ZUxhYmVsIHtjb2xvcjogI2NjMmQzMDt9XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWVldGluZ0RhdGVHcmlkTGF5b3V0LnZpc2liaWxpdHkgPSBcImNvbGxhcHNlXCI7XG5cbiAgICAgICAgICAgIHBhZ2UuYWRkQ3NzKFwiI21lZXRpbmdEYXRlTGFiZWwge2NvbG9yOiAjNjY2O31cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25TdGFja0xheW91dFZlbnVlVHlwZVRhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29sbGFwc2VNZWV0aW5nRGF0ZSgpO1xuXG4gICAgICAgIGNvbnN0IG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgICAgIG1vZHVsZU5hbWU6IFwibWVldGluZ3MvbWVldGluZy92ZW51ZXR5cGUvdmVudWV0eXBlLXBhZ2VcIixcbiAgICAgICAgICAgIGNvbnRleHQ6IHBhZ2VEYXRhLFxuICAgICAgICAgICAgY2xlYXJIaXN0b3J5OiBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblN0YWNrTGF5b3V0T2ZmZXJlZFRvTWVtYmVyc1RhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29sbGFwc2VNZWV0aW5nRGF0ZSgpO1xuXG4gICAgICAgIGNvbnN0IG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgICAgIG1vZHVsZU5hbWU6IFwibWVldGluZ3MvbWVldGluZy9vZmZlcmVkdG9tZW1iZXJzL29mZmVyZWR0b21lbWJlcnMtcGFnZVwiLFxuICAgICAgICAgICAgY29udGV4dDogcGFnZURhdGEsXG4gICAgICAgICAgICBjbGVhckhpc3Rvcnk6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU3RhY2tMYXlvdXROb3Rlc1RhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29sbGFwc2VNZWV0aW5nRGF0ZSgpO1xuXG4gICAgICAgIGNvbnN0IG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgICAgIG1vZHVsZU5hbWU6IFwibWVldGluZ3MvbWVldGluZy9ub3Rlcy9ub3Rlcy1wYWdlXCIsXG4gICAgICAgICAgICBjb250ZXh0OiBwYWdlRGF0YSxcbiAgICAgICAgICAgIGNsZWFySGlzdG9yeTogZmFsc2VcbiAgICAgICAgfTtcblxuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkubmF2aWdhdGUobmF2aWdhdGlvbkVudHJ5KTtcbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25TdGFja0xheW91dEZvbGxvd1VwVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBjb2xsYXBzZU1lZXRpbmdEYXRlKCk7XG5cbiAgICAgICAgY29uc3QgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICAgICAgbW9kdWxlTmFtZTogXCJtZWV0aW5ncy9tZWV0aW5nL2ZvbGxvd3VwL2ZvbGxvd3VwLXBhZ2VcIixcbiAgICAgICAgICAgIGNvbnRleHQ6IHBhZ2VEYXRhLFxuICAgICAgICAgICAgY2xlYXJIaXN0b3J5OiBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblN0YWNrTGF5b3V0SW5pdGlhdGl2ZXNUYXAoYXJncykge1xuICAgIHRyeVxuICAgIHtcbiAgICAgICAgY29sbGFwc2VNZWV0aW5nRGF0ZSgpO1xuXG4gICAgICAgIGlmIChwYWdlRGF0YS5tZWV0aW5nSWQgPT09IG51bGwgfHwgcGFnZURhdGEubWVldGluZ0lkID09PSAwKSB7XG4gICAgICAgICAgICBpZiAocGxhdGZvcm0uaXNBbmRyb2lkKSB7XG4gICAgICAgICAgICAgICAgZGlhbG9ncy5jb25maXJtKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiU2F2ZVwiLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkEgbmV3IG1lZXRpbmcgbXVzdCBiZSBzYXZlZCBwcmlvciB0byBhZGRpbmcgYW4gaW5pdGlhdGl2ZS4gV291bGQgeW91IGxpa2UgdG8gc2F2ZSB0aGlzIG1lZXRpbmc/XCIsXG4gICAgICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJZZXNcIixcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogXCJOb1wiXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVNZWV0aW5nKFwibWVldGluZ3MvbWVldGluZy9pbml0aWF0aXZlcy9pbml0aWF0aXZlcy1wYWdlXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwbGF0Zm9ybS5pc0lPUykge1xuICAgICAgICAgICAgICAgIGRpYWxvZ3MuYWN0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJBIG5ldyBtZWV0aW5nIG11c3QgYmUgc2F2ZWQgcHJpb3IgdG8gYWRkaW5nIGFuIGluaXRpYXRpdmUuIFdvdWxkIHlvdSBsaWtlIHRvIHNhdmUgdGhpcyBtZWV0aW5nP1wiLFxuICAgICAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBcIkNhbmNlbFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJTYXZlXCJdXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IFwiU2F2ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzYXZlTWVldGluZyhcIm1lZXRpbmdzL21lZXRpbmcvaW5pdGlhdGl2ZXMvaW5pdGlhdGl2ZXMtcGFnZVwiLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhZ2VEYXRhLnJlbGF0aW9uYWxUeXBlID0gXCJtZWV0aW5nXCI7XG4gICAgICAgICAgICBwYWdlRGF0YS5yZWxhdGlvbmFsSWQgPSBwYWdlRGF0YS5tZWV0aW5nSWQ7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgICAgICAgICBtb2R1bGVOYW1lOiBcIm1lZXRpbmdzL21lZXRpbmcvaW5pdGlhdGl2ZXMvaW5pdGlhdGl2ZXMtcGFnZVwiLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6IHBhZ2VEYXRhLFxuICAgICAgICAgICAgICAgIGNsZWFySGlzdG9yeTogZmFsc2VcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU3RhY2tMYXlvdXRTdXJ2ZXlzVGFwKGFyZ3MpIHtcbiAgICB0cnlcbiAgICB7XG4gICAgICAgIGNvbGxhcHNlTWVldGluZ0RhdGUoKTtcblxuICAgICAgICBpZiAocGFnZURhdGEubWVldGluZ0lkID09PSBudWxsIHx8IHBhZ2VEYXRhLm1lZXRpbmdJZCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHBsYXRmb3JtLmlzQW5kcm9pZCkge1xuICAgICAgICAgICAgICAgIGRpYWxvZ3MuY29uZmlybSh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIlNhdmVcIixcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJBIG5ldyBtZWV0aW5nIG11c3QgYmUgc2F2ZWQgcHJpb3IgdG8gYWRkaW5nIGEgc3VydmV5LiBXb3VsZCB5b3UgbGlrZSB0byBzYXZlIHRoaXMgbWVldGluZz9cIixcbiAgICAgICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIlllc1wiLFxuICAgICAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBcIk5vXCJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZU1lZXRpbmcoXCJsZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5cy1wYWdlXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwbGF0Zm9ybS5pc0lPUykge1xuICAgICAgICAgICAgICAgIGRpYWxvZ3MuYWN0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJBIG5ldyBtZWV0aW5nIG11c3QgYmUgc2F2ZWQgcHJpb3IgdG8gYWRkaW5nIGEgc3VydmV5LiBXb3VsZCB5b3UgbGlrZSB0byBzYXZlIHRoaXMgbWVldGluZz9cIixcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogXCJDYW5jZWxcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uczogW1wiU2F2ZVwiXVxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ID09PSBcIlNhdmVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZU1lZXRpbmcoXCJsZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5cy1wYWdlXCIsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYWdlRGF0YS5yZWxhdGlvbmFsVHlwZSA9IFwibWVldGluZ1wiO1xuICAgICAgICAgICAgcGFnZURhdGEucmVsYXRpb25hbElkID0gcGFnZURhdGEubWVldGluZ0lkO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgICAgICAgICAgbW9kdWxlTmFtZTogXCJsZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5cy1wYWdlXCIsXG4gICAgICAgICAgICAgICAgY29udGV4dDogcGFnZURhdGEsXG4gICAgICAgICAgICAgICAgY2xlYXJIaXN0b3J5OiBmYWxzZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25TdGFja0xheW91dExlZ2lzbGF0b3JUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbGxhcHNlTWVldGluZ0RhdGUoKTtcblxuICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgICAgICBtb2R1bGVOYW1lOiBcIm1lZXRpbmdzL21lZXRpbmcvbGVnaXNsYXRvci9sZWdpc2xhdG9yLXBhZ2VcIixcbiAgICAgICAgICAgIGNvbnRleHQ6IHBhZ2VEYXRhLFxuICAgICAgICAgICAgY2xlYXJIaXN0b3J5OiBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblN0YWNrTGF5b3V0QXR0ZW5kZWVUeXBlVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBjb2xsYXBzZU1lZXRpbmdEYXRlKCk7XG5cbiAgICAgICAgY29uc3QgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICAgICAgbW9kdWxlTmFtZTogXCJtZWV0aW5ncy9tZWV0aW5nL2F0dGVuZGVldHlwZS9hdHRlbmRlZXR5cGUtcGFnZVwiLFxuICAgICAgICAgICAgY29udGV4dDogcGFnZURhdGEsXG4gICAgICAgICAgICBjbGVhckhpc3Rvcnk6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU3RhY2tMYXlvdXRNZWV0aW5nTG9jYXRpb25UYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbGxhcHNlTWVldGluZ0RhdGUoKTtcblxuICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgICAgICBtb2R1bGVOYW1lOiBcIm1lZXRpbmdzL21lZXRpbmcvbWVldGluZ2xvY2F0aW9uL21lZXRpbmdsb2NhdGlvbi1wYWdlXCIsXG4gICAgICAgICAgICBjb250ZXh0OiBwYWdlRGF0YSxcbiAgICAgICAgICAgIGNsZWFySGlzdG9yeTogZmFsc2VcbiAgICAgICAgfTtcblxuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkubmF2aWdhdGUobmF2aWdhdGlvbkVudHJ5KTtcbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25TdGFja0xheW91dFBjaUF0dGVuZGVlc1RhcChhcmdzKSB7XG4gICAgdHJ5XG4gICAge1xuICAgICAgICBjb2xsYXBzZU1lZXRpbmdEYXRlKCk7XG5cbiAgICAgICAgaWYgKHBhZ2VEYXRhLm1lZXRpbmdJZCA9PT0gbnVsbCB8fCBwYWdlRGF0YS5tZWV0aW5nSWQgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChwbGF0Zm9ybS5pc0FuZHJvaWQpIHtcbiAgICAgICAgICAgICAgICBkaWFsb2dzLmNvbmZpcm0oe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJTYXZlXCIsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQSBuZXcgbWVldGluZyBtdXN0IGJlIHNhdmVkIHByaW9yIHRvIGFkZGluZyBQQ0kgYXR0ZW5kZWVzLiBXb3VsZCB5b3UgbGlrZSB0byBzYXZlIHRoaXMgbWVldGluZz9cIixcbiAgICAgICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIlllc1wiLFxuICAgICAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBcIk5vXCJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZU1lZXRpbmcoXCJwcm9maWxlcy9wcm9maWxlcy1wYWdlXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwbGF0Zm9ybS5pc0lPUykge1xuICAgICAgICAgICAgICAgIGRpYWxvZ3MuYWN0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJBIG5ldyBtZWV0aW5nIG11c3QgYmUgc2F2ZWQgcHJpb3IgdG8gYWRkaW5nIFBDSSBhdHRlbmRlZXMuIFdvdWxkIHlvdSBsaWtlIHRvIHNhdmUgdGhpcyBtZWV0aW5nP1wiLFxuICAgICAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBcIkNhbmNlbFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJTYXZlXCJdXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IFwiU2F2ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzYXZlTWVldGluZyhcInByb2ZpbGVzL3Byb2ZpbGVzLXBhZ2VcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhZ2VEYXRhLnJlbGF0aW9uYWxUeXBlID0gXCJtZWV0aW5nXCI7XG4gICAgICAgICAgICBwYWdlRGF0YS5yZWxhdGlvbmFsSWQgPSBwYWdlRGF0YS5tZWV0aW5nSWQ7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgICAgICAgICBtb2R1bGVOYW1lOiBcInByb2ZpbGVzL3Byb2ZpbGVzLXBhZ2VcIixcbiAgICAgICAgICAgICAgICBjb250ZXh0OiBwYWdlRGF0YSxcbiAgICAgICAgICAgICAgICBjbGVhckhpc3Rvcnk6IGZhbHNlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkubmF2aWdhdGUobmF2aWdhdGlvbkVudHJ5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblN0YWNrTGF5b3V0U3RhZmZBdHRlbmRlZXNUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbGxhcHNlTWVldGluZ0RhdGUoKTtcblxuICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgICAgICBtb2R1bGVOYW1lOiBcIm1lZXRpbmdzL21lZXRpbmcvc3RhZmZhdHRlbmRlZXMvc3RhZmZhdHRlbmRlZXMtcGFnZVwiLFxuICAgICAgICAgICAgY29udGV4dDogcGFnZURhdGEsXG4gICAgICAgICAgICBjbGVhckhpc3Rvcnk6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uQmFja1RhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLmdvQmFjaygpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KGUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25TYXZlVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBjb2xsYXBzZU1lZXRpbmdEYXRlKCk7XG5cbiAgICAgICAgc2F2ZU1lZXRpbmcobnVsbCwgZmFsc2UpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNhdmVNZWV0aW5nKG1vZHVsZU5hbWUsIGlzQXR0ZW5kZWVzKSB7XG4gICAgdmFyIGlzQWRkID0gZmFsc2U7XG5cbiAgICBpZiAocGFnZURhdGEubWVldGluZ0lkID09PSBudWxsIHx8IHBhZ2VEYXRhLm1lZXRpbmdJZCA9PT0gMCkge1xuICAgICAgICBpc0FkZCA9IHRydWU7XG4gICAgfVxuXG4gICAgaHR0cC5yZXF1ZXN0KHtcbiAgICAgICAgdXJsOiBnbG9iYWwuYXBpQmFzZVNlcnZpY2VVcmwgKyBcImluc2VydHVwZGF0ZW1lZXRpbmdcIixcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiwgXCJBdXRob3JpemF0aW9uXCI6IGdsb2JhbC50b2tlbiB9LFxuICAgICAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeShwYWdlRGF0YSlcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcmVzcG9uc2UuY29udGVudC50b1N0cmluZygpO1xuICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzdWx0KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChkYXRhLk1lZXRpbmdJZCAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGlzQWRkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLmFzc2lnbm1lbnRJZCAhPT0gbnVsbCAmJiBwYWdlRGF0YS5hc3NpZ25tZW50SWQgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsLnJlZnJlc2hBc3NpZ25tZW50cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobW9kdWxlTmFtZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHBhZ2VEYXRhLm1lZXRpbmdJZCA9IGRhdGEuTWVldGluZ0lkO1xuXG4gICAgICAgICAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLmdvQmFjaygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYWdlRGF0YS5tZWV0aW5nSWQgPSBkYXRhLk1lZXRpbmdJZDtcblxuICAgICAgICAgICAgICAgIC8vaWYgKGlzQXR0ZW5kZWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnJlbGF0aW9uYWxUeXBlID0gXCJtZWV0aW5nXCI7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnJlbGF0aW9uYWxJZCA9IHBhZ2VEYXRhLm1lZXRpbmdJZDsgXG4gICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGVOYW1lOiBtb2R1bGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiBwYWdlRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJIaXN0b3J5OiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkubmF2aWdhdGUobmF2aWdhdGlvbkVudHJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoXCJUaGVyZSB3YXMgYW4gZXJyb3Igc2F2aW5nIHRoZSBtZWV0aW5nLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZGF0ZUNvbnZlcnRlcih2YWx1ZSwgZm9ybWF0KSB7XG4gICAgbGV0IHJlc3VsdCA9IGZvcm1hdDtcblxuICAgIGNvbnN0IGRheSA9IHZhbHVlLmdldERhdGUoKTtcblxuICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKFwiRERcIiwgZGF5IDwgMTAgPyBgMCR7ZGF5fWAgOiBkYXkpO1xuXG4gICAgY29uc3QgbW9udGggPSB2YWx1ZS5nZXRNb250aCgpICsgMTtcblxuICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKFwiTU1cIiwgbW9udGggPCAxMCA/IGAwJHttb250aH1gIDogbW9udGgpO1xuICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKFwiWVlZWVwiLCB2YWx1ZS5nZXRGdWxsWWVhcigpKTtcblxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG5mdW5jdGlvbiBjb2xsYXBzZU1lZXRpbmdEYXRlKCkge1xuICAgIHZhciBtZWV0aW5nRGF0ZUdyaWRMYXlvdXQgPSBwYWdlLmdldFZpZXdCeUlkKFwibWVldGluZ0RhdGVHcmlkTGF5b3V0XCIpO1xuXG4gICAgbWVldGluZ0RhdGVHcmlkTGF5b3V0LnZpc2liaWxpdHkgPSBcImNvbGxhcHNlXCI7XG5cbiAgICBwYWdlLmFkZENzcyhcIiNtZWV0aW5nRGF0ZUxhYmVsIHtjb2xvcjogIzY2Njt9XCIpO1xufVxuXG5leHBvcnRzLm9uTmF2aWdhdGluZ1RvID0gb25OYXZpZ2F0aW5nVG87XG5leHBvcnRzLm9uTG9hZGVkID0gb25Mb2FkZWQ7XG5leHBvcnRzLm9uU3RhY2tMYXlvdXRNZWV0aW5nRGF0ZVRhcCA9IG9uU3RhY2tMYXlvdXRNZWV0aW5nRGF0ZVRhcDtcbmV4cG9ydHMub25TdGFja0xheW91dFZlbnVlVHlwZVRhcCA9IG9uU3RhY2tMYXlvdXRWZW51ZVR5cGVUYXA7XG5leHBvcnRzLm9uU3RhY2tMYXlvdXRPZmZlcmVkVG9NZW1iZXJzVGFwID0gb25TdGFja0xheW91dE9mZmVyZWRUb01lbWJlcnNUYXA7XG5leHBvcnRzLm9uU3RhY2tMYXlvdXROb3Rlc1RhcCA9IG9uU3RhY2tMYXlvdXROb3Rlc1RhcDtcbmV4cG9ydHMub25TdGFja0xheW91dEZvbGxvd1VwVGFwID0gb25TdGFja0xheW91dEZvbGxvd1VwVGFwO1xuZXhwb3J0cy5vblN0YWNrTGF5b3V0SW5pdGlhdGl2ZXNUYXAgPSBvblN0YWNrTGF5b3V0SW5pdGlhdGl2ZXNUYXA7XG5leHBvcnRzLm9uU3RhY2tMYXlvdXRTdXJ2ZXlzVGFwID0gb25TdGFja0xheW91dFN1cnZleXNUYXA7XG5leHBvcnRzLm9uU3RhY2tMYXlvdXRMZWdpc2xhdG9yVGFwID0gb25TdGFja0xheW91dExlZ2lzbGF0b3JUYXA7XG5leHBvcnRzLm9uU3RhY2tMYXlvdXRBdHRlbmRlZVR5cGVUYXAgPSBvblN0YWNrTGF5b3V0QXR0ZW5kZWVUeXBlVGFwO1xuZXhwb3J0cy5vblN0YWNrTGF5b3V0TWVldGluZ0xvY2F0aW9uVGFwID0gb25TdGFja0xheW91dE1lZXRpbmdMb2NhdGlvblRhcDtcbmV4cG9ydHMub25TdGFja0xheW91dFBjaUF0dGVuZGVlc1RhcCA9IG9uU3RhY2tMYXlvdXRQY2lBdHRlbmRlZXNUYXA7XG5leHBvcnRzLm9uU3RhY2tMYXlvdXRTdGFmZkF0dGVuZGVlc1RhcCA9IG9uU3RhY2tMYXlvdXRTdGFmZkF0dGVuZGVlc1RhcDtcbmV4cG9ydHMub25CYWNrVGFwID0gb25CYWNrVGFwO1xuZXhwb3J0cy5vblNhdmVUYXAgPSBvblNhdmVUYXA7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbWVldGluZ3MvbWVldGluZy9tZWV0aW5nLXBhZ2UuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmctcGFnZS5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJcbm1vZHVsZS5leHBvcnRzID0gXCI8UGFnZSBuYXZpZ2F0aW5nVG89XFxcIm9uTmF2aWdhdGluZ1RvXFxcIiBsb2FkZWQ9XFxcIm9uTG9hZGVkXFxcIiBjbGFzcz1cXFwicGFnZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly9zY2hlbWFzLm5hdGl2ZXNjcmlwdC5vcmcvdG5zLnhzZFxcXCIgPlxcbiAgICA8QWN0aW9uQmFyIGNsYXNzPVxcXCJhY3Rpb24tYmFyXFxcIj5cXG4gICAgICAgIDxhbmRyb2lkPlxcbiAgICAgICAgICAgIDxOYXZpZ2F0aW9uQnV0dG9uIGFuZHJvaWQuc3lzdGVtSWNvbj1cXFwiaWNfbWVudV9iYWNrXFxcIiB0YXA9XFxcIm9uQmFja1RhcFxcXCIgLz5cXG4gICAgICAgIDwvYW5kcm9pZD5cXG4gICAgICAgIDxBY3Rpb25JdGVtIHRhcD1cXFwib25TYXZlVGFwXFxcIiBpb3Muc3lzdGVtSWNvbj1cXFwiM1xcXCIgYW5kcm9pZC5zeXN0ZW1JY29uPVxcXCJpY19tZW51X3NhdmVcXFwiIGlvcy5wb3NpdGlvbj1cXFwicmlnaHRcXFwiIC8+XFxuICAgIDwvQWN0aW9uQmFyPlxcblxcbiAgICA8U2Nyb2xsVmlldz5cXG4gICAgICAgIDxTdGFja0xheW91dCB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIj5cXG4gICAgICAgICAgICA8U3RhY2tMYXlvdXQgdmVydGljYWxBbGlnbm1lbnQ9XFxcInRvcFxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1zZWN0aW9uLWJsYW5rXFxcIj5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcIlxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcImJvdHRvbVxcXCIgLz5cXG4gICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgIDxTdGFja0xheW91dCB2ZXJ0aWNhbEFsaWdubWVudD1cXFwiYm90dG9tXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LXNlY3Rpb24taGVhZGVyXFxcIj5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcIk1FRVRJTkcgSU5GT1JNQVRJT05cXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJib3R0b21cXFwiIC8+XFxuICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICA8U3RhY2tMYXlvdXQgdGFwPVxcXCJvblN0YWNrTGF5b3V0TWVldGluZ0RhdGVUYXBcXFwiPlxcbiAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCIqXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcIm1pZGRsZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIk1lZXRpbmcgRGF0ZVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaWQ9XFxcIm1lZXRpbmdEYXRlTGFiZWxcXFwiIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJ7eyBtZWV0aW5nRGF0ZSB8IGRhdGVDb252ZXJ0ZXIoZGF0ZUZvcm1hdCkgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1yaWdodFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgPEdyaWRMYXlvdXQgaWQ9XFxcIm1lZXRpbmdEYXRlR3JpZExheW91dFxcXCIgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiYXV0b1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiIHZpc2liaWxpdHk9XFxcImNvbGxhcHNlXFxcIj5cXG4gICAgICAgICAgICAgICAgPERhdGVQaWNrZXIgaWQ9XFxcIm1lZXRpbmdEYXRlRGF0ZVBpY2tlclxcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIGRhdGU9XFxcInt7IG1lZXRpbmdEYXRlIH19XFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1waWNrZXJcXFwiPjwvRGF0ZVBpY2tlcj5cXG4gICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHRhcD1cXFwib25TdGFja0xheW91dFZlbnVlVHlwZVRhcFxcXCI+XFxuICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcImF1dG8sICosIGF1dG9cXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiVmVudWVcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1sZWZ0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJ2ZW51ZVR5cGVMYWJlbFxcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IHZlbnVlVHlwZSB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIyXFxcIiB0ZXh0PVxcXCImI3hmMTA1O1xcXCIgY2xhc3M9XFxcImZuLWxpc3Qtdmlldy1pdGVtXFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICA8U3RhY2tMYXlvdXQgdGFwPVxcXCJvblN0YWNrTGF5b3V0T2ZmZXJlZFRvTWVtYmVyc1RhcFxcXCI+XFxuICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcImF1dG8sICosIGF1dG9cXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiT2ZmZXJlZCB0byBBUENJQSBNZW1iZXJzP1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaWQ9XFxcIm9mZmVyZWRUb01lbWJlcnNMYWJlbFxcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcIlxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIyXFxcIiB0ZXh0PVxcXCImI3hmMTA1O1xcXCIgY2xhc3M9XFxcImZuLWxpc3Qtdmlldy1pdGVtXFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICA8U3RhY2tMYXlvdXQgdGFwPVxcXCJvblN0YWNrTGF5b3V0Tm90ZXNUYXBcXFwiPlxcbiAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCJhdXRvLCAqLCBhdXRvXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybS1ib3R0b21cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJOb3Rlc1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaWQ9XFxcIm5vdGVzTGFiZWxcXFwiIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJ7eyBub3RlcyB8IGxpbWl0VGV4dCgzMCkgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1yaWdodFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMlxcXCIgdGV4dD1cXFwiJiN4ZjEwNTtcXFwiIGNsYXNzPVxcXCJmbi1saXN0LXZpZXctaXRlbVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgPCEtLSA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCIqXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybS1ib3R0b21cXFwiPlxcbiAgICAgICAgICAgICAgICA8VGV4dFZpZXcgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcInt7IG5vdGVzIH19XFxcIiBoaW50PVxcXCJOb3Rlc1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIiAvPlxcbiAgICAgICAgICAgIDwvR3JpZExheW91dD4gLS0+XFxuICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHZlcnRpY2FsQWxpZ25tZW50PVxcXCJib3R0b21cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctc2VjdGlvbi1oZWFkZXJcXFwiPlxcbiAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cXFwiRk9MTE9XIFVQIElORk9STUFUSU9OXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwiYm90dG9tXFxcIiAvPlxcbiAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHRhcD1cXFwib25TdGFja0xheW91dEZvbGxvd1VwVGFwXFxcIj5cXG4gICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiYXV0bywgKiwgYXV0b1xcXCIgcm93cz1cXFwiYXV0b1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm0tYm90dG9tXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwiZm9sbG93VXBUaXRsZVxcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIlxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImZvbGxvd1VwTGFiZWxcXFwiIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1yaWdodFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMlxcXCIgdGV4dD1cXFwiJiN4ZjEwNTtcXFwiIGNsYXNzPVxcXCJmbi1saXN0LXZpZXctaXRlbVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHZlcnRpY2FsQWxpZ25tZW50PVxcXCJib3R0b21cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctc2VjdGlvbi1oZWFkZXJcXFwiPlxcbiAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cXFwiUkVMQVRFRCBJTkZPUk1BVElPTlxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcImJvdHRvbVxcXCIgLz5cXG4gICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgIDxTdGFja0xheW91dCB0YXA9XFxcIm9uU3RhY2tMYXlvdXRJbml0aWF0aXZlc1RhcFxcXCI+XFxuICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcImF1dG8sICosIGF1dG9cXFwiIHJvd3M9XFxcIipcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiSW5pdGlhdGl2ZXNcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1sZWZ0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJpbml0aWF0aXZlc0xhYmVsXFxcIiByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwie3sgcGNpSW5pdGlhdGl2ZXMgfCBsaW1pdFRleHQoMjUpIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tcmlnaHRcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjJcXFwiIHRleHQ9XFxcIiYjeGYxMDU7XFxcIiBjbGFzcz1cXFwiZm4tbGlzdC12aWV3LWl0ZW1cXFwiIC8+XFxuICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgIDxTdGFja0xheW91dCB0YXA9XFxcIm9uU3RhY2tMYXlvdXRTdXJ2ZXlzVGFwXFxcIj5cXG4gICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiYXV0bywgKiwgYXV0b1xcXCIgcm93cz1cXFwiKlxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm0tYm90dG9tXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiU3VydmV5c1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaWQ9XFxcInN1cnZleXNMYWJlbFxcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IHN1cnZleXMgfCBsaW1pdFRleHQoMjUpIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tcmlnaHRcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjJcXFwiIHRleHQ9XFxcIiYjeGYxMDU7XFxcIiBjbGFzcz1cXFwiZm4tbGlzdC12aWV3LWl0ZW1cXFwiIC8+XFxuICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgIDxTdGFja0xheW91dCB2ZXJ0aWNhbEFsaWdubWVudD1cXFwiYm90dG9tXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LXNlY3Rpb24taGVhZGVyXFxcIj5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcIkFUVEVOREVFIElORk9STUFUSU9OXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwiYm90dG9tXFxcIiAvPlxcbiAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgPCEtLSA8U3RhY2tMYXlvdXQgdGFwPVxcXCJvblN0YWNrTGF5b3V0TGVnaXNsYXRvclRhcFxcXCI+IC0tPlxcbiAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIkxlZ2lzbGF0b3JcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1sZWZ0XFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJsZWdpc2xhdG9yTGFiZWxcXFwiIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJ7eyBmdWxsTmFtZSB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgPCEtLSA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjJcXFwiIHRleHQ9XFxcIiYjeGYxMDU7XFxcIiBjbGFzcz1cXFwiZm4tbGlzdC12aWV3LWl0ZW1cXFwiIC8+IC0tPlxcbiAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgPCEtLSA8L1N0YWNrTGF5b3V0PiAtLT5cXG4gICAgICAgICAgICA8U3RhY2tMYXlvdXQgdGFwPVxcXCJvblN0YWNrTGF5b3V0QXR0ZW5kZWVUeXBlVGFwXFxcIj5cXG4gICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiYXV0bywgKiwgYXV0b1xcXCIgcm93cz1cXFwiYXV0b1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJDb25nLiBPZmZpY2UgQXR0ZW5kZWVzXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbGVmdFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwiYXR0ZW5kZWVUeXBlTGFiZWxcXFwiIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJ7eyBhdHRlbmRlZVR5cGUgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1yaWdodFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMlxcXCIgdGV4dD1cXFwiJiN4ZjEwNTtcXFwiIGNsYXNzPVxcXCJmbi1saXN0LXZpZXctaXRlbVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHRhcD1cXFwib25TdGFja0xheW91dE1lZXRpbmdMb2NhdGlvblRhcFxcXCI+XFxuICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcImF1dG8sICosIGF1dG9cXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiVHlwZVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaWQ9XFxcIm1lZXRpbmdMb2NhdGlvbkxhYmVsXFxcIiByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwie3sgbG9jYXRpb24gfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1yaWdodFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMlxcXCIgdGV4dD1cXFwiJiN4ZjEwNTtcXFwiIGNsYXNzPVxcXCJmbi1saXN0LXZpZXctaXRlbVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHRhcD1cXFwib25TdGFja0xheW91dFBjaUF0dGVuZGVlc1RhcFxcXCI+XFxuICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcImF1dG8sICosIGF1dG9cXFwiIHJvd3M9XFxcIipcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiQVBDSUEgQXR0ZW5kZWVzXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbGVmdFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwicGNpQXR0ZW5kZWVzTGFiZWxcXFwiIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJ7eyBwY2lBdHRlbmRlZXMgfCBsaW1pdFRleHQoMjUpIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tcmlnaHRcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjJcXFwiIHRleHQ9XFxcIiYjeGYxMDU7XFxcIiBjbGFzcz1cXFwiZm4tbGlzdC12aWV3LWl0ZW1cXFwiIC8+XFxuICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgIDxTdGFja0xheW91dCB0YXA9XFxcIm9uU3RhY2tMYXlvdXRTdGFmZkF0dGVuZGVlc1RhcFxcXCI+XFxuICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcImF1dG8sICosIGF1dG9cXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiQ29uZy4gU3RhZmYgQXR0ZW5kZWVzXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbGVmdFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwic3RhZmZBdHRlbmRlZXNMYWJlbFxcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IGxlZ2lzbGF0b3JTdGFmZkF0dGVuZGVlcyB8IGxpbWl0VGV4dCgyMCkgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1yaWdodFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMlxcXCIgdGV4dD1cXFwiJiN4ZjEwNTtcXFwiIGNsYXNzPVxcXCJmbi1saXN0LXZpZXctaXRlbVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgPCEtLSA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCIqXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybS1ib3R0b21cXFwiPlxcbiAgICAgICAgICAgICAgICA8VGV4dFZpZXcgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcInt7IGxlZ2lzbGF0b3JTdGFmZkF0dGVuZGVlcyB9fVxcXCIgaGludD1cXFwiQ29uZ3Jlc3Npb25hbCBTdGFmZiBBdHRlbmRlZXNcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1yaWdodFxcXCIgLz5cXG4gICAgICAgICAgICA8L0dyaWRMYXlvdXQ+IC0tPlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgPC9TY3JvbGxWaWV3PlxcbjwvUGFnZT5cXG5cIjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmctcGFnZS54bWxcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwibWFya3VwXCIsIHBhdGg6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmctcGFnZS54bWxcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3QgT2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxuZnVuY3Rpb24gTWVldGluZ1ZpZXdNb2RlbCgpIHtcbiAgICBjb25zdCB2aWV3TW9kZWwgPSBPYnNlcnZhYmxlTW9kdWxlLmZyb21PYmplY3Qoe1xuICAgICAgICBtZWV0aW5nSWQ6IG51bGwsXG4gICAgICAgIG1lZXRpbmdEYXRlOiBudWxsLFxuICAgICAgICB2ZW51ZVR5cGVJZDogbnVsbCxcbiAgICAgICAgdmVudWVUeXBlOiBudWxsLFxuICAgICAgICBhdHRlbmRlZVR5cGVJZDogbnVsbCxcbiAgICAgICAgYXR0ZW5kZWVUeXBlOiBudWxsLFxuICAgICAgICBsb2JieWlzdElkOiBudWxsLFxuICAgICAgICBsb2JieWlzdDogbnVsbCxcbiAgICAgICAgbGVnaXNsYXRvcklkOiBudWxsLFxuICAgICAgICBmdWxsTmFtZTogbnVsbCxcbiAgICAgICAgbmFtZTogbnVsbCxcbiAgICAgICAgcGNpSW5pdGlhdGl2ZXM6IG51bGwsXG4gICAgICAgIHN1cnZleXM6IG51bGwsXG4gICAgICAgIHBjaUF0dGVuZGVlczogbnVsbCxcbiAgICAgICAgcHJpbWFyeU9mZmljZUNvbnRhY3Q6IG51bGwsXG4gICAgICAgIG1lZXRpbmdMb2NhdGlvbklkOiBudWxsLFxuICAgICAgICBsb2NhdGlvbjogbnVsbCxcbiAgICAgICAgbGVnaXNsYXRvclN0YWZmQXR0ZW5kZWVzOiBudWxsLFxuICAgICAgICBmb2xsb3dVcE5lZWRlZDogbnVsbCxcbiAgICAgICAgZm9sbG93VXBEYXRlOiBudWxsLFxuICAgICAgICBmb2xsb3dVcE5vdGVzOiBudWxsLFxuICAgICAgICBjcmVhdG9ySWQ6IG51bGwsXG4gICAgICAgIG5vdGVzOiBudWxsLFxuICAgICAgICBpbml0aWF0aXZlSWQ6IG51bGwsXG4gICAgICAgIHN1cnZleUlkOiBudWxsLFxuICAgICAgICBhc3NpZ25tZW50SWQ6IG51bGwsXG5cbiAgICAgICAgbG9hZDogZnVuY3Rpb24obWVldGluZ0lkKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBodHRwLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IGdsb2JhbC5hcGlCYXNlU2VydmljZVVybCArIFwibWVldGluZz9tZWV0aW5nSWQ9XCIgKyBtZWV0aW5nSWQsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiwgXCJBdXRob3JpemF0aW9uXCI6IGdsb2JhbC50b2tlbiB9XG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmNvbnRlbnQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZWV0aW5nRGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvbGxvd1VwRGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIG1lZXRpbmdEYXRlID0gbmV3IERhdGUocGFyc2VJbnQoZGF0YS5NZWV0aW5nRGF0ZS5zdWJzdHJpbmcoZGF0YS5NZWV0aW5nRGF0ZS5pbmRleE9mKFwiL0RhdGUoXCIpICsgNiwgZGF0YS5NZWV0aW5nRGF0ZS5pbmRleE9mKFwiKS9cIikpKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuRm9sbG93VXBEYXRlID09PSBudWxsIHx8IGRhdGEuRm9sbG93VXBEYXRlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9sbG93VXBEYXRlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbGxvd1VwRGF0ZSA9IG5ldyBEYXRlKHBhcnNlSW50KGRhdGEuRm9sbG93VXBEYXRlLnN1YnN0cmluZyhkYXRhLkZvbGxvd1VwRGF0ZS5pbmRleE9mKFwiL0RhdGUoXCIpICsgNiwgZGF0YS5Gb2xsb3dVcERhdGUuaW5kZXhPZihcIikvXCIpKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmlld01vZGVsLm1lZXRpbmdJZCA9IGRhdGEuTWVldGluZ0lkLFxuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwubWVldGluZ0RhdGUgPSBtZWV0aW5nRGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgdmlld01vZGVsLnZlbnVlVHlwZUlkID0gZGF0YS5WZW51ZVR5cGVJZCxcbiAgICAgICAgICAgICAgICAgICAgdmlld01vZGVsLnZlbnVlVHlwZSA9IGRhdGEuVmVudWVUeXBlLFxuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwuYXR0ZW5kZWVUeXBlSWQgPSBkYXRhLkF0dGVuZGVlVHlwZUlkLFxuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwuYXR0ZW5kZWVUeXBlID0gZGF0YS5BdHRlbmRlZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5sb2JieWlzdElkID0gZGF0YS5Mb2JieWlzdElkLFxuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwubG9iYnlpc3QgPSBkYXRhLkxvYmJ5aXN0LFxuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwubGVnaXNsYXRvcklkID0gZGF0YS5MZWdpc2xhdG9ySWQsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5mdWxsTmFtZSA9IGRhdGEuRnVsbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5uYW1lID0gZGF0YS5OYW1lLFxuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwucGNpSW5pdGlhdGl2ZXMgPSBkYXRhLlBjaUluaXRpYXRpdmVzLFxuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwuc3VydmV5cyA9IGRhdGEuU3VydmV5cyxcbiAgICAgICAgICAgICAgICAgICAgdmlld01vZGVsLnBjaUF0dGVuZGVlcyA9IGRhdGEuUGNpQXR0ZW5kZWVzLFxuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwucHJpbWFyeU9mZmljZUNvbnRhY3QgPSBkYXRhLlByaW1hcnlPZmZpY2VDb250YWN0LFxuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwubWVldGluZ0xvY2F0aW9uSWQgPSBkYXRhLk1lZXRpbmdMb2NhdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwubG9jYXRpb24gPSBkYXRhLkxvY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwubGVnaXNsYXRvclN0YWZmQXR0ZW5kZWVzID0gZGF0YS5MZWdpc2xhdG9yU3RhZmZBdHRlbmRlZXMsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5mb2xsb3dVcE5lZWRlZCA9IGRhdGEuRm9sbG93VXBOZWVkZWQsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5mb2xsb3dVcERhdGUgPSBmb2xsb3dVcERhdGUsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5mb2xsb3dVcE5vdGVzID0gZGF0YS5Gb2xsb3dVcE5vdGVzLFxuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwuY3JlYXRvcklkID0gZGF0YS5DcmVhdG9ySWQsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5ub3RlcyA9IGRhdGEuTm90ZXMsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5pbml0aWF0aXZlSWQgPSBkYXRhLkluaXRpYXRpdmVJZCxcbiAgICAgICAgICAgICAgICAgICAgdmlld01vZGVsLnN1cnZleUlkID0gZGF0YS5TdXJ2ZXlJZCxcbiAgICAgICAgICAgICAgICAgICAgdmlld01vZGVsLmFzc2lnbm1lbnRJZCA9IGRhdGEuQXNzaWdubWVudElkO1xuXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoXCJTVUNDRVNTXCIpO1xuXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFwiRkFJTFVSRVwiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB2aWV3TW9kZWw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTWVldGluZ1ZpZXdNb2RlbDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmctdmlldy1tb2RlbC5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL21lZXRpbmdzL21lZXRpbmcvbWVldGluZy12aWV3LW1vZGVsLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IE1lZXRpbmdMb2NhdGlvblZpZXdNb2RlbCA9IHJlcXVpcmUoXCIuL21lZXRpbmdsb2NhdGlvbi12aWV3LW1vZGVsXCIpO1xuY29uc3QgT2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgZnJhbWVNb2R1bGUgPSByZXF1aXJlKFwidWkvZnJhbWVcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xuXG52YXIgcGFnZTtcbnZhciBuYXZpZ2F0aW9uQ29udGV4dDtcbnZhciBtZWV0aW5nTG9jYXRpb25MaXN0ID0gbmV3IE1lZXRpbmdMb2NhdGlvblZpZXdNb2RlbChbXSk7XG5cbnZhciBtZWV0aW5nTG9jYXRpb25JbmRleCA9IDA7XG5cbnZhciBwYWdlRGF0YSA9IG5ldyBPYnNlcnZhYmxlTW9kdWxlLmZyb21PYmplY3Qoe1xuICAgIGJvdW5kRGF0YTogbnVsbCxcbiAgICBtZWV0aW5nTG9jYXRpb25JbmRleDogbWVldGluZ0xvY2F0aW9uSW5kZXgsXG4gICAgbWVldGluZ0xvY2F0aW9uTGlzdDogbnVsbCxcbiAgICBpc0xvYWRpbmc6IGZhbHNlXG59KTtcblxuZnVuY3Rpb24gb25OYXZpZ2F0aW5nVG8oYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHBhZ2UgPSBhcmdzLm9iamVjdDtcbiAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIlR5cGVcIjtcblxuICAgICAgICBuYXZpZ2F0aW9uQ29udGV4dCA9IHBhZ2UubmF2aWdhdGlvbkNvbnRleHQ7XG5cbiAgICAgICAgcGFnZURhdGEuYm91bmREYXRhID0gbmF2aWdhdGlvbkNvbnRleHQ7XG5cbiAgICAgICAgaWYgKGdsb2JhbC5tZWV0aW5nTG9jYXRpb25MaXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuICAgICAgICAgICAgbWVldGluZ0xvY2F0aW9uTGlzdC5sb2FkKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZ2xvYmFsLm1lZXRpbmdMb2NhdGlvbkxpc3QgPSBtZWV0aW5nTG9jYXRpb25MaXN0O1xuXG4gICAgICAgICAgICAgICAgcGFnZURhdGEubWVldGluZ0xvY2F0aW9uTGlzdCA9IGdsb2JhbC5tZWV0aW5nTG9jYXRpb25MaXN0O1xuXG4gICAgICAgICAgICAgICAgbWVldGluZ0xvY2F0aW9uSW5kZXggPSAwO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLmJvdW5kRGF0YS5tZWV0aW5nTG9jYXRpb25JZCAhPT0gbnVsbCAmJiBwYWdlRGF0YS5ib3VuZERhdGEubWVldGluZ0xvY2F0aW9uSWQudG9TdHJpbmcoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWdlRGF0YS5tZWV0aW5nTG9jYXRpb25MaXN0Lkxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWdlRGF0YS5tZWV0aW5nTG9jYXRpb25MaXN0Lkxpc3QuZ2V0SXRlbShpKS5tZWV0aW5nTG9jYXRpb25JZCA9PT0gcGFnZURhdGEuYm91bmREYXRhLm1lZXRpbmdMb2NhdGlvbklkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVldGluZ0xvY2F0aW9uSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcGFnZURhdGEubWVldGluZ0xvY2F0aW9uSW5kZXggPSBtZWV0aW5nTG9jYXRpb25JbmRleDtcblxuICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhZ2VEYXRhLm1lZXRpbmdMb2NhdGlvbkxpc3QgPSBnbG9iYWwubWVldGluZ0xvY2F0aW9uTGlzdDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbWVldGluZ0xvY2F0aW9uSW5kZXggPSAwO1xuXG4gICAgICAgICAgICBpZiAocGFnZURhdGEuYm91bmREYXRhLm1lZXRpbmdMb2NhdGlvbklkICE9PSBudWxsICYmIHBhZ2VEYXRhLmJvdW5kRGF0YS5tZWV0aW5nTG9jYXRpb25JZC50b1N0cmluZygpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgaTtcblxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWdlRGF0YS5tZWV0aW5nTG9jYXRpb25MaXN0Lkxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLm1lZXRpbmdMb2NhdGlvbkxpc3QuTGlzdC5nZXRJdGVtKGkpLm1lZXRpbmdMb2NhdGlvbklkID09PSBwYWdlRGF0YS5ib3VuZERhdGEubWVldGluZ0xvY2F0aW9uSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lZXRpbmdMb2NhdGlvbkluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGFnZURhdGEubWVldGluZ0xvY2F0aW9uSW5kZXggPSBtZWV0aW5nTG9jYXRpb25JbmRleDtcblxuICAgICAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHBhZ2VEYXRhO1xuICAgICAgICB9XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25Mb2FkZWQoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBtZWV0aW5nTG9jYXRpb25MaXN0UGlja2VyID0gcGFnZS5nZXRWaWV3QnlJZChcIm1lZXRpbmdMb2NhdGlvbkxpc3RQaWNrZXJcIik7XG4gICAgICAgIFxuICAgICAgICBtZWV0aW5nTG9jYXRpb25MaXN0UGlja2VyLm9uKFwic2VsZWN0ZWRJbmRleENoYW5nZVwiLCBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB2YXIgbWVldGluZ0xvY2F0aW9uSXRlbSA9IHBhZ2VEYXRhLm1lZXRpbmdMb2NhdGlvbkxpc3QuTGlzdC5nZXRJdGVtKGFyZ3Mub2JqZWN0LnNlbGVjdGVkSW5kZXgpO1xuICAgICAgICAgICAgLy9kaWFsb2dzLmFsZXJ0KG1lZXRpbmdMb2NhdGlvbkl0ZW0ubWVldGluZ0xvY2F0aW9uSWQgKyBcIjogXCIgKyBtZWV0aW5nTG9jYXRpb25JdGVtLm1lZXRpbmdMb2NhdGlvbik7XG4gICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEubWVldGluZ0xvY2F0aW9uSWQgPSBtZWV0aW5nTG9jYXRpb25JdGVtLm1lZXRpbmdMb2NhdGlvbklkO1xuICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLmxvY2F0aW9uID0gbWVldGluZ0xvY2F0aW9uSXRlbS5tZWV0aW5nTG9jYXRpb247XG4gICAgICAgIH0pO1xuXG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25CYWNrVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkuZ29CYWNrKCk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgfVxufVxuXG5leHBvcnRzLm9uTmF2aWdhdGluZ1RvID0gb25OYXZpZ2F0aW5nVG87XG5leHBvcnRzLm9uTG9hZGVkID0gb25Mb2FkZWQ7XG5leHBvcnRzLm9uQmFja1RhcCA9IG9uQmFja1RhcDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmdsb2NhdGlvbi9tZWV0aW5nbG9jYXRpb24tcGFnZS5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL21lZXRpbmdzL21lZXRpbmcvbWVldGluZ2xvY2F0aW9uL21lZXRpbmdsb2NhdGlvbi1wYWdlLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxubW9kdWxlLmV4cG9ydHMgPSBcIjxQYWdlIG5hdmlnYXRpbmdUbz1cXFwib25OYXZpZ2F0aW5nVG9cXFwiIGxvYWRlZD1cXFwib25Mb2FkZWRcXFwiIGNsYXNzPVxcXCJwYWdlXFxcIiB4bWxucz1cXFwiaHR0cDovL3NjaGVtYXMubmF0aXZlc2NyaXB0Lm9yZy90bnMueHNkXFxcIiA+XFxuICAgIDxBY3Rpb25CYXIgY2xhc3M9XFxcImFjdGlvbi1iYXJcXFwiPlxcbiAgICAgICAgPGFuZHJvaWQ+XFxuICAgICAgICAgICAgPE5hdmlnYXRpb25CdXR0b24gYW5kcm9pZC5zeXN0ZW1JY29uPVxcXCJpY19tZW51X2JhY2tcXFwiIHRhcD1cXFwib25CYWNrVGFwXFxcIiAvPlxcbiAgICAgICAgPC9hbmRyb2lkPlxcbiAgICA8L0FjdGlvbkJhcj5cXG5cXG4gICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiYXV0bywgYXV0bywgKlxcXCI+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctc2VjdGlvbi1oZWFkZXJcXFwiPjwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8R3JpZExheW91dCByb3c9XFxcIjFcXFwiIGNvbD1cXFwiMFxcXCIgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiYXV0b1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiPlxcbiAgICAgICAgICAgIDxMaXN0UGlja2VyIGlkPVxcXCJtZWV0aW5nTG9jYXRpb25MaXN0UGlja2VyXFxcIiByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgaXRlbXM9XFxcInt7IG1lZXRpbmdMb2NhdGlvbkxpc3QuSXRlbXMgfX1cXFwiIHNlbGVjdGVkSW5kZXg9XFxcInt7IG1lZXRpbmdMb2NhdGlvbkluZGV4IH19XFxcIiBcXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tcGlja2VyXFxcIj48L0xpc3RQaWNrZXI+XFxuICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIyXFxcIiBjb2w9XFxcIjBcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1zZWN0aW9uLWhlYWRlclxcXCI+PC9TdGFja0xheW91dD5cXG4gICAgICAgIDxBY3Rpdml0eUluZGljYXRvciBidXN5PVxcXCJ7eyBpc0xvYWRpbmcgfX1cXFwiIGFuZHJvaWQ6aGVpZ2h0PVxcXCIyNSVcXFwiIGFuZHJvaWQ6d2lkdGg9XFxcIjI1JVxcXCIgaW9zLmFjdGl2aXR5SW5kaWNhdG9yVmlld1N0eWxlPVxcXCJ3aGl0ZUxhcmdlXFxcIiByb3dTcGFuPVxcXCIzXFxcIiBjb2xTcGFuPVxcXCIxXFxcIiAvPlxcbiAgICA8L0dyaWRMYXlvdXQ+XFxuPC9QYWdlPlxcblwiOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL21lZXRpbmdzL21lZXRpbmcvbWVldGluZ2xvY2F0aW9uL21lZXRpbmdsb2NhdGlvbi1wYWdlLnhtbFwiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJtYXJrdXBcIiwgcGF0aDogXCIuL21lZXRpbmdzL21lZXRpbmcvbWVldGluZ2xvY2F0aW9uL21lZXRpbmdsb2NhdGlvbi1wYWdlLnhtbFwiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBPYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKS5PYnNlcnZhYmxlO1xudmFyIE9ic2VydmFibGVBcnJheSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGUtYXJyYXlcIikuT2JzZXJ2YWJsZUFycmF5O1xudmFyIGh0dHAgPSByZXF1aXJlKFwiaHR0cFwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG5cbmZ1bmN0aW9uIE1lZXRpbmdMb2NhdGlvblZpZXdNb2RlbCgpIHtcbiAgICBjb25zdCB2aWV3TW9kZWwgPSBuZXcgT2JzZXJ2YWJsZU1vZHVsZSgpO1xuICAgIHZpZXdNb2RlbC5JdGVtcyA9IG5ldyBPYnNlcnZhYmxlQXJyYXkoKTtcbiAgICB2aWV3TW9kZWwuTGlzdCA9IG5ldyBPYnNlcnZhYmxlQXJyYXkoKTtcblxuICAgIHZpZXdNb2RlbC5sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBodHRwLnJlcXVlc3Qoe1xuICAgICAgICAgICAgdXJsOiBnbG9iYWwuYXBpQmFzZVNlcnZpY2VVcmwgKyBcIm1lZXRpbmdsb2NhdGlvbnNcIixcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiQXV0aG9yaXphdGlvblwiOiBnbG9iYWwudG9rZW4gfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmNvbnRlbnQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShyZXN1bHQpO1xuXG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24obWVldGluZ0xvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgdmlld01vZGVsLkl0ZW1zLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIG1lZXRpbmdMb2NhdGlvbi5Mb2NhdGlvblxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICB2aWV3TW9kZWwuTGlzdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbWVldGluZ0xvY2F0aW9uSWQ6IG1lZXRpbmdMb2NhdGlvbi5NZWV0aW5nTG9jYXRpb25JZCxcbiAgICAgICAgICAgICAgICAgICAgbWVldGluZ0xvY2F0aW9uOiBtZWV0aW5nTG9jYXRpb24uTG9jYXRpb25cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmlld01vZGVsLmVtcHR5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHdoaWxlICh2aWV3TW9kZWwuSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2aWV3TW9kZWwuSXRlbXMucG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAodmlld01vZGVsLkxpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICB2aWV3TW9kZWwuTGlzdC5wb3AoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgcmV0dXJuIHZpZXdNb2RlbDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBNZWV0aW5nTG9jYXRpb25WaWV3TW9kZWw7OyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL21lZXRpbmdzL21lZXRpbmcvbWVldGluZ2xvY2F0aW9uL21lZXRpbmdsb2NhdGlvbi12aWV3LW1vZGVsLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vbWVldGluZ3MvbWVldGluZy9tZWV0aW5nbG9jYXRpb24vbWVldGluZ2xvY2F0aW9uLXZpZXctbW9kZWwuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3QgcGxhdGZvcm0gPSByZXF1aXJlKFwicGxhdGZvcm1cIik7XG52YXIgZnJhbWVNb2R1bGUgPSByZXF1aXJlKFwidWkvZnJhbWVcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xuXG52YXIgcGFnZTtcbnZhciBuYXZpZ2F0aW9uQ29udGV4dDtcblxuZnVuY3Rpb24gb25OYXZpZ2F0aW5nVG8oYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHBhZ2UgPSBhcmdzLm9iamVjdDtcbiAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIk5vdGVzXCI7XG5cbiAgICAgICAgbmF2aWdhdGlvbkNvbnRleHQgPSBwYWdlLm5hdmlnYXRpb25Db250ZXh0O1xuXG4gICAgICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBuYXZpZ2F0aW9uQ29udGV4dDtcblxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uQmFja1RhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgZGlzbWlzc0tleWJvYXJkKClcblxuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkuZ29CYWNrKCk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkdyaWRMYXlvdXRUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGRpc21pc3NLZXlib2FyZCgpXG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkaXNtaXNzS2V5Ym9hcmQoKSB7XG4gICAgaWYgKHBsYXRmb3JtLmlzQW5kcm9pZCkge1xuICAgICAgICB2YXIgbm90ZXMgPSBwYWdlLmdldFZpZXdCeUlkKFwibm90ZXNcIik7XG5cbiAgICAgICAgbm90ZXMuZGlzbWlzc1NvZnRJbnB1dCgpO1xuICAgIH1cbn1cblxuZXhwb3J0cy5vbk5hdmlnYXRpbmdUbyA9IG9uTmF2aWdhdGluZ1RvO1xuZXhwb3J0cy5vbkJhY2tUYXAgPSBvbkJhY2tUYXA7XG5leHBvcnRzLm9uR3JpZExheW91dFRhcCA9IG9uR3JpZExheW91dFRhcDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9tZWV0aW5ncy9tZWV0aW5nL25vdGVzL25vdGVzLXBhZ2UuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL25vdGVzL25vdGVzLXBhZ2UuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiXG5tb2R1bGUuZXhwb3J0cyA9IFwiPFBhZ2UgbmF2aWdhdGluZ1RvPVxcXCJvbk5hdmlnYXRpbmdUb1xcXCIgY2xhc3M9XFxcInBhZ2VcXFwiIHhtbG5zPVxcXCJodHRwOi8vc2NoZW1hcy5uYXRpdmVzY3JpcHQub3JnL3Rucy54c2RcXFwiID5cXG4gICAgPEFjdGlvbkJhciBjbGFzcz1cXFwiYWN0aW9uLWJhclxcXCI+XFxuICAgICAgICA8YW5kcm9pZD5cXG4gICAgICAgICAgICA8TmF2aWdhdGlvbkJ1dHRvbiBhbmRyb2lkLnN5c3RlbUljb249XFxcImljX21lbnVfYmFja1xcXCIgdGFwPVxcXCJvbkJhY2tUYXBcXFwiIC8+XFxuICAgICAgICA8L2FuZHJvaWQ+XFxuICAgIDwvQWN0aW9uQmFyPlxcblxcbiAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCIqXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCIgdGFwPVxcXCJvbkdyaWRMYXlvdXRUYXBcXFwiPlxcbiAgICAgICAgPFRleHRWaWV3IGlkPVxcXCJub3Rlc1xcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcInt7IG5vdGVzIH19XFxcIiBoaW50PVxcXCJOb3Rlc1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXRleHR2aWV3XFxcIiBoZWlnaHQ9XFxcIjEwMCVcXFwiIC8+XFxuICAgIDwvR3JpZExheW91dD5cXG48L1BhZ2U+XFxuXCI7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbWVldGluZ3MvbWVldGluZy9ub3Rlcy9ub3Rlcy1wYWdlLnhtbFwiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJtYXJrdXBcIiwgcGF0aDogXCIuL21lZXRpbmdzL21lZXRpbmcvbm90ZXMvbm90ZXMtcGFnZS54bWxcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3QgcGxhdGZvcm0gPSByZXF1aXJlKFwicGxhdGZvcm1cIik7XG52YXIgZnJhbWVNb2R1bGUgPSByZXF1aXJlKFwidWkvZnJhbWVcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xuXG52YXIgcGFnZTtcbnZhciBuYXZpZ2F0aW9uQ29udGV4dDtcblxuZnVuY3Rpb24gb25OYXZpZ2F0aW5nVG8oYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHBhZ2UgPSBhcmdzLm9iamVjdDtcbiAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIkFQQ0lBIE1lbWJlcnNcIjtcblxuICAgICAgICBuYXZpZ2F0aW9uQ29udGV4dCA9IHBhZ2UubmF2aWdhdGlvbkNvbnRleHQ7XG5cbiAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IG5hdmlnYXRpb25Db250ZXh0O1xuXG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25CYWNrVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkuZ29CYWNrKCk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgfVxufVxuXG5leHBvcnRzLm9uTmF2aWdhdGluZ1RvID0gb25OYXZpZ2F0aW5nVG87XG5leHBvcnRzLm9uQmFja1RhcCA9IG9uQmFja1RhcDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9tZWV0aW5ncy9tZWV0aW5nL29mZmVyZWR0b21lbWJlcnMvb2ZmZXJlZHRvbWVtYmVycy1wYWdlLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vbWVldGluZ3MvbWVldGluZy9vZmZlcmVkdG9tZW1iZXJzL29mZmVyZWR0b21lbWJlcnMtcGFnZS5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJcbm1vZHVsZS5leHBvcnRzID0gXCI8UGFnZSBuYXZpZ2F0aW5nVG89XFxcIm9uTmF2aWdhdGluZ1RvXFxcIiBjbGFzcz1cXFwicGFnZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly9zY2hlbWFzLm5hdGl2ZXNjcmlwdC5vcmcvdG5zLnhzZFxcXCIgPlxcbiAgICA8QWN0aW9uQmFyIGNsYXNzPVxcXCJhY3Rpb24tYmFyXFxcIj5cXG4gICAgICAgIDxhbmRyb2lkPlxcbiAgICAgICAgICAgIDxOYXZpZ2F0aW9uQnV0dG9uIGFuZHJvaWQuc3lzdGVtSWNvbj1cXFwiaWNfbWVudV9iYWNrXFxcIiB0YXA9XFxcIm9uQmFja1RhcFxcXCIgLz5cXG4gICAgICAgIDwvYW5kcm9pZD5cXG4gICAgPC9BY3Rpb25CYXI+XFxuXFxuICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcImF1dG8sIGF1dG8sICpcXFwiPlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LXNlY3Rpb24taGVhZGVyXFxcIj48L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMVxcXCIgY29sPVxcXCIwXFxcIj5cXG4gICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybS1ib3R0b21cXFwiPlxcbiAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIk9mZmVyZWQgdG8gQVBDSUEgTWVtYmVycz9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1sZWZ0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8U3dpdGNoIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiBjaGVja2VkPVxcXCJ7eyBvZmZlcmVkVG9NZW1iZXJzIH19XFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJyaWdodFxcXCIgY2xhc3M9XFxcInN3aXRjaFxcXCIgLz5cXG4gICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMlxcXCIgY29sPVxcXCIwXFxcIiBzdHlsZT1cXFwiYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcXFwiPjwvU3RhY2tMYXlvdXQ+XFxuICAgIDwvR3JpZExheW91dD5cXG48L1BhZ2U+XFxuXCI7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbWVldGluZ3MvbWVldGluZy9vZmZlcmVkdG9tZW1iZXJzL29mZmVyZWR0b21lbWJlcnMtcGFnZS54bWxcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwibWFya3VwXCIsIHBhdGg6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL29mZmVyZWR0b21lbWJlcnMvb2ZmZXJlZHRvbWVtYmVycy1wYWdlLnhtbFwiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBwbGF0Zm9ybSA9IHJlcXVpcmUoXCJwbGF0Zm9ybVwiKTtcbnZhciBmcmFtZU1vZHVsZSA9IHJlcXVpcmUoXCJ1aS9mcmFtZVwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG5cbnZhciBwYWdlO1xudmFyIG5hdmlnYXRpb25Db250ZXh0O1xuXG5mdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiQ29uZy4gU3RhZmYgQXR0ZW5kZWVzXCI7XG5cbiAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHBhZ2UubmF2aWdhdGlvbkNvbnRleHQ7XG5cbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkJhY2tUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGRpc21pc3NLZXlib2FyZCgpXG5cbiAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLmdvQmFjaygpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KGUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25HcmlkTGF5b3V0VGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBkaXNtaXNzS2V5Ym9hcmQoKVxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KGUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGlzbWlzc0tleWJvYXJkKCkge1xuICAgIGlmIChwbGF0Zm9ybS5pc0FuZHJvaWQpIHtcbiAgICAgICAgdmFyIGxlZ2lzbGF0b3JTdGFmZkF0dGVuZGVlcyA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJsZWdpc2xhdG9yU3RhZmZBdHRlbmRlZXNcIik7XG5cbiAgICAgICAgbGVnaXNsYXRvclN0YWZmQXR0ZW5kZWVzLmRpc21pc3NTb2Z0SW5wdXQoKTtcbiAgICB9XG59XG5cbmV4cG9ydHMub25OYXZpZ2F0aW5nVG8gPSBvbk5hdmlnYXRpbmdUbztcbmV4cG9ydHMub25CYWNrVGFwID0gb25CYWNrVGFwO1xuZXhwb3J0cy5vbkdyaWRMYXlvdXRUYXAgPSBvbkdyaWRMYXlvdXRUYXA7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbWVldGluZ3MvbWVldGluZy9zdGFmZmF0dGVuZGVlcy9zdGFmZmF0dGVuZGVlcy1wYWdlLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vbWVldGluZ3MvbWVldGluZy9zdGFmZmF0dGVuZGVlcy9zdGFmZmF0dGVuZGVlcy1wYWdlLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxubW9kdWxlLmV4cG9ydHMgPSBcIjxQYWdlIG5hdmlnYXRpbmdUbz1cXFwib25OYXZpZ2F0aW5nVG9cXFwiIGNsYXNzPVxcXCJwYWdlXFxcIiB4bWxucz1cXFwiaHR0cDovL3NjaGVtYXMubmF0aXZlc2NyaXB0Lm9yZy90bnMueHNkXFxcIiA+XFxuICAgIDxBY3Rpb25CYXIgY2xhc3M9XFxcImFjdGlvbi1iYXJcXFwiPlxcbiAgICAgICAgPGFuZHJvaWQ+XFxuICAgICAgICAgICAgPE5hdmlnYXRpb25CdXR0b24gYW5kcm9pZC5zeXN0ZW1JY29uPVxcXCJpY19tZW51X2JhY2tcXFwiIHRhcD1cXFwib25CYWNrVGFwXFxcIiAvPlxcbiAgICAgICAgPC9hbmRyb2lkPlxcbiAgICA8L0FjdGlvbkJhcj5cXG5cXG4gICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiKlxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiIHRhcD1cXFwib25HcmlkTGF5b3V0VGFwXFxcIj5cXG4gICAgICAgIDxUZXh0VmlldyBpZD1cXFwibGVnaXNsYXRvclN0YWZmQXR0ZW5kZWVzXFxcIiByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwie3sgbGVnaXNsYXRvclN0YWZmQXR0ZW5kZWVzIH19XFxcIiBoaW50PVxcXCJDb25ncmVzc2lvbmFsIFN0YWZmIEF0dGVuZGVlc1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXRleHR2aWV3XFxcIiBoZWlnaHQ9XFxcIjEwMCVcXFwiIC8+XFxuICAgIDwvR3JpZExheW91dD5cXG48L1BhZ2U+XFxuXCI7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbWVldGluZ3MvbWVldGluZy9zdGFmZmF0dGVuZGVlcy9zdGFmZmF0dGVuZGVlcy1wYWdlLnhtbFwiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJtYXJrdXBcIiwgcGF0aDogXCIuL21lZXRpbmdzL21lZXRpbmcvc3RhZmZhdHRlbmRlZXMvc3RhZmZhdHRlbmRlZXMtcGFnZS54bWxcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3QgVmVudWVUeXBlVmlld01vZGVsID0gcmVxdWlyZShcIi4vdmVudWV0eXBlLXZpZXctbW9kZWxcIik7XG5jb25zdCBPYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBmcmFtZU1vZHVsZSA9IHJlcXVpcmUoXCJ1aS9mcmFtZVwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG5cbnZhciBwYWdlO1xudmFyIG5hdmlnYXRpb25Db250ZXh0O1xudmFyIHZlbnVlVHlwZUxpc3QgPSBuZXcgVmVudWVUeXBlVmlld01vZGVsKFtdKTtcblxudmFyIHZlbnVlVHlwZUluZGV4ID0gMDtcblxudmFyIHBhZ2VEYXRhID0gbmV3IE9ic2VydmFibGVNb2R1bGUuZnJvbU9iamVjdCh7XG4gICAgYm91bmREYXRhOiBudWxsLFxuICAgIHZlbnVlVHlwZUluZGV4OiB2ZW51ZVR5cGVJbmRleCxcbiAgICB2ZW51ZVR5cGVMaXN0OiBudWxsLFxuICAgIGlzTG9hZGluZzogZmFsc2Vcbn0pO1xuXG5mdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiVmVudWVcIjtcblxuICAgICAgICBuYXZpZ2F0aW9uQ29udGV4dCA9IHBhZ2UubmF2aWdhdGlvbkNvbnRleHQ7XG5cbiAgICAgICAgcGFnZURhdGEuYm91bmREYXRhID0gbmF2aWdhdGlvbkNvbnRleHQ7XG5cbiAgICAgICAgaWYgKGdsb2JhbC52ZW51ZVR5cGVMaXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuICAgICAgICAgICAgdmVudWVUeXBlTGlzdC5sb2FkKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZ2xvYmFsLnZlbnVlVHlwZUxpc3QgPSB2ZW51ZVR5cGVMaXN0O1xuXG4gICAgICAgICAgICAgICAgcGFnZURhdGEudmVudWVUeXBlTGlzdCA9IGdsb2JhbC52ZW51ZVR5cGVMaXN0O1xuXG4gICAgICAgICAgICAgICAgdmVudWVUeXBlSW5kZXggPSAwO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLmJvdW5kRGF0YS52ZW51ZVR5cGVJZCAhPT0gbnVsbCAmJiBwYWdlRGF0YS5ib3VuZERhdGEudmVudWVUeXBlSWQudG9TdHJpbmcoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWdlRGF0YS52ZW51ZVR5cGVMaXN0Lkxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWdlRGF0YS52ZW51ZVR5cGVMaXN0Lkxpc3QuZ2V0SXRlbShpKS52ZW51ZVR5cGVJZCA9PT0gcGFnZURhdGEuYm91bmREYXRhLnZlbnVlVHlwZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVudWVUeXBlSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcGFnZURhdGEudmVudWVUeXBlSW5kZXggPSB2ZW51ZVR5cGVJbmRleDtcblxuICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhZ2VEYXRhLnZlbnVlVHlwZUxpc3QgPSBnbG9iYWwudmVudWVUeXBlTGlzdDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmVudWVUeXBlSW5kZXggPSAwO1xuXG4gICAgICAgICAgICBpZiAocGFnZURhdGEuYm91bmREYXRhLnZlbnVlVHlwZUlkICE9PSBudWxsICYmIHBhZ2VEYXRhLmJvdW5kRGF0YS52ZW51ZVR5cGVJZC50b1N0cmluZygpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgaTtcblxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWdlRGF0YS52ZW51ZVR5cGVMaXN0Lkxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLnZlbnVlVHlwZUxpc3QuTGlzdC5nZXRJdGVtKGkpLnZlbnVlVHlwZUlkID09PSBwYWdlRGF0YS5ib3VuZERhdGEudmVudWVUeXBlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlbnVlVHlwZUluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGFnZURhdGEudmVudWVUeXBlSW5kZXggPSB2ZW51ZVR5cGVJbmRleDtcblxuICAgICAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHBhZ2VEYXRhO1xuICAgICAgICB9XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25Mb2FkZWQoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciB2ZW51ZVR5cGVMaXN0UGlja2VyID0gcGFnZS5nZXRWaWV3QnlJZChcInZlbnVlVHlwZUxpc3RQaWNrZXJcIik7XG4gICAgICAgIFxuICAgICAgICB2ZW51ZVR5cGVMaXN0UGlja2VyLm9uKFwic2VsZWN0ZWRJbmRleENoYW5nZVwiLCBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB2YXIgdmVudWVUeXBlSXRlbSA9IHBhZ2VEYXRhLnZlbnVlVHlwZUxpc3QuTGlzdC5nZXRJdGVtKGFyZ3Mub2JqZWN0LnNlbGVjdGVkSW5kZXgpO1xuICAgICAgICAgICAgLy9kaWFsb2dzLmFsZXJ0KHZlbnVlVHlwZUl0ZW0udmVudWVUeXBlSWQgKyBcIjogXCIgKyB2ZW51ZVR5cGVJdGVtLnZlbnVlVHlwZSk7XG4gICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEudmVudWVUeXBlSWQgPSB2ZW51ZVR5cGVJdGVtLnZlbnVlVHlwZUlkO1xuICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLnZlbnVlVHlwZSA9IHZlbnVlVHlwZUl0ZW0udmVudWVUeXBlO1xuICAgICAgICB9KTtcblxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uQmFja1RhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLmdvQmFjaygpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KGUpO1xuICAgIH1cbn1cblxuZXhwb3J0cy5vbk5hdmlnYXRpbmdUbyA9IG9uTmF2aWdhdGluZ1RvO1xuZXhwb3J0cy5vbkxvYWRlZCA9IG9uTG9hZGVkO1xuZXhwb3J0cy5vbkJhY2tUYXAgPSBvbkJhY2tUYXA7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbWVldGluZ3MvbWVldGluZy92ZW51ZXR5cGUvdmVudWV0eXBlLXBhZ2UuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL3ZlbnVldHlwZS92ZW51ZXR5cGUtcGFnZS5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJcbm1vZHVsZS5leHBvcnRzID0gXCI8UGFnZSBuYXZpZ2F0aW5nVG89XFxcIm9uTmF2aWdhdGluZ1RvXFxcIiBsb2FkZWQ9XFxcIm9uTG9hZGVkXFxcIiBjbGFzcz1cXFwicGFnZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly9zY2hlbWFzLm5hdGl2ZXNjcmlwdC5vcmcvdG5zLnhzZFxcXCIgPlxcbiAgICA8QWN0aW9uQmFyIGNsYXNzPVxcXCJhY3Rpb24tYmFyXFxcIj5cXG4gICAgICAgIDxhbmRyb2lkPlxcbiAgICAgICAgICAgIDxOYXZpZ2F0aW9uQnV0dG9uIGFuZHJvaWQuc3lzdGVtSWNvbj1cXFwiaWNfbWVudV9iYWNrXFxcIiB0YXA9XFxcIm9uQmFja1RhcFxcXCIgLz5cXG4gICAgICAgIDwvYW5kcm9pZD5cXG4gICAgPC9BY3Rpb25CYXI+XFxuXFxuICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcImF1dG8sIGF1dG8sICpcXFwiPlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LXNlY3Rpb24taGVhZGVyXFxcIj48L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPEdyaWRMYXlvdXQgcm93PVxcXCIxXFxcIiBjb2w9XFxcIjBcXFwiIGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICA8TGlzdFBpY2tlciBpZD1cXFwidmVudWVUeXBlTGlzdFBpY2tlclxcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIGl0ZW1zPVxcXCJ7eyB2ZW51ZVR5cGVMaXN0Lkl0ZW1zIH19XFxcIiBzZWxlY3RlZEluZGV4PVxcXCJ7eyB2ZW51ZVR5cGVJbmRleCB9fVxcXCIgXFxuICAgICAgICAgICAgICAgIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXBpY2tlclxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiPjwvTGlzdFBpY2tlcj5cXG4gICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjJcXFwiIGNvbD1cXFwiMFxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LXNlY3Rpb24taGVhZGVyXFxcIj48L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPEFjdGl2aXR5SW5kaWNhdG9yIGJ1c3k9XFxcInt7IGlzTG9hZGluZyB9fVxcXCIgYW5kcm9pZDpoZWlnaHQ9XFxcIjI1JVxcXCIgYW5kcm9pZDp3aWR0aD1cXFwiMjUlXFxcIiBpb3MuYWN0aXZpdHlJbmRpY2F0b3JWaWV3U3R5bGU9XFxcIndoaXRlTGFyZ2VcXFwiIHJvd1NwYW49XFxcIjNcXFwiIGNvbFNwYW49XFxcIjFcXFwiIC8+XFxuICAgIDwvR3JpZExheW91dD5cXG48L1BhZ2U+XFxuXCI7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbWVldGluZ3MvbWVldGluZy92ZW51ZXR5cGUvdmVudWV0eXBlLXBhZ2UueG1sXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcIm1hcmt1cFwiLCBwYXRoOiBcIi4vbWVldGluZ3MvbWVldGluZy92ZW51ZXR5cGUvdmVudWV0eXBlLXBhZ2UueG1sXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IE9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpLk9ic2VydmFibGU7XG52YXIgT2JzZXJ2YWJsZUFycmF5ID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZS1hcnJheVwiKS5PYnNlcnZhYmxlQXJyYXk7XG52YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxuZnVuY3Rpb24gVmVudWVUeXBlVmlld01vZGVsKCkge1xuICAgIGNvbnN0IHZpZXdNb2RlbCA9IG5ldyBPYnNlcnZhYmxlTW9kdWxlKCk7XG4gICAgdmlld01vZGVsLkl0ZW1zID0gbmV3IE9ic2VydmFibGVBcnJheSgpO1xuICAgIHZpZXdNb2RlbC5MaXN0ID0gbmV3IE9ic2VydmFibGVBcnJheSgpO1xuXG4gICAgdmlld01vZGVsLmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGh0dHAucmVxdWVzdCh7XG4gICAgICAgICAgICB1cmw6IGdsb2JhbC5hcGlCYXNlU2VydmljZVVybCArIFwibWVldGluZ3ZlbnVldHlwZXNcIixcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiQXV0aG9yaXphdGlvblwiOiBnbG9iYWwudG9rZW4gfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmNvbnRlbnQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShyZXN1bHQpO1xuXG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24odmVudWVUeXBlKSB7XG4gICAgICAgICAgICAgICAgdmlld01vZGVsLkl0ZW1zLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIHZlbnVlVHlwZS5WZW51ZVR5cGVcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgdmlld01vZGVsLkxpc3QucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHZlbnVlVHlwZUlkOiB2ZW51ZVR5cGUuVmVudWVUeXBlSWQsXG4gICAgICAgICAgICAgICAgICAgIHZlbnVlVHlwZTogdmVudWVUeXBlLlZlbnVlVHlwZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2aWV3TW9kZWwuZW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgd2hpbGUgKHZpZXdNb2RlbC5JdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZpZXdNb2RlbC5JdGVtcy5wb3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlICh2aWV3TW9kZWwuTGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZpZXdNb2RlbC5MaXN0LnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gdmlld01vZGVsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFZlbnVlVHlwZVZpZXdNb2RlbDs7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbWVldGluZ3MvbWVldGluZy92ZW51ZXR5cGUvdmVudWV0eXBlLXZpZXctbW9kZWwuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL3ZlbnVldHlwZS92ZW51ZXR5cGUtdmlldy1tb2RlbC5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBNZWV0aW5nc1ZpZXdNb2RlbCA9IHJlcXVpcmUoXCIuL21lZXRpbmdzLXZpZXctbW9kZWxcIik7XG4vLyBjb25zdCBMZWdpc2xhdG9yVmlld01vZGVsID0gcmVxdWlyZShcIi4vbWVldGluZy9sZWdpc2xhdG9yL2xlZ2lzbGF0b3Itdmlldy1tb2RlbFwiKTtcbmNvbnN0IHBsYXRmb3JtID0gcmVxdWlyZShcInBsYXRmb3JtXCIpO1xuY29uc3QgT2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgZ2VzdHVyZXMgPSByZXF1aXJlKFwidWkvZ2VzdHVyZXNcIik7XG52YXIgZnJhbWVNb2R1bGUgPSByZXF1aXJlKFwidWkvZnJhbWVcIik7XG52YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxuY29uc3QgTUlOX1ggPSAtODA7XG5jb25zdCBNQVhfWCA9IDA7XG5jb25zdCBUSFJFU0hPTEQgPSAwLjU7XG5cbnZhciBzd2lwZU9wZW4gPSBmYWxzZTtcbnZhciBzd2lwZWRJdGVtO1xuXG52YXIgaXNTY3JvbGxpbmcgPSBmYWxzZTtcbnZhciBpc1N3aXBpbmcgPSBmYWxzZTtcblxudmFyIHBhZ2U7XG52YXIgbmF2aWdhdGlvbkNvbnRleHQ7XG5cbnZhciBtZWV0aW5nc0xpc3QgPSBuZXcgTWVldGluZ3NWaWV3TW9kZWwoW10pO1xuLy8gdmFyIGxlZ2lzbGF0b3JMaXN0ID0gbmV3IExlZ2lzbGF0b3JWaWV3TW9kZWwoW10pO1xuXG52YXIgcGFnZURhdGEgPSBuZXcgT2JzZXJ2YWJsZU1vZHVsZS5mcm9tT2JqZWN0KHtcbiAgICBtZWV0aW5nc0xpc3Q6IG1lZXRpbmdzTGlzdCxcbiAgICByZWZlcmVuY2U6IFwidGFiXCIsXG4gICAgcmVjZW50TWVldGluZ3M6IFwiWVwiLFxuICAgIGlzTG9hZGluZzogZmFsc2Vcbn0pO1xuXG5mdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgICAgIHBhZ2UuYWN0aW9uQmFyLnRpdGxlID0gXCJNZWV0aW5nc1wiO1xuICAgICAgICBcbiAgICAgICAgbmF2aWdhdGlvbkNvbnRleHQgPSBwYWdlLm5hdmlnYXRpb25Db250ZXh0O1xuXG4gICAgICAgIGlmIChuYXZpZ2F0aW9uQ29udGV4dC5yZWZlcmVuY2UgPT09IFwidGFiXCIpIHtcbiAgICAgICAgICAgIHBhZ2VEYXRhLnJlZmVyZW5jZSA9IFwidGFiXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYWdlRGF0YS5yZWZlcmVuY2UgPSBcIm5hdlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFyZ3MuaXNCYWNrTmF2aWdhdGlvbikge1xuICAgICAgICAgICAgbWVldGluZ3NMaXN0LmVtcHR5KCk7XG5cbiAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuICAgICAgICAgICAgbWVldGluZ3NMaXN0LmxvYWQocGFnZURhdGEucmVmZXJlbmNlLCBuYXZpZ2F0aW9uQ29udGV4dC5sZWdpc2xhdG9ySWQsIHBhZ2VEYXRhLnJlY2VudE1lZXRpbmdzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHBhZ2VEYXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBTaW5jZSB0aGUgUGFnZSBjb250YWlucyBhIFNlZ21lbnRlZEJhcixcbiAgICAgICAgICAgIC8vIHRoZSBzZWxlY3RlZEluZGV4Q2hhbmdlZCBldmVudCB3aWxsIHBlcmZvcm0gdGhlIGluaXRpYWwgbG9hZCBvZiB0aGUgTGlzdFZpZXcuXG4gICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25TZWxlY3RlZEluZGV4Q2hhbmdlZChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKGFyZ3MubmV3SW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHBhZ2VEYXRhLnJlY2VudE1lZXRpbmdzID0gXCJZXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYWdlRGF0YS5yZWNlbnRNZWV0aW5ncyA9IFwiTlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgbWVldGluZ3NMaXN0LmVtcHR5KCk7XG5cbiAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuXG4gICAgICAgIG1lZXRpbmdzTGlzdC5sb2FkKHBhZ2VEYXRhLnJlZmVyZW5jZSwgbmF2aWdhdGlvbkNvbnRleHQubGVnaXNsYXRvcklkLCBwYWdlRGF0YS5yZWNlbnRNZWV0aW5ncykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBORUVEIFRIRSBGT0xMT1dJTkcgQ09NTUVOVEVEIENPREUgT05DRSBXRSBBTExPVyBUSEUgTEVHSVNMQVRPUiBGSUVMRCBUTyBCRSBFRElUQUJMRS5cbiAgICAgICAgICAgIC8vIGlmIChnbG9iYWwubGVnaXNsYXRvckxpc3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gICAgIGxlZ2lzbGF0b3JMaXN0LmxvYWQoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgZ2xvYmFsLmxlZ2lzbGF0b3JMaXN0ID0gbGVnaXNsYXRvckxpc3Q7XG5cbiAgICAgICAgICAgIC8vICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcblxuICAgICAgICAgICAgLy8gICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgICAgICAgICAvLyAgICAgfSk7XG4gICAgICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkl0ZW1Mb2FkaW5nKGFyZ3MpIHtcbiAgICBpZiAocGxhdGZvcm0uaXNJT1MpIHtcbiAgICAgICAgdmFyIGNlbGwgPSBhcmdzLmlvcztcblxuICAgICAgICBjZWxsLnNlbGVjdGlvblN0eWxlID0gVUlUYWJsZVZpZXdDZWxsU2VsZWN0aW9uU3R5bGUuVUlUYWJsZVZpZXdDZWxsU2VsZWN0aW9uU3R5bGVOb25lO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25CYWNrVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkuZ29CYWNrKCk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkFkZFRhcChhcmdzKSB7XG4gICAgdHJ5XG4gICAge1xuICAgICAgICB2YXIgbW9kZWwgPSB7XG4gICAgICAgICAgICBtZWV0aW5nSWQ6IDAsXG4gICAgICAgICAgICBtZWV0aW5nRGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIHZlbnVlVHlwZUlkOiAxLFxuICAgICAgICAgICAgdmVudWVUeXBlOiBcIkluIFBlcnNvblwiLFxuICAgICAgICAgICAgYXR0ZW5kZWVUeXBlSWQ6IDEsXG4gICAgICAgICAgICBhdHRlbmRlZVR5cGU6IFwiU3RhZmYgT25seVwiLFxuICAgICAgICAgICAgbG9iYnlpc3RJZDogZ2xvYmFsLnBlcnNvbklkLFxuICAgICAgICAgICAgbG9iYnlpc3Q6IG51bGwsXG4gICAgICAgICAgICBsZWdpc2xhdG9ySWQ6IG5hdmlnYXRpb25Db250ZXh0LmxlZ2lzbGF0b3JJZCxcbiAgICAgICAgICAgIGZ1bGxOYW1lOiBuYXZpZ2F0aW9uQ29udGV4dC5mdWxsTmFtZSxcbiAgICAgICAgICAgIG5hbWU6IG51bGwsXG4gICAgICAgICAgICBwY2lJbml0aWF0aXZlczogbnVsbCxcbiAgICAgICAgICAgIHN1cnZleXM6IG51bGwsXG4gICAgICAgICAgICBwY2lBdHRlbmRlZXM6IGdsb2JhbC5jdXJyZW50VXNlcixcbiAgICAgICAgICAgIHByaW1hcnlPZmZpY2VDb250YWN0OiBudWxsLFxuICAgICAgICAgICAgbWVldGluZ0xvY2F0aW9uSWQ6IDIsXG4gICAgICAgICAgICBsb2NhdGlvbjogXCJNZWV0aW5nIGluIERDXCIsXG4gICAgICAgICAgICBsZWdpc2xhdG9yU3RhZmZBdHRlbmRlZXM6IG51bGwsXG4gICAgICAgICAgICBmb2xsb3dVcE5lZWRlZDogZmFsc2UsXG4gICAgICAgICAgICBmb2xsb3dVcERhdGU6IG51bGwsXG4gICAgICAgICAgICBmb2xsb3dVcE5vdGVzOiBudWxsLFxuICAgICAgICAgICAgY3JlYXRvcklkOiBnbG9iYWwucGVyc29uSWQsXG4gICAgICAgICAgICBub3RlczogbnVsbCxcbiAgICAgICAgICAgIGluaXRpYXRpdmVJZDogbnVsbCxcbiAgICAgICAgICAgIHN1cnZleUlkOiBudWxsLFxuICAgICAgICAgICAgYXNzaWdubWVudElkOiBudWxsXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgICAgICBtb2R1bGVOYW1lOiBcIm1lZXRpbmdzL21lZXRpbmcvbWVldGluZy1wYWdlXCIsXG4gICAgICAgICAgICBjb250ZXh0OiBtb2RlbCxcbiAgICAgICAgICAgIGNsZWFySGlzdG9yeTogZmFsc2VcbiAgICAgICAgfTtcblxuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkubmF2aWdhdGUobmF2aWdhdGlvbkVudHJ5KTtcbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25JdGVtVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAocGxhdGZvcm0uaXNJT1MpIHtcbiAgICAgICAgICAgIGlmIChzd2lwZU9wZW4pIHtcbiAgICAgICAgICAgICAgICBzd2lwZWRJdGVtLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGU6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBzd2lwZU9wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHZpZXcgPSBhcmdzLnZpZXc7XG5cbiAgICAgICAgICAgICAgICBtb2RlbCA9IHZpZXcuYmluZGluZ0NvbnRleHQ7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZU5hbWU6IFwibWVldGluZ3MvbWVldGluZy9tZWV0aW5nLXBhZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dDogbW9kZWwsXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySGlzdG9yeTogZmFsc2VcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25EZWxldGVDbGljayhhcmdzKSB7XG4gICAgaWYgKHBsYXRmb3JtLmlzQW5kcm9pZCkge1xuICAgICAgICBkaWFsb2dzLmNvbmZpcm0oe1xuICAgICAgICAgICAgdGl0bGU6IFwiRGVsZXRlXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBcIk1lZXRpbmcgd2lsbCBiZSBkZWxldGVkLiBEZWxldGU/XCIsXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiWWVzXCIsXG4gICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBcIk5vXCJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHZpZXcgPSBhcmdzLm9iamVjdDtcblxuICAgICAgICAgICAgICAgIGh0dHAucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogZ2xvYmFsLmFwaUJhc2VTZXJ2aWNlVXJsICsgXCJkZWxldGVtZWV0aW5nXCIsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiQXV0aG9yaXphdGlvblwiOiBnbG9iYWwudG9rZW4gfSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogSlNPTi5zdHJpbmdpZnkodmlldy5iaW5kaW5nQ29udGV4dClcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBtZWV0aW5nc0xpc3QuZW1wdHkoKTtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIG1lZXRpbmdzTGlzdC5sb2FkKHBhZ2VEYXRhLnJlZmVyZW5jZSwgbmF2aWdhdGlvbkNvbnRleHQubGVnaXNsYXRvcklkLCBwYWdlRGF0YS5yZWNlbnRNZWV0aW5ncykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHBhZ2VEYXRhO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocGxhdGZvcm0uaXNJT1MpIHtcbiAgICAgICAgZGlhbG9ncy5hY3Rpb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJXb3VsZCB5b3UgbGlrZSB0byBkZWxldGUgdGhpcyBtZWV0aW5nP1wiLFxuICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogXCJDYW5jZWxcIixcbiAgICAgICAgICAgIGFjdGlvbnM6IFtcIkRlbGV0ZVwiXVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IFwiRGVsZXRlXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmlldyA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgICAgICAgICAgICAgaHR0cC5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBnbG9iYWwuYXBpQmFzZVNlcnZpY2VVcmwgKyBcImRlbGV0ZW1lZXRpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiwgXCJBdXRob3JpemF0aW9uXCI6IGdsb2JhbC50b2tlbiB9LFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeSh2aWV3LmJpbmRpbmdDb250ZXh0KVxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lZXRpbmdzTGlzdC5lbXB0eSgpO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbWVldGluZ3NMaXN0LmxvYWQocGFnZURhdGEucmVmZXJlbmNlLCBuYXZpZ2F0aW9uQ29udGV4dC5sZWdpc2xhdG9ySWQsIHBhZ2VEYXRhLnJlY2VudE1lZXRpbmdzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHN3aXBlT3Blbikge1xuICAgICAgICBzd2lwZWRJdGVtLmFuaW1hdGUoe1xuICAgICAgICAgICAgdHJhbnNsYXRlOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3dpcGVPcGVuID0gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkxheW91dExvYWRlZChhcmdzKSB7XG4gICAgdmFyIGxheW91dCA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgaWYgKHBsYXRmb3JtLmlzQW5kcm9pZCkge1xuICAgICAgICBsYXlvdXQub24oZ2VzdHVyZXMuR2VzdHVyZVR5cGVzLnRhcCwgZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoc3dpcGVPcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXBlZEl0ZW0uYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGU6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgc3dpcGVPcGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZpZXcgPSBhcmdzLnZpZXc7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsID0gdmlldy5iaW5kaW5nQ29udGV4dDtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlTmFtZTogXCJtZWV0aW5ncy9tZWV0aW5nL21lZXRpbmctcGFnZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dDogbW9kZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckhpc3Rvcnk6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoKGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbGF5b3V0Lm9uKGdlc3R1cmVzLkdlc3R1cmVUeXBlcy5wYW4sIGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBsYXlvdXQgPSBhcmdzLm9iamVjdDtcbiAgICAgICAgICAgIHZhciB2aWV3ID0gYXJncy52aWV3O1xuXG4gICAgICAgICAgICBpZiAoc3dpcGVPcGVuICYmIHN3aXBlZEl0ZW0gIT09IHVuZGVmaW5lZCAmJiBzd2lwZWRJdGVtICE9IGxheW91dCkge1xuICAgICAgICAgICAgICAgIHN3aXBlZEl0ZW0uYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZTogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWlzU2Nyb2xsaW5nICYmICFpc1N3aXBpbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoYXJncy5kZWx0YVkpID4gTWF0aC5hYnMoYXJncy5kZWx0YVgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzU2Nyb2xsaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaXNTd2lwaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhhcmdzLmRlbHRhWCkgPiBNYXRoLmFicyhhcmdzLmRlbHRhWSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNTY3JvbGxpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaXNTd2lwaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc1Njcm9sbGluZykge1xuICAgICAgICAgICAgICAgIGlmIChzd2lwZU9wZW4gJiYgc3dpcGVkSXRlbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXBlZEl0ZW0uYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGU6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChhcmdzLnN0YXRlID09PSBnZXN0dXJlcy5HZXN0dXJlU3RhdGVUeXBlcy5lbmRlZCkge1xuICAgICAgICAgICAgICAgICAgICBpc1Njcm9sbGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNTd2lwaW5nKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1lZXRpbmdzTGlzdFZpZXcgPSBwYWdlLmdldFZpZXdCeUlkKFwibWVldGluZ3NMaXN0Vmlld1wiKTtcblxuICAgICAgICAgICAgICAgIGlmIChwbGF0Zm9ybS5pc0FuZHJvaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVldGluZ3NMaXN0Vmlldy5uYXRpdmVWaWV3LnJlcXVlc3REaXNhbGxvd0ludGVyY2VwdFRvdWNoRXZlbnQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbGF0Zm9ybS5pc0lPUykge1xuICAgICAgICAgICAgICAgICAgICBtZWV0aW5nc0xpc3RWaWV3Lmlvcy5zY3JvbGxFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc3dpcGVPcGVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzd2lwZWRJdGVtID0gbGF5b3V0O1xuXG4gICAgICAgICAgICAgICAgdmFyIG5ld1ggPSBsYXlvdXQudHJhbnNsYXRlWCArIGFyZ3MuZGVsdGFYO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5ld1ggPj0gTUlOX1ggJiYgbmV3WCA8PSBNQVhfWCkge1xuICAgICAgICAgICAgICAgICAgICBsYXlvdXQudHJhbnNsYXRlWCA9IG5ld1g7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChhcmdzLnN0YXRlID09PSBnZXN0dXJlcy5HZXN0dXJlU3RhdGVUeXBlcy5lbmRlZCAmJiAhKG5ld1ggPT09IE1JTl9YIHx8IG5ld1ggPT09IE1BWF9YKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpbml0IG91ciBkZXN0aW5hdGlvbiBYIGNvb3JkaW5hdGUgdG8gMCwgaW4gY2FzZSBuZWl0aGVyIFRIUkVTSE9MRCBoYXMgYmVlbiBoaXRcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRlc3RYID0gMDtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHVzZXIgaGl0IG9yIGNyb3NzZWQgdGhlIFRIRVNIT0xEIGVpdGhlciB3YXksIGxldCdzIGZpbmlzaCBpbiB0aGF0IGRpcmVjdGlvblxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3WCA8PSBNSU5fWCAqIFRIUkVTSE9MRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdFggPSBNSU5fWDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZXdYID49IE1BWF9YICogVEhSRVNIT0xEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0WCA9IE1BWF9YO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBsYXlvdXQuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGU6IHsgeDogZGVzdFgsIHk6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsYXRmb3JtLmlzQW5kcm9pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVldGluZ3NMaXN0Vmlldy5uYXRpdmVWaWV3LnJlcXVlc3REaXNhbGxvd0ludGVyY2VwdFRvdWNoRXZlbnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBsYXRmb3JtLmlzSU9TKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZWV0aW5nc0xpc3RWaWV3Lmlvcy5zY3JvbGxFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlzU3dpcGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZXhwb3J0cy5vbk5hdmlnYXRpbmdUbyA9IG9uTmF2aWdhdGluZ1RvO1xuZXhwb3J0cy5vblNlbGVjdGVkSW5kZXhDaGFuZ2VkID0gb25TZWxlY3RlZEluZGV4Q2hhbmdlZDtcbmV4cG9ydHMub25JdGVtTG9hZGluZyA9IG9uSXRlbUxvYWRpbmc7XG5leHBvcnRzLm9uQmFja1RhcCA9IG9uQmFja1RhcDtcbmV4cG9ydHMub25BZGRUYXAgPSBvbkFkZFRhcDtcbmV4cG9ydHMub25JdGVtVGFwID0gb25JdGVtVGFwO1xuZXhwb3J0cy5vbkxheW91dExvYWRlZCA9IG9uTGF5b3V0TG9hZGVkO1xuZXhwb3J0cy5vbkRlbGV0ZUNsaWNrID0gb25EZWxldGVDbGljaztcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9tZWV0aW5ncy9tZWV0aW5ncy1wYWdlLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vbWVldGluZ3MvbWVldGluZ3MtcGFnZS5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJcbm1vZHVsZS5leHBvcnRzID0gXCI8UGFnZSBuYXZpZ2F0aW5nVG89XFxcIm9uTmF2aWdhdGluZ1RvXFxcIiBjbGFzcz1cXFwicGFnZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly9zY2hlbWFzLm5hdGl2ZXNjcmlwdC5vcmcvdG5zLnhzZFxcXCIgPlxcbiAgICA8QWN0aW9uQmFyIGNsYXNzPVxcXCJhY3Rpb24tYmFyXFxcIj5cXG4gICAgICAgIDxhbmRyb2lkPlxcbiAgICAgICAgICAgIDxOYXZpZ2F0aW9uQnV0dG9uIGFuZHJvaWQuc3lzdGVtSWNvbj1cXFwiaWNfbWVudV9iYWNrXFxcIiB0YXA9XFxcIm9uQmFja1RhcFxcXCIgdmlzaWJpbGl0eT1cXFwie3sgcmVmZXJlbmNlID09PSAndGFiJyA/ICdjb2xsYXBzZScgOiAndmlzaWJsZScgfX1cXFwiIC8+XFxuICAgICAgICA8L2FuZHJvaWQ+XFxuICAgICAgICA8QWN0aW9uSXRlbSB0YXA9XFxcIm9uQWRkVGFwXFxcIiBpb3Muc3lzdGVtSWNvbj1cXFwiNFxcXCIgYW5kcm9pZC5zeXN0ZW1JY29uPVxcXCJpY19tZW51X2FkZFxcXCIgaW9zLnBvc2l0aW9uPVxcXCJyaWdodFxcXCIgXFxuICAgICAgICAgICAgdmlzaWJpbGl0eT1cXFwie3sgcmVmZXJlbmNlID09PSAndGFiJyA/ICdjb2xsYXBzZScgOiAndmlzaWJsZScgfX1cXFwiIC8+XFxuICAgIDwvQWN0aW9uQmFyPlxcblxcbiAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCJhdXRvLCAqXFxcIiBoZWlnaHQ9XFxcIjEwMCVcXFwiIHdpZHRoPVxcXCIxMDAlXFxcIj5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcInRvcFxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIj5cXG4gICAgICAgICAgICA8U2VnbWVudGVkQmFyIGNsYXNzPVxcXCJzZWdtZW50ZWQtYmFyXFxcIiBzZWxlY3RlZEluZGV4Q2hhbmdlZD1cXFwib25TZWxlY3RlZEluZGV4Q2hhbmdlZFxcXCI+XFxuICAgICAgICAgICAgICAgIDxTZWdtZW50ZWRCYXIuaXRlbXM+XFxuICAgICAgICAgICAgICAgICAgICA8U2VnbWVudGVkQmFySXRlbSB0aXRsZT1cXFwiUmVjZW50IE1lZXRpbmdzXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgPFNlZ21lbnRlZEJhckl0ZW0gdGl0bGU9XFxcIkFsbCBNZWV0aW5nc1xcXCIgLz5cXG4gICAgICAgICAgICAgICAgPC9TZWdtZW50ZWRCYXIuaXRlbXM+XFxuICAgICAgICAgICAgPC9TZWdtZW50ZWRCYXI+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMVxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIj5cXG4gICAgICAgICAgICA8TGlzdFZpZXcgaWQ9XFxcIm1lZXRpbmdzTGlzdFZpZXdcXFwiIGl0ZW1zPVxcXCJ7eyBtZWV0aW5nc0xpc3QgfX1cXFwiIGl0ZW1Mb2FkaW5nPVxcXCJvbkl0ZW1Mb2FkaW5nXFxcIiBpdGVtVGFwPVxcXCJvbkl0ZW1UYXBcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMaXN0Vmlldy5pdGVtVGVtcGxhdGU+XFxuICAgICAgICAgICAgICAgICAgICA8QWJzb2x1dGVMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBCQUNLR1JPVU5EOiBTd2lwZSBBY3Rpb25zIC0tPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIiosIDgwXFxcIiB3aWR0aD1cXFwiMTAwJVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kcm9pZDpyb3dzPVxcXCJ7eyBwY2lJbml0aWF0aXZlcy5sZW5ndGggPiAwICZhbXA7JmFtcDsgbGVnaXNsYXRvclN0YWZmQXR0ZW5kZWVzLmxlbmd0aCA+IDAgPyAnODknIDogcGNpSW5pdGlhdGl2ZXMubGVuZ3RoID4gMCB8fCBsZWdpc2xhdG9yU3RhZmZBdHRlbmRlZXMubGVuZ3RoID4gMCA/ICc3MCcgOiAnNTEnIH19XFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpb3M6cm93cz1cXFwie3sgcGNpSW5pdGlhdGl2ZXMubGVuZ3RoID4gMCAmYW1wOyZhbXA7IGxlZ2lzbGF0b3JTdGFmZkF0dGVuZGVlcy5sZW5ndGggPiAwID8gJzk4JyA6IHBjaUluaXRpYXRpdmVzLmxlbmd0aCA+IDAgfHwgbGVnaXNsYXRvclN0YWZmQXR0ZW5kZWVzLmxlbmd0aCA+IDAgPyAnNzgnIDogJzU4JyB9fVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCBjb2w9XFxcIjBcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbD1cXFwiMVxcXCIgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiKiwgYXV0bywgYXV0bywgKlxcXCIgdGFwPVxcXCJvbkRlbGV0ZUNsaWNrXFxcIiBjbGFzcz1cXFwic3dpcGUtaWNvbnMgcmVkXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMVxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCImI3hmMWY4O1xcXCIgY2xhc3M9XFxcInRhYi1pY29uXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMlxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJEZWxldGVcXFwiIGNsYXNzPVxcXCJ0YWItbGFiZWxcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIzXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0tIEZPUkVHUk9VTkQ6IExpc3QgVmlldyBJdGVtIERldGFpbHMgLS0+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IGxvYWRlZD1cXFwib25MYXlvdXRMb2FkZWRcXFwiIGJhY2tncm91bmRDb2xvcj1cXFwid2hpdGVcXFwiIHdpZHRoPVxcXCIxMDAlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKiwgYXV0b1xcXCIgcm93cz1cXFwiKlxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcInt7IG5hbWUgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1tYWluLXRvcFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cXFwie3sgbWVldGluZ0RhdGUgfCBkYXRlQ29udmVydGVyKGRhdGVGb3JtYXQpIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbWFpblxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cXFwie3sgJ3dpdGggJyArIGxlZ2lzbGF0b3JTdGFmZkF0dGVuZGVlcyB9fVxcXCIgdmlzaWJpbGl0eT1cXFwie3sgbGVnaXNsYXRvclN0YWZmQXR0ZW5kZWVzLmxlbmd0aCA+IDAgPyAndmlzaWJsZScgOiAnY29sbGFwc2UnIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJ7eyAnb24gJyArIHBjaUluaXRpYXRpdmVzIH19XFxcIiB2aXNpYmlsaXR5PVxcXCJ7eyBwY2lJbml0aWF0aXZlcy5sZW5ndGggPiAwID8gJ3Zpc2libGUnIDogJ2NvbGxhcHNlJyB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1YlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcIiYjeGYxMDU7XFxcIiBjbGFzcz1cXFwiZm4tbGlzdC12aWV3LWl0ZW1cXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJtaWRkbGVcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgPC9BYnNvbHV0ZUxheW91dD5cXG4gICAgICAgICAgICAgICAgPC9MaXN0Vmlldy5pdGVtVGVtcGxhdGU+XFxuICAgICAgICAgICAgPC9MaXN0Vmlldz5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8QWN0aXZpdHlJbmRpY2F0b3IgYnVzeT1cXFwie3sgaXNMb2FkaW5nIH19XFxcIiBhbmRyb2lkOmhlaWdodD1cXFwiMjUlXFxcIiBhbmRyb2lkOndpZHRoPVxcXCIyNSVcXFwiIGlvcy5hY3Rpdml0eUluZGljYXRvclZpZXdTdHlsZT1cXFwid2hpdGVMYXJnZVxcXCIgcm93U3Bhbj1cXFwiMlxcXCIgY29sU3Bhbj1cXFwiMVxcXCIgLz5cXG4gICAgPC9HcmlkTGF5b3V0PlxcbjwvUGFnZT5cXG5cIjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9tZWV0aW5ncy9tZWV0aW5ncy1wYWdlLnhtbFwiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJtYXJrdXBcIiwgcGF0aDogXCIuL21lZXRpbmdzL21lZXRpbmdzLXBhZ2UueG1sXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IG9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpO1xudmFyIE9ic2VydmFibGVBcnJheSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGUtYXJyYXlcIikuT2JzZXJ2YWJsZUFycmF5O1xudmFyIGZyYW1lTW9kdWxlID0gcmVxdWlyZShcInVpL2ZyYW1lXCIpO1xudmFyIGh0dHAgPSByZXF1aXJlKFwiaHR0cFwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG5cbmZ1bmN0aW9uIE1lZXRpbmdzVmlld01vZGVsKGl0ZW1zKSB7XG4gICAgY29uc3Qgdmlld01vZGVsID0gbmV3IE9ic2VydmFibGVBcnJheShpdGVtcyk7XG5cbiAgICB2aWV3TW9kZWwubG9hZCA9IGZ1bmN0aW9uKHJlZmVyZW5jZSwgbGVnaXNsYXRvcklkLCByZWNlbnRNZWV0aW5ncykge1xuICAgICAgICB2YXIgcmVxdWVzdFVybDtcblxuICAgICAgICBpZiAocmVmZXJlbmNlID09PSBcInRhYlwiKSB7XG4gICAgICAgICAgICByZXF1ZXN0VXJsID0gZ2xvYmFsLmFwaUJhc2VTZXJ2aWNlVXJsICsgXCJtZWV0aW5ncz9wZXJzb25JZD1cIiArIGdsb2JhbC5wZXJzb25JZCArIFwiJnJlY2VudE1lZXRpbmdzPVwiICsgcmVjZW50TWVldGluZ3M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZ2xvYmFsLmlzUGNpKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdFVybCA9IGdsb2JhbC5hcGlCYXNlU2VydmljZVVybCArIFwibWVldGluZ3M/bGVnaXNsYXRvcklkPVwiICsgbGVnaXNsYXRvcklkICsgXCImcmVjZW50TWVldGluZ3M9XCIgKyByZWNlbnRNZWV0aW5ncztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdFVybCA9IGdsb2JhbC5hcGlCYXNlU2VydmljZVVybCArIFwibWVldGluZ3M/cGVyc29uSWQ9XCIgKyBnbG9iYWwucGVyc29uSWQgKyBcIiZsZWdpc2xhdG9ySWQ9XCIgKyBsZWdpc2xhdG9ySWQgKyBcIiZyZWNlbnRNZWV0aW5ncz1cIiArIHJlY2VudE1lZXRpbmdzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGh0dHAucmVxdWVzdCh7XG4gICAgICAgICAgICB1cmw6IHJlcXVlc3RVcmwsXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLCBcIkF1dGhvcml6YXRpb25cIjogZ2xvYmFsLnRva2VuIH0gLy8sXG4gICAgICAgICAgICAvL2NvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KHsgZmlsdGVyOiBcIlwiLCBwYWdlOiBcIjFcIiwgcGFnZVNpemU6IFwiMjBcIiB9KVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmNvbnRlbnQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShyZXN1bHQpO1xuXG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24obWVldGluZykge1xuICAgICAgICAgICAgICAgIHZhciBtZWV0aW5nRGF0ZTtcbiAgICAgICAgICAgICAgICAvLyB2YXIgbGVnaXNsYXRvclN0YWZmQXR0ZW5kZWVzID0gbWVldGluZy5MZWdpc2xhdG9yU3RhZmZBdHRlbmRlZXM7XG4gICAgICAgICAgICAgICAgdmFyIHBjaUluaXRpYXRpdmVzID0gbWVldGluZy5QY2lJbml0aWF0aXZlcztcbiAgICAgICAgICAgICAgICB2YXIgZm9sbG93VXBEYXRlO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIG1lZXRpbmdEYXRlID0gbmV3IERhdGUocGFyc2VJbnQobWVldGluZy5NZWV0aW5nRGF0ZS5zdWJzdHJpbmcobWVldGluZy5NZWV0aW5nRGF0ZS5pbmRleE9mKFwiL0RhdGUoXCIpICsgNiwgbWVldGluZy5NZWV0aW5nRGF0ZS5pbmRleE9mKFwiKS9cIikpKSk7XG5cbiAgICAgICAgICAgICAgICAvLyBpZiAobGVnaXNsYXRvclN0YWZmQXR0ZW5kZWVzLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgICBsZWdpc2xhdG9yU3RhZmZBdHRlbmRlZXMgPSBcIndpdGggXCIgKyBsZWdpc2xhdG9yU3RhZmZBdHRlbmRlZXM7XG4gICAgICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICAgICAgaWYgKHBjaUluaXRpYXRpdmVzLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwY2lJbml0aWF0aXZlcyA9IFwib24gXCIgKyBwY2lJbml0aWF0aXZlc1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChtZWV0aW5nLkZvbGxvd1VwRGF0ZSA9PT0gbnVsbCB8fCBtZWV0aW5nLkZvbGxvd1VwRGF0ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZm9sbG93VXBEYXRlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmb2xsb3dVcERhdGUgPSBuZXcgRGF0ZShwYXJzZUludChtZWV0aW5nLkZvbGxvd1VwRGF0ZS5zdWJzdHJpbmcobWVldGluZy5Gb2xsb3dVcERhdGUuaW5kZXhPZihcIi9EYXRlKFwiKSArIDYsIG1lZXRpbmcuRm9sbG93VXBEYXRlLmluZGV4T2YoXCIpL1wiKSkpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2aWV3TW9kZWwucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG1lZXRpbmdJZDogbWVldGluZy5NZWV0aW5nSWQsXG4gICAgICAgICAgICAgICAgICAgIG1lZXRpbmdEYXRlOiBtZWV0aW5nRGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgdmVudWVUeXBlSWQ6IG1lZXRpbmcuVmVudWVUeXBlSWQsXG4gICAgICAgICAgICAgICAgICAgIHZlbnVlVHlwZTogbWVldGluZy5WZW51ZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgIG9mZmVyZWRUb01lbWJlcnM6IG1lZXRpbmcuT2ZmZXJlZFRvTWVtYmVycyxcbiAgICAgICAgICAgICAgICAgICAgYXR0ZW5kZWVUeXBlSWQ6IG1lZXRpbmcuQXR0ZW5kZWVUeXBlSWQsXG4gICAgICAgICAgICAgICAgICAgIGF0dGVuZGVlVHlwZTogbWVldGluZy5BdHRlbmRlZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGxvYmJ5aXN0SWQ6IG1lZXRpbmcuTG9iYnlpc3RJZCxcbiAgICAgICAgICAgICAgICAgICAgbG9iYnlpc3Q6IG1lZXRpbmcuTG9iYnlpc3QsXG4gICAgICAgICAgICAgICAgICAgIGxlZ2lzbGF0b3JJZDogbWVldGluZy5MZWdpc2xhdG9ySWQsXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxOYW1lOiBtZWV0aW5nLkZ1bGxOYW1lLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBtZWV0aW5nLk5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHBjaUluaXRpYXRpdmVzOiBtZWV0aW5nLlBjaUluaXRpYXRpdmVzLFxuICAgICAgICAgICAgICAgICAgICBzdXJ2ZXlzOiBtZWV0aW5nLlN1cnZleXMsXG4gICAgICAgICAgICAgICAgICAgIHBjaUF0dGVuZGVlczogbWVldGluZy5QY2lBdHRlbmRlZXMsXG4gICAgICAgICAgICAgICAgICAgIHByaW1hcnlPZmZpY2VDb250YWN0OiBtZWV0aW5nLlByaW1hcnlPZmZpY2VDb250YWN0LFxuICAgICAgICAgICAgICAgICAgICBtZWV0aW5nTG9jYXRpb25JZDogbWVldGluZy5NZWV0aW5nTG9jYXRpb25JZCxcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IG1lZXRpbmcuTG9jYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGxlZ2lzbGF0b3JTdGFmZkF0dGVuZGVlczogbWVldGluZy5MZWdpc2xhdG9yU3RhZmZBdHRlbmRlZXMsXG4gICAgICAgICAgICAgICAgICAgIGZvbGxvd1VwTmVlZGVkOiBtZWV0aW5nLkZvbGxvd1VwTmVlZGVkLFxuICAgICAgICAgICAgICAgICAgICBmb2xsb3dVcERhdGU6IGZvbGxvd1VwRGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgZm9sbG93VXBOb3RlczogbWVldGluZy5Gb2xsb3dVcE5vdGVzLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdG9ySWQ6IG1lZXRpbmcuQ3JlYXRvcklkLFxuICAgICAgICAgICAgICAgICAgICBub3RlczogbWVldGluZy5Ob3RlcyxcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhdGl2ZUlkOiBtZWV0aW5nLkluaXRpYXRpdmVJZCxcbiAgICAgICAgICAgICAgICAgICAgc3VydmV5SWQ6IG1lZXRpbmcuU3VydmV5SWQsXG4gICAgICAgICAgICAgICAgICAgIGFzc2lnbm1lbnRJZDogbWVldGluZy5Bc3NpZ25tZW50SWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmlld01vZGVsLmVtcHR5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHdoaWxlICh2aWV3TW9kZWwubGVuZ3RoKSB7XG4gICAgICAgICAgICB2aWV3TW9kZWwucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHJldHVybiB2aWV3TW9kZWw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTWVldGluZ3NWaWV3TW9kZWw7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbWVldGluZ3MvbWVldGluZ3Mtdmlldy1tb2RlbC5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL21lZXRpbmdzL21lZXRpbmdzLXZpZXctbW9kZWwuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3QgT2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIikuT2JzZXJ2YWJsZTtcbnZhciBPYnNlcnZhYmxlQXJyYXkgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlLWFycmF5XCIpLk9ic2VydmFibGVBcnJheTtcbnZhciBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xuXG5mdW5jdGlvbiBGYW1pbGlhcml0eUxldmVsVmlld01vZGVsKCkge1xuICAgIGNvbnN0IHZpZXdNb2RlbCA9IG5ldyBPYnNlcnZhYmxlTW9kdWxlKCk7XG4gICAgdmlld01vZGVsLkl0ZW1zID0gbmV3IE9ic2VydmFibGVBcnJheSgpO1xuICAgIHZpZXdNb2RlbC5MaXN0ID0gbmV3IE9ic2VydmFibGVBcnJheSgpO1xuXG4gICAgdmlld01vZGVsLmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGh0dHAucmVxdWVzdCh7XG4gICAgICAgICAgICB1cmw6IGdsb2JhbC5hcGlCYXNlU2VydmljZVVybCArIFwiZmFtaWxpYXJpdHlsZXZlbHNcIixcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiQXV0aG9yaXphdGlvblwiOiBnbG9iYWwudG9rZW4gfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmNvbnRlbnQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShyZXN1bHQpO1xuXG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oZmFtaWxpYXJpdHlMZXZlbCkge1xuICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5JdGVtcy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICBmYW1pbGlhcml0eUxldmVsLkxldmVsXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5MaXN0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBmYW1pbGlhcml0eUxldmVsSWQ6IGZhbWlsaWFyaXR5TGV2ZWwuRmFtaWxpYXJpdHlMZXZlbElkLFxuICAgICAgICAgICAgICAgICAgICBmYW1pbGlhcml0eUxldmVsOiBmYW1pbGlhcml0eUxldmVsLkxldmVsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZpZXdNb2RlbC5lbXB0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB3aGlsZSAodmlld01vZGVsLkl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgdmlld01vZGVsLkl0ZW1zLnBvcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKHZpZXdNb2RlbC5MaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgdmlld01vZGVsLkxpc3QucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHJldHVybiB2aWV3TW9kZWw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gRmFtaWxpYXJpdHlMZXZlbFZpZXdNb2RlbDs7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vcHJvZmlsZXMvcHJvZmlsZS9mYW1pbGlhcml0eWxldmVsLXZpZXctbW9kZWwuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9wcm9maWxlcy9wcm9maWxlL2ZhbWlsaWFyaXR5bGV2ZWwtdmlldy1tb2RlbC5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBSZWxhdGlvbnNoaXBUeXBlVmlld01vZGVsID0gcmVxdWlyZShcIi4vcmVsYXRpb25zaGlwdHlwZS12aWV3LW1vZGVsXCIpO1xuY29uc3QgRmFtaWxpYXJpdHlMZXZlbFZpZXdNb2RlbCA9IHJlcXVpcmUoXCIuL2ZhbWlsaWFyaXR5bGV2ZWwtdmlldy1tb2RlbFwiKTtcbmNvbnN0IHBsYXRmb3JtID0gcmVxdWlyZShcInBsYXRmb3JtXCIpO1xuY29uc3QgT2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgT2JzZXJ2YWJsZUFycmF5ID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZS1hcnJheVwiKS5PYnNlcnZhYmxlQXJyYXk7XG52YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xudmFyIGZyYW1lTW9kdWxlID0gcmVxdWlyZShcInVpL2ZyYW1lXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcbnZhciBlbWFpbCA9IHJlcXVpcmUoXCJuYXRpdmVzY3JpcHQtZW1haWxcIik7XG52YXIgcGhvbmUgPSByZXF1aXJlKFwibmF0aXZlc2NyaXB0LXBob25lXCIpO1xuXG52YXIgcGFnZTtcbnZhciBuYXZpZ2F0aW9uQ29udGV4dDtcblxudmFyIHJlbGF0aW9uc2hpcExpc3QgPSBuZXcgUmVsYXRpb25zaGlwVHlwZVZpZXdNb2RlbChbXSk7XG52YXIgZmFtaWxpYXJpdHlMaXN0ID0gbmV3IEZhbWlsaWFyaXR5TGV2ZWxWaWV3TW9kZWwoW10pO1xuXG52YXIgcmVsYXRpb25zaGlwSW5kZXggPSAwO1xudmFyIGZhbWlsaWFyaXR5SW5kZXggPSAwO1xuXG52YXIgcGFnZURhdGEgPSBuZXcgT2JzZXJ2YWJsZU1vZHVsZS5mcm9tT2JqZWN0KHtcbiAgICBib3VuZERhdGE6IG51bGwsXG4gICAgcmVsYXRpb25zaGlwSW5kZXg6IHJlbGF0aW9uc2hpcEluZGV4LFxuICAgIHJlbGF0aW9uc2hpcExpc3Q6IG51bGwsXG4gICAgZmFtaWxpYXJpdHlJbmRleDogZmFtaWxpYXJpdHlJbmRleCxcbiAgICBmYW1pbGlhcml0eUxpc3Q6IG51bGwsXG4gICAgaXNMb2FkaW5nOiBmYWxzZVxufSk7XG5cbmZ1bmN0aW9uIG9uTmF2aWdhdGluZ1RvKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBwYWdlID0gYXJncy5vYmplY3Q7XG5cbiAgICAgICAgbmF2aWdhdGlvbkNvbnRleHQgPSBwYWdlLm5hdmlnYXRpb25Db250ZXh0O1xuXG4gICAgICAgIHBhZ2UuYWN0aW9uQmFyLnRpdGxlID0gXCJQcm9maWxlXCI7XG5cbiAgICAgICAgaWYgKGFyZ3MuaXNCYWNrTmF2aWdhdGlvbikge1xuICAgICAgICAgICAgdmFyIHBlcnNvbkRldGFpbHMgPSBwYWdlLmdldFZpZXdCeUlkKFwicGVyc29uRGV0YWlsc1wiKTtcbiAgICAgICAgICAgIHZhciBmdWxsTmFtZUxhYmVsID0gcGFnZS5nZXRWaWV3QnlJZChcImZ1bGxOYW1lTGFiZWxcIik7XG4gICAgICAgICAgICB2YXIgY29tcGFueUxhYmVsID0gcGFnZS5nZXRWaWV3QnlJZChcImNvbXBhbnlMYWJlbFwiKTtcbiAgICAgICAgICAgIHZhciB0aXRsZUxhYmVsID0gcGFnZS5nZXRWaWV3QnlJZChcInRpdGxlTGFiZWxcIik7XG4gICAgICAgICAgICB2YXIgZW1haWxBZGRyZXNzQnV0dG9uID0gcGFnZS5nZXRWaWV3QnlJZChcImVtYWlsQWRkcmVzc0J1dHRvblwiKTtcbiAgICAgICAgICAgIHZhciB3b3JrUGhvbmVCdXR0b24gPSBwYWdlLmdldFZpZXdCeUlkKFwid29ya1Bob25lQnV0dG9uXCIpO1xuICAgICAgICAgICAgdmFyIHNlbGVjdFBlcnNvbiA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJzZWxlY3RQZXJzb25cIik7XG4gICAgICAgICAgICB2YXIgcmlnaHRBcnJvdyA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJyaWdodEFycm93XCIpO1xuXG4gICAgICAgICAgICBpZiAocGFnZURhdGEuYm91bmREYXRhLnBlcnNvbklkICE9PSBudWxsICYmIHBhZ2VEYXRhLmJvdW5kRGF0YS5wZXJzb25JZCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGZ1bGxOYW1lTGFiZWwudGV4dCA9IHBhZ2VEYXRhLmJvdW5kRGF0YS5mdWxsTmFtZTtcbiAgICAgICAgICAgICAgICBjb21wYW55TGFiZWwudGV4dCA9IHBhZ2VEYXRhLmJvdW5kRGF0YS5jb21wYW55O1xuICAgICAgICAgICAgICAgIHRpdGxlTGFiZWwudGV4dCA9IHBhZ2VEYXRhLmJvdW5kRGF0YS50aXRsZTtcbiAgICAgICAgICAgICAgICBlbWFpbEFkZHJlc3NCdXR0b24udGV4dCA9IHBhZ2VEYXRhLmJvdW5kRGF0YS5lbWFpbEFkZHJlc3M7XG4gICAgICAgICAgICAgICAgd29ya1Bob25lQnV0dG9uLnRleHQgPSBwYWdlRGF0YS5ib3VuZERhdGEud29ya1Bob25lO1xuXG4gICAgICAgICAgICAgICAgcGVyc29uRGV0YWlscy52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgICAgICAgICAgICAgc2VsZWN0UGVyc29uLnZpc2liaWxpdHkgPSBcImNvbGxhcHNlXCI7XG4gICAgICAgICAgICAgICAgcmlnaHRBcnJvdy52aXNpYmlsaXR5ID0gXCJjb2xsYXBzZVwiO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLmJvdW5kRGF0YS5lbWFpbEFkZHJlc3MgIT09IG51bGwgJiYgcGFnZURhdGEuYm91bmREYXRhLmVtYWlsQWRkcmVzcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtYWlsQWRkcmVzc0J1dHRvbi52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLmJvdW5kRGF0YS53b3JrUGhvbmUgIT09IG51bGwgJiYgcGFnZURhdGEuYm91bmREYXRhLndvcmtQaG9uZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHdvcmtQaG9uZUJ1dHRvbi52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEgPSBuYXZpZ2F0aW9uQ29udGV4dC5ib3VuZERhdGE7XG4gICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEucmVzdWx0ID0gXCJcIjtcblxuICAgICAgICAgICAgaWYgKGdsb2JhbC5yZWxhdGlvbnNoaXBMaXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICByZWxhdGlvbnNoaXBMaXN0LmxvYWQoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsLnJlbGF0aW9uc2hpcExpc3QgPSByZWxhdGlvbnNoaXBMaXN0O1xuXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnJlbGF0aW9uc2hpcExpc3QgPSBnbG9iYWwucmVsYXRpb25zaGlwTGlzdDtcblxuICAgICAgICAgICAgICAgICAgICByZWxhdGlvbnNoaXBJbmRleCA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLmJvdW5kRGF0YS5yZWxhdGlvbnNoaXBUeXBlSWQgIT09IG51bGwgJiYgcGFnZURhdGEuYm91bmREYXRhLnJlbGF0aW9uc2hpcFR5cGVJZC50b1N0cmluZygpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFnZURhdGEucmVsYXRpb25zaGlwTGlzdC5MaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLnJlbGF0aW9uc2hpcExpc3QuTGlzdC5nZXRJdGVtKGkpLnJlbGF0aW9uc2hpcFR5cGVJZCA9PT0gcGFnZURhdGEuYm91bmREYXRhLnJlbGF0aW9uc2hpcFR5cGVJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxhdGlvbnNoaXBJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEucmVsYXRpb25zaGlwSW5kZXggPSByZWxhdGlvbnNoaXBJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLnJlbGF0aW9uc2hpcFR5cGVJZCA9IHBhZ2VEYXRhLnJlbGF0aW9uc2hpcExpc3QuTGlzdC5nZXRJdGVtKHJlbGF0aW9uc2hpcEluZGV4KS5yZWxhdGlvbnNoaXBUeXBlSWQ7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5yZWxhdGlvbnNoaXBUeXBlID0gcGFnZURhdGEucmVsYXRpb25zaGlwTGlzdC5MaXN0LmdldEl0ZW0ocmVsYXRpb25zaGlwSW5kZXgpLnJlbGF0aW9uc2hpcFR5cGU7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGdsb2JhbC5mYW1pbGlhcml0eUxpc3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmFtaWxpYXJpdHlMaXN0LmxvYWQoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWwuZmFtaWxpYXJpdHlMaXN0ID0gZmFtaWxpYXJpdHlMaXN0O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEuZmFtaWxpYXJpdHlMaXN0ID0gZ2xvYmFsLmZhbWlsaWFyaXR5TGlzdDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbWlsaWFyaXR5SW5kZXggPSAwO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLmJvdW5kRGF0YS5mYW1pbGlhcml0eUxldmVsSWQgIT09IG51bGwgJiYgcGFnZURhdGEuYm91bmREYXRhLmZhbWlsaWFyaXR5TGV2ZWxJZC50b1N0cmluZygpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGo7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHBhZ2VEYXRhLmZhbWlsaWFyaXR5TGlzdC5MaXN0Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFnZURhdGEuZmFtaWxpYXJpdHlMaXN0Lkxpc3QuZ2V0SXRlbShqKS5mYW1pbGlhcml0eUxldmVsSWQgPT09IHBhZ2VEYXRhLmJvdW5kRGF0YS5mYW1pbGlhcml0eUxldmVsSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYW1pbGlhcml0eUluZGV4ID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VEYXRhLmZhbWlsaWFyaXR5SW5kZXggPSBmYW1pbGlhcml0eUluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5mYW1pbGlhcml0eUxldmVsSWQgPSBwYWdlRGF0YS5mYW1pbGlhcml0eUxpc3QuTGlzdC5nZXRJdGVtKGZhbWlsaWFyaXR5SW5kZXgpLmZhbWlsaWFyaXR5TGV2ZWxJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEuZmFtaWxpYXJpdHlMZXZlbCA9IHBhZ2VEYXRhLmZhbWlsaWFyaXR5TGlzdC5MaXN0LmdldEl0ZW0oZmFtaWxpYXJpdHlJbmRleCkuZmFtaWxpYXJpdHlMZXZlbDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VEYXRhLmZhbWlsaWFyaXR5TGlzdCA9IGdsb2JhbC5mYW1pbGlhcml0eUxpc3Q7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhbWlsaWFyaXR5SW5kZXggPSAwO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWdlRGF0YS5ib3VuZERhdGEuZmFtaWxpYXJpdHlMZXZlbElkICE9PSBudWxsICYmIHBhZ2VEYXRhLmJvdW5kRGF0YS5mYW1pbGlhcml0eUxldmVsSWQudG9TdHJpbmcoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGo7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBwYWdlRGF0YS5mYW1pbGlhcml0eUxpc3QuTGlzdC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFnZURhdGEuZmFtaWxpYXJpdHlMaXN0Lkxpc3QuZ2V0SXRlbShqKS5mYW1pbGlhcml0eUxldmVsSWQgPT09IHBhZ2VEYXRhLmJvdW5kRGF0YS5mYW1pbGlhcml0eUxldmVsSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbWlsaWFyaXR5SW5kZXggPSBqO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlRGF0YS5mYW1pbGlhcml0eUluZGV4ID0gZmFtaWxpYXJpdHlJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5mYW1pbGlhcml0eUxldmVsSWQgPSBwYWdlRGF0YS5mYW1pbGlhcml0eUxpc3QuTGlzdC5nZXRJdGVtKGZhbWlsaWFyaXR5SW5kZXgpLmZhbWlsaWFyaXR5TGV2ZWxJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5mYW1pbGlhcml0eUxldmVsID0gcGFnZURhdGEuZmFtaWxpYXJpdHlMaXN0Lkxpc3QuZ2V0SXRlbShmYW1pbGlhcml0eUluZGV4KS5mYW1pbGlhcml0eUxldmVsO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHBhZ2VEYXRhO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnJlbGF0aW9uc2hpcExpc3QgPSBnbG9iYWwucmVsYXRpb25zaGlwTGlzdDtcblxuICAgICAgICAgICAgICAgIHJlbGF0aW9uc2hpcEluZGV4ID0gMDtcblxuICAgICAgICAgICAgICAgIGlmIChwYWdlRGF0YS5ib3VuZERhdGEucmVsYXRpb25zaGlwVHlwZUlkICE9PSBudWxsICYmIHBhZ2VEYXRhLmJvdW5kRGF0YS5yZWxhdGlvbnNoaXBUeXBlSWQudG9TdHJpbmcoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWdlRGF0YS5yZWxhdGlvbnNoaXBMaXN0Lkxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWdlRGF0YS5yZWxhdGlvbnNoaXBMaXN0Lkxpc3QuZ2V0SXRlbShpKS5yZWxhdGlvbnNoaXBUeXBlSWQgPT09IHBhZ2VEYXRhLmJvdW5kRGF0YS5yZWxhdGlvbnNoaXBUeXBlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxhdGlvbnNoaXBJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwYWdlRGF0YS5yZWxhdGlvbnNoaXBJbmRleCA9IHJlbGF0aW9uc2hpcEluZGV4O1xuICAgICAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5yZWxhdGlvbnNoaXBUeXBlSWQgPSBwYWdlRGF0YS5yZWxhdGlvbnNoaXBMaXN0Lkxpc3QuZ2V0SXRlbShyZWxhdGlvbnNoaXBJbmRleCkucmVsYXRpb25zaGlwVHlwZUlkO1xuICAgICAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5yZWxhdGlvbnNoaXBUeXBlID0gcGFnZURhdGEucmVsYXRpb25zaGlwTGlzdC5MaXN0LmdldEl0ZW0ocmVsYXRpb25zaGlwSW5kZXgpLnJlbGF0aW9uc2hpcFR5cGU7XG5cbiAgICAgICAgICAgICAgICBwYWdlRGF0YS5mYW1pbGlhcml0eUxpc3QgPSBnbG9iYWwuZmFtaWxpYXJpdHlMaXN0O1xuXG4gICAgICAgICAgICAgICAgZmFtaWxpYXJpdHlJbmRleCA9IDA7XG5cbiAgICAgICAgICAgICAgICBpZiAocGFnZURhdGEuYm91bmREYXRhLmZhbWlsaWFyaXR5TGV2ZWxJZCAhPT0gbnVsbCAmJiBwYWdlRGF0YS5ib3VuZERhdGEuZmFtaWxpYXJpdHlMZXZlbElkLnRvU3RyaW5nKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgajtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgcGFnZURhdGEuZmFtaWxpYXJpdHlMaXN0Lkxpc3QubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWdlRGF0YS5mYW1pbGlhcml0eUxpc3QuTGlzdC5nZXRJdGVtKGopLmZhbWlsaWFyaXR5TGV2ZWxJZCA9PT0gcGFnZURhdGEuYm91bmREYXRhLmZhbWlsaWFyaXR5TGV2ZWxJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbWlsaWFyaXR5SW5kZXggPSBqO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcGFnZURhdGEuZmFtaWxpYXJpdHlJbmRleCA9IGZhbWlsaWFyaXR5SW5kZXg7XG4gICAgICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLmZhbWlsaWFyaXR5TGV2ZWxJZCA9IHBhZ2VEYXRhLmZhbWlsaWFyaXR5TGlzdC5MaXN0LmdldEl0ZW0oZmFtaWxpYXJpdHlJbmRleCkuZmFtaWxpYXJpdHlMZXZlbElkO1xuICAgICAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5mYW1pbGlhcml0eUxldmVsID0gcGFnZURhdGEuZmFtaWxpYXJpdHlMaXN0Lkxpc3QuZ2V0SXRlbShmYW1pbGlhcml0eUluZGV4KS5mYW1pbGlhcml0eUxldmVsO1xuXG4gICAgICAgICAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHBhZ2VEYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uTG9hZGVkKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgcmVsYXRpb25zaGlwTGlzdFBpY2tlciA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJyZWxhdGlvbnNoaXBMaXN0UGlja2VyXCIpO1xuICAgICAgICBcbiAgICAgICAgcmVsYXRpb25zaGlwTGlzdFBpY2tlci5vbihcInNlbGVjdGVkSW5kZXhDaGFuZ2VcIiwgZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgICAgdmFyIHJlbGF0aW9uc2hpcExhYmVsID0gcGFnZS5nZXRWaWV3QnlJZChcInJlbGF0aW9uc2hpcExhYmVsXCIpO1xuICAgICAgICAgICAgdmFyIHJlbGF0aW9uc2hpcEl0ZW0gPSBwYWdlRGF0YS5yZWxhdGlvbnNoaXBMaXN0Lkxpc3QuZ2V0SXRlbShhcmdzLm9iamVjdC5zZWxlY3RlZEluZGV4KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLnJlbGF0aW9uc2hpcFR5cGVJZCA9IHJlbGF0aW9uc2hpcEl0ZW0ucmVsYXRpb25zaGlwVHlwZUlkO1xuICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLnJlbGF0aW9uc2hpcFR5cGUgPSByZWxhdGlvbnNoaXBJdGVtLnJlbGF0aW9uc2hpcFR5cGU7XG5cbiAgICAgICAgICAgIHJlbGF0aW9uc2hpcExhYmVsLnRleHQgPSBwYWdlRGF0YS5ib3VuZERhdGEucmVsYXRpb25zaGlwVHlwZTtcbiAgICAgICAgICAgIC8vIGRpYWxvZ3MuYWxlcnQocmVsYXRpb25zaGlwSXRlbS5yZWxhdGlvbnNoaXBUeXBlSWQgKyBcIjogXCIgKyByZWxhdGlvbnNoaXBJdGVtLnJlbGF0aW9uc2hpcFR5cGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgZmFtaWxpYXJpdHlMaXN0UGlja2VyID0gcGFnZS5nZXRWaWV3QnlJZChcImZhbWlsaWFyaXR5TGlzdFBpY2tlclwiKTtcbiAgICAgICAgXG4gICAgICAgIGZhbWlsaWFyaXR5TGlzdFBpY2tlci5vbihcInNlbGVjdGVkSW5kZXhDaGFuZ2VcIiwgZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgICAgdmFyIGZhbWlsaWFyaXR5TGFiZWwgPSBwYWdlLmdldFZpZXdCeUlkKFwiZmFtaWxpYXJpdHlMYWJlbFwiKTtcbiAgICAgICAgICAgIHZhciBmYW1pbGlhcml0eUl0ZW0gPSBwYWdlRGF0YS5mYW1pbGlhcml0eUxpc3QuTGlzdC5nZXRJdGVtKGFyZ3Mub2JqZWN0LnNlbGVjdGVkSW5kZXgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEuZmFtaWxpYXJpdHlMZXZlbElkID0gZmFtaWxpYXJpdHlJdGVtLmZhbWlsaWFyaXR5TGV2ZWxJZDtcbiAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5mYW1pbGlhcml0eUxldmVsID0gZmFtaWxpYXJpdHlJdGVtLmZhbWlsaWFyaXR5TGV2ZWw7XG5cbiAgICAgICAgICAgIGZhbWlsaWFyaXR5TGFiZWwudGV4dCA9IHBhZ2VEYXRhLmJvdW5kRGF0YS5mYW1pbGlhcml0eUxldmVsO1xuICAgICAgICAgICAgLy8gZGlhbG9ncy5hbGVydChmYW1pbGlhcml0eUl0ZW0uZmFtaWxpYXJpdHlMZXZlbElkICsgXCI6IFwiICsgZmFtaWxpYXJpdHlJdGVtLmZhbWlsaWFyaXR5TGV2ZWwpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25CYWNrVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBkaXNtaXNzS2V5Ym9hcmQoKTtcblxuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkuZ29CYWNrKCk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkdyaWRMYXlvdXRUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGRpc21pc3NLZXlib2FyZCgpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KGUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25TZWxlY3Rpb25UYXAoYXJncykge1xuICAgIHRyeVxuICAgIHtcbiAgICAgICAgZGlzbWlzc0tleWJvYXJkKCk7XG5cbiAgICAgICAgLy8gT25seSBuYXZpZ2F0ZSBpZiB0aGlzIGlzIGEgbmV3IHJlbGF0aW9uc2hpcC5cbiAgICAgICAgaWYgKHBhZ2VEYXRhLmJvdW5kRGF0YS5wZXJzb25JZCA9PT0gbnVsbCB8fCBwYWdlRGF0YS5ib3VuZERhdGEucGVyc29uSWQgPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgICAgICAgICBtb2R1bGVOYW1lOiBcInByb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvcHJvZmlsZXNlYXJjaC1wYWdlXCIsXG4gICAgICAgICAgICAgICAgY29udGV4dDogcGFnZURhdGEuYm91bmREYXRhLFxuICAgICAgICAgICAgICAgIGNsZWFySGlzdG9yeTogZmFsc2VcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpOyBcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkVtYWlsVGFwKGFyZ3MpIHtcbiAgICBkaXNtaXNzS2V5Ym9hcmQoKTtcblxuICAgIHZhciBlbWFpbEJ1dHRvbiA9IGFyZ3Mub2JqZWN0O1xuICAgIHZhciBlbWFpbEFkZHJlc3MgPSBlbWFpbEJ1dHRvbi50ZXh0O1xuXG4gICAgZW1haWwuY29tcG9zZSh7XG4gICAgICAgIHRvOiBbZW1haWxBZGRyZXNzXVxuICAgIH0pXG59XG5cbmZ1bmN0aW9uIG9uUGhvbmVUYXAoYXJncykge1xuICAgIGRpc21pc3NLZXlib2FyZCgpO1xuXG4gICAgdmFyIHBob25lQnV0dG9uID0gYXJncy5vYmplY3Q7XG4gICAgdmFyIHBob25lTnVtYmVyID0gcGhvbmVCdXR0b24udGV4dDtcblxuICAgIHBob25lLmRpYWwocGhvbmVOdW1iZXIsIGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gb25TdGFja0xheW91dFJlbGF0aW9uc2hpcFRhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgZGlzbWlzc0tleWJvYXJkKCk7XG5cbiAgICAgICAgdmFyIHJlbGF0aW9uc2hpcExpc3RQaWNrZXJHcmlkTGF5b3V0ID0gcGFnZS5nZXRWaWV3QnlJZChcInJlbGF0aW9uc2hpcExpc3RQaWNrZXJHcmlkTGF5b3V0XCIpO1xuICAgICAgICB2YXIgZmFtaWxpYXJpdHlMaXN0UGlja2VyR3JpZExheW91dCA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJmYW1pbGlhcml0eUxpc3RQaWNrZXJHcmlkTGF5b3V0XCIpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHJlbGF0aW9uc2hpcExpc3RQaWNrZXJHcmlkTGF5b3V0LnZpc2liaWxpdHkgPT09IFwiY29sbGFwc2VcIikge1xuICAgICAgICAgICAgcmVsYXRpb25zaGlwTGlzdFBpY2tlckdyaWRMYXlvdXQudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuICAgICAgICAgICAgZmFtaWxpYXJpdHlMaXN0UGlja2VyR3JpZExheW91dC52aXNpYmlsaXR5ID0gXCJjb2xsYXBzZVwiO1xuXG4gICAgICAgICAgICBwYWdlLmFkZENzcyhcIiNyZWxhdGlvbnNoaXBMYWJlbCB7Y29sb3I6ICNjYzJkMzA7fVwiKTtcbiAgICAgICAgICAgIHBhZ2UuYWRkQ3NzKFwiI2ZhbWlsaWFyaXR5TGFiZWwge2NvbG9yOiAjNjY2O31cIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWxhdGlvbnNoaXBMaXN0UGlja2VyR3JpZExheW91dC52aXNpYmlsaXR5ID0gXCJjb2xsYXBzZVwiO1xuXG4gICAgICAgICAgICBwYWdlLmFkZENzcyhcIiNyZWxhdGlvbnNoaXBMYWJlbCB7Y29sb3I6ICM2NjY7fVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblN0YWNrTGF5b3V0RmFtaWxpYXJpdHlUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGRpc21pc3NLZXlib2FyZCgpO1xuXG4gICAgICAgIHZhciByZWxhdGlvbnNoaXBMaXN0UGlja2VyR3JpZExheW91dCA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJyZWxhdGlvbnNoaXBMaXN0UGlja2VyR3JpZExheW91dFwiKTtcbiAgICAgICAgdmFyIGZhbWlsaWFyaXR5TGlzdFBpY2tlckdyaWRMYXlvdXQgPSBwYWdlLmdldFZpZXdCeUlkKFwiZmFtaWxpYXJpdHlMaXN0UGlja2VyR3JpZExheW91dFwiKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChmYW1pbGlhcml0eUxpc3RQaWNrZXJHcmlkTGF5b3V0LnZpc2liaWxpdHkgPT09IFwiY29sbGFwc2VcIikge1xuICAgICAgICAgICAgcmVsYXRpb25zaGlwTGlzdFBpY2tlckdyaWRMYXlvdXQudmlzaWJpbGl0eSA9IFwiY29sbGFwc2VcIjtcbiAgICAgICAgICAgIGZhbWlsaWFyaXR5TGlzdFBpY2tlckdyaWRMYXlvdXQudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuXG4gICAgICAgICAgICBwYWdlLmFkZENzcyhcIiNyZWxhdGlvbnNoaXBMYWJlbCB7Y29sb3I6ICM2NjY7fVwiKTtcbiAgICAgICAgICAgIHBhZ2UuYWRkQ3NzKFwiI2ZhbWlsaWFyaXR5TGFiZWwge2NvbG9yOiAjY2MyZDMwO31cIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmYW1pbGlhcml0eUxpc3RQaWNrZXJHcmlkTGF5b3V0LnZpc2liaWxpdHkgPSBcImNvbGxhcHNlXCI7XG5cbiAgICAgICAgICAgIHBhZ2UuYWRkQ3NzKFwiI2ZhbWlsaWFyaXR5TGFiZWwge2NvbG9yOiAjNjY2O31cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25UZXh0Vmlld0ZvY3VzKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgcmVsYXRpb25zaGlwTGlzdFBpY2tlckdyaWRMYXlvdXQgPSBwYWdlLmdldFZpZXdCeUlkKFwicmVsYXRpb25zaGlwTGlzdFBpY2tlckdyaWRMYXlvdXRcIik7XG4gICAgICAgIHZhciBmYW1pbGlhcml0eUxpc3RQaWNrZXJHcmlkTGF5b3V0ID0gcGFnZS5nZXRWaWV3QnlJZChcImZhbWlsaWFyaXR5TGlzdFBpY2tlckdyaWRMYXlvdXRcIik7XG5cbiAgICAgICAgcmVsYXRpb25zaGlwTGlzdFBpY2tlckdyaWRMYXlvdXQudmlzaWJpbGl0eSA9IFwiY29sbGFwc2VcIjtcbiAgICAgICAgZmFtaWxpYXJpdHlMaXN0UGlja2VyR3JpZExheW91dC52aXNpYmlsaXR5ID0gXCJjb2xsYXBzZVwiO1xuXG4gICAgICAgIHBhZ2UuYWRkQ3NzKFwiI3JlbGF0aW9uc2hpcExhYmVsIHtjb2xvcjogIzY2Njt9XCIpO1xuICAgICAgICBwYWdlLmFkZENzcyhcIiNmYW1pbGlhcml0eUxhYmVsIHtjb2xvcjogIzY2Njt9XCIpO1xuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblNhdmVUYXAoYXJncykge1xuICAgIGRpc21pc3NLZXlib2FyZCgpO1xuXG4gICAgaWYgKHBhZ2VEYXRhLmJvdW5kRGF0YS5wZXJzb25JZCA9PT0gbnVsbCB8fCBwYWdlRGF0YS5ib3VuZERhdGEucGVyc29uSWQgPT09IDApIHtcbiAgICAgICAgdmFyIGxhYmVsO1xuXG4gICAgICAgIGlmIChuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsVHlwZSA9PT0gXCJsZWdpc2xhdG9yXCIpIHtcbiAgICAgICAgICAgIGxhYmVsID0gXCJyZWxhdGlvbnNoaXBcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxhYmVsID0gXCJhdHRlbmRlZVwiO1xuICAgICAgICB9XG5cbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJJbnB1dCBWYWxpZGF0aW9uXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBcIkEgcGVyc29uIG11c3QgYmUgc2VsZWN0ZWQgcHJpb3IgdG8gc2F2aW5nIHRoaXMgXCIgKyBsYWJlbCArIFwiLlwiLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJlbGF0aW9uc2hpcExpc3RQaWNrZXIgPSBwYWdlLmdldFZpZXdCeUlkKFwicmVsYXRpb25zaGlwTGlzdFBpY2tlclwiKTtcblxuICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEucmVsYXRpb25zaGlwVHlwZUlkID0gcGFnZURhdGEucmVsYXRpb25zaGlwTGlzdC5MaXN0LmdldEl0ZW0ocmVsYXRpb25zaGlwTGlzdFBpY2tlci5zZWxlY3RlZEluZGV4KS5yZWxhdGlvbnNoaXBUeXBlSWQ7XG4gICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5yZWxhdGlvbnNoaXBUeXBlID0gcGFnZURhdGEucmVsYXRpb25zaGlwTGlzdC5MaXN0LmdldEl0ZW0ocmVsYXRpb25zaGlwTGlzdFBpY2tlci5zZWxlY3RlZEluZGV4KS5yZWxhdGlvbnNoaXBUeXBlO1xuXG4gICAgICAgIHZhciBmYW1pbGlhcml0eUxpc3RQaWNrZXIgPSBwYWdlLmdldFZpZXdCeUlkKFwiZmFtaWxpYXJpdHlMaXN0UGlja2VyXCIpO1xuXG4gICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5mYW1pbGlhcml0eUxldmVsSWQgPSBwYWdlRGF0YS5mYW1pbGlhcml0eUxpc3QuTGlzdC5nZXRJdGVtKGZhbWlsaWFyaXR5TGlzdFBpY2tlci5zZWxlY3RlZEluZGV4KS5mYW1pbGlhcml0eUxldmVsSWQ7XG4gICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5mYW1pbGlhcml0eUxldmVsID0gcGFnZURhdGEuZmFtaWxpYXJpdHlMaXN0Lkxpc3QuZ2V0SXRlbShmYW1pbGlhcml0eUxpc3RQaWNrZXIuc2VsZWN0ZWRJbmRleCkuZmFtaWxpYXJpdHlMZXZlbDtcbiAgICAgICAgXG4gICAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuXG4gICAgICAgIGh0dHAucmVxdWVzdCh7XG4gICAgICAgICAgICB1cmw6IGdsb2JhbC5hcGlCYXNlU2VydmljZVVybCArIFwidXBkYXRlcHJvZmlsZXJlbGF0aW9uc2hpcFwiLFxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiQXV0aG9yaXphdGlvblwiOiBnbG9iYWwudG9rZW4gfSxcbiAgICAgICAgICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KHBhZ2VEYXRhLmJvdW5kRGF0YSlcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIC8vIHJlc3VsdCA9IHJlc3BvbnNlLmNvbnRlbnQudG9KU09OKCk7XG4gICAgICAgICAgICAvLyBkaWFsb2dzLmFsZXJ0KHJlc3VsdCk7XG4gICAgICAgICAgICAvLyBkaWFsb2dzLmFsZXJ0KHBhZ2VEYXRhLmJvdW5kRGF0YS5yZXNwb25zZUlkICsgXCI6IFwiICsgcGFnZURhdGEuYm91bmREYXRhLnJlc3BvbnNlKTtcblxuICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLnJlc3VsdCA9IFwiVXBkYXRlXCI7XG5cbiAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5nb0JhY2soKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkaXNtaXNzS2V5Ym9hcmQoKSB7XG4gICAgaWYgKHBsYXRmb3JtLmlzQW5kcm9pZCkge1xuICAgICAgICB2YXIgbm90ZXMgPSBwYWdlLmdldFZpZXdCeUlkKFwibm90ZXNcIik7XG5cbiAgICAgICAgbm90ZXMuZGlzbWlzc1NvZnRJbnB1dCgpO1xuICAgIH1cbn1cblxuZXhwb3J0cy5vbk5hdmlnYXRpbmdUbyA9IG9uTmF2aWdhdGluZ1RvO1xuZXhwb3J0cy5vbkxvYWRlZCA9IG9uTG9hZGVkO1xuZXhwb3J0cy5vbkJhY2tUYXAgPSBvbkJhY2tUYXA7XG5leHBvcnRzLm9uR3JpZExheW91dFRhcCA9IG9uR3JpZExheW91dFRhcDtcbmV4cG9ydHMub25TZWxlY3Rpb25UYXAgPSBvblNlbGVjdGlvblRhcDtcbmV4cG9ydHMub25FbWFpbFRhcCA9IG9uRW1haWxUYXA7XG5leHBvcnRzLm9uUGhvbmVUYXAgPSBvblBob25lVGFwO1xuZXhwb3J0cy5vblN0YWNrTGF5b3V0UmVsYXRpb25zaGlwVGFwID0gb25TdGFja0xheW91dFJlbGF0aW9uc2hpcFRhcDtcbmV4cG9ydHMub25TdGFja0xheW91dEZhbWlsaWFyaXR5VGFwID0gb25TdGFja0xheW91dEZhbWlsaWFyaXR5VGFwO1xuZXhwb3J0cy5vblRleHRWaWV3Rm9jdXMgPSBvblRleHRWaWV3Rm9jdXM7XG5leHBvcnRzLm9uU2F2ZVRhcCA9IG9uU2F2ZVRhcDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9wcm9maWxlcy9wcm9maWxlL3Byb2ZpbGUtcGFnZS5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL3Byb2ZpbGVzL3Byb2ZpbGUvcHJvZmlsZS1wYWdlLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxubW9kdWxlLmV4cG9ydHMgPSBcIjxQYWdlIG5hdmlnYXRpbmdUbz1cXFwib25OYXZpZ2F0aW5nVG9cXFwiIGxvYWRlZD1cXFwib25Mb2FkZWRcXFwiIGNsYXNzPVxcXCJwYWdlXFxcIiB4bWxucz1cXFwiaHR0cDovL3NjaGVtYXMubmF0aXZlc2NyaXB0Lm9yZy90bnMueHNkXFxcIiA+XFxuICAgIDxBY3Rpb25CYXIgY2xhc3M9XFxcImFjdGlvbi1iYXJcXFwiPlxcbiAgICAgICAgPGFuZHJvaWQ+XFxuICAgICAgICAgICAgPE5hdmlnYXRpb25CdXR0b24gYW5kcm9pZC5zeXN0ZW1JY29uPVxcXCJpY19tZW51X2JhY2tcXFwiIHRhcD1cXFwib25CYWNrVGFwXFxcIiAvPlxcbiAgICAgICAgPC9hbmRyb2lkPlxcbiAgICAgICAgPEFjdGlvbkl0ZW0gdGFwPVxcXCJvblNhdmVUYXBcXFwiIGlvcy5zeXN0ZW1JY29uPVxcXCIzXFxcIiBhbmRyb2lkLnN5c3RlbUljb249XFxcImljX21lbnVfc2F2ZVxcXCIgaW9zLnBvc2l0aW9uPVxcXCJyaWdodFxcXCIgLz5cXG4gICAgPC9BY3Rpb25CYXI+XFxuXFxuICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcIipcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiIHRhcD1cXFwib25HcmlkTGF5b3V0VGFwXFxcIj5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcInRvcFxcXCI+XFxuICAgICAgICAgICAgPFN0YWNrTGF5b3V0IGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKiwgYXV0b1xcXCIgcm93cz1cXFwiYXV0b1xcXCIgdGFwPVxcXCJvblNlbGVjdGlvblRhcFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcIm1pZGRsZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgaWQ9XFxcInBlcnNvbkRldGFpbHNcXFwiIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB2aXNpYmlsaXR5PVxcXCJ7eyBib3VuZERhdGEucGVyc29uSWQgPT09IG51bGwgfHwgYm91bmREYXRhLnBlcnNvbklkID09PSAwID8gJ2NvbGxhcHNlJyA6ICd2aXNpYmxlJyB9fVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJmdWxsTmFtZUxhYmVsXFxcIiB0ZXh0PVxcXCJ7eyBib3VuZERhdGEuZnVsbE5hbWUgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1tYWluLXRvcFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImNvbXBhbnlMYWJlbFxcXCIgdGV4dD1cXFwie3sgYm91bmREYXRhLmNvbXBhbnkgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1zdWJcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJ0aXRsZUxhYmVsXFxcIiB0ZXh0PVxcXCJ7eyBib3VuZERhdGEudGl0bGUgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1zdWJcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJlbWFpbEFkZHJlc3NCdXR0b25cXFwiIHRleHQ9XFxcInt7IGJvdW5kRGF0YS5lbWFpbEFkZHJlc3MgfX1cXFwiIHRhcD1cXFwib25FbWFpbFRhcFxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwibGVmdFxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1Yi1lbWFpbFxcXCIgXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk9XFxcInt7IGJvdW5kRGF0YS5lbWFpbEFkZHJlc3MgIT09IG51bGwgJmFtcDsmYW1wOyBib3VuZERhdGEuZW1haWxBZGRyZXNzLmxlbmd0aCA+IDAgPyAndmlzaWJsZScgOiAnY29sbGFwc2UnIH19XFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwid29ya1Bob25lQnV0dG9uXFxcIiB0ZXh0PVxcXCJ7eyBib3VuZERhdGEud29ya1Bob25lIH19XFxcIiB0YXA9XFxcIm9uUGhvbmVUYXBcXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImxlZnRcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1zdWItcGhvbmVcXFwiIFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5PVxcXCJ7eyBib3VuZERhdGEud29ya1Bob25lICE9PSBudWxsICZhbXA7JmFtcDsgYm91bmREYXRhLndvcmtQaG9uZS5sZW5ndGggPiAwID8gJ3Zpc2libGUnIDogJ2NvbGxhcHNlJyB9fVxcXCIvPlxcbiAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgICAgIDxTdGFja0xheW91dCBpZD1cXFwic2VsZWN0UGVyc29uXFxcIiByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdmlzaWJpbGl0eT1cXFwie3sgYm91bmREYXRhLnBlcnNvbklkICE9PSBudWxsICZhbXA7JmFtcDsgYm91bmREYXRhLnBlcnNvbklkICE9PSAwID8gJ2NvbGxhcHNlJyA6ICd2aXNpYmxlJyB9fVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcIlNlbGVjdCBQZXJzb25cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1sZWZ0XFxcIiBzdHlsZT1cXFwiY29sb3I6ICM5OTk7IGZvbnQtc3R5bGU6IGl0YWxpYztcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJyaWdodEFycm93XFxcIiByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwiJiN4ZjEwNTtcXFwiIGNsYXNzPVxcXCJmbi1saXN0LXZpZXctaXRlbVxcXCIgdmlzaWJpbGl0eT1cXFwie3sgYm91bmREYXRhLnBlcnNvbklkICE9PSBudWxsICZhbXA7JmFtcDsgYm91bmREYXRhLnBlcnNvbklkICE9PSAwID8gJ2NvbGxhcHNlJyA6ICd2aXNpYmxlJyB9fVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHRhcD1cXFwib25TdGFja0xheW91dFJlbGF0aW9uc2hpcFRhcFxcXCIgdmlzaWJpbGl0eT1cXFwie3sgYm91bmREYXRhLnJlbGF0aW9uYWxUeXBlID09PSAnbGVnaXNsYXRvcicgPyAndmlzaWJsZScgOiAnY29sbGFwc2UnIH19XFxcIj5cXG4gICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKiwgYXV0b1xcXCIgcm93cz1cXFwiYXV0b1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJSZWxhdGlvbnNoaXBcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1sZWZ0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJyZWxhdGlvbnNoaXBMYWJlbFxcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IGJvdW5kRGF0YS5yZWxhdGlvbnNoaXBUeXBlIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tcmlnaHRcXFwiIC8+XFxuICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgIDxHcmlkTGF5b3V0IGlkPVxcXCJyZWxhdGlvbnNoaXBMaXN0UGlja2VyR3JpZExheW91dFxcXCIgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiYXV0b1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiIHZpc2liaWxpdHk9XFxcImNvbGxhcHNlXFxcIj5cXG4gICAgICAgICAgICAgICAgPExpc3RQaWNrZXIgaWQ9XFxcInJlbGF0aW9uc2hpcExpc3RQaWNrZXJcXFwiIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiBpdGVtcz1cXFwie3sgcmVsYXRpb25zaGlwTGlzdC5JdGVtcyB9fVxcXCIgc2VsZWN0ZWRJbmRleD1cXFwie3sgcmVsYXRpb25zaGlwSW5kZXggfX1cXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIj48L0xpc3RQaWNrZXI+XFxuICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgIDxTdGFja0xheW91dCB0YXA9XFxcIm9uU3RhY2tMYXlvdXRGYW1pbGlhcml0eVRhcFxcXCIgdmlzaWJpbGl0eT1cXFwie3sgYm91bmREYXRhLnJlbGF0aW9uYWxUeXBlID09PSAnbGVnaXNsYXRvcicgPyAndmlzaWJsZScgOiAnY29sbGFwc2UnIH19XFxcIj5cXG4gICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKiwgYXV0b1xcXCIgcm93cz1cXFwiYXV0b1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJLbm93cyBIb3cgV2VsbD9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1sZWZ0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJmYW1pbGlhcml0eUxhYmVsXFxcIiByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwie3sgYm91bmREYXRhLmZhbWlsaWFyaXR5TGV2ZWwgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1yaWdodFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgPEdyaWRMYXlvdXQgaWQ9XFxcImZhbWlsaWFyaXR5TGlzdFBpY2tlckdyaWRMYXlvdXRcXFwiIGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIiB2aXNpYmlsaXR5PVxcXCJjb2xsYXBzZVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMaXN0UGlja2VyIGlkPVxcXCJmYW1pbGlhcml0eUxpc3RQaWNrZXJcXFwiIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiBpdGVtcz1cXFwie3sgZmFtaWxpYXJpdHlMaXN0Lkl0ZW1zIH19XFxcIiBzZWxlY3RlZEluZGV4PVxcXCJ7eyBmYW1pbGlhcml0eUluZGV4IH19XFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1yaWdodFxcXCI+PC9MaXN0UGlja2VyPlxcbiAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICA8IS0tIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJOb3Rlc1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgPC9HcmlkTGF5b3V0PiAtLT5cXG4gICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCIqXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCI+XFxuICAgICAgICAgICAgICAgIDxUZXh0VmlldyBpZD1cXFwibm90ZXNcXFwiIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJ7eyBib3VuZERhdGEubm90ZXMgfX1cXFwiIGZvY3VzPVxcXCJvblRleHRWaWV3Rm9jdXNcXFwiIGhpbnQ9XFxcIk5vdGVzXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tdGV4dHZpZXdcXFwiIC8+XFxuICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgIDxBY3Rpdml0eUluZGljYXRvciBidXN5PVxcXCJ7eyBpc0xvYWRpbmcgfX1cXFwiIGFuZHJvaWQ6aGVpZ2h0PVxcXCIyNSVcXFwiIGFuZHJvaWQ6d2lkdGg9XFxcIjI1JVxcXCIgaW9zLmFjdGl2aXR5SW5kaWNhdG9yVmlld1N0eWxlPVxcXCJ3aGl0ZUxhcmdlXFxcIiByb3dTcGFuPVxcXCIxXFxcIiBjb2xTcGFuPVxcXCIxXFxcIiAvPlxcbiAgICA8L0dyaWRMYXlvdXQ+XFxuPC9QYWdlPlxcblwiOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL3Byb2ZpbGVzL3Byb2ZpbGUvcHJvZmlsZS1wYWdlLnhtbFwiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJtYXJrdXBcIiwgcGF0aDogXCIuL3Byb2ZpbGVzL3Byb2ZpbGUvcHJvZmlsZS1wYWdlLnhtbFwiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBPYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKS5PYnNlcnZhYmxlO1xudmFyIE9ic2VydmFibGVBcnJheSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGUtYXJyYXlcIikuT2JzZXJ2YWJsZUFycmF5O1xudmFyIGh0dHAgPSByZXF1aXJlKFwiaHR0cFwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG5cbmZ1bmN0aW9uIFJlbGF0aW9uc2hpcFR5cGVWaWV3TW9kZWwoKSB7XG4gICAgY29uc3Qgdmlld01vZGVsID0gbmV3IE9ic2VydmFibGVNb2R1bGUoKTtcbiAgICB2aWV3TW9kZWwuSXRlbXMgPSBuZXcgT2JzZXJ2YWJsZUFycmF5KCk7XG4gICAgdmlld01vZGVsLkxpc3QgPSBuZXcgT2JzZXJ2YWJsZUFycmF5KCk7XG5cbiAgICB2aWV3TW9kZWwubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaHR0cC5yZXF1ZXN0KHtcbiAgICAgICAgICAgIHVybDogZ2xvYmFsLmFwaUJhc2VTZXJ2aWNlVXJsICsgXCJyZWxhdGlvbnNoaXB0eXBlc1wiLFxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiwgXCJBdXRob3JpemF0aW9uXCI6IGdsb2JhbC50b2tlbiB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzcG9uc2UuY29udGVudC50b1N0cmluZygpO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHJlc3VsdCk7XG5cbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihyZWxhdGlvbnNoaXBUeXBlKSB7XG4gICAgICAgICAgICAgICAgdmlld01vZGVsLkl0ZW1zLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uc2hpcFR5cGUuVHlwZVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICB2aWV3TW9kZWwuTGlzdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25zaGlwVHlwZUlkOiByZWxhdGlvbnNoaXBUeXBlLlJlbGF0aW9uc2hpcFR5cGVJZCxcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25zaGlwVHlwZTogcmVsYXRpb25zaGlwVHlwZS5UeXBlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZpZXdNb2RlbC5lbXB0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB3aGlsZSAodmlld01vZGVsLkl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgdmlld01vZGVsLkl0ZW1zLnBvcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKHZpZXdNb2RlbC5MaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgdmlld01vZGVsLkxpc3QucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHJldHVybiB2aWV3TW9kZWw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUmVsYXRpb25zaGlwVHlwZVZpZXdNb2RlbDs7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vcHJvZmlsZXMvcHJvZmlsZS9yZWxhdGlvbnNoaXB0eXBlLXZpZXctbW9kZWwuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9wcm9maWxlcy9wcm9maWxlL3JlbGF0aW9uc2hpcHR5cGUtdmlldy1tb2RlbC5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBQcm9maWxlc1ZpZXdNb2RlbCA9IHJlcXVpcmUoXCIuL3Byb2ZpbGVzLXZpZXctbW9kZWxcIik7XG5jb25zdCBwbGF0Zm9ybSA9IHJlcXVpcmUoXCJwbGF0Zm9ybVwiKTtcbmNvbnN0IE9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpO1xudmFyIGdlc3R1cmVzID0gcmVxdWlyZShcInVpL2dlc3R1cmVzXCIpO1xudmFyIGh0dHAgPSByZXF1aXJlKFwiaHR0cFwiKTtcbnZhciBmcmFtZU1vZHVsZSA9IHJlcXVpcmUoXCJ1aS9mcmFtZVwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG5cbmNvbnN0IE1JTl9YID0gLTgwO1xuY29uc3QgTUFYX1ggPSAwO1xuY29uc3QgVEhSRVNIT0xEID0gMC41O1xuXG52YXIgc3dpcGVPcGVuID0gZmFsc2U7XG52YXIgc3dpcGVkSXRlbTtcblxudmFyIGlzU2Nyb2xsaW5nID0gZmFsc2U7XG52YXIgaXNTd2lwaW5nID0gZmFsc2U7XG5cbnZhciBwYWdlO1xudmFyIG1vZGVsO1xudmFyIG5hdmlnYXRpb25Db250ZXh0O1xuXG52YXIgcHJvZmlsZXNMaXN0ID0gbmV3IFByb2ZpbGVzVmlld01vZGVsKFtdKTtcblxudmFyIHBhZ2VEYXRhID0gbmV3IE9ic2VydmFibGVNb2R1bGUuZnJvbU9iamVjdCh7XG4gICAgYm91bmREYXRhOiBudWxsLFxuICAgIHByb2ZpbGVzTGlzdDogcHJvZmlsZXNMaXN0LFxuICAgIGlzTG9hZGluZzogZmFsc2Vcbn0pO1xuXG5mdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICBcbiAgICAgICAgaWYgKGFyZ3MuaXNCYWNrTmF2aWdhdGlvbikge1xuICAgICAgICAgICAgcHJvZmlsZXNMaXN0LmVtcHR5KCk7XG5cbiAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcbiAgICBcbiAgICAgICAgICAgIHByb2ZpbGVzTGlzdC5sb2FkKG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxUeXBlLCBuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsSWQpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG4gICAgXG4gICAgICAgICAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHBhZ2VEYXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuYXZpZ2F0aW9uQ29udGV4dCA9IHBhZ2UubmF2aWdhdGlvbkNvbnRleHQ7XG5cbiAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YSA9IG5hdmlnYXRpb25Db250ZXh0O1xuICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLnVwZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGxlZ2lzbGF0b3JJZCA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJsZWdpc2xhdG9ySWRcIik7XG4gICAgICAgICAgICB2YXIgbGVnaXNsYXRvck5hbWUgPSBwYWdlLmdldFZpZXdCeUlkKFwibGVnaXNsYXRvck5hbWVcIik7XG4gICAgICAgIFxuICAgICAgICAgICAgbGVnaXNsYXRvcklkLnRleHQgPSBuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsSWQ7XG4gICAgICAgICAgICBsZWdpc2xhdG9yTmFtZS50ZXh0ID0gbmF2aWdhdGlvbkNvbnRleHQuZnVsbE5hbWU7XG4gICAgICAgIFxuICAgICAgICAgICAgaWYgKG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxUeXBlID09PSBcImxlZ2lzbGF0b3JcIikge1xuICAgICAgICAgICAgICAgIHBhZ2UuYWN0aW9uQmFyLnRpdGxlID0gXCJSZWxhdGlvbnNoaXBzXCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhZ2UuYWN0aW9uQmFyLnRpdGxlID0gXCJBUENJQSBBdHRlbmRlZXNcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcHJvZmlsZXNMaXN0LmVtcHR5KCk7XG4gICAgICAgIFxuICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuICAgICAgICBcbiAgICAgICAgICAgIHByb2ZpbGVzTGlzdC5sb2FkKG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxUeXBlLCBuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsSWQpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25JdGVtTG9hZGluZyhhcmdzKSB7XG4gICAgaWYgKHBsYXRmb3JtLmlzSU9TKSB7XG4gICAgICAgIHZhciBjZWxsID0gYXJncy5pb3M7XG5cbiAgICAgICAgY2VsbC5zZWxlY3Rpb25TdHlsZSA9IFVJVGFibGVWaWV3Q2VsbFNlbGVjdGlvblN0eWxlLlVJVGFibGVWaWV3Q2VsbFNlbGVjdGlvblN0eWxlTm9uZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uSXRlbVRhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHBsYXRmb3JtLmlzSU9TKSB7XG4gICAgICAgICAgICBpZiAoc3dpcGVPcGVuKSB7XG4gICAgICAgICAgICAgICAgc3dpcGVkSXRlbS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgc3dpcGVPcGVuID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB2aWV3ID0gYXJncy52aWV3O1xuXG4gICAgICAgICAgICAgICAgbW9kZWwgPSB2aWV3LmJpbmRpbmdDb250ZXh0O1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGVOYW1lOiBcInByb2ZpbGVzL3Byb2ZpbGUvcHJvZmlsZS1wYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHsgXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxhdGlvbmFsVHlwZTogbmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbFR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxhdGlvbmFsSWQ6IG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kRGF0YTogbW9kZWxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJIaXN0b3J5OiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkubmF2aWdhdGUobmF2aWdhdGlvbkVudHJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkFkZFRhcChhcmdzKSB7XG4gICAgdHJ5XG4gICAge1xuICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEudXBkYXRlZCA9IHRydWU7XG5cbiAgICAgICAgdmFyIG1vZGVsID0ge1xuICAgICAgICAgICAgcmVsYXRpb25hbFR5cGU6IG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxUeXBlLFxuICAgICAgICAgICAgcmVsYXRpb25hbElkOiBuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsSWQsXG4gICAgICAgICAgICBwZXJzb25JZDogMCxcbiAgICAgICAgICAgIGZ1bGxOYW1lOiBudWxsLFxuICAgICAgICAgICAgY29tcGFueTogbnVsbCxcbiAgICAgICAgICAgIHRpdGxlOiBudWxsLFxuICAgICAgICAgICAgd29ya1Bob25lOiBudWxsLFxuICAgICAgICAgICAgZW1haWxBZGRyZXNzOiBudWxsLFxuICAgICAgICAgICAgcmVsYXRpb25zaGlwVHlwZUlkOiBudWxsLFxuICAgICAgICAgICAgcmVsYXRpb25zaGlwVHlwZTogbnVsbCxcbiAgICAgICAgICAgIGZhbWlsaWFyaXR5TGV2ZWxJZDogbnVsbCxcbiAgICAgICAgICAgIGZhbWlsaWFyaXR5TGV2ZWw6IG51bGwsXG4gICAgICAgICAgICBub3RlczogbnVsbCxcbiAgICAgICAgICAgIG1vZGlmaWVkRGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIGNoZWNrZWQ6IGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgICAgICBtb2R1bGVOYW1lOiBcInByb2ZpbGVzL3Byb2ZpbGUvcHJvZmlsZS1wYWdlXCIsXG4gICAgICAgICAgICBjb250ZXh0OiB7IFxuICAgICAgICAgICAgICAgIHJlbGF0aW9uYWxUeXBlOiBuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsVHlwZSxcbiAgICAgICAgICAgICAgICByZWxhdGlvbmFsSWQ6IG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxJZCxcbiAgICAgICAgICAgICAgICBib3VuZERhdGE6IG1vZGVsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xlYXJIaXN0b3J5OiBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkJhY2tUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5nb0JhY2soKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydChlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uRGVsZXRlQ2xpY2soYXJncykge1xuICAgIHZhciBwcm9maWxlVHlwZTtcblxuICAgIGlmIChuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsVHlwZSA9PT0gXCJsZWdpc2xhdG9yXCIpIHtcbiAgICAgICAgcHJvZmlsZVR5cGUgPSBcIlJlbGF0aW9uc2hpcFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2ZpbGVUeXBlID0gXCJBdHRlbmRlZVwiO1xuICAgIH1cbiAgICBcbiAgICBpZiAocGxhdGZvcm0uaXNBbmRyb2lkKSB7XG4gICAgICAgIGRpYWxvZ3MuY29uZmlybSh7XG4gICAgICAgICAgICB0aXRsZTogXCJEZWxldGVcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IHByb2ZpbGVUeXBlICsgXCIgd2lsbCBiZSBkZWxldGVkLiBEZWxldGU/XCIsXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiWWVzXCIsXG4gICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBcIk5vXCJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHZpZXcgPSBhcmdzLm9iamVjdDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2aWV3LmJpbmRpbmdDb250ZXh0LmNoZWNrZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGh0dHAucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogZ2xvYmFsLmFwaUJhc2VTZXJ2aWNlVXJsICsgXCJpbnNlcnRkZWxldGVwcm9maWxlcmVsYXRpb25zaGlwXCIsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiQXV0aG9yaXphdGlvblwiOiBnbG9iYWwudG9rZW4gfSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogSlNPTi5zdHJpbmdpZnkodmlldy5iaW5kaW5nQ29udGV4dClcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyByZXN1bHQgPSByZXNwb25zZS5jb250ZW50LnRvSlNPTigpO1xuICAgICAgICAgICAgICAgICAgICAvLyBkaWFsb2dzLmFsZXJ0KHJlc3VsdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLnVwZGF0ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIHByb2ZpbGVzTGlzdC5lbXB0eSgpO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgcHJvZmlsZXNMaXN0LmxvYWQobmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbFR5cGUsIG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxJZCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHBhZ2VEYXRhO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocGxhdGZvcm0uaXNJT1MpIHtcbiAgICAgICAgZGlhbG9ncy5hY3Rpb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJXb3VsZCB5b3UgbGlrZSB0byBkZWxldGUgdGhpcyBcIiArIHByb2ZpbGVUeXBlLnRvTG93ZXJDYXNlKCkgKyBcIj9cIixcbiAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IFwiQ2FuY2VsXCIsXG4gICAgICAgICAgICBhY3Rpb25zOiBbXCJEZWxldGVcIl1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0ID09PSBcIkRlbGV0ZVwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZpZXcgPSBhcmdzLm9iamVjdDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2aWV3LmJpbmRpbmdDb250ZXh0LmNoZWNrZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGh0dHAucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogZ2xvYmFsLmFwaUJhc2VTZXJ2aWNlVXJsICsgXCJpbnNlcnRkZWxldGVwcm9maWxlcmVsYXRpb25zaGlwXCIsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiQXV0aG9yaXphdGlvblwiOiBnbG9iYWwudG9rZW4gfSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogSlNPTi5zdHJpbmdpZnkodmlldy5iaW5kaW5nQ29udGV4dClcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyByZXN1bHQgPSByZXNwb25zZS5jb250ZW50LnRvSlNPTigpO1xuICAgICAgICAgICAgICAgICAgICAvLyBkaWFsb2dzLmFsZXJ0KHJlc3VsdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLnVwZGF0ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIHByb2ZpbGVzTGlzdC5lbXB0eSgpO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgcHJvZmlsZXNMaXN0LmxvYWQobmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbFR5cGUsIG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxJZCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHBhZ2VEYXRhO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChzd2lwZU9wZW4pIHtcbiAgICAgICAgc3dpcGVkSXRlbS5hbmltYXRlKHtcbiAgICAgICAgICAgIHRyYW5zbGF0ZTogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICBkdXJhdGlvbjogMjAwXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHN3aXBlT3BlbiA9IGZhbHNlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25MYXlvdXRMb2FkZWQoYXJncykge1xuICAgIHZhciBsYXlvdXQgPSBhcmdzLm9iamVjdDtcblxuICAgIGlmIChwbGF0Zm9ybS5pc0FuZHJvaWQpIHtcbiAgICAgICAgbGF5b3V0Lm9uKGdlc3R1cmVzLkdlc3R1cmVUeXBlcy50YXAsIGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHN3aXBlT3Blbikge1xuICAgICAgICAgICAgICAgICAgICBzd2lwZWRJdGVtLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIHN3aXBlT3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2aWV3ID0gYXJncy52aWV3O1xuICAgIFxuICAgICAgICAgICAgICAgICAgICBtb2RlbCA9IHZpZXcuYmluZGluZ0NvbnRleHQ7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZU5hbWU6IFwicHJvZmlsZXMvcHJvZmlsZS9wcm9maWxlLXBhZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25hbFR5cGU6IG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uYWxJZDogbmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kRGF0YTogbW9kZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckhpc3Rvcnk6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoKGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbGF5b3V0Lm9uKGdlc3R1cmVzLkdlc3R1cmVUeXBlcy5wYW4sIGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBsYXlvdXQgPSBhcmdzLm9iamVjdDtcbiAgICAgICAgICAgIHZhciB2aWV3ID0gYXJncy52aWV3O1xuXG4gICAgICAgICAgICBpZiAoc3dpcGVPcGVuICYmIHN3aXBlZEl0ZW0gIT09IHVuZGVmaW5lZCAmJiBzd2lwZWRJdGVtICE9IGxheW91dCkge1xuICAgICAgICAgICAgICAgIHN3aXBlZEl0ZW0uYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZTogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWlzU2Nyb2xsaW5nICYmICFpc1N3aXBpbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoYXJncy5kZWx0YVkpID4gTWF0aC5hYnMoYXJncy5kZWx0YVgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzU2Nyb2xsaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaXNTd2lwaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhhcmdzLmRlbHRhWCkgPiBNYXRoLmFicyhhcmdzLmRlbHRhWSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNTY3JvbGxpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaXNTd2lwaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc1Njcm9sbGluZykge1xuICAgICAgICAgICAgICAgIGlmIChzd2lwZU9wZW4gJiYgc3dpcGVkSXRlbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXBlZEl0ZW0uYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGU6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChhcmdzLnN0YXRlID09PSBnZXN0dXJlcy5HZXN0dXJlU3RhdGVUeXBlcy5lbmRlZCkge1xuICAgICAgICAgICAgICAgICAgICBpc1Njcm9sbGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNTd2lwaW5nKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb2ZpbGVzTGlzdFZpZXcgPSBwYWdlLmdldFZpZXdCeUlkKFwicHJvZmlsZXNMaXN0Vmlld1wiKTtcblxuICAgICAgICAgICAgICAgIGlmIChwbGF0Zm9ybS5pc0FuZHJvaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvZmlsZXNMaXN0Vmlldy5uYXRpdmVWaWV3LnJlcXVlc3REaXNhbGxvd0ludGVyY2VwdFRvdWNoRXZlbnQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbGF0Zm9ybS5pc0lPUykge1xuICAgICAgICAgICAgICAgICAgICBwcm9maWxlc0xpc3RWaWV3Lmlvcy5zY3JvbGxFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc3dpcGVPcGVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzd2lwZWRJdGVtID0gbGF5b3V0O1xuXG4gICAgICAgICAgICAgICAgdmFyIG5ld1ggPSBsYXlvdXQudHJhbnNsYXRlWCArIGFyZ3MuZGVsdGFYO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5ld1ggPj0gTUlOX1ggJiYgbmV3WCA8PSBNQVhfWCkge1xuICAgICAgICAgICAgICAgICAgICBsYXlvdXQudHJhbnNsYXRlWCA9IG5ld1g7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChhcmdzLnN0YXRlID09PSBnZXN0dXJlcy5HZXN0dXJlU3RhdGVUeXBlcy5lbmRlZCAmJiAhKG5ld1ggPT09IE1JTl9YIHx8IG5ld1ggPT09IE1BWF9YKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpbml0IG91ciBkZXN0aW5hdGlvbiBYIGNvb3JkaW5hdGUgdG8gMCwgaW4gY2FzZSBuZWl0aGVyIFRIUkVTSE9MRCBoYXMgYmVlbiBoaXRcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRlc3RYID0gMDtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHVzZXIgaGl0IG9yIGNyb3NzZWQgdGhlIFRIRVNIT0xEIGVpdGhlciB3YXksIGxldCdzIGZpbmlzaCBpbiB0aGF0IGRpcmVjdGlvblxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3WCA8PSBNSU5fWCAqIFRIUkVTSE9MRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdFggPSBNSU5fWDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZXdYID49IE1BWF9YICogVEhSRVNIT0xEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0WCA9IE1BWF9YO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBsYXlvdXQuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGU6IHsgeDogZGVzdFgsIHk6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsYXRmb3JtLmlzQW5kcm9pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZXNMaXN0Vmlldy5uYXRpdmVWaWV3LnJlcXVlc3REaXNhbGxvd0ludGVyY2VwdFRvdWNoRXZlbnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBsYXRmb3JtLmlzSU9TKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlc0xpc3RWaWV3Lmlvcy5zY3JvbGxFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlzU3dpcGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZXhwb3J0cy5vbk5hdmlnYXRpbmdUbyA9IG9uTmF2aWdhdGluZ1RvO1xuZXhwb3J0cy5vbkl0ZW1Mb2FkaW5nID0gb25JdGVtTG9hZGluZztcbmV4cG9ydHMub25JdGVtVGFwID0gb25JdGVtVGFwO1xuZXhwb3J0cy5vbkFkZFRhcCA9IG9uQWRkVGFwO1xuZXhwb3J0cy5vbkJhY2tUYXAgPSBvbkJhY2tUYXA7XG5leHBvcnRzLm9uTGF5b3V0TG9hZGVkID0gb25MYXlvdXRMb2FkZWQ7XG5leHBvcnRzLm9uRGVsZXRlQ2xpY2sgPSBvbkRlbGV0ZUNsaWNrO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL3Byb2ZpbGVzL3Byb2ZpbGVzLXBhZ2UuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9wcm9maWxlcy9wcm9maWxlcy1wYWdlLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxubW9kdWxlLmV4cG9ydHMgPSBcIjxQYWdlIG5hdmlnYXRpbmdUbz1cXFwib25OYXZpZ2F0aW5nVG9cXFwiIGNsYXNzPVxcXCJwYWdlXFxcIiB4bWxucz1cXFwiaHR0cDovL3NjaGVtYXMubmF0aXZlc2NyaXB0Lm9yZy90bnMueHNkXFxcIiA+XFxuICAgIDxBY3Rpb25CYXIgY2xhc3M9XFxcImFjdGlvbi1iYXJcXFwiPlxcbiAgICAgICAgPGFuZHJvaWQ+XFxuICAgICAgICAgICAgPE5hdmlnYXRpb25CdXR0b24gYW5kcm9pZC5zeXN0ZW1JY29uPVxcXCJpY19tZW51X2JhY2tcXFwiIHRhcD1cXFwib25CYWNrVGFwXFxcIiAvPlxcbiAgICAgICAgPC9hbmRyb2lkPlxcbiAgICAgICAgPEFjdGlvbkl0ZW0gdGFwPVxcXCJvbkFkZFRhcFxcXCIgaW9zLnN5c3RlbUljb249XFxcIjRcXFwiIGFuZHJvaWQuc3lzdGVtSWNvbj1cXFwiaWNfbWVudV9hZGRcXFwiIGlvcy5wb3NpdGlvbj1cXFwicmlnaHRcXFwiIC8+XFxuICAgIDwvQWN0aW9uQmFyPlxcblxcbiAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCJhdXRvLCAqXFxcIiBoZWlnaHQ9XFxcIjEwMCVcXFwiIHdpZHRoPVxcXCIxMDAlXFxcIj5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIiBjbGFzcz1cXFwidmlldy10aXRsZVxcXCIgdmlzaWJpbGl0eT1cXFwie3sgYm91bmREYXRhLnJlbGF0aW9uYWxUeXBlID09PSAnbGVnaXNsYXRvcicgPyAndmlzaWJsZScgOiAnY29sbGFwc2UnIH19XFxcIj5cXG4gICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImxlZ2lzbGF0b3JJZFxcXCIgdGV4dD1cXFwiXFxcIiB2aXNpYmlsaXR5PVxcXCJjb2xsYXBzZWRcXFwiIC8+XFxuICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJsZWdpc2xhdG9yTmFtZVxcXCIgdGV4dD1cXFwiXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiIC8+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMVxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIj5cXG4gICAgICAgICAgICA8TGlzdFZpZXcgaWQ9XFxcInByb2ZpbGVzTGlzdFZpZXdcXFwiIGl0ZW1zPVxcXCJ7eyBwcm9maWxlc0xpc3QgfX1cXFwiIGl0ZW1Mb2FkaW5nPVxcXCJvbkl0ZW1Mb2FkaW5nXFxcIiBpdGVtVGFwPVxcXCJvbkl0ZW1UYXBcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMaXN0Vmlldy5pdGVtVGVtcGxhdGU+XFxuICAgICAgICAgICAgICAgICAgICA8QWJzb2x1dGVMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBCQUNLR1JPVU5EOiBTd2lwZSBBY3Rpb25zIC0tPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIiosIDgwXFxcIiBhbmRyb2lkOnJvd3M9XFxcIjQ4XFxcIiBpb3M6cm93cz1cXFwiNTVcXFwiIHdpZHRoPVxcXCIxMDAlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIGNvbD1cXFwiMFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sPVxcXCIxXFxcIiBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCIqLCBhdXRvLCBhdXRvLCAqXFxcIiB0YXA9XFxcIm9uRGVsZXRlQ2xpY2tcXFwiIGNsYXNzPVxcXCJzd2lwZS1pY29ucyByZWRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIxXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIiYjeGYxZjg7XFxcIiBjbGFzcz1cXFwidGFiLWljb25cXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIyXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIkRlbGV0ZVxcXCIgY2xhc3M9XFxcInRhYi1sYWJlbFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjNcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gRk9SRUdST1VORDogTGlzdCBWaWV3IEl0ZW0gRGV0YWlscyAtLT5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgbG9hZGVkPVxcXCJvbkxheW91dExvYWRlZFxcXCIgYmFja2dyb3VuZENvbG9yPVxcXCJ3aGl0ZVxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCIqXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cXFwie3sgZnVsbE5hbWUgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1tYWluLXRvcFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cXFwie3sgY29tcGFueSB9fVxcXCIgdGV4dFdyYXA9XFxcInRydWVcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1zdWJcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCImI3hmMTA1O1xcXCIgY2xhc3M9XFxcImZuLWxpc3Qtdmlldy1pdGVtXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgICAgIDwvQWJzb2x1dGVMYXlvdXQ+XFxuICAgICAgICAgICAgICAgIDwvTGlzdFZpZXcuaXRlbVRlbXBsYXRlPlxcbiAgICAgICAgICAgIDwvTGlzdFZpZXc+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPEFjdGl2aXR5SW5kaWNhdG9yIGJ1c3k9XFxcInt7IGlzTG9hZGluZyB9fVxcXCIgYW5kcm9pZDpoZWlnaHQ9XFxcIjI1JVxcXCIgYW5kcm9pZDp3aWR0aD1cXFwiMjUlXFxcIiBpb3MuYWN0aXZpdHlJbmRpY2F0b3JWaWV3U3R5bGU9XFxcIndoaXRlTGFyZ2VcXFwiIHJvd1NwYW49XFxcIjJcXFwiIGNvbFNwYW49XFxcIjFcXFwiIC8+XFxuICAgIDwvR3JpZExheW91dD5cXG48L1BhZ2U+XFxuXCI7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vcHJvZmlsZXMvcHJvZmlsZXMtcGFnZS54bWxcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwibWFya3VwXCIsIHBhdGg6IFwiLi9wcm9maWxlcy9wcm9maWxlcy1wYWdlLnhtbFwiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBvYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBPYnNlcnZhYmxlQXJyYXkgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlLWFycmF5XCIpLk9ic2VydmFibGVBcnJheTtcbnZhciBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xuXG5mdW5jdGlvbiBQcm9maWxlc1ZpZXdNb2RlbChpdGVtcykge1xuICAgIGNvbnN0IHZpZXdNb2RlbCA9IG5ldyBPYnNlcnZhYmxlQXJyYXkoaXRlbXMpO1xuXG4gICAgdmlld01vZGVsLmxvYWQgPSBmdW5jdGlvbihyZWxhdGlvbmFsVHlwZSwgcmVsYXRpb25hbElkKSB7XG4gICAgICAgIHJldHVybiBodHRwLnJlcXVlc3Qoe1xuICAgICAgICAgICAgdXJsOiBnbG9iYWwuYXBpQmFzZVNlcnZpY2VVcmwgKyBcInByb2ZpbGVyZWxhdGlvbnNoaXBzP3JlbGF0aW9uYWxUeXBlPVwiICsgcmVsYXRpb25hbFR5cGUgKyBcIiZyZWxhdGlvbmFsSWQ9XCIgKyByZWxhdGlvbmFsSWQsXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLCBcIkF1dGhvcml6YXRpb25cIjogZ2xvYmFsLnRva2VuIH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXNwb25zZS5jb250ZW50LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzdWx0KTtcblxuICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKHByb2ZpbGUpIHtcbiAgICAgICAgICAgICAgICB2aWV3TW9kZWwucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uYWxUeXBlOiBwcm9maWxlLlJlbGF0aW9uYWxUeXBlLFxuICAgICAgICAgICAgICAgICAgICByZWxhdGlvbmFsSWQ6IHByb2ZpbGUuUmVsYXRpb25hbElkLFxuICAgICAgICAgICAgICAgICAgICBwZXJzb25JZDogcHJvZmlsZS5QZXJzb25JZCxcbiAgICAgICAgICAgICAgICAgICAgZnVsbE5hbWU6IHByb2ZpbGUuRnVsbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbXBhbnk6IHByb2ZpbGUuQ29tcGFueSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHByb2ZpbGUuVGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIHdvcmtQaG9uZTogcHJvZmlsZS5Xb3JrUGhvbmUsXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsQWRkcmVzczogcHJvZmlsZS5FbWFpbEFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uc2hpcFR5cGVJZDogcHJvZmlsZS5SZWxhdGlvbnNoaXBUeXBlSWQsXG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uc2hpcFR5cGU6IHByb2ZpbGUuUmVsYXRpb25zaGlwVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgZmFtaWxpYXJpdHlMZXZlbElkOiBwcm9maWxlLkZhbWlsaWFyaXR5TGV2ZWxJZCxcbiAgICAgICAgICAgICAgICAgICAgZmFtaWxpYXJpdHlMZXZlbDogcHJvZmlsZS5GYW1pbGlhcml0eUxldmVsLFxuICAgICAgICAgICAgICAgICAgICBub3RlczogcHJvZmlsZS5Ob3RlcyxcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWREYXRlOiBwcm9maWxlLk1vZGlmaWVkRGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZDogcHJvZmlsZS5DaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICB0b3RhbDogcHJvZmlsZS5Ub3RhbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2aWV3TW9kZWwuZW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgd2hpbGUgKHZpZXdNb2RlbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZpZXdNb2RlbC5wb3AoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgcmV0dXJuIHZpZXdNb2RlbDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQcm9maWxlc1ZpZXdNb2RlbDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9wcm9maWxlcy9wcm9maWxlcy12aWV3LW1vZGVsLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vcHJvZmlsZXMvcHJvZmlsZXMtdmlldy1tb2RlbC5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBwbGF0Zm9ybSA9IHJlcXVpcmUoXCJwbGF0Zm9ybVwiKTtcbmNvbnN0IFByb2ZpbGVTZWFyY2hWaWV3TW9kZWwgPSByZXF1aXJlKFwiLi9wcm9maWxlc2VhcmNoLXZpZXctbW9kZWxcIik7XG5jb25zdCBPYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xudmFyIHBhZ2U7XG52YXIgbmF2aWdhdGlvbkNvbnRleHQ7XG5cbnZhciBzZWFyY2hCYXI7XG52YXIgcHJvZmlsZVNlYXJjaFBhZ2VTaXplID0gMjU7XG52YXIgcHJvZmlsZVNlYXJjaFNlYXJjaFRleHQgPSBcIlwiO1xudmFyIHByb2ZpbGVTZWFyY2hTZWFyY2hTdWJtaXR0ZWQgPSBmYWxzZTtcblxudmFyIHByb2ZpbGVTZWFyY2hMaXN0ID0gbmV3IFByb2ZpbGVTZWFyY2hWaWV3TW9kZWwoW10pO1xuXG52YXIgc3dpdGNoVGFwID0gZmFsc2U7XG5cbnZhciBwYWdlRGF0YSA9IG5ldyBPYnNlcnZhYmxlTW9kdWxlLmZyb21PYmplY3Qoe1xuICAgIHByb2ZpbGVTZWFyY2hMaXN0OiBwcm9maWxlU2VhcmNoTGlzdCxcbiAgICBpc0xvYWRpbmc6IGZhbHNlXG59KTtcblxuZnVuY3Rpb24gb25OYXZpZ2F0aW5nVG8oYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHBhZ2UgPSBhcmdzLm9iamVjdDtcbiAgICAgICAgbmF2aWdhdGlvbkNvbnRleHQgPSBwYWdlLm5hdmlnYXRpb25Db250ZXh0O1xuICAgICAgICBcbiAgICAgICAgaWYgKG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxUeXBlID09PSBcImxlZ2lzbGF0b3JcIikge1xuICAgICAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIlByb2ZpbGUgU2VhcmNoXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiUENJIEF0dGVuZGVlIFNlYXJjaFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgKHByb2ZpbGVTZWFyY2hTZWFyY2hUZXh0ICE9PSBcIlwiKSB7XG4gICAgICAgIC8vICAgICB2YXIgc2VhcmNoQmFyID0gcGFnZS5nZXRWaWV3QnlJZChcInNlYXJjaEJhclwiKTtcblxuICAgICAgICAvLyAgICAgc2VhcmNoQmFyLnRleHQgPSBwcm9maWxlU2VhcmNoU2VhcmNoVGV4dDtcbiAgICAgICAgLy8gfVxuICAgICAgICBcbiAgICAgICAgLy8gaWYgKHByb2ZpbGVTZWFyY2hMaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBwcm9maWxlU2VhcmNoU2VhcmNoVGV4dCA9IFwiXCI7XG4gICAgICAgIFxuICAgICAgICBwcm9maWxlU2VhcmNoTGlzdC5lbXB0eSgpO1xuXG4gICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuICAgICAgICBwcm9maWxlU2VhcmNoTGlzdC5sb2FkKG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxUeXBlLCBuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsSWQsIHByb2ZpbGVTZWFyY2hTZWFyY2hUZXh0LCAxLCBwcm9maWxlU2VhcmNoUGFnZVNpemUpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIH1cblxuICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU2VhcmNoQmFyTG9hZGVkKGFyZ3MpXG57XG4gICAgc2VhcmNoQmFyID0gYXJncy5vYmplY3Q7XG5cbiAgICBpZiAocGxhdGZvcm0uaXNJT1MpIHtcbiAgICAgICAgLy8gaU9TIFN0eWxpbmdcbiAgICAgICAgc2VhcmNoQmFyLmlvcy5zZWFyY2hCYXJTdHlsZSA9IFVJU2VhcmNoQmFyU3R5bGUuVUlTZWFyY2hCYXJTdHlsZU1pbmltYWw7XG4gICAgICAgIHNlYXJjaEJhci5pb3Muc2hvd3NDYW5jZWxCdXR0b24gPSB0cnVlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25TdWJtaXQoYXJncylcbntcbiAgICBzZWFyY2hCYXIgPSBhcmdzLm9iamVjdDtcblxuICAgIHByb2ZpbGVTZWFyY2hTZWFyY2hUZXh0ID0gc2VhcmNoQmFyLnRleHQudHJpbSgpO1xuXG4gICAgcHJvZmlsZVNlYXJjaExpc3QuZW1wdHkoKTtcbiAgICBcbiAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgdHJ1ZSk7XG5cbiAgICBwcm9maWxlU2VhcmNoTGlzdC5sb2FkKG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxUeXBlLCBuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsSWQsIHByb2ZpbGVTZWFyY2hTZWFyY2hUZXh0LCAxLCBwcm9maWxlU2VhcmNoUGFnZVNpemUpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuXG4gICAgICAgIHByb2ZpbGVTZWFyY2hTZWFyY2hTdWJtaXR0ZWQgPSB0cnVlO1xuICAgIFxuICAgICAgICBzZWFyY2hCYXIuZGlzbWlzc1NvZnRJbnB1dCgpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBvbkNsZWFyKGFyZ3MpXG57XG4gICAgc2VhcmNoQmFyLnRleHQgPSBcIlwiO1xuICAgIHByb2ZpbGVTZWFyY2hTZWFyY2hUZXh0ID0gXCJcIjtcblxuICAgIGlmIChwcm9maWxlU2VhcmNoU2VhcmNoU3VibWl0dGVkKSB7XG4gICAgICAgIHByb2ZpbGVTZWFyY2hMaXN0LmVtcHR5KCk7XG4gICAgICAgIFxuICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgdHJ1ZSk7XG5cbiAgICAgICAgcHJvZmlsZVNlYXJjaExpc3QubG9hZChuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsVHlwZSwgbmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbElkLCBwcm9maWxlU2VhcmNoU2VhcmNoVGV4dCwgMSwgcHJvZmlsZVNlYXJjaFBhZ2VTaXplKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIHByb2ZpbGVTZWFyY2hTZWFyY2hTdWJtaXR0ZWQgPSBmYWxzZTtcbiAgICAgICAgXG4gICAgICAgICAgICBzZWFyY2hCYXIuZGlzbWlzc1NvZnRJbnB1dCgpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU3dpdGNoTG9hZGVkKGFyZ3MpIHtcbiAgICB2YXIgY2hlY2tlZFN3aXRjaCA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgY2hlY2tlZFN3aXRjaC5vbihcInRhcFwiLCBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIC8vIE5lY2Vzc2FyeSB0byBwcmV2ZW50IHRoZSBjaGVja2VkQ2hhbmdlIGV2ZW50IGZyb20gZmlyaW5nIG9uIHRoZSBzd2l0Y2ggd2hlbiB1c2VyIHNjcm9sbHMuXG4gICAgICAgIHN3aXRjaFRhcCA9IHRydWU7XG4gICAgfSk7XG5cbiAgICBjaGVja2VkU3dpdGNoLm9uKFwiY2hlY2tlZENoYW5nZVwiLCBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIGlmIChzd2l0Y2hUYXApIHtcbiAgICAgICAgICAgIHZhciBzdGFja0xheW91dCA9IGFyZ3Mub2JqZWN0LnBhcmVudDtcbiAgICAgICAgICAgIHZhciBpbmRleExhYmVsID0gc3RhY2tMYXlvdXQuZ2V0Vmlld0J5SWQoXCJpbmRleExhYmVsXCIpO1xuXG4gICAgICAgICAgICB2YXIgbW9kZWwgPSBwcm9maWxlU2VhcmNoTGlzdC5nZXRJdGVtKGluZGV4TGFiZWwudGV4dCk7XG5cbiAgICAgICAgICAgIG1vZGVsLmNoZWNrZWQgPSBhcmdzLnZhbHVlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBodHRwLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgIHVybDogZ2xvYmFsLmFwaUJhc2VTZXJ2aWNlVXJsICsgXCJpbnNlcnRkZWxldGVwcm9maWxlcmVsYXRpb25zaGlwXCIsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLCBcIkF1dGhvcml6YXRpb25cIjogZ2xvYmFsLnRva2VuIH0sXG4gICAgICAgICAgICAgICAgY29udGVudDogSlNPTi5zdHJpbmdpZnkobW9kZWwpXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaFRhcCA9IGZhbHNlO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gb25Mb2FkTW9yZUl0ZW1zKGFyZ3MpIHtcbiAgICB2YXIgcHJvZmlsZVNlYXJjaExpc3RDb3VudCA9IHByb2ZpbGVTZWFyY2hMaXN0Lmxlbmd0aDtcbiAgICB2YXIgcHJvZmlsZVNlYXJjaFBhZ2VOdW1iZXIgPSBNYXRoLmNlaWwocHJvZmlsZVNlYXJjaExpc3RDb3VudCAvIHByb2ZpbGVTZWFyY2hQYWdlU2l6ZSkgKyAxO1xuICAgIHZhciBwcm9maWxlU2VhcmNoUmVtYWluZGVyID0gcHJvZmlsZVNlYXJjaExpc3RDb3VudCAlIHByb2ZpbGVTZWFyY2hQYWdlU2l6ZTtcblxuICAgIGlmIChwcm9maWxlU2VhcmNoUmVtYWluZGVyICE9PSAwICYmIHByb2ZpbGVTZWFyY2hSZW1haW5kZXIgPCBwcm9maWxlU2VhcmNoUGFnZVNpemUpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuXG4gICAgcHJvZmlsZVNlYXJjaExpc3QubG9hZChuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsVHlwZSwgbmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbElkLCBwcm9maWxlU2VhcmNoU2VhcmNoVGV4dCwgcHJvZmlsZVNlYXJjaFBhZ2VOdW1iZXIsIHByb2ZpbGVTZWFyY2hQYWdlU2l6ZSkudGhlbihmdW5jdGlvbiAoKXtcbiAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcbiAgICB9KTtcbn1cblxuZXhwb3J0cy5vbk5hdmlnYXRpbmdUbyA9IG9uTmF2aWdhdGluZ1RvO1xuZXhwb3J0cy5vblNlYXJjaEJhckxvYWRlZCA9IG9uU2VhcmNoQmFyTG9hZGVkO1xuZXhwb3J0cy5vblN1Ym1pdCA9IG9uU3VibWl0O1xuZXhwb3J0cy5vbkNsZWFyID0gb25DbGVhcjtcbmV4cG9ydHMub25Td2l0Y2hMb2FkZWQgPSBvblN3aXRjaExvYWRlZDtcbmV4cG9ydHMub25Mb2FkTW9yZUl0ZW1zID0gb25Mb2FkTW9yZUl0ZW1zO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvb2xkL3Byb2ZpbGVzZWFyY2gtcGFnZS5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvb2xkL3Byb2ZpbGVzZWFyY2gtcGFnZS5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJcbm1vZHVsZS5leHBvcnRzID0gXCI8UGFnZSBuYXZpZ2F0aW5nVG89XFxcIm9uTmF2aWdhdGluZ1RvXFxcIiBjbGFzcz1cXFwicGFnZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly9zY2hlbWFzLm5hdGl2ZXNjcmlwdC5vcmcvdG5zLnhzZFxcXCIgPlxcbiAgICA8QWN0aW9uQmFyIGNsYXNzPVxcXCJhY3Rpb24tYmFyXFxcIiAvPlxcblxcbiAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCJhdXRvLCAqXFxcIiBoZWlnaHQ9XFxcIjEwMCVcXFwiIHdpZHRoPVxcXCIxMDAlXFxcIj5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIiBkaXJlY3Rpb249XFxcImhvcml6b250YWxcXFwiPlxcbiAgICAgICAgICAgIDxTZWFyY2hCYXIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIGlkPVxcXCJzZWFyY2hCYXJcXFwiIGhpbnQ9XFxcIlNlYXJjaFxcXCIgdGV4dD1cXFwiXFxcIiBsb2FkZWQ9XFxcIm9uU2VhcmNoQmFyTG9hZGVkXFxcIiBzdWJtaXQ9XFxcIm9uU3VibWl0XFxcIiBjbGVhcj1cXFwib25DbGVhclxcXCIgLz5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIxXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiPlxcbiAgICAgICAgICAgIDxMaXN0VmlldyBpdGVtcz1cXFwie3sgcHJvZmlsZVNlYXJjaExpc3QgfX1cXFwiIGxvYWRNb3JlSXRlbXM9XFxcIm9uTG9hZE1vcmVJdGVtc1xcXCIgaXRlbVRlbXBsYXRlU2VsZWN0b3I9XFxcIiRpbmRleFxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIj5cXG4gICAgICAgICAgICAgICAgPExpc3RWaWV3Lml0ZW1UZW1wbGF0ZT5cXG4gICAgICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIiosIGF1dG9cXFwiIHJvd3M9XFxcIipcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcInt7IGZ1bGxOYW1lIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbWFpbi10b3BcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJ7eyBjb21wYW55IH19XFxcIiB0ZXh0V3JhcD1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1YlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcInt7IHRpdGxlIH19XFxcIiB0ZXh0V3JhcD1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1YlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcIm1pZGRsZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTd2l0Y2ggaWQ9XFxcImNoZWNrZWRTd2l0Y2hcXFwiIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiBjaGVja2VkPVxcXCJ7eyBjaGVja2VkIH19XFxcIiBcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRlZD1cXFwib25Td2l0Y2hMb2FkZWRcXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcInJpZ2h0XFxcIiBjbGFzcz1cXFwic3dpdGNoXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImluZGV4TGFiZWxcXFwiIHRleHQ9XFxcInt7ICRpbmRleCB9fVxcXCIgdmlzaWJpbGl0eT1cXFwiY29sbGFwc2VcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICAgICAgPC9MaXN0Vmlldy5pdGVtVGVtcGxhdGU+XFxuICAgICAgICAgICAgPC9MaXN0Vmlldz5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8QWN0aXZpdHlJbmRpY2F0b3IgYnVzeT1cXFwie3sgaXNMb2FkaW5nIH19XFxcIiBpb3MuYWN0aXZpdHlJbmRpY2F0b3JWaWV3U3R5bGU9XFxcIndoaXRlTGFyZ2VcXFwiIHJvd1NwYW49XFxcIjJcXFwiIGNvbFNwYW49XFxcIjFcXFwiIC8+XFxuICAgIDwvR3JpZExheW91dD5cXG48L1BhZ2U+XFxuXCI7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vcHJvZmlsZXMvcHJvZmlsZXNlYXJjaC9vbGQvcHJvZmlsZXNlYXJjaC1wYWdlLnhtbFwiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJtYXJrdXBcIiwgcGF0aDogXCIuL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvb2xkL3Byb2ZpbGVzZWFyY2gtcGFnZS54bWxcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3QgT2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgT2JzZXJ2YWJsZUFycmF5ID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZS1hcnJheVwiKS5PYnNlcnZhYmxlQXJyYXk7XG52YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxuZnVuY3Rpb24gUHJvZmlsZVNlYXJjaFZpZXdNb2RlbChpdGVtcykge1xuICAgIGNvbnN0IHZpZXdNb2RlbCA9IG5ldyBPYnNlcnZhYmxlQXJyYXkoaXRlbXMpO1xuICAgIFxuICAgIHZpZXdNb2RlbC5sb2FkID0gZnVuY3Rpb24ocmVsYXRpb25hbFR5cGUsIHJlbGF0aW9uYWxJZCwgZmlsdGVyLCBwYWdlLCBwYWdlU2l6ZSkge1xuICAgICAgICByZXR1cm4gaHR0cC5yZXF1ZXN0KHtcbiAgICAgICAgICAgIHVybDogZ2xvYmFsLmFwaUJhc2VTZXJ2aWNlVXJsICsgXCJwcm9maWxlcmVsYXRpb25zaGlwZmlsdGVyP3JlbGF0aW9uYWxUeXBlPVwiICsgcmVsYXRpb25hbFR5cGUgKyBcIiZyZWxhdGlvbmFsSWQ9XCIgKyByZWxhdGlvbmFsSWQgKyBcIiZmaWx0ZXI9XCIgKyBmaWx0ZXIucmVwbGFjZSgvIC9nLCBcIiUyMFwiKSArIFwiJnBhZ2U9XCIgKyBwYWdlICsgXCImcGFnZVNpemU9XCIgKyBwYWdlU2l6ZSxcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiQXV0aG9yaXphdGlvblwiOiBnbG9iYWwudG9rZW4gfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmNvbnRlbnQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShyZXN1bHQpO1xuXG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24ocHJvZmlsZSkge1xuICAgICAgICAgICAgICAgIGlmIChwcm9maWxlLlBlcnNvbklkICE9PSBudWxsICYmIHByb2ZpbGUuUGVyc29uSWQgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvZmlsZS5DaGVja2VkID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWxhdGlvbmFsVHlwZTogcHJvZmlsZS5SZWxhdGlvbmFsVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uYWxJZDogcHJvZmlsZS5SZWxhdGlvbmFsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJzb25JZDogcHJvZmlsZS5QZXJzb25JZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxOYW1lOiBwcm9maWxlLkZ1bGxOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFueTogcHJvZmlsZS5Db21wYW55LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHByb2ZpbGUuVGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkOiBjaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWw6IHByb2ZpbGUuVG90YWxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2aWV3TW9kZWwuZW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgd2hpbGUgKHZpZXdNb2RlbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZpZXdNb2RlbC5wb3AoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgcmV0dXJuIHZpZXdNb2RlbDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQcm9maWxlU2VhcmNoVmlld01vZGVsO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvb2xkL3Byb2ZpbGVzZWFyY2gtdmlldy1tb2RlbC5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvb2xkL3Byb2ZpbGVzZWFyY2gtdmlldy1tb2RlbC5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBQcm9maWxlU2VhcmNoVmlld01vZGVsID0gcmVxdWlyZShcIi4vcHJvZmlsZXNlYXJjaC12aWV3LW1vZGVsXCIpO1xuY29uc3QgcGxhdGZvcm0gPSByZXF1aXJlKFwicGxhdGZvcm1cIik7XG5jb25zdCBPYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG52YXIgZnJhbWVNb2R1bGUgPSByZXF1aXJlKFwidWkvZnJhbWVcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xudmFyIHBhZ2U7XG52YXIgbmF2aWdhdGlvbkNvbnRleHQ7XG5cbnZhciBzZWFyY2hCYXI7XG52YXIgcHJvZmlsZVNlYXJjaFBhZ2VTaXplID0gMjU7XG52YXIgcHJvZmlsZVNlYXJjaFNlYXJjaFRleHQgPSBcIlwiO1xudmFyIHByb2ZpbGVTZWFyY2hTZWFyY2hTdWJtaXR0ZWQgPSBmYWxzZTtcblxudmFyIHByZXZpb3VzU2VsZWN0ZWQgPSBudWxsO1xuXG52YXIgcHJvZmlsZVNlYXJjaExpc3QgPSBuZXcgUHJvZmlsZVNlYXJjaFZpZXdNb2RlbChbXSk7XG5cbnZhciBwYWdlRGF0YSA9IG5ldyBPYnNlcnZhYmxlTW9kdWxlLmZyb21PYmplY3Qoe1xuICAgIGJvdW5kRGF0YTogbnVsbCxcbiAgICBwcm9maWxlU2VhcmNoTGlzdDogcHJvZmlsZVNlYXJjaExpc3QsXG4gICAgaXNMb2FkaW5nOiBmYWxzZVxufSk7XG5cbmZ1bmN0aW9uIG9uTmF2aWdhdGluZ1RvKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBwYWdlID0gYXJncy5vYmplY3Q7XG4gICAgICAgIG5hdmlnYXRpb25Db250ZXh0ID0gcGFnZS5uYXZpZ2F0aW9uQ29udGV4dDtcbiAgICAgICAgXG4gICAgICAgIGlmIChuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsVHlwZSA9PT0gXCJsZWdpc2xhdG9yXCIpIHtcbiAgICAgICAgICAgIHBhZ2UuYWN0aW9uQmFyLnRpdGxlID0gXCJQcm9maWxlIFNlYXJjaFwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIlBDSSBBdHRlbmRlZSBTZWFyY2hcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YSA9IG5hdmlnYXRpb25Db250ZXh0O1xuXG4gICAgICAgIC8vIGlmIChwcm9maWxlU2VhcmNoU2VhcmNoVGV4dCAhPT0gXCJcIikge1xuICAgICAgICAvLyAgICAgdmFyIHNlYXJjaEJhciA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJzZWFyY2hCYXJcIik7XG5cbiAgICAgICAgLy8gICAgIHNlYXJjaEJhci50ZXh0ID0gcHJvZmlsZVNlYXJjaFNlYXJjaFRleHQ7XG4gICAgICAgIC8vIH1cbiAgICAgICAgXG4gICAgICAgIC8vIGlmIChwcm9maWxlU2VhcmNoTGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcHJvZmlsZVNlYXJjaFNlYXJjaFRleHQgPSBcIlwiO1xuICAgICAgICBcbiAgICAgICAgcHJvZmlsZVNlYXJjaExpc3QuZW1wdHkoKTtcblxuICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgdHJ1ZSk7XG5cbiAgICAgICAgcHJvZmlsZVNlYXJjaExpc3QubG9hZChuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsVHlwZSwgbmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbElkLCBwcm9maWxlU2VhcmNoU2VhcmNoVGV4dCwgMSwgcHJvZmlsZVNlYXJjaFBhZ2VTaXplKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBwYWdlRGF0YTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIH1cblxuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblNlYXJjaEJhckxvYWRlZChhcmdzKVxue1xuICAgIHNlYXJjaEJhciA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgaWYgKHBsYXRmb3JtLmlzQW5kcm9pZCkge1xuICAgICAgICBzZWFyY2hCYXIuYW5kcm9pZC5jbGVhckZvY3VzKCk7XG4gICAgfSBlbHNlIGlmIChwbGF0Zm9ybS5pc0lPUykge1xuICAgICAgICAvLyBpT1MgU3R5bGluZ1xuICAgICAgICBzZWFyY2hCYXIuaW9zLnNlYXJjaEJhclN0eWxlID0gVUlTZWFyY2hCYXJTdHlsZS5VSVNlYXJjaEJhclN0eWxlTWluaW1hbDtcbiAgICAgICAgc2VhcmNoQmFyLmlvcy5zaG93c0NhbmNlbEJ1dHRvbiA9IHRydWU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblN1Ym1pdChhcmdzKVxue1xuICAgIHNlYXJjaEJhciA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgcHJvZmlsZVNlYXJjaFNlYXJjaFRleHQgPSBzZWFyY2hCYXIudGV4dC50cmltKCk7XG5cbiAgICBwcm9maWxlU2VhcmNoTGlzdC5lbXB0eSgpO1xuICAgIFxuICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuICAgIHByb2ZpbGVTZWFyY2hMaXN0LmxvYWQobmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbFR5cGUsIG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxJZCwgcHJvZmlsZVNlYXJjaFNlYXJjaFRleHQsIDEsIHByb2ZpbGVTZWFyY2hQYWdlU2l6ZSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG5cbiAgICAgICAgcHJvZmlsZVNlYXJjaFNlYXJjaFN1Ym1pdHRlZCA9IHRydWU7XG4gICAgXG4gICAgICAgIHNlYXJjaEJhci5kaXNtaXNzU29mdElucHV0KCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIG9uQ2xlYXIoYXJncylcbntcbiAgICBzZWFyY2hCYXIudGV4dCA9IFwiXCI7XG4gICAgcHJvZmlsZVNlYXJjaFNlYXJjaFRleHQgPSBcIlwiO1xuXG4gICAgaWYgKHByb2ZpbGVTZWFyY2hTZWFyY2hTdWJtaXR0ZWQpIHtcbiAgICAgICAgcHJvZmlsZVNlYXJjaExpc3QuZW1wdHkoKTtcbiAgICAgICAgXG4gICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuICAgICAgICBwcm9maWxlU2VhcmNoTGlzdC5sb2FkKG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxUeXBlLCBuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsSWQsIHByb2ZpbGVTZWFyY2hTZWFyY2hUZXh0LCAxLCBwcm9maWxlU2VhcmNoUGFnZVNpemUpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcblxuICAgICAgICAgICAgcHJvZmlsZVNlYXJjaFNlYXJjaFN1Ym1pdHRlZCA9IGZhbHNlO1xuICAgICAgICBcbiAgICAgICAgICAgIHNlYXJjaEJhci5kaXNtaXNzU29mdElucHV0KCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25Mb2FkTW9yZUl0ZW1zKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgcHJvZmlsZVNlYXJjaExpc3RDb3VudCA9IHByb2ZpbGVTZWFyY2hMaXN0Lmxlbmd0aDtcbiAgICAgICAgdmFyIHByb2ZpbGVTZWFyY2hQYWdlTnVtYmVyID0gTWF0aC5jZWlsKHByb2ZpbGVTZWFyY2hMaXN0Q291bnQgLyBwcm9maWxlU2VhcmNoUGFnZVNpemUpICsgMTtcbiAgICAgICAgdmFyIHByb2ZpbGVTZWFyY2hSZW1haW5kZXIgPSBwcm9maWxlU2VhcmNoTGlzdENvdW50ICUgcHJvZmlsZVNlYXJjaFBhZ2VTaXplO1xuXG4gICAgICAgIGlmIChwcm9maWxlU2VhcmNoUmVtYWluZGVyICE9PSAwICYmIHByb2ZpbGVTZWFyY2hSZW1haW5kZXIgPCBwcm9maWxlU2VhcmNoUGFnZVNpemUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuICAgICAgICBwcm9maWxlU2VhcmNoTGlzdC5sb2FkKG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxUeXBlLCBuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsSWQsIHByb2ZpbGVTZWFyY2hTZWFyY2hUZXh0LCBwcm9maWxlU2VhcmNoUGFnZU51bWJlciwgcHJvZmlsZVNlYXJjaFBhZ2VTaXplKS50aGVuKGZ1bmN0aW9uICgpe1xuICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25CYWNrVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkuZ29CYWNrKCk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkl0ZW1UYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9IHBhZ2VEYXRhLnByb2ZpbGVTZWFyY2hMaXN0LmdldEl0ZW0oYXJncy5pbmRleCk7IC8vLnNldChcImNoZWNrZWRcIiwgdHJ1ZSk7XG5cbiAgICAgICAgc2VsZWN0ZWQuY2hlY2tlZCA9ICFzZWxlY3RlZC5jaGVja2VkO1xuXG4gICAgICAgIGlmIChwcmV2aW91c1NlbGVjdGVkICE9PSBudWxsICYgcHJldmlvdXNTZWxlY3RlZCAhPT0gc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHByZXZpb3VzU2VsZWN0ZWQuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBwYWdlLmdldFZpZXdCeUlkKFwicHJvZmlsZVNlYXJjaFwiKS5yZWZyZXNoKCk7XG5cbiAgICAgICAgaWYgKHNlbGVjdGVkLmNoZWNrZWQpIHtcbiAgICAgICAgICAgIHByZXZpb3VzU2VsZWN0ZWQgPSBzZWxlY3RlZDtcblxuICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLnBlcnNvbklkID0gc2VsZWN0ZWQucGVyc29uSWQ7XG4gICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEuZnVsbE5hbWUgPSBzZWxlY3RlZC5mdWxsTmFtZTtcbiAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5jb21wYW55ID0gc2VsZWN0ZWQuY29tcGFueTtcbiAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS50aXRsZSA9IHNlbGVjdGVkLnRpdGxlO1xuICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLmVtYWlsQWRkcmVzcyA9IHNlbGVjdGVkLmVtYWlsQWRkcmVzcztcbiAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS53b3JrUGhvbmUgPSBzZWxlY3RlZC53b3JrUGhvbmU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcmV2aW91c1NlbGVjdGVkID0gbnVsbDtcblxuICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLnBlcnNvbklkID0gbnVsbDtcbiAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5mdWxsTmFtZSA9IG51bGw7XG4gICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEuY29tcGFueSA9IG51bGw7XG4gICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEudGl0bGUgPSBudWxsO1xuICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLmVtYWlsQWRkcmVzcyA9IG51bGw7XG4gICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEud29ya1Bob25lID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KGUpO1xuICAgIH1cbn1cblxuZXhwb3J0cy5vbk5hdmlnYXRpbmdUbyA9IG9uTmF2aWdhdGluZ1RvO1xuZXhwb3J0cy5vblNlYXJjaEJhckxvYWRlZCA9IG9uU2VhcmNoQmFyTG9hZGVkO1xuZXhwb3J0cy5vblN1Ym1pdCA9IG9uU3VibWl0O1xuZXhwb3J0cy5vbkNsZWFyID0gb25DbGVhcjtcbmV4cG9ydHMub25Mb2FkTW9yZUl0ZW1zID0gb25Mb2FkTW9yZUl0ZW1zO1xuZXhwb3J0cy5vbkJhY2tUYXAgPSBvbkJhY2tUYXA7XG5leHBvcnRzLm9uSXRlbVRhcCA9IG9uSXRlbVRhcDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9wcm9maWxlcy9wcm9maWxlc2VhcmNoL3Byb2ZpbGVzZWFyY2gtcGFnZS5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvcHJvZmlsZXNlYXJjaC1wYWdlLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxubW9kdWxlLmV4cG9ydHMgPSBcIjxQYWdlIG5hdmlnYXRpbmdUbz1cXFwib25OYXZpZ2F0aW5nVG9cXFwiIGNsYXNzPVxcXCJwYWdlXFxcIiB4bWxucz1cXFwiaHR0cDovL3NjaGVtYXMubmF0aXZlc2NyaXB0Lm9yZy90bnMueHNkXFxcIiA+XFxuICAgIDxBY3Rpb25CYXIgY2xhc3M9XFxcImFjdGlvbi1iYXJcXFwiPlxcbiAgICAgICAgPGFuZHJvaWQ+XFxuICAgICAgICAgICAgPE5hdmlnYXRpb25CdXR0b24gYW5kcm9pZC5zeXN0ZW1JY29uPVxcXCJpY19tZW51X2JhY2tcXFwiIHRhcD1cXFwib25CYWNrVGFwXFxcIiAvPlxcbiAgICAgICAgPC9hbmRyb2lkPlxcbiAgICA8L0FjdGlvbkJhcj5cXG5cXG4gICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiYXV0bywgKlxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIiB3aWR0aD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgZGlyZWN0aW9uPVxcXCJob3Jpem9udGFsXFxcIj5cXG4gICAgICAgICAgICA8U2VhcmNoQmFyIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiBpZD1cXFwic2VhcmNoQmFyXFxcIiBoaW50PVxcXCJTZWFyY2hcXFwiIHRleHQ9XFxcIlxcXCIgbG9hZGVkPVxcXCJvblNlYXJjaEJhckxvYWRlZFxcXCIgc3VibWl0PVxcXCJvblN1Ym1pdFxcXCIgY2xlYXI9XFxcIm9uQ2xlYXJcXFwiIC8+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMVxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIj5cXG4gICAgICAgICAgICA8TGlzdFZpZXcgaWQ9XFxcInByb2ZpbGVTZWFyY2hcXFwiIGl0ZW1zPVxcXCJ7eyBwcm9maWxlU2VhcmNoTGlzdCB9fVxcXCIgaXRlbVRhcD1cXFwib25JdGVtVGFwXFxcIiBsb2FkTW9yZUl0ZW1zPVxcXCJvbkxvYWRNb3JlSXRlbXNcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMaXN0Vmlldy5pdGVtVGVtcGxhdGU+XFxuICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKiwgYXV0b1xcXCIgcm93cz1cXFwiKlxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJ7eyBmdWxsTmFtZSB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLW1haW4tdG9wXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcInt7IGNvbXBhbnkgfX1cXFwiIHRleHRXcmFwPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcInt7IHRpdGxlIH19XFxcIiB0ZXh0V3JhcD1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1YlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwiJiN4ZjAwYztcXFwiIGNsYXNzPVxcXCJmbi1saXN0LXZpZXctaXRlbS1zbWFsbFxcXCIgdmlzaWJpbGl0eT1cXFwie3sgY2hlY2tlZCA/ICd2aXNpYmxlJyA6ICdjb2xsYXBzZScgfX1cXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgPC9MaXN0Vmlldy5pdGVtVGVtcGxhdGU+XFxuICAgICAgICAgICAgPC9MaXN0Vmlldz5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8QWN0aXZpdHlJbmRpY2F0b3IgYnVzeT1cXFwie3sgaXNMb2FkaW5nIH19XFxcIiBhbmRyb2lkOmhlaWdodD1cXFwiMjUlXFxcIiBhbmRyb2lkOndpZHRoPVxcXCIyNSVcXFwiIGlvcy5hY3Rpdml0eUluZGljYXRvclZpZXdTdHlsZT1cXFwid2hpdGVMYXJnZVxcXCIgcm93U3Bhbj1cXFwiMlxcXCIgY29sU3Bhbj1cXFwiMVxcXCIgLz5cXG4gICAgPC9HcmlkTGF5b3V0PlxcbjwvUGFnZT5cXG5cIjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9wcm9maWxlcy9wcm9maWxlc2VhcmNoL3Byb2ZpbGVzZWFyY2gtcGFnZS54bWxcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwibWFya3VwXCIsIHBhdGg6IFwiLi9wcm9maWxlcy9wcm9maWxlc2VhcmNoL3Byb2ZpbGVzZWFyY2gtcGFnZS54bWxcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3QgT2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgT2JzZXJ2YWJsZUFycmF5ID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZS1hcnJheVwiKS5PYnNlcnZhYmxlQXJyYXk7XG52YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxuZnVuY3Rpb24gUHJvZmlsZVNlYXJjaFZpZXdNb2RlbChpdGVtcykge1xuICAgIGNvbnN0IHZpZXdNb2RlbCA9IG5ldyBPYnNlcnZhYmxlQXJyYXkoaXRlbXMpO1xuICAgIFxuICAgIHZpZXdNb2RlbC5sb2FkID0gZnVuY3Rpb24ocmVsYXRpb25hbFR5cGUsIHJlbGF0aW9uYWxJZCwgZmlsdGVyLCBwYWdlLCBwYWdlU2l6ZSkge1xuICAgICAgICByZXR1cm4gaHR0cC5yZXF1ZXN0KHtcbiAgICAgICAgICAgIHVybDogZ2xvYmFsLmFwaUJhc2VTZXJ2aWNlVXJsICsgXCJwcm9maWxlcmVsYXRpb25zaGlwZmlsdGVyP3JlbGF0aW9uYWxUeXBlPVwiICsgcmVsYXRpb25hbFR5cGUgKyBcIiZyZWxhdGlvbmFsSWQ9XCIgKyByZWxhdGlvbmFsSWQgKyBcIiZmaWx0ZXI9XCIgKyBmaWx0ZXIucmVwbGFjZSgvIC9nLCBcIiUyMFwiKSArIFwiJnBhZ2U9XCIgKyBwYWdlICsgXCImcGFnZVNpemU9XCIgKyBwYWdlU2l6ZSxcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiQXV0aG9yaXphdGlvblwiOiBnbG9iYWwudG9rZW4gfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmNvbnRlbnQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShyZXN1bHQpO1xuXG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24ocHJvZmlsZSkge1xuICAgICAgICAgICAgICAgIGlmIChwcm9maWxlLlBlcnNvbklkICE9PSBudWxsICYmIHByb2ZpbGUuUGVyc29uSWQgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvZmlsZS5DaGVja2VkID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxhdGlvbmFsVHlwZTogcHJvZmlsZS5SZWxhdGlvbmFsVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxhdGlvbmFsSWQ6IHByb2ZpbGUuUmVsYXRpb25hbElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcnNvbklkOiBwcm9maWxlLlBlcnNvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxOYW1lOiBwcm9maWxlLkZ1bGxOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhbnk6IHByb2ZpbGUuQ29tcGFueSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogcHJvZmlsZS5UaXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbEFkZHJlc3M6IHByb2ZpbGUuRW1haWxBZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtQaG9uZTogcHJvZmlsZS5Xb3JrUGhvbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZDogY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogcHJvZmlsZS5Ub3RhbFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZpZXdNb2RlbC5lbXB0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB3aGlsZSAodmlld01vZGVsLmxlbmd0aCkge1xuICAgICAgICAgICAgdmlld01vZGVsLnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gdmlld01vZGVsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFByb2ZpbGVTZWFyY2hWaWV3TW9kZWw7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vcHJvZmlsZXMvcHJvZmlsZXNlYXJjaC9wcm9maWxlc2VhcmNoLXZpZXctbW9kZWwuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9wcm9maWxlcy9wcm9maWxlc2VhcmNoL3Byb2ZpbGVzZWFyY2gtdmlldy1tb2RlbC5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCIvLyBUaGVyZSBpcyBhIGJ1ZyBpbiBhbmd1bGFyOiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLWNsaS9wdWxsLzg1ODkvZmlsZXNcbi8vIExlZ2VuZGFyeSBzdHVmZiwgaXRzIHdlYnBhY2sgcGx1Z2luIHByZXR0eSBtdWNoIGRvZXNuJ3Qgd29yayB3aXRoIGVtcHR5IFR5cGVTY3JpcHQgZmlsZXMgaW4gdjEuOC4zXG52b2lkIDA7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vdmVuZG9yLXBsYXRmb3JtLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vdmVuZG9yLXBsYXRmb3JtLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIi8vIFNuYXBzaG90IHRoZSB+L2FwcC5jc3MgYW5kIHRoZSB0aGVtZVxuY29uc3QgYXBwbGljYXRpb24gPSByZXF1aXJlKFwiYXBwbGljYXRpb25cIik7XG5yZXF1aXJlKFwidWkvc3R5bGluZy9zdHlsZS1zY29wZVwiKTtcbmNvbnN0IGFwcENzc0NvbnRleHQgPSByZXF1aXJlLmNvbnRleHQoXCJ+L1wiLCBmYWxzZSwgL15cXC5cXC9hcHBcXC4oY3NzfHNjc3N8bGVzc3xzYXNzKSQvKTtcbmdsb2JhbC5yZWdpc3RlcldlYnBhY2tNb2R1bGVzKGFwcENzc0NvbnRleHQpO1xuYXBwbGljYXRpb24ubG9hZEFwcENzcygpO1xuXG5yZXF1aXJlKFwiLi92ZW5kb3ItcGxhdGZvcm1cIik7XG5cbnJlcXVpcmUoXCJidW5kbGUtZW50cnktcG9pbnRzXCIpO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL3ZlbmRvci5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL3ZlbmRvci5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ+L3BhY2thZ2UuanNvblwiKTsiXSwic291cmNlUm9vdCI6IiJ9