require("./runtime.js");require("./vendor.js");module.exports =
(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["bundle"],{

/***/ "./ sync ^\\.\\/app\\.(css|scss|less|sass)$":
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./app.css": "./app.css"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./ sync ^\\.\\/app\\.(css|scss|less|sass)$";

/***/ }),

/***/ "./ sync recursive (?<!\\bApp_Resources\\b.*)(?<!\\.\\/\\btests\\b\\/.*?)\\.(xml|css|js|(?<!\\.d\\.)ts|(?<!\\b_[\\w-]*\\.)scss)$":
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./app-root.xml": "./app-root.xml",
	"./app.css": "./app.css",
	"./app.js": "./app.js",
	"./assignments/assignment/assignment-page.js": "./assignments/assignment/assignment-page.js",
	"./assignments/assignment/assignment-page.xml": "./assignments/assignment/assignment-page.xml",
	"./assignments/assignments-page.js": "./assignments/assignments-page.js",
	"./assignments/assignments-page.xml": "./assignments/assignments-page.xml",
	"./assignments/assignments-view-model.js": "./assignments/assignments-view-model.js",
	"./bundle-config.js": "./bundle-config.js",
	"./committees/committee/committee-page.js": "./committees/committee/committee-page.js",
	"./committees/committee/committee-page.xml": "./committees/committee/committee-page.xml",
	"./committees/committee/committee-view-model.js": "./committees/committee/committee-view-model.js",
	"./committees/committees-page.js": "./committees/committees-page.js",
	"./committees/committees-page.xml": "./committees/committees-page.xml",
	"./committees/committees-view-model.js": "./committees/committees-view-model.js",
	"./components/tab-navigation.js": "./components/tab-navigation.js",
	"./home/home-page.js": "./home/home-page.js",
	"./home/home-page.xml": "./home/home-page.xml",
	"./home/home-view-model.js": "./home/home-view-model.js",
	"./legislators/legislator/bio/bio-page.js": "./legislators/legislator/bio/bio-page.js",
	"./legislators/legislator/bio/bio-page.xml": "./legislators/legislator/bio/bio-page.xml",
	"./legislators/legislator/committees/committees-page.js": "./legislators/legislator/committees/committees-page.js",
	"./legislators/legislator/committees/committees-page.xml": "./legislators/legislator/committees/committees-page.xml",
	"./legislators/legislator/committees/committees-view-model.js": "./legislators/legislator/committees/committees-view-model.js",
	"./legislators/legislator/initiativetiers/initiativetiers-page.js": "./legislators/legislator/initiativetiers/initiativetiers-page.js",
	"./legislators/legislator/initiativetiers/initiativetiers-page.xml": "./legislators/legislator/initiativetiers/initiativetiers-page.xml",
	"./legislators/legislator/initiativetiers/initiativetiers-view-model.js": "./legislators/legislator/initiativetiers/initiativetiers-view-model.js",
	"./legislators/legislator/legislator-page.js": "./legislators/legislator/legislator-page.js",
	"./legislators/legislator/legislator-page.xml": "./legislators/legislator/legislator-page.xml",
	"./legislators/legislator/legislator-view-model.js": "./legislators/legislator/legislator-view-model.js",
	"./legislators/legislator/surveys/select/select-page.js": "./legislators/legislator/surveys/select/select-page.js",
	"./legislators/legislator/surveys/select/select-page.xml": "./legislators/legislator/surveys/select/select-page.xml",
	"./legislators/legislator/surveys/select/select-view-model.js": "./legislators/legislator/surveys/select/select-view-model.js",
	"./legislators/legislator/surveys/survey/question/question-page.js": "./legislators/legislator/surveys/survey/question/question-page.js",
	"./legislators/legislator/surveys/survey/question/question-page.xml": "./legislators/legislator/surveys/survey/question/question-page.xml",
	"./legislators/legislator/surveys/survey/question/response-view-model.js": "./legislators/legislator/surveys/survey/question/response-view-model.js",
	"./legislators/legislator/surveys/survey/survey-page.js": "./legislators/legislator/surveys/survey/survey-page.js",
	"./legislators/legislator/surveys/survey/survey-page.xml": "./legislators/legislator/surveys/survey/survey-page.xml",
	"./legislators/legislator/surveys/survey/survey-view-model.js": "./legislators/legislator/surveys/survey/survey-view-model.js",
	"./legislators/legislator/surveys/surveys-page.js": "./legislators/legislator/surveys/surveys-page.js",
	"./legislators/legislator/surveys/surveys-page.xml": "./legislators/legislator/surveys/surveys-page.xml",
	"./legislators/legislator/surveys/surveys-view-model.js": "./legislators/legislator/surveys/surveys-view-model.js",
	"./legislators/legislators-page.js": "./legislators/legislators-page.js",
	"./legislators/legislators-page.xml": "./legislators/legislators-page.xml",
	"./legislators/legislators-view-model.js": "./legislators/legislators-view-model.js",
	"./login/login-page.js": "./login/login-page.js",
	"./login/login-page.xml": "./login/login-page.xml",
	"./login/login-view-model.js": "./login/login-view-model.js",
	"./main-page.js": "./main-page.js",
	"./main-page.xml": "./main-page.xml",
	"./meetings/meeting/attendeetype/attendeetype-page.js": "./meetings/meeting/attendeetype/attendeetype-page.js",
	"./meetings/meeting/attendeetype/attendeetype-page.xml": "./meetings/meeting/attendeetype/attendeetype-page.xml",
	"./meetings/meeting/attendeetype/attendeetype-view-model.js": "./meetings/meeting/attendeetype/attendeetype-view-model.js",
	"./meetings/meeting/followup/followup-page.js": "./meetings/meeting/followup/followup-page.js",
	"./meetings/meeting/followup/followup-page.xml": "./meetings/meeting/followup/followup-page.xml",
	"./meetings/meeting/initiatives/initiatives-page.js": "./meetings/meeting/initiatives/initiatives-page.js",
	"./meetings/meeting/initiatives/initiatives-page.xml": "./meetings/meeting/initiatives/initiatives-page.xml",
	"./meetings/meeting/initiatives/initiatives-view-model.js": "./meetings/meeting/initiatives/initiatives-view-model.js",
	"./meetings/meeting/meeting-page.js": "./meetings/meeting/meeting-page.js",
	"./meetings/meeting/meeting-page.xml": "./meetings/meeting/meeting-page.xml",
	"./meetings/meeting/meeting-view-model.js": "./meetings/meeting/meeting-view-model.js",
	"./meetings/meeting/meetinglocation/meetinglocation-page.js": "./meetings/meeting/meetinglocation/meetinglocation-page.js",
	"./meetings/meeting/meetinglocation/meetinglocation-page.xml": "./meetings/meeting/meetinglocation/meetinglocation-page.xml",
	"./meetings/meeting/meetinglocation/meetinglocation-view-model.js": "./meetings/meeting/meetinglocation/meetinglocation-view-model.js",
	"./meetings/meeting/notes/notes-page.js": "./meetings/meeting/notes/notes-page.js",
	"./meetings/meeting/notes/notes-page.xml": "./meetings/meeting/notes/notes-page.xml",
	"./meetings/meeting/offeredtomembers/offeredtomembers-page.js": "./meetings/meeting/offeredtomembers/offeredtomembers-page.js",
	"./meetings/meeting/offeredtomembers/offeredtomembers-page.xml": "./meetings/meeting/offeredtomembers/offeredtomembers-page.xml",
	"./meetings/meeting/staffattendees/staffattendees-page.js": "./meetings/meeting/staffattendees/staffattendees-page.js",
	"./meetings/meeting/staffattendees/staffattendees-page.xml": "./meetings/meeting/staffattendees/staffattendees-page.xml",
	"./meetings/meeting/venuetype/venuetype-page.js": "./meetings/meeting/venuetype/venuetype-page.js",
	"./meetings/meeting/venuetype/venuetype-page.xml": "./meetings/meeting/venuetype/venuetype-page.xml",
	"./meetings/meeting/venuetype/venuetype-view-model.js": "./meetings/meeting/venuetype/venuetype-view-model.js",
	"./meetings/meetings-page.js": "./meetings/meetings-page.js",
	"./meetings/meetings-page.xml": "./meetings/meetings-page.xml",
	"./meetings/meetings-view-model.js": "./meetings/meetings-view-model.js",
	"./profiles/profile/familiaritylevel-view-model.js": "./profiles/profile/familiaritylevel-view-model.js",
	"./profiles/profile/profile-page.js": "./profiles/profile/profile-page.js",
	"./profiles/profile/profile-page.xml": "./profiles/profile/profile-page.xml",
	"./profiles/profile/relationshiptype-view-model.js": "./profiles/profile/relationshiptype-view-model.js",
	"./profiles/profiles-page.js": "./profiles/profiles-page.js",
	"./profiles/profiles-page.xml": "./profiles/profiles-page.xml",
	"./profiles/profiles-view-model.js": "./profiles/profiles-view-model.js",
	"./profiles/profilesearch/old/profilesearch-page.js": "./profiles/profilesearch/old/profilesearch-page.js",
	"./profiles/profilesearch/old/profilesearch-page.xml": "./profiles/profilesearch/old/profilesearch-page.xml",
	"./profiles/profilesearch/old/profilesearch-view-model.js": "./profiles/profilesearch/old/profilesearch-view-model.js",
	"./profiles/profilesearch/profilesearch-page.js": "./profiles/profilesearch/profilesearch-page.js",
	"./profiles/profilesearch/profilesearch-page.xml": "./profiles/profilesearch/profilesearch-page.xml",
	"./profiles/profilesearch/profilesearch-view-model.js": "./profiles/profilesearch/profilesearch-view-model.js",
	"./vendor-platform.js": "./vendor-platform.js",
	"./vendor.js": "./vendor.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./ sync recursive (?<!\\bApp_Resources\\b.*)(?<!\\.\\/\\btests\\b\\/.*?)\\.(xml|css|js|(?<!\\.d\\.)ts|(?<!\\b_[\\w-]*\\.)scss)$";

/***/ }),

/***/ "./ sync recursive (page|fragment)\\.(xml|css|js|ts|scss)$":
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./assignments/assignment/assignment-page.js": "./assignments/assignment/assignment-page.js",
	"./assignments/assignment/assignment-page.xml": "./assignments/assignment/assignment-page.xml",
	"./assignments/assignments-page.js": "./assignments/assignments-page.js",
	"./assignments/assignments-page.xml": "./assignments/assignments-page.xml",
	"./committees/committee/committee-page.js": "./committees/committee/committee-page.js",
	"./committees/committee/committee-page.xml": "./committees/committee/committee-page.xml",
	"./committees/committees-page.js": "./committees/committees-page.js",
	"./committees/committees-page.xml": "./committees/committees-page.xml",
	"./home/home-page.js": "./home/home-page.js",
	"./home/home-page.xml": "./home/home-page.xml",
	"./legislators/legislator/bio/bio-page.js": "./legislators/legislator/bio/bio-page.js",
	"./legislators/legislator/bio/bio-page.xml": "./legislators/legislator/bio/bio-page.xml",
	"./legislators/legislator/committees/committees-page.js": "./legislators/legislator/committees/committees-page.js",
	"./legislators/legislator/committees/committees-page.xml": "./legislators/legislator/committees/committees-page.xml",
	"./legislators/legislator/initiativetiers/initiativetiers-page.js": "./legislators/legislator/initiativetiers/initiativetiers-page.js",
	"./legislators/legislator/initiativetiers/initiativetiers-page.xml": "./legislators/legislator/initiativetiers/initiativetiers-page.xml",
	"./legislators/legislator/legislator-page.js": "./legislators/legislator/legislator-page.js",
	"./legislators/legislator/legislator-page.xml": "./legislators/legislator/legislator-page.xml",
	"./legislators/legislator/surveys/select/select-page.js": "./legislators/legislator/surveys/select/select-page.js",
	"./legislators/legislator/surveys/select/select-page.xml": "./legislators/legislator/surveys/select/select-page.xml",
	"./legislators/legislator/surveys/survey/question/question-page.js": "./legislators/legislator/surveys/survey/question/question-page.js",
	"./legislators/legislator/surveys/survey/question/question-page.xml": "./legislators/legislator/surveys/survey/question/question-page.xml",
	"./legislators/legislator/surveys/survey/survey-page.js": "./legislators/legislator/surveys/survey/survey-page.js",
	"./legislators/legislator/surveys/survey/survey-page.xml": "./legislators/legislator/surveys/survey/survey-page.xml",
	"./legislators/legislator/surveys/surveys-page.js": "./legislators/legislator/surveys/surveys-page.js",
	"./legislators/legislator/surveys/surveys-page.xml": "./legislators/legislator/surveys/surveys-page.xml",
	"./legislators/legislators-page.js": "./legislators/legislators-page.js",
	"./legislators/legislators-page.xml": "./legislators/legislators-page.xml",
	"./login/login-page.js": "./login/login-page.js",
	"./login/login-page.xml": "./login/login-page.xml",
	"./main-page.js": "./main-page.js",
	"./main-page.xml": "./main-page.xml",
	"./meetings/meeting/attendeetype/attendeetype-page.js": "./meetings/meeting/attendeetype/attendeetype-page.js",
	"./meetings/meeting/attendeetype/attendeetype-page.xml": "./meetings/meeting/attendeetype/attendeetype-page.xml",
	"./meetings/meeting/followup/followup-page.js": "./meetings/meeting/followup/followup-page.js",
	"./meetings/meeting/followup/followup-page.xml": "./meetings/meeting/followup/followup-page.xml",
	"./meetings/meeting/initiatives/initiatives-page.js": "./meetings/meeting/initiatives/initiatives-page.js",
	"./meetings/meeting/initiatives/initiatives-page.xml": "./meetings/meeting/initiatives/initiatives-page.xml",
	"./meetings/meeting/meeting-page.js": "./meetings/meeting/meeting-page.js",
	"./meetings/meeting/meeting-page.xml": "./meetings/meeting/meeting-page.xml",
	"./meetings/meeting/meetinglocation/meetinglocation-page.js": "./meetings/meeting/meetinglocation/meetinglocation-page.js",
	"./meetings/meeting/meetinglocation/meetinglocation-page.xml": "./meetings/meeting/meetinglocation/meetinglocation-page.xml",
	"./meetings/meeting/notes/notes-page.js": "./meetings/meeting/notes/notes-page.js",
	"./meetings/meeting/notes/notes-page.xml": "./meetings/meeting/notes/notes-page.xml",
	"./meetings/meeting/offeredtomembers/offeredtomembers-page.js": "./meetings/meeting/offeredtomembers/offeredtomembers-page.js",
	"./meetings/meeting/offeredtomembers/offeredtomembers-page.xml": "./meetings/meeting/offeredtomembers/offeredtomembers-page.xml",
	"./meetings/meeting/staffattendees/staffattendees-page.js": "./meetings/meeting/staffattendees/staffattendees-page.js",
	"./meetings/meeting/staffattendees/staffattendees-page.xml": "./meetings/meeting/staffattendees/staffattendees-page.xml",
	"./meetings/meeting/venuetype/venuetype-page.js": "./meetings/meeting/venuetype/venuetype-page.js",
	"./meetings/meeting/venuetype/venuetype-page.xml": "./meetings/meeting/venuetype/venuetype-page.xml",
	"./meetings/meetings-page.js": "./meetings/meetings-page.js",
	"./meetings/meetings-page.xml": "./meetings/meetings-page.xml",
	"./profiles/profile/profile-page.js": "./profiles/profile/profile-page.js",
	"./profiles/profile/profile-page.xml": "./profiles/profile/profile-page.xml",
	"./profiles/profiles-page.js": "./profiles/profiles-page.js",
	"./profiles/profiles-page.xml": "./profiles/profiles-page.xml",
	"./profiles/profilesearch/old/profilesearch-page.js": "./profiles/profilesearch/old/profilesearch-page.js",
	"./profiles/profilesearch/old/profilesearch-page.xml": "./profiles/profilesearch/old/profilesearch-page.xml",
	"./profiles/profilesearch/profilesearch-page.js": "./profiles/profilesearch/profilesearch-page.js",
	"./profiles/profilesearch/profilesearch-page.xml": "./profiles/profilesearch/profilesearch-page.xml"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./ sync recursive (page|fragment)\\.(xml|css|js|ts|scss)$";

/***/ }),

/***/ "./app-root.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Frame defaultPage=\"login/login-page\"></Frame>"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./app-root.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./app-root.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./app.css":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {module.exports = {"type":"stylesheet","stylesheet":{"rules":[{"type":"comment","comment":"\nIn NativeScript, the app.css file is where you place CSS rules that\nyou would like to apply to your entire application. Check out\nhttp://docs.nativescript.org/ui/styling for a full list of the CSS\nselectors and properties you can use to style UI components.\n\n/*\nFor example, the following CSS rule changes the font size of all UI\ncomponents that have the btn class name.\n"},{"type":"rule","selectors":["ActivityIndicator"],"declarations":[{"type":"declaration","property":"color","value":"#0075be"}]},{"type":"rule","selectors":["Page"],"declarations":[{"type":"declaration","property":"background-color","value":"#eee"},{"type":"comment","comment":" margin-top: -20; fix nested frame spacing "}]},{"type":"rule","selectors":[".ios .page"],"declarations":[{"type":"declaration","property":"margin-top","value":"0"}]},{"type":"rule","selectors":[".android TextField"],"declarations":[{"type":"declaration","property":"font","value":"14"}]},{"type":"rule","selectors":[".android .login-field"],"declarations":[{"type":"declaration","property":"margin-bottom","value":"0"},{"type":"declaration","property":"margin-left","value":"10"},{"type":"declaration","property":"margin-right","value":"10"},{"type":"declaration","property":"margin-top","value":"0"}]},{"type":"rule","selectors":[".ios .login-field"],"declarations":[{"type":"declaration","property":"margin-bottom","value":"10"},{"type":"declaration","property":"margin-left","value":"10"},{"type":"declaration","property":"margin-right","value":"15"},{"type":"declaration","property":"margin-top","value":"10"}]},{"type":"rule","selectors":[".android .login-field-switch"],"declarations":[{"type":"declaration","property":"margin-bottom","value":"5"},{"type":"declaration","property":"margin-left","value":"10"},{"type":"declaration","property":"margin-right","value":"10"},{"type":"declaration","property":"margin-top","value":"5"}]},{"type":"rule","selectors":[".ios .login-field-switch"],"declarations":[{"type":"declaration","property":"margin-bottom","value":"5"},{"type":"declaration","property":"margin-left","value":"10"},{"type":"declaration","property":"margin-right","value":"10"},{"type":"declaration","property":"margin-top","value":"5"}]},{"type":"rule","selectors":[".hr-light"],"declarations":[{"type":"declaration","property":"background-color","value":"#e0e0e0"},{"type":"declaration","property":"height","value":"1"},{"type":"declaration","property":"width","value":"100%"}]},{"type":"rule","selectors":[".hr-dark"],"declarations":[{"type":"declaration","property":"height","value":"1"},{"type":"declaration","property":"background-color","value":"#303030"},{"type":"declaration","property":"width","value":"100%"}]},{"type":"rule","selectors":[".android .button"],"declarations":[{"type":"declaration","property":"background","value":"#eee"},{"type":"declaration","property":"border-color","value":"#ccc"},{"type":"declaration","property":"border-radius","value":"3"},{"type":"declaration","property":"border-style","value":"solid"},{"type":"declaration","property":"border-width","value":"1"},{"type":"declaration","property":"color","value":"black"},{"type":"declaration","property":"font-size","value":"12"},{"type":"declaration","property":"height","value":"30"},{"type":"declaration","property":"margin-bottom","value":"10"},{"type":"declaration","property":"margin-top","value":"10"},{"type":"declaration","property":"padding","value":"0"}]},{"type":"rule","selectors":[".ios .button"],"declarations":[{"type":"declaration","property":"background","value":"#eee"},{"type":"declaration","property":"border-color","value":"#ccc"},{"type":"declaration","property":"border-radius","value":"3"},{"type":"declaration","property":"border-style","value":"solid"},{"type":"declaration","property":"border-width","value":"1"},{"type":"declaration","property":"color","value":"black"},{"type":"declaration","property":"font-size","value":"18"},{"type":"declaration","property":"margin-bottom","value":"10"},{"type":"declaration","property":"margin-top","value":"10"},{"type":"declaration","property":"padding","value":"5"}]},{"type":"rule","selectors":[".android .login-button"],"declarations":[{"type":"declaration","property":"background","value":"#ccc"},{"type":"declaration","property":"border-color","value":"#999"},{"type":"declaration","property":"border-radius","value":"3"},{"type":"declaration","property":"border-style","value":"solid"},{"type":"declaration","property":"border-width","value":"1"},{"type":"declaration","property":"color","value":"black"},{"type":"declaration","property":"font-size","value":"12"},{"type":"declaration","property":"height","value":"30"},{"type":"declaration","property":"margin-bottom","value":"10"},{"type":"declaration","property":"margin-top","value":"10"},{"type":"declaration","property":"padding","value":"5"}]},{"type":"rule","selectors":[".ios .login-button"],"declarations":[{"type":"declaration","property":"background","value":"#0075be"},{"type":"declaration","property":"border-color","value":"#0075be"},{"type":"declaration","property":"border-radius","value":"3"},{"type":"declaration","property":"border-style","value":"solid"},{"type":"declaration","property":"border-width","value":"1"},{"type":"declaration","property":"color","value":"white"},{"type":"declaration","property":"font-size","value":"18"},{"type":"declaration","property":"margin-bottom","value":"10"},{"type":"declaration","property":"margin-top","value":"10"},{"type":"declaration","property":"padding","value":"10"}]},{"type":"rule","selectors":[".android .forgot-button"],"declarations":[{"type":"declaration","property":"background","value":"transparent"},{"type":"declaration","property":"border","value":"none"},{"type":"declaration","property":"color","value":"#ea092a"},{"type":"declaration","property":"font-size","value":"11"}]},{"type":"rule","selectors":[".ios .forgot-button"],"declarations":[{"type":"declaration","property":"background","value":"transparent"},{"type":"declaration","property":"border","value":"none"},{"type":"declaration","property":"color","value":"#ea092a"},{"type":"declaration","property":"font-size","value":"16"}]},{"type":"rule","selectors":[".navigation-frame Page"],"declarations":[{"type":"comment","comment":" margin-top: 20; fix nested frame spacing "},{"type":"declaration","property":"background-color","value":"white"}]},{"type":"rule","selectors":[".tab"],"declarations":[{"type":"comment","comment":" padding: 10; "},{"type":"declaration","property":"border-top-color","value":"#ddd"},{"type":"declaration","property":"border-top-width","value":"1"},{"type":"declaration","property":"background-color","value":"#eeeeee"},{"type":"declaration","property":"color","value":"#999"}]},{"type":"rule","selectors":[".tab-selected"],"declarations":[{"type":"declaration","property":"color","value":"#0075be"}]},{"type":"rule","selectors":[".android .tab-icon"],"declarations":[{"type":"declaration","property":"text-align","value":"center"},{"type":"declaration","property":"font-size","value":"22"},{"type":"declaration","property":"font-family","value":"fontawesome"},{"type":"declaration","property":"margin-bottom","value":"5"},{"type":"declaration","property":"margin-top","value":"5"}]},{"type":"rule","selectors":[".ios .tab-icon"],"declarations":[{"type":"declaration","property":"text-align","value":"center"},{"type":"declaration","property":"font-size","value":"22"},{"type":"declaration","property":"font-family","value":"'FontAwesome'"},{"type":"declaration","property":"margin-bottom","value":"5"},{"type":"declaration","property":"margin-top","value":"5"}]},{"type":"rule","selectors":[".tab-label"],"declarations":[{"type":"declaration","property":"text-align","value":"center"},{"type":"declaration","property":"font-size","value":"10"},{"type":"declaration","property":"margin-bottom","value":"1"}]},{"type":"rule","selectors":[".action-bar-title"],"declarations":[{"type":"declaration","property":"font-weight","value":"bold"}]},{"type":"rule","selectors":[".android .list-view-item"],"declarations":[{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"margin-left","value":"10"},{"type":"declaration","property":"margin-right","value":"10"},{"type":"declaration","property":"min-height","value":"38"},{"type":"declaration","property":"padding-bottom","value":"5"},{"type":"declaration","property":"padding-top","value":"5"}]},{"type":"rule","selectors":[".ios .list-view-item"],"declarations":[{"type":"declaration","property":"font-size","value":"16"},{"type":"declaration","property":"margin-left","value":"20"},{"type":"declaration","property":"margin-right","value":"20"},{"type":"declaration","property":"min-height","value":"44"},{"type":"declaration","property":"padding-bottom","value":"8"},{"type":"declaration","property":"padding-top","value":"8"}]},{"type":"rule","selectors":[".android .list-view-item-small"],"declarations":[{"type":"declaration","property":"font-size","value":"11"},{"type":"declaration","property":"margin-left","value":"10"},{"type":"declaration","property":"margin-right","value":"10"},{"type":"declaration","property":"min-height","value":"38"},{"type":"declaration","property":"padding-bottom","value":"5"},{"type":"declaration","property":"padding-top","value":"5"}]},{"type":"rule","selectors":[".ios .list-view-item-small"],"declarations":[{"type":"declaration","property":"font-size","value":"13"},{"type":"declaration","property":"margin-left","value":"20"},{"type":"declaration","property":"margin-right","value":"20"},{"type":"declaration","property":"min-height","value":"44"},{"type":"declaration","property":"padding-bottom","value":"8"},{"type":"declaration","property":"padding-top","value":"8"}]},{"type":"rule","selectors":[".rad-list-view-item"],"declarations":[{"type":"declaration","property":"border-bottom-color","value":"#ddd"},{"type":"declaration","property":"border-bottom-width","value":"0.5"},{"type":"comment","comment":" color: #212121; "},{"type":"declaration","property":"font-size","value":"16"},{"type":"declaration","property":"margin-left","value":"20"},{"type":"declaration","property":"padding-right","value":"20"},{"type":"declaration","property":"min-height","value":"44"},{"type":"declaration","property":"padding-bottom","value":"8"},{"type":"declaration","property":"padding-top","value":"8"}]},{"type":"rule","selectors":[".android .list-view-item-form"],"declarations":[{"type":"declaration","property":"border-bottom-color","value":"#ddd"},{"type":"declaration","property":"border-bottom-width","value":"0.5"},{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"margin-left","value":"10"},{"type":"comment","comment":" margin-right: 20; "},{"type":"declaration","property":"min-height","value":"38"},{"type":"declaration","property":"padding-bottom","value":"8"},{"type":"declaration","property":"padding-right","value":"10"},{"type":"declaration","property":"padding-top","value":"8"}]},{"type":"rule","selectors":[".ios .list-view-item-form"],"declarations":[{"type":"declaration","property":"border-bottom-color","value":"#ddd"},{"type":"declaration","property":"border-bottom-width","value":"0.5"},{"type":"declaration","property":"font-size","value":"16"},{"type":"declaration","property":"margin-left","value":"20"},{"type":"comment","comment":" margin-right: 20; "},{"type":"declaration","property":"min-height","value":"44"},{"type":"declaration","property":"padding-bottom","value":"8"},{"type":"declaration","property":"padding-right","value":"20"},{"type":"declaration","property":"padding-top","value":"8"}]},{"type":"rule","selectors":[".android .list-view-item-form-bottom"],"declarations":[{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"margin-left","value":"10"},{"type":"declaration","property":"min-height","value":"38"},{"type":"declaration","property":"padding-bottom","value":"8"},{"type":"declaration","property":"padding-right","value":"10"},{"type":"declaration","property":"padding-top","value":"8"}]},{"type":"rule","selectors":[".ios .list-view-item-form-bottom"],"declarations":[{"type":"declaration","property":"font-size","value":"16"},{"type":"declaration","property":"margin-left","value":"20"},{"type":"declaration","property":"min-height","value":"44"},{"type":"declaration","property":"padding-bottom","value":"8"},{"type":"declaration","property":"padding-right","value":"20"},{"type":"declaration","property":"padding-top","value":"8"}]},{"type":"rule","selectors":[".list-view-section-blank"],"declarations":[{"type":"declaration","property":"background-color","value":"#ddd"},{"type":"declaration","property":"height","value":"1"}]},{"type":"rule","selectors":[".android .list-view-section-header"],"declarations":[{"type":"declaration","property":"background-color","value":"#eee"},{"type":"declaration","property":"border-bottom-color","value":"#ddd"},{"type":"declaration","property":"border-bottom-width","value":"0.5"},{"type":"declaration","property":"border-top-color","value":"#ddd"},{"type":"declaration","property":"border-top-width","value":"0.5"},{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"10"},{"type":"comment","comment":" height: 30; "},{"type":"declaration","property":"padding-bottom","value":"2"},{"type":"declaration","property":"padding-left","value":"10"},{"type":"declaration","property":"padding-right","value":"10"},{"type":"declaration","property":"padding-top","value":"10"}]},{"type":"rule","selectors":[".ios .list-view-section-header"],"declarations":[{"type":"declaration","property":"background-color","value":"#eee"},{"type":"declaration","property":"border-bottom-color","value":"#ddd"},{"type":"declaration","property":"border-bottom-width","value":"0.5"},{"type":"declaration","property":"border-top-color","value":"#ddd"},{"type":"declaration","property":"border-top-width","value":"0.5"},{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"12"},{"type":"declaration","property":"height","value":"35"},{"type":"declaration","property":"padding-bottom","value":"2"},{"type":"declaration","property":"padding-left","value":"20"},{"type":"declaration","property":"padding-right","value":"20"},{"type":"declaration","property":"padding-top","value":"0"}]},{"type":"rule","selectors":[".android .list-view-section-header-no-border"],"declarations":[{"type":"declaration","property":"background-color","value":"#eee"},{"type":"declaration","property":"border-top-color","value":"#ddd"},{"type":"declaration","property":"border-top-width","value":"0.5"},{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"10"},{"type":"declaration","property":"height","value":"30"},{"type":"declaration","property":"padding-bottom","value":"2"},{"type":"declaration","property":"padding-left","value":"10"},{"type":"declaration","property":"padding-right","value":"10"},{"type":"declaration","property":"padding-top","value":"0"}]},{"type":"rule","selectors":[".ios .list-view-section-header-no-border"],"declarations":[{"type":"declaration","property":"background-color","value":"#eee"},{"type":"declaration","property":"border-top-color","value":"#ddd"},{"type":"declaration","property":"border-top-width","value":"0.5"},{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"12"},{"type":"declaration","property":"height","value":"35"},{"type":"declaration","property":"padding-bottom","value":"2"},{"type":"declaration","property":"padding-left","value":"20"},{"type":"declaration","property":"padding-right","value":"20"},{"type":"declaration","property":"padding-top","value":"0"}]},{"type":"rule","selectors":[".list-view-section-detail"],"declarations":[{"type":"declaration","property":"background-color","value":"white"},{"type":"declaration","property":"border-top-color","value":"#ddd"},{"type":"declaration","property":"border-top-width","value":"0.5"}]},{"type":"rule","selectors":[".android .list-view-item-main-top"],"declarations":[{"type":"declaration","property":"color","value":"black"},{"type":"declaration","property":"font-size","value":"14"}]},{"type":"rule","selectors":[".ios .list-view-item-main-top"],"declarations":[{"type":"declaration","property":"font-size","value":"16"}]},{"type":"rule","selectors":[".android .list-view-item-main"],"declarations":[{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"margin-top","value":"3"}]},{"type":"rule","selectors":[".ios .list-view-item-main"],"declarations":[{"type":"declaration","property":"font-size","value":"16"},{"type":"declaration","property":"margin-top","value":"3"}]},{"type":"rule","selectors":[".android .list-view-item-picker"],"declarations":[{"type":"declaration","property":"color","value":"black"},{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"width","value":"100%"}]},{"type":"rule","selectors":[".ios .list-view-item-picker"],"declarations":[{"type":"declaration","property":"color","value":"black"},{"type":"declaration","property":"font-size","value":"16"},{"type":"declaration","property":"width","value":"100%"}]},{"type":"rule","selectors":[".android .list-view-item-textview"],"declarations":[{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"14"}]},{"type":"rule","selectors":[".ios .list-view-item-textview"],"declarations":[{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"16"}]},{"type":"rule","selectors":[".android .list-view-item-left"],"declarations":[{"type":"declaration","property":"color","value":"black"},{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"text-align","value":"left"}]},{"type":"rule","selectors":[".ios .list-view-item-left"],"declarations":[{"type":"declaration","property":"font-size","value":"16"},{"type":"declaration","property":"text-align","value":"left"}]},{"type":"rule","selectors":[".android .list-view-item-right"],"declarations":[{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"text-align","value":"right"}]},{"type":"rule","selectors":[".ios .list-view-item-right"],"declarations":[{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"16"},{"type":"declaration","property":"text-align","value":"right"}]},{"type":"rule","selectors":[".android .list-view-item-sub-email"],"declarations":[{"type":"declaration","property":"color","value":"#0075be"},{"type":"declaration","property":"font-size","value":"12"},{"type":"declaration","property":"margin-top","value":"3"},{"type":"declaration","property":"text-decoration","value":"underline"}]},{"type":"rule","selectors":[".ios .list-view-item-sub-email"],"declarations":[{"type":"declaration","property":"color","value":"#0075be"},{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"margin-top","value":"3"},{"type":"declaration","property":"text-decoration","value":"underline"}]},{"type":"rule","selectors":[".android .list-view-item-sub-phone"],"declarations":[{"type":"declaration","property":"color","value":"#0075be"},{"type":"declaration","property":"font-size","value":"12"},{"type":"declaration","property":"margin-top","value":"5"}]},{"type":"rule","selectors":[".ios .list-view-item-sub-phone"],"declarations":[{"type":"declaration","property":"color","value":"#0075be"},{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"margin-top","value":"3"}]},{"type":"rule","selectors":[".android .list-view-item-sub-title"],"declarations":[{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"12"},{"type":"declaration","property":"font-weight","value":"bold"},{"type":"declaration","property":"margin-top","value":"3"}]},{"type":"rule","selectors":[".ios .list-view-item-sub-title"],"declarations":[{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"font-weight","value":"bold"},{"type":"declaration","property":"margin-top","value":"3"}]},{"type":"rule","selectors":[".android .list-view-item-sub"],"declarations":[{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"12"},{"type":"declaration","property":"margin-top","value":"3"}]},{"type":"rule","selectors":[".ios .list-view-item-sub"],"declarations":[{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"margin-top","value":"3"}]},{"type":"rule","selectors":[".android .fn-list-view-item"],"declarations":[{"type":"declaration","property":"color","value":"#ccc"},{"type":"declaration","property":"font-family","value":"fontawesome"},{"type":"declaration","property":"font-size","value":"24"},{"type":"declaration","property":"margin-left","value":"10"}]},{"type":"rule","selectors":[".ios .fn-list-view-item"],"declarations":[{"type":"declaration","property":"color","value":"#ccc"},{"type":"declaration","property":"font-family","value":"'FontAwesome'"},{"type":"declaration","property":"font-size","value":"26"},{"type":"declaration","property":"margin-left","value":"10"}]},{"type":"rule","selectors":[".android .fn-list-view-item-small"],"declarations":[{"type":"declaration","property":"color","value":"#0075be"},{"type":"declaration","property":"font-family","value":"fontawesome"},{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"margin-left","value":"10"}]},{"type":"rule","selectors":[".ios .fn-list-view-item-small"],"declarations":[{"type":"declaration","property":"color","value":"#0075be"},{"type":"declaration","property":"font-family","value":"'FontAwesome'"},{"type":"declaration","property":"font-size","value":"16"},{"type":"declaration","property":"margin-left","value":"10"}]},{"type":"rule","selectors":[".login-background"],"declarations":[{"type":"comment","comment":" background-color: #0075be; "},{"type":"declaration","property":"background-color","value":"white"}]},{"type":"rule","selectors":[".android .scroll-view-item"],"declarations":[{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"padding-left","value":"10"},{"type":"declaration","property":"padding-right","value":"10"}]},{"type":"rule","selectors":[".ios .scroll-view-item"],"declarations":[{"type":"declaration","property":"color","value":"#666"},{"type":"declaration","property":"font-size","value":"16"},{"type":"declaration","property":"padding-left","value":"15"},{"type":"declaration","property":"padding-right","value":"15"}]},{"type":"rule","selectors":[".android .segmented-bar"],"declarations":[{"type":"declaration","property":"background-color","value":"#33a8f1"},{"type":"declaration","property":"color","value":"white"},{"type":"declaration","property":"font-size","value":"10"},{"type":"declaration","property":"selected-background-color","value":"#0075be"},{"type":"comment","comment":" NEEDED "}]},{"type":"rule","selectors":[".ios .segmented-bar"],"declarations":[{"type":"declaration","property":"background-color","value":"#33a8f1"},{"type":"declaration","property":"color","value":"white"},{"type":"declaration","property":"font-size","value":"14"},{"type":"declaration","property":"margin-bottom","value":"10"},{"type":"declaration","property":"margin-top","value":"10"},{"type":"declaration","property":"selected-background-color","value":"#0075be"},{"type":"comment","comment":" NEEDED "}]},{"type":"rule","selectors":[".swipe-icons"],"declarations":[{"type":"declaration","property":"color","value":"#fff"},{"type":"comment","comment":" padding-left: 10;\n    padding-right: 10; "},{"type":"declaration","property":"width","value":"80"}]},{"type":"rule","selectors":[".blue"],"declarations":[{"type":"declaration","property":"background-color","value":"#0075be"}]},{"type":"rule","selectors":[".green"],"declarations":[{"type":"comment","comment":" background-color: green; "},{"type":"declaration","property":"background-color","value":"#35c4af"},{"type":"comment","comment":" #0a573d; "}]},{"type":"rule","selectors":[".orange"],"declarations":[{"type":"comment","comment":" background-color: #f68320; "},{"type":"declaration","property":"background-color","value":"#e88011"}]},{"type":"rule","selectors":[".red"],"declarations":[{"type":"comment","comment":" background-color: #cc2d30; "},{"type":"declaration","property":"background-color","value":"#ea092a"}]},{"type":"comment","comment":" .android .switch {\n    color: #cc2d30;\n} "},{"type":"rule","selectors":[".ios .switch"],"declarations":[{"type":"comment","comment":" background-color: #cc2d30; "},{"type":"declaration","property":"background-color","value":"#ea092a"}]},{"type":"comment","comment":" Switch[checked=true] {\n    color: white ;\n    background-color: #0075be;\n    transform: scale(1.25, 1.25);\n    transform: translate(-5, 0);\n  }\n  \n  Switch[checked=false] {\n    color: gray;\n    background-color: gray;\n  } "},{"type":"rule","selectors":[".view-title"],"declarations":[{"type":"declaration","property":"background-color","value":"#0075be"},{"type":"declaration","property":"color","value":"white"},{"type":"declaration","property":"font-size","value":"20"},{"type":"comment","comment":" height: 44; "},{"type":"declaration","property":"padding-bottom","value":"10"},{"type":"declaration","property":"padding-top","value":"10"},{"type":"declaration","property":"width","value":"100%"}]},{"type":"comment","comment":"\nIn many cases you may want to use the NativeScript core theme instead\nof writing your own CSS rules. For a full list of class names in the theme\nrefer to http://docs.nativescript.org/ui/theme.\n"},{"type":"comment","comment":"@import '~nativescript-theme-core/css/core.light.css';"}],"parsingErrors":[]}};; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./app.css") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "style", path: "./app.css" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./app.js":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global) {/* harmony import */ var _nativescript_core_bundle_entry_points__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("../node_modules/@nativescript/core/bundle-entry-points.js");

            __webpack_require__("../node_modules/@nativescript/webpack/helpers/load-application-css-regular.js")();
            
            
        if (true) {
            const hmrUpdate = __webpack_require__("../node_modules/@nativescript/webpack/hmr/index.js").hmrUpdate;
            global.__coreModulesLiveSync = global.__onLiveSync;

            global.__onLiveSync = function () {
                // handle hot updated on LiveSync
                hmrUpdate();
            };

            global.hmrRefresh = function({ type, path } = {}) {
                // the hot updates are applied, ask the modules to apply the changes
                setTimeout(() => {
                    global.__coreModulesLiveSync({ type, path });
                });
            };

            // handle hot updated on initial app start
            hmrUpdate();
        }
        
            const context = __webpack_require__("./ sync recursive (?<!\\bApp_Resources\\b.*)(?<!\\.\\/\\btests\\b\\/.*?)\\.(xml|css|js|(?<!\\.d\\.)ts|(?<!\\b_[\\w-]*\\.)scss)$");
            global.registerWebpackModules(context);
            if (true) {
                module.hot.accept(context.id, () => { 
                    console.log("HMR: Accept module '" + context.id + "' from '" + module.i + "'"); 
                });
            }
            
        
        /*
In NativeScript, the app.js file is the entry point to your application.
You can use this file to perform app-level initialization, but the primary
purpose of the file is to pass control to the app’s first module.
*/

__webpack_require__("./bundle-config.js");
__webpack_require__("../node_modules/@proplugins/nativescript-platform-css/platformcss.js");
const { Page } = __webpack_require__("../node_modules/@nativescript/core/index.js");
const application = __webpack_require__("../node_modules/@nativescript/core/application/index.js");

// Dev, test, prod urls
const apiLoginUrlDev = "https://sts-dev.pciaa.net/api/pci/signin/issue";
const apiLoginUrlTest = "https://sts-test.pciaa.net/api/pci/signin/issue";
const apiLoginUrlProd = "https://sts.apci.org/api/pci/signin/issue";
const apiBaseServiceUrlDev = "https://dev.pciaa.net/pciwebsite/congressapi/legislators/";
const apiBaseServiceUrlTest = "https://test.pciaa.net/pciwebsite/congressapi/legislators/";
const apiBaseServiceUrlProd = "https://www.apci.org/pciwebsite/congressapi/legislators/";
const scopeDev = "http://dev.pciaa.net/";
const scopeTest = "http://test.pciaa.net/";
const scopeProd = "http://www.apci.org/";

// Define all global variables used throughout the entire solution.
global.apiLoginUrl = apiLoginUrlProd;
global.apiBaseServiceUrl = apiBaseServiceUrlProd;
global.scope = scopeProd;
global.token = null;
global.personId = null;
global.currentUser = null;
global.companyId = null;
global.isPci = false;
global.isCongressAdmin = false;
global.isCongressUser = false;
global.isCongressExternalUser = false;

//application.start({ moduleName: "login/login-page" });
//application.run({ moduleName: "login/login-page" });
application.run({ moduleName: "app-root" });

/*
Do not place any code after the application has been started as it will not
be executed on iOS.
*/
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./app.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./app.js" });
    });
} 
    
        
        
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./assignments/assignment/assignment-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

var page;
var navigationContext;

/* ***********************************************************
* Use the "onNavigatingTo" handler to initialize the page binding context.
*************************************************************/
function onNavigatingTo(args) {
    try {
        page = args.object;
        navigationContext = page.navigationContext;

        page.actionBar.title = "Assignment";

        if (args.isBackNavigation) {
            if (global.refreshAssignments !== undefined && global.refreshAssignments === true) {
                // page.bindingContext.set("meetingCreated", "Y");
                // page.bindingContext.set("lobbyistId", global.personId);
                // page.bindingContext.set("lobbyist", global.currentUser);
                page.bindingContext.meetingCreated = "Y";
                page.bindingContext.lobbyistId = global.personId;
                page.bindingContext.lobbyist = global.currentUser;

                var lobbyistGridLayout = page.getViewById("lobbyistGridLayout");
                var lobbyistLabel = page.getViewById("lobbyistLabel");

                lobbyistGridLayout.visibility = "visible";
                lobbyistLabel.text = global.currentUser;
            }
        } else {
            global.refreshAssignments = false;

            page.bindingContext = navigationContext;
        }
    } catch(e) {
        dialogs.alert(e);
    }
    
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onAddTap(args) {
    try
    {
        var model = {
            meetingId: 0,
            meetingDate: new Date(),
            venueTypeId: 1,
            venueType: "In Person",
            attendeeTypeId: 1,
            attendeeType: "Staff Only",
            lobbyistId: global.personId,
            lobbyist: null,
            legislatorId: navigationContext.legislatorId,
            fullName: navigationContext.legislator,
            name: null,
            pciInitiatives: navigationContext.initiative,
            surveys: navigationContext.survey,
            pciAttendees: global.currentUser,
            primaryOfficeContact: null,
            meetingLocationId: 2,
            location: "Meeting in DC",
            legislatorStaffAttendees: null,
            followUpNeeded: false,
            followUpDate: null,
            followUpNotes: null,
            creatorId: global.personId,
            notes: null,
            initiativeId: navigationContext.initiativeId,
            surveyId: navigationContext.surveyId,
            assignmentId: navigationContext.assignmentId
        }

        const navigationEntry = {
            moduleName: "meetings/meeting/meeting-page",
            context: model,
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert(e);
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onBackTap = onBackTap;
exports.onAddTap = onAddTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./assignments/assignment/assignment-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./assignments/assignment/assignment-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./assignments/assignment/assignment-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n        <ActionItem tap=\"onAddTap\" ios.systemIcon=\"4\" android.systemIcon=\"ic_menu_add\" ios.position=\"right\" \n            visibility=\"{{ meetingCreated === 'Y' ? 'collapse' : 'visible' }}\" />\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\" class=\"view-title\">\n            <Label id=\"assignmentId\" text=\"{{ assignmentId }}\" visibility=\"collapsed\" />\n            <Label id=\"legislatorName\" text=\"{{ legislator }}\" horizontalAlignment=\"center\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" width=\"100%\">\n            <GridLayout columns=\"auto, *\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Company\" verticalAlignment=\"middle\" class=\"list-view-item-left\" />\n                <Label row=\"0\" col=\"1\" text=\"{{ company }}\" horizontalAlignment=\"right\" verticalAlignment=\"middle\" textWrap=\"true\" class=\"list-view-item-right\" />\n            </GridLayout>\n            <GridLayout columns=\"auto, *\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Initiative\" verticalAlignment=\"middle\" class=\"list-view-item-left\" />\n                <Label row=\"0\" col=\"1\" text=\"{{ initiative }}\" horizontalAlignment=\"right\" verticalAlignment=\"middle\" textWrap=\"true\" class=\"list-view-item-right\" />\n            </GridLayout>\n            <GridLayout columns=\"auto, *\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Survey\" verticalAlignment=\"middle\" class=\"list-view-item-left\" />\n                <Label row=\"0\" col=\"1\" text=\"{{ survey }}\" horizontalAlignment=\"right\" verticalAlignment=\"middle\" textWrap=\"true\" class=\"list-view-item-right\" />\n            </GridLayout>\n            <GridLayout columns=\"auto, *\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Meeting Created?\" verticalAlignment=\"middle\" class=\"list-view-item-left\" />\n                <Label row=\"0\" col=\"1\" text=\"{{ meetingCreated === 'Y' ? 'Yes' : 'No' }}\" horizontalAlignment=\"right\" verticalAlignment=\"middle\" class=\"list-view-item-right\" />\n            </GridLayout>\n            <GridLayout id=\"lobbyistGridLayout\" columns=\"auto, *\" rows=\"auto\" class=\"list-view-item-form\" visibility=\"{{ meetingCreated === 'Y' ? 'visible' : 'collapse' }}\">\n                <Label row=\"0\" col=\"0\" text=\"Lobbyist\" verticalAlignment=\"middle\" class=\"list-view-item-left\" />\n                <Label id=\"lobbyistLabel\" row=\"0\" col=\"1\" text=\"{{ lobbyist }}\" horizontalAlignment=\"right\" verticalAlignment=\"middle\" textWrap=\"true\" class=\"list-view-item-right\" />\n            </GridLayout>\n        </StackLayout>\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./assignments/assignment/assignment-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./assignments/assignment/assignment-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./assignments/assignments-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const AssignmentsViewModel = __webpack_require__("./assignments/assignments-view-model.js");
const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var gestures = __webpack_require__("../node_modules/@nativescript/core/ui/gestures/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

const MIN_X = -80;
const MAX_X = 0;
const THRESHOLD = 0.5;

var swipeOpen = false;
var swipedItem;

var isScrolling = false;
var isSwiping = false;

var page;
var searchBar;
var assignmentsPageSize = 25;
var assignmentsSearchText = "";
var meetingCreated = "N";
var assignmentsSearchSubmitted = false;

var assignmentsList = new AssignmentsViewModel([]);

var pageData = new ObservableModule.fromObject({
    assignmentsList: assignmentsList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        
        page.actionBar.title = "Assignments";

        if (args.isBackNavigation) {
            if (global.refreshAssignments !== undefined && global.refreshAssignments === true) {
                assignmentsList.empty();

                pageData.set("isLoading", true);

                assignmentsList.load(meetingCreated, assignmentsSearchText, 1, assignmentsPageSize).then(function () {
                    pageData.set("isLoading", false);

                    global.refreshAssignments = false;
                });
            }
        } else {
            if (assignmentsSearchText !== "") {
                var searchBar = page.getViewById("searchBar");

                searchBar.text = assignmentsSearchText;
            }
        
            // Since the Page contains a SegmentedBar,
            // the selectedIndexChanged event will perform the initial load of the ListView.
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSelectedIndexChanged(args) {
    try {
        if (args.newIndex === 0) {
            meetingCreated = "N";
        } else {
            meetingCreated = "Y";
        }

        assignmentsList.empty();

        pageData.set("isLoading", true);

        assignmentsList.load(meetingCreated, assignmentsSearchText, 1, assignmentsPageSize).then(function () {
            pageData.set("isLoading", false);
        });

        page.bindingContext = pageData;
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSearchBarLoaded(args) {
    searchBar = args.object;

    if (platform.isAndroid) {
        searchBar.android.clearFocus();
    } else if (platform.isIOS) {
        // iOS Styling
        searchBar.ios.searchBarStyle = UISearchBarStyle.UISearchBarStyleMinimal;
        searchBar.ios.showsCancelButton = true;
    }
}

function onSubmit(args) {
    searchBar = args.object;

    assignmentsSearchText = searchBar.text.trim();

    assignmentsList.empty();
    
    pageData.set("isLoading", true);

    assignmentsList.load(meetingCreated, assignmentsSearchText, 1, assignmentsPageSize).then(function (){
        pageData.set("isLoading", false);

        assignmentsSearchSubmitted = true;
    
        searchBar.dismissSoftInput();
    });
}

function onClear(args) {
    searchBar.text = "";
    assignmentsSearchText = "";

    if (assignmentsSearchSubmitted) {
        assignmentsList.empty();
        
        pageData.set("isLoading", true);

        assignmentsList.load(meetingCreated, assignmentsSearchText, 1, assignmentsPageSize).then(function (){
            pageData.set("isLoading", false);

            assignmentsSearchSubmitted = false;
        
            searchBar.dismissSoftInput();
        });
    }
}

function onItemLoading(args) {
    if (platform.isIOS) {
        var cell = args.ios;

        cell.selectionStyle = UITableViewCellSelectionStyle.UITableViewCellSelectionStyleNone;
    }
}

function onItemTap(args) {
    try {
        if (platform.isIOS) {
            if (swipeOpen) {
                swipedItem.animate({
                    translate: { x: 0, y: 0 },
                    duration: 200
                });

                swipeOpen = false;
            } else {
                var view = args.view;
                var model = view.bindingContext;

                const navigationEntry = {
                    moduleName: "assignments/assignment/assignment-page",
                    context: model,
                    clearHistory: false
                };

                frameModule.topmost().navigate(navigationEntry);
            }
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onLoadMoreItems(args) {
    try {
        var assignmentsListCount = assignmentsList.length;
        var assignmentsPageNumber = Math.ceil(assignmentsListCount / assignmentsPageSize) + 1;
        var assignmentsRemainder = assignmentsListCount % assignmentsPageSize;

        if (assignmentsRemainder !== 0 && assignmentsRemainder < assignmentsPageSize)
        {
            return;
        }

        pageData.set("isLoading", true);

        assignmentsList.load(meetingCreated, assignmentsSearchText, assignmentsPageNumber, assignmentsPageSize).then(function (){
            pageData.set("isLoading", false);
        });
    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onAddClick(args) {
    var view = args.object;
    
    var model = {
        meetingId: 0,
        meetingDate: new Date(),
        venueTypeId: 1,
        venueType: "In Person",
        attendeeTypeId: 1,
        attendeeType: "Staff Only",
        lobbyistId: global.personId,
        lobbyist: null,
        legislatorId: view.bindingContext.legislatorId,
        fullName: view.bindingContext.legislator,
        name: null,
        pciInitiatives: view.bindingContext.initiative,
        surveys: view.bindingContext.survey,
        pciAttendees: global.currentUser,
        primaryOfficeContact: null,
        meetingLocationId: 1,
        location: "Meeting in District",
        legislatorStaffAttendees: null,
        followUpNeeded: false,
        followUpDate: null,
        followUpNotes: null,
        creatorId: global.personId,
        notes: null,
        initiativeId: view.bindingContext.initiativeId,
        surveyId: view.bindingContext.surveyId,
        assignmentId: view.bindingContext.assignmentId
    }

    const navigationEntry = {
        moduleName: "meetings/meeting/meeting-page",
        context: model,
        clearHistory: false
    };

    frameModule.topmost().navigate(navigationEntry);

    if (swipeOpen) {
        swipedItem.animate({
            translate: { x: 0, y: 0 },
            duration: 200
        });

        swipeOpen = false;
    }
}

function onLayoutLoaded(args) {
    var layout = args.object;

    if (platform.isAndroid) {
        layout.on(gestures.GestureTypes.tap, function(args) {
            try {
                if (swipeOpen) {
                    swipedItem.animate({
                        translate: { x: 0, y: 0 },
                        duration: 200
                    });
    
                    swipeOpen = false;
                } else {
                    var view = args.view;
                    var model = view.bindingContext;
    
                    const navigationEntry = {
                        moduleName: "assignments/assignment/assignment-page",
                        context: model,
                        clearHistory: false
                    };
    
                    frameModule.topmost().navigate(navigationEntry);
                }
            }
            catch(e)
            {
                dialogs.alert({
                    title: "Error",
                    message: e.toString(),
                    okButtonText: "OK"
                });
            }
        });
    }

    layout.on(gestures.GestureTypes.pan, function(args) {
        try {
            var layout = args.object;
            var view = args.view;

            if (swipeOpen && swipedItem !== undefined && swipedItem != layout) {
                swipedItem.animate({
                    translate: { x: 0, y: 0 },
                    duration: 50
                });
            }

            if (!isScrolling && !isSwiping) {
                if (Math.abs(args.deltaY) > Math.abs(args.deltaX)) {
                    isScrolling = true;
                    isSwiping = false;
                } else if (Math.abs(args.deltaX) > Math.abs(args.deltaY)) {
                    isScrolling = false;
                    isSwiping = true;
                }
            }

            if (isScrolling) {
                if (swipeOpen && swipedItem !== undefined) {
                    swipedItem.animate({
                        translate: { x: 0, y: 0 },
                        duration: 50
                    });
                }

                if (args.state === gestures.GestureStateTypes.ended) {
                    isScrolling = false;
                }
            } else if (isSwiping) {
                if (view.bindingContext.meetingCreated === "N") {
                    var assignmentsListView = page.getViewById("assignmentsListView");
    
                    if (platform.isAndroid) {
                        assignmentsListView.nativeView.requestDisallowInterceptTouchEvent(true);
                    } else if (platform.isIOS) {
                        assignmentsListView.ios.scrollEnabled = false;
                    }
    
                    swipeOpen = true;
                    swipedItem = layout;

                    var newX = layout.translateX + args.deltaX;

                    if (newX >= MIN_X && newX <= MAX_X) {
                        layout.translateX = newX;
                    }
                    
                    if (args.state === gestures.GestureStateTypes.ended && !(newX === MIN_X || newX === MAX_X)) {
                        // init our destination X coordinate to 0, in case neither THRESHOLD has been hit
                        let destX = 0;
                        
                        // if user hit or crossed the THESHOLD either way, let's finish in that direction
                        if (newX <= MIN_X * THRESHOLD) {
                            destX = MIN_X;
                        } else if (newX >= MAX_X * THRESHOLD) {
                            destX = MAX_X;
                        }
                        
                        layout.animate({
                            translate: { x: destX, y: 0 },
                            duration: 200
                        });
                    }

                    if (platform.isAndroid) {
                        assignmentsListView.nativeView.requestDisallowInterceptTouchEvent(false);
                    } else if (platform.isIOS) {
                        assignmentsListView.ios.scrollEnabled = true;
                    }

                    isSwiping = false;
                } else {
                    isSwiping = false;
                }
            }
        } catch(e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        }
    });
}

exports.onNavigatingTo = onNavigatingTo;
exports.onSelectedIndexChanged = onSelectedIndexChanged;
exports.onSearchBarLoaded = onSearchBarLoaded;
exports.onSubmit = onSubmit;
exports.onClear = onClear;
exports.onItemLoading = onItemLoading;
exports.onItemTap = onItemTap;
exports.onLoadMoreItems = onLoadMoreItems;
exports.onLayoutLoaded = onLayoutLoaded;
exports.onAddClick = onAddClick;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./assignments/assignments-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./assignments/assignments-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./assignments/assignments-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\" />\n\n    <GridLayout columns=\"*\" rows=\"auto, auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\">\n            <SearchBar id=\"searchBar\" hint=\"Search\" text=\"\" loaded=\"onSearchBarLoaded\" submit=\"onSubmit\" clear=\"onClear\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\">\n            <SegmentedBar class=\"segmented-bar\" selectedIndexChanged=\"onSelectedIndexChanged\">\n                <SegmentedBar.items>\n                    <SegmentedBarItem title=\"Open Assignments\" />\n                    <SegmentedBarItem title=\"Closed Assignments\" />\n                </SegmentedBar.items>\n            </SegmentedBar>\n        </StackLayout>\n        <StackLayout row=\"2\" col=\"0\" verticalAlignment=\"top\">\n            <ListView id=\"assignmentsListView\" items=\"{{ assignmentsList }}\" itemLoading=\"onItemLoading\" itemTap=\"onItemTap\" loadMoreItems=\"onLoadMoreItems\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <AbsoluteLayout>\n                        <!-- BACKGROUND: Swipe Actions -->\n                        <GridLayout columns=\"*, 80\" android:rows=\"67\" ios:rows=\"75\" width=\"100%\">\n                            <Label col=\"0\" />\n                            <GridLayout col=\"1\" columns=\"*\" rows=\"*, auto, auto, *\" tap=\"onAddClick\" class=\"swipe-icons orange\" \n                                visibility=\"{{ meetingCreated === 'Y' ? 'collapse' : 'visible' }}\">\n                                <Label row=\"0\" col=\"0\" text=\"\" />\n                                <Label row=\"1\" col=\"0\" text=\"&#xf073;\" class=\"tab-icon\" />\n                                <Label row=\"2\" col=\"0\" text=\"Add Meeting\" class=\"tab-label\" />\n                                <Label row=\"3\" col=\"0\" text=\"\" />\n                            </GridLayout>\n                        </GridLayout>\n                        <!-- FOREGROUND: List View Item Details -->\n                        <StackLayout loaded=\"onLayoutLoaded\" backgroundColor=\"white\" width=\"100%\">\n                            <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                                <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"middle\">\n                                    <Label text=\"{{ legislator }}\" class=\"list-view-item-main-top\" />\n                                    <GridLayout columns=\"auto, *\" rows=\"*\" visibility=\"{{ initiative.length > 0 ? 'visible' : 'collapse' }}\">\n                                        <Label row=\"0\" col=\"0\" text=\"Initiative: \" class=\"list-view-item-sub-title\" />\n                                        <Label row=\"0\" col=\"1\" text=\"{{ initiative }}\" class=\"list-view-item-sub\" />\n                                    </GridLayout>\n                                    <GridLayout columns=\"auto, *\" rows=\"*\">\n                                        <Label row=\"0\" col=\"0\" text=\"Survey: \" class=\"list-view-item-sub-title\" />\n                                        <Label row=\"0\" col=\"1\" text=\"{{ survey }}\" class=\"list-view-item-sub\" />\n                                    </GridLayout>\n                                </StackLayout>\n                                <Label row=\"0\" col=\"1\" text=\"&#xf105;\" class=\"fn-list-view-item\" verticalAlignment=\"middle\" />\n                            </GridLayout>\n                        </StackLayout>\n                    </AbsoluteLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"3\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./assignments/assignments-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./assignments/assignments-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./assignments/assignments-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function AssignmentsViewModel(items) {
    const viewModel = new ObservableArray(items);
    
    viewModel.load = function(meetingCreated, filter, page, pageSize) {
        return http.request({
            url: global.apiBaseServiceUrl + "assignmentsfilter?meetingCreated=" + meetingCreated + "&filter=" + filter.replace(/ /g, "%20") + "&page=" + page + "&pageSize=" + pageSize + "&companyId=" + global.companyId,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(assignment) {
                if (assignment.AssignmentId !== null && assignment.AssignmentId !== 0) {
                    viewModel.push({
                        assignmentId: assignment.AssignmentId,
                        companyId: assignment.CompanyId,
                        company: assignment.Company,
                        initiativeId: assignment.InitiativeId,
                        initiative: assignment.Initiative,
                        surveyId: assignment.SurveyId,
                        survey: assignment.Survey,
                        legislatorId: assignment.LegislatorId,
                        legislator: assignment.Legislator,
                        party: assignment.Party,
                        partyName: assignment.PartyName,
                        state: assignment.State,
                        stateName: assignment.StateName,
                        committeeIds: assignment.CommitteeIds,
                        committees: assignment.Committees,
                        createdDate: assignment.CreatedDate,
                        completionDate: assignment.CompletionDate,
                        assignmentStatusCode: assignment.AssignmentStatusCode,
                        assignmentStatus: assignment.AssignmentStatus,
                        meetingCreated: assignment.MeetingCreated,
                        meetingId: assignment.MeetingId,
                        lobbyistId: assignment.LobbyistId,
                        lobbyist: assignment.Lobbyist
                    });
                }
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = AssignmentsViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./assignments/assignments-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./assignments/assignments-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./bundle-config.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {if (true) {
    // registers tns-core-modules UI framework modules
    __webpack_require__("../node_modules/@nativescript/core/bundle-entry-points.js");

    // register application modules
    // This will register each `page` postfixed xml, css, js, ts, scss etc. in the app/ folder
    const context = __webpack_require__("./ sync recursive (page|fragment)\\.(xml|css|js|ts|scss)$");
    global.registerWebpackModules(context);
}
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./bundle-config.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./bundle-config.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./committees/committee/committee-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const CommitteeViewModel = __webpack_require__("./committees/committee/committee-view-model.js");
const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var page;

var committeeList = new CommitteeViewModel([]);

var pageData = new observableModule.fromObject({
    committeeList: committeeList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        
        page.actionBar.title = "Committee";

        var navigationContext = page.navigationContext;

        var committeeName = page.getViewById("committeeName");
        var committee = navigationContext.committeeName;
        var maxLength = 35;

        if (committee.length > maxLength) {
            for (var i = maxLength; i > 0; i--) {
                var position = committee.indexOf(" ", i);

                if (position > -1 && position <= maxLength) {
                    committee = committee.substr(0, position) + "..."

                    break;
                }
            }
        }

        committeeName.text = committee;

        committeeList.empty();

        if (committeeList.length === 0) {
            pageData.set("isLoading", true);
    
            committeeList.load(navigationContext.committeeId).then(function () {
                pageData.set("isLoading", false);
            });
        }
    
        page.bindingContext = pageData;
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onItemTap(args) {
    var view = args.view;
    var model = view.bindingContext;

    const navigationEntry = {
        moduleName: "legislators/legislator/legislator-page",
        context: model,
        clearHistory: false
    };

    try
    {
        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onBackTap = onBackTap;
exports.onItemTap = onItemTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./committees/committee/committee-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./committees/committee/committee-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./committees/committee/committee-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\" class=\"view-title\">\n            <Label id=\"committeeName\" text=\"\" horizontalAlignment=\"center\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\">\n            <ListView items=\"{{ committeeList }}\" itemTap=\"onItemTap\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <StackLayout>\n                        <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                            <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"middle\">\n                                <Label text=\"{{ fullName }}\" class=\"list-view-item-main-top\" />\n                                <GridLayout columns=\"auto, *\" rows=\"*\">\n                                    <Label row=\"0\" col=\"0\" text=\"{{ title }}\" class=\"list-view-item-sub\" />\n                                    <Label row=\"0\" col=\"1\" text=\"{{ side }}\" class=\"list-view-item-sub\" visibility=\"{{ side.length > 0 ? 'visible' : 'collapse' }}\" />\n                                </GridLayout>\n                            </StackLayout>\n                            <Label row=\"0\" col=\"1\" text=\"&#xf105;\" class=\"fn-list-view-item\" verticalAlignment=\"middle\" />\n                        </GridLayout>\n                    </StackLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"3\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./committees/committee/committee-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./committees/committee/committee-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./committees/committee/committee-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function CommitteeViewModel(items) {
    const viewModel = new ObservableArray(items);

    viewModel.load = function(committeeId) {
        return http.request({
            url: global.apiBaseServiceUrl + "committeemembers?committeeId=" + committeeId,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(legislator) {
                var side = legislator.Side;

                if (side.length > 0) {
                    side = " (" + side + ")";
                }

                viewModel.push({
                    committeeId: legislator.CommitteeId,
                    name: legislator.Name,
                    subcommittee: legislator.Subcommittee,
                    side: side,
                    rank: legislator.Rank,
                    bioGuideId: legislator.BioGuideId,
                    legislatorId: legislator.LegislatorId,
                    fullName: legislator.FullName,
                    title: legislator.Title,
                    office: legislator.Office,
                    state: legislator.State,
                    stateName: legislator.StateName,
                    phone: legislator.Phone,
                    termStart: legislator.TermStart,
                    termEnd: legislator.TermEnd,
                    chamber: legislator.Chamber,
                    party: legislator.Party,
                    partyName: legislator.PartyName,
                    bio: legislator.BioPlainText
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = CommitteeViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./committees/committee/committee-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./committees/committee/committee-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./committees/committees-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const CommitteesViewModel = __webpack_require__("./committees/committees-view-model.js");
const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var page;
var searchBar;
var committeesPageSize = 25;
var committeesSearchText = "";
var chamberId = 0;
var committeesSearchSubmitted = false;

var committeesList = new CommitteesViewModel([]);

var pageData = new ObservableModule.fromObject({
    committeesList: committeesList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        
        page.actionBar.title = "Committees";
    
        if (committeesSearchText !== "") {
            var searchBar = page.getViewById("searchBar");

            searchBar.text = committeesSearchText;
        }
        
        // Since the Page contains a SegmentedBar,
        // the selectedIndexChanged event will perform the initial load of the ListView.
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSelectedIndexChanged(args) {
    try {
        chamberId = args.newIndex;

        committeesList.empty();

        pageData.set("isLoading", true);

        committeesList.load(chamberId, committeesSearchText, 1, committeesPageSize).then(function () {
            pageData.set("isLoading", false);
        });

        page.bindingContext = pageData;
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSearchBarLoaded(args)
{
    searchBar = args.object;

    if (platform.isAndroid) {
        searchBar.android.clearFocus();
    } else if (platform.isIOS) {
        // iOS Styling
        searchBar.ios.searchBarStyle = UISearchBarStyle.UISearchBarStyleMinimal;
        searchBar.ios.showsCancelButton = true;
    }
}

function onSubmit(args)
{
    searchBar = args.object;

    committeesSearchText = searchBar.text.trim();

    committeesList.empty();
    
    pageData.set("isLoading", true);

    committeesList.load(chamberId, committeesSearchText, 1, committeesPageSize).then(function (){
        pageData.set("isLoading", false);

        committeesSearchSubmitted = true;
    
        searchBar.dismissSoftInput();
    });
}

function onClear(args)
{
    searchBar.text = "";
    committeesSearchText = "";

    if (committeesSearchSubmitted) {
        committeesList.empty();
        
        pageData.set("isLoading", true);

        committeesList.load(chamberId, committeesSearchText, 1, committeesPageSize).then(function (){
            pageData.set("isLoading", false);

            committeesSearchSubmitted = false;
        
            searchBar.dismissSoftInput();
        });
    }
}

function onItemTap(args) {
    try
    {
        var index = args.index;
        var committee = committeesList.getItem(index);
        var committeeId;
        var committeeName;

        if (committee.isSubcommittee === "True") {
            committeeId = committee.subcommitteeId;
            committeeName = committee.subcommitteeName;
        } else {
            committeeId = committee.committeeId;
            committeeName = committee.committeeName;
        }

        const navigationEntry = {
            moduleName: "committees/committee/committee-page",
            context: { 
                committeeId: committeeId,
                committeeName: committeeName
            },
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onLoadMoreItems(args)
{
    var committeesListCount = committeesList.length;
    var committeesPageNumber = Math.ceil(committeesListCount / committeesPageSize) + 1;
    var committeesRemainder = committeesListCount % committeesPageSize;

    if (committeesRemainder !== 0 && committeesRemainder < committeesPageSize)
    {
        return;
    }

    pageData.set("isLoading", true);

    committeesList.load(chamberId, committeesSearchText, committeesPageNumber, committeesPageSize).then(function (){
        pageData.set("isLoading", false);
    });
}

exports.onNavigatingTo = onNavigatingTo;
exports.onSelectedIndexChanged = onSelectedIndexChanged;
exports.onSearchBarLoaded = onSearchBarLoaded;
exports.onSubmit = onSubmit;
exports.onClear = onClear;
exports.onItemTap = onItemTap;
exports.onLoadMoreItems = onLoadMoreItems;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./committees/committees-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./committees/committees-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./committees/committees-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\" />\n\n    <GridLayout columns=\"*\" rows=\"auto, auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\">\n            <SearchBar id=\"searchBar\" hint=\"Search\" text=\"\" loaded=\"onSearchBarLoaded\" submit=\"onSubmit\" clear=\"onClear\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\">\n            <SegmentedBar class=\"segmented-bar\" selectedIndexChanged=\"onSelectedIndexChanged\">\n                <SegmentedBar.items>\n                    <SegmentedBarItem class=\"selectedSegment\" title=\"All\" />\n                    <SegmentedBarItem title=\"House\" />\n                    <SegmentedBarItem title=\"Senate\" />\n                    <SegmentedBarItem title=\"Joint\" />\n                    <SegmentedBarItem title=\"Caucus\" />\n                </SegmentedBar.items>\n            </SegmentedBar>\n        </StackLayout>\n        <StackLayout row=\"2\" col=\"0\" verticalAlignment=\"top\">\n            <ListView items=\"{{ committeesList }}\" itemTap=\"onItemTap\" loadMoreItems=\"onLoadMoreItems\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <StackLayout width=\"100%\">\n                        <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                            <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"middle\">\n                                <Label text=\"{{ isSubcommittee === 'True' ? subcommitteeName : committeeName }}\" textWrap=\"true\" \n                                    style=\"{{ isSubcommittee === 'True' ? 'margin-left: 15;' : 'margin-left: 0;' }}\" class=\"list-view-item-main-top\" />\n                                <GridLayout columns=\"auto, *\" rows=\"*\" visibility=\"{{ fullName.length > 0 ? 'visible' : 'collapse' }}\">\n                                    <Label row=\"0\" col=\"0\" text=\"{{ title }}\" style=\"{{ isSubcommittee === 'True' ? 'margin-left: 15;' : 'margin-left: 0;' }}\" class=\"list-view-item-sub-title\" />\n                                    <Label row=\"0\" col=\"1\" text=\"{{ fullName }}\" class=\"list-view-item-sub\" />\n                                </GridLayout>\n                                <GridLayout columns=\"auto, *\" rows=\"*\" visibility=\"{{ phone.length > 0 ? 'visible' : 'collapse' }}\">\n                                    <Label row=\"0\" col=\"0\" text=\"Phone: \" style=\"{{ isSubcommittee === 'True' ? 'margin-left: 15;' : 'margin-left: 0;' }}\" class=\"list-view-item-sub-title\" />\n                                    <Label row=\"0\" col=\"1\" text=\"{{ phone }}\" class=\"list-view-item-sub\" />\n                                </GridLayout>\n                            </StackLayout>\n                            <Label row=\"0\" col=\"1\" text=\"&#xf105;\" class=\"fn-list-view-item\" verticalAlignment=\"middle\" />\n                        </GridLayout>\n                    </StackLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"3\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./committees/committees-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./committees/committees-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./committees/committees-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function CommitteesViewModel(items) {
    const viewModel = new ObservableArray(items);
    
    viewModel.load = function(chamberId, filter, page, pageSize) {
        return http.request({
            url: global.apiBaseServiceUrl + "committeesfilter?chamberId=" + chamberId + "&filter=" + filter.replace(/ /g, "%20") + "&page=" + page + "&pageSize=" + pageSize,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(committee) {
                if (committee.FullName !== null) {
                    var fullName = committee.FullName;
                    var title = committee.Title;

                    if (fullName.length > 0) {
                        if (title.indexOf(";") > 0) {
                            title = title.substr(0, title.indexOf(';')) + ": ";
                            fullName = fullName.replace(";", ", ");
                        } else {
                            title += ": ";
                        }
                    }

                    viewModel.push({
                        committeeId: committee.CommitteeId,
                        committeeName: committee.CommitteeName,
                        parentCommitteeId: committee.ParentCommitteeId,
                        subcommitteeId: committee.SubcommitteeId,
                        subcommitteeName: committee.SubcommitteeName,
                        isSubcommittee: committee.IsSubcommittee,
                        chamberId: committee.ChamberId,
                        chamber: committee.Chamber,
                        office: committee.Office,
                        phone: committee.Phone,
                        website: committee.Website,
                        fullName: fullName,
                        title: title
                    });
                }
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = CommitteesViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./committees/committees-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./committees/committees-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./components/tab-navigation.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {var gridLayout = __webpack_require__("../node_modules/@nativescript/core/ui/layouts/grid-layout/index.js")
var stackLayout = __webpack_require__("../node_modules/@nativescript/core/ui/layouts/stack-layout/index.js")
var Label = __webpack_require__("../node_modules/@nativescript/core/ui/label/index.js").Label
//var dependencyObservableModule = require("ui/core/dependency-observable")
//var View = require("ui/core/view").View
var frame = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js")
//var platform = require("platform")
var color = __webpack_require__("../node_modules/@nativescript/core/color/index.js")

var TabNavigation = (function (_super) {
    __extends(TabNavigation, _super)
    function TabNavigation() {
        _super.call(this)

        this.backgroundColor = new color.Color("#ffffff")
        this.navFrame = new frame.Frame()
        this._tabs = []
        
        var _this = this
        this.on('loaded', function(args){
            var obj = args.object
            if(obj.id==='tab-navigation'){
              return;   
            }
            _this.createUi(obj.tabs)
            _this.navFrame.isLoaded = false
            _this.navFrame.navigate(obj.tabs[0].path)
        })

    }

    TabNavigation.prototype.createUi = function (items) {
        var _this = this
        var numItems = items.length
        this.removeChildren()
        this.id = "tab-navigation"        
        this.addRow(new gridLayout.ItemSpec(1, gridLayout.GridUnitType.star))
        this.addRow(new gridLayout.ItemSpec(1, gridLayout.GridUnitType.auto))
        
        for (var i = 0; i < numItems; i++) {
            this.addColumn(new gridLayout.ItemSpec(1, gridLayout.GridUnitType.star))
        }

        this.navFrame.className = "navigation-frame"
        this.addChild(this.navFrame)
        gridLayout.GridLayout.setColumn(this.navFrame, 0)
        gridLayout.GridLayout.setRow(this.navFrame, 0)
        gridLayout.GridLayout.setColumnSpan(this.navFrame, numItems)

        for (var i = 0; i < numItems; i++) {
            (function () {
                var currentItem = items[i]

                var tab = new stackLayout.StackLayout()
                tab.direction = "vertical"
                if(i == 0) {
                    tab.className = "tab tab-selected"
                } else {
                    tab.className = "tab"
                }

                tab.id = "tab_"+i
                tab.on("tap", function (args) {
                    return _this.onTabSelected(args, currentItem) 
                })

                var icon = new Label()
                icon.className = 'tab-icon'
                //icon.text = String.fromCharCode(currentItem.iconCode)
                icon.text = currentItem.iconCode
                tab.addChild(icon)

                var label = new Label()
                label.className = 'tab-label'
                label.text = currentItem.label
                tab.addChild(label)

                _this._tabs.push(tab)
                _this.addChild(tab)
                gridLayout.GridLayout.setRow(tab, 1)
                gridLayout.GridLayout.setColumn(tab, i)
            }())
        }
    }

    TabNavigation.prototype.showTab = function(item) {
        var navigationEntry = {
            moduleName: item.path,
            animated: false,
            clearHistory: true
        }
        this.navFrame.navigate(navigationEntry)
    }

    TabNavigation.prototype.onTabSelected = function (args, item) {
        var selectedObj = args.object
        if (selectedObj.className.indexOf("tab-selected") > -1) {
            return
        }
        this._tabs.forEach(function(tab){
            tab.className = 'tab'
        });
        selectedObj.className = 'tab tab-selected'
        this.showTab(item)
    }

    return TabNavigation

}(gridLayout.GridLayout))

exports.TabNavigation = TabNavigation; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./components/tab-navigation.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./components/tab-navigation.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./home/home-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {/*
In NativeScript, a file with the same name as an XML file is known as
a code-behind file. The code-behind is a great place to place your view
logic, and to set up your page’s data binding.
*/

/*
NativeScript adheres to the CommonJS specification for dealing with
JavaScript modules. The CommonJS require() function is how you import
JavaScript modules defined in other files.
*/
const HomeViewModel = __webpack_require__("./home/home-view-model.js");
//var dialogs = require("ui/dialogs");

const homeViewModel = new HomeViewModel();
var page;

function onNavigatingTo(args) {
    /*
    This gets a reference this page’s <Page> UI component. You can
    view the API reference of the Page to see what’s available at
    https://docs.nativescript.org/api-reference/classes/_ui_page_.page.html
    */
    //const page = args.object;
    page = args.object;

    /*
    A page’s bindingContext is an object that should be used to perform
    data binding between XML markup and JavaScript code. Properties
    on the bindingContext can be accessed using the {{ }} syntax in XML.
    In this example, the {{ message }} and {{ onTap }} bindings are resolved
    against the object returned by createViewModel().

    You can learn more about data binding in NativeScript at
    https://docs.nativescript.org/core-concepts/data-binding.
    */
    page.bindingContext = homeViewModel;
}

/* function onTabViewLoaded(args) {
    const tabView = args.object;

    tabView.eachChild((child) => {
        child._iosViewController.tabBarItem.titlePositionAdjustment = {
            horizontal: 0,
            vertical: 0
        };
    });

    page.actionBar.title = "Legislators";
} */

/* function onTabViewSelectedIndexChanged(args) {
    var tabView = args.object;
    var selectedIndex = tabView.selectedIndex;
        
    if (selectedIndex === 0) { // Legislators
        page.actionBar.title = "Legislators";
    } else if (selectedIndex === 1) { // Committees
        page.actionBar.title = "Committees";
    } else if (selectedIndex === 2) { // My Meetings
        page.actionBar.title = "My Meetings";
    } else { // Assignments
        page.actionBar.title = "Assignments";
    }
} */

/*
Exporting a function in a NativeScript code-behind file makes it accessible
to the file’s corresponding XML file. In this case, exporting the onNavigatingTo
function here makes the navigatingTo="onNavigatingTo" binding in this page’s XML
file work.
*/
exports.onNavigatingTo = onNavigatingTo;
// exports.onTabViewLoaded = onTabViewLoaded;
// exports.onTabViewSelectedIndexChanged = onTabViewSelectedIndexChanged;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./home/home-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./home/home-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./home/home-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page class=\"page\" navigatingTo=\"onNavigatingTo\" xmlns=\"http://schemas.nativescript.org/tns.xsd\">\n    <ActionBar class=\"action-bar\" />\n\n    <GridLayout>\n        <!-- Add your page content here -->\n    </GridLayout>\n    <!--<TabView id=\"mainTabs\" loaded=\"onTabViewLoaded\" selectedIndexChanged=\"onTabViewSelectedIndexChanged\">\n        <TabView.items>\n            <TabViewItem title=\"Legislators\" iconSource=\"res://legislator-icon\" xmlns:Legislators=\"home/legislators\">\n                <TabViewItem.view>\n                    <Legislators:legislators-page />\n                </TabViewItem.view>\n            </TabViewItem>\n            <TabViewItem title=\"Committees\" iconSource=\"res://committee-icon\" xmlns:Committees=\"home/committees\">\n                <TabViewItem.view>\n                    <Committees:committees-page />\n                </TabViewItem.view>\n            </TabViewItem>\n            <TabViewItem title=\"My Meetings\" iconSource=\"res://meeting-icon\">\n                <TabViewItem.view>\n                    <Label text=\"My Meetings\" />\n                </TabViewItem.view>\n            </TabViewItem>\n            <TabViewItem title=\"Assignments\" iconSource=\"res://assignment-icon\" xmlns:Assignments=\"home/assignments\">\n                <TabViewItem.view>\n                    <Assignments:assignments-page />\n                </TabViewItem.view>\n            </TabViewItem>\n        </TabView.items>\n    </TabView>-->\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./home/home-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./home/home-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./home/home-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const Observable = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js").Observable;

function HomeViewModel() {
    const viewModel = new Observable();

    return viewModel;
}

module.exports = HomeViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./home/home-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./home/home-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/bio/bio-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");

function onNavigatingTo(args) {
    const page = args.object;
    var navigationContext = page.navigationContext;

    page.actionBar.title = "Bio";

    page.bindingContext = navigationContext;
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onBackTap = onBackTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/bio/bio-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/bio/bio-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/bio/bio-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\" class=\"view-title\">\n            <Label id=\"legislatorId\" text=\"{{ legislatorId }}\" visibility=\"collapsed\" />\n            <Label id=\"legislatorName\" text=\"{{ fullName }}\" horizontalAlignment=\"center\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\">\n            <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Office\" class=\"list-view-item-left\" />\n                <Label row=\"0\" col=\"1\" text=\"{{ office }}\" horizontalAlignment=\"right\"  class=\"list-view-item-right\" />\n            </GridLayout>\n            <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"State\" class=\"list-view-item-left\" />\n                <Label row=\"0\" col=\"1\" text=\"{{ stateName }}\" horizontalAlignment=\"right\"  class=\"list-view-item-right\" />\n            </GridLayout>\n            <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Phone\" class=\"list-view-item-left\" />\n                <Label row=\"0\" col=\"1\" text=\"{{ phone }}\" horizontalAlignment=\"right\"  class=\"list-view-item-right\" />\n            </GridLayout>\n            <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Term Start\" class=\"list-view-item-left\" />\n                <Label row=\"0\" col=\"1\" text=\"{{ termStart }}\" horizontalAlignment=\"right\"  class=\"list-view-item-right\" />\n            </GridLayout>\n            <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Chamber\" class=\"list-view-item-left\" />\n                <Label row=\"0\" col=\"1\" text=\"{{ chamber }}\" horizontalAlignment=\"right\"  class=\"list-view-item-right\" />\n            </GridLayout>\n            <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Party\" class=\"list-view-item-left\" />\n                <Label row=\"0\" col=\"1\" text=\"{{ partyName }}\" horizontalAlignment=\"right\"  class=\"list-view-item-right\" />\n            </GridLayout>\n            <GridLayout columns=\"*\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Bio\" class=\"list-view-item-left\" />\n            </GridLayout>\n        </StackLayout>\n        <StackLayout row=\"2\" col=\"0\">\n            <GridLayout columns=\"*\" rows=\"*\">\n                <!-- <ScrollView row=\"0\" col=\"0\"> -->\n                    <TextView text=\"{{ bio }}\" editable=\"false\" class=\"scroll-view-item\" />\n                <!-- </ScrollView> -->\n            </GridLayout>\n        </StackLayout>\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/bio/bio-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./legislators/legislator/bio/bio-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/committees/committees-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const CommitteesViewModel = __webpack_require__("./legislators/legislator/committees/committees-view-model.js");
const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var page;

var committeesList = new CommitteesViewModel([]);

var pageData = new observableModule.fromObject({
    committeesList: committeesList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        
        page.actionBar.title = "Committees";

        var navigationContext = page.navigationContext;
        var legislatorId = page.getViewById("legislatorId");
        var legislatorName = page.getViewById("legislatorName");
    
        legislatorId.text = navigationContext.legislatorId;
        legislatorName.text = navigationContext.fullName;
    
        committeesList.empty();
    
        pageData.set("isLoading", true);
    
        committeesList.load(navigationContext.legislatorId).then(function () {
            pageData.set("isLoading", false);
        });
    
        page.bindingContext = pageData;
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onBackTap = onBackTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/committees/committees-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/committees/committees-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/committees/committees-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\" class=\"view-title\">\n            <Label id=\"legislatorId\" text=\"\" visibility=\"collapsed\" />\n            <Label id=\"legislatorName\" text=\"\" verticalAlignment=\"center\" horizontalAlignment=\"center\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\">\n            <ListView items=\"{{ committeesList }}\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <StackLayout>\n                        <GridLayout columns=\"*\" rows=\"*\" class=\"list-view-item\">\n                            <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"middle\">\n                                <Label text=\"{{ name }}\" textWrap=\"true\" style=\"{{ subcommittee === 'True' ? 'margin-left: 15;' : 'margin-left: 0;' }}\" class=\"list-view-item-main-top\" />\n                                <Label text=\"{{ title }}\" style=\"{{ subcommittee === 'True' ? 'margin-left: 15;' : 'margin-left: 0;' }}\" class=\"list-view-item-sub\" />\n                            </StackLayout>\n                        </GridLayout>\n                    </StackLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"2\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/committees/committees-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./legislators/legislator/committees/committees-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/committees/committees-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function CommitteesViewModel(items) {
    const viewModel = new ObservableArray(items);
    
    viewModel.load = function(legislatorId) {
        return http.request({
            url: global.apiBaseServiceUrl + "committees?legislatorId=" + legislatorId,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(committee) {
                viewModel.push({
                    committeeId: committee.CommitteeId,
                    name: committee.Name,
                    phone: committee.Phone,
                    chamberId: committee.ChamberId,
                    chamber: committee.Chamber,
                    parentCommitteeId: committee.ParentCommitteeId,
                    subcommittee: committee.Subcommittee,
                    rank: committee.Rank,
                    title: committee.Title
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = CommitteesViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/committees/committees-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/committees/committees-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/initiativetiers/initiativetiers-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const InitiativetiersViewModel = __webpack_require__("./legislators/legislator/initiativetiers/initiativetiers-view-model.js");
const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var page;

var initiativeTiersList = new InitiativetiersViewModel([]);

var pageData = new observableModule.fromObject({
    initiativeTiersList: initiativeTiersList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        
        page.actionBar.title = "Initiative Tiers";

        var navigationContext = page.navigationContext;
        var legislatorId = page.getViewById("legislatorId");
        var legislatorName = page.getViewById("legislatorName");
    
        legislatorId.text = navigationContext.legislatorId;
        legislatorName.text = navigationContext.fullName;
    
        initiativeTiersList.empty();
    
        pageData.set("isLoading", true);
    
        initiativeTiersList.load(navigationContext.legislatorId).then(function () {
            pageData.set("isLoading", false);
        });
    
        page.bindingContext = pageData;
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onBackTap = onBackTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/initiativetiers/initiativetiers-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/initiativetiers/initiativetiers-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/initiativetiers/initiativetiers-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\" class=\"view-title\">\n            <Label id=\"legislatorId\" text=\"\" visibility=\"collapsed\" />\n            <Label id=\"legislatorName\" text=\"\" horizontalAlignment=\"center\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\">\n            <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                <Label row=\"0\" col=\"0\" text=\"Initiative\" class=\"list-view-item-main-top\" />\n                <Label row=\"0\" col=\"1\" text=\"Tier\" class=\"list-view-item-main-top\" />\n            </GridLayout>\n            <Border borderWidth=\"0.25\" borderColor=\"#000000\" />\n        </StackLayout>\n        <StackLayout row=\"2\" col=\"0\" verticalAlignment=\"top\" width=\"100%\">\n            <ListView items=\"{{ initiativeTiersList }}\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <StackLayout>\n                        <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                            <Label row=\"0\" col=\"0\" text=\"{{ initiative }}\" class=\"list-view-item-main-top\" />\n                            <Label row=\"0\" col=\"1\" text=\"{{ tier }}\" class=\"list-view-item-main-top\" />\n                        </GridLayout>\n                    </StackLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"3\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/initiativetiers/initiativetiers-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./legislators/legislator/initiativetiers/initiativetiers-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/initiativetiers/initiativetiers-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function InitiativetiersViewModel(items) {
    const viewModel = new ObservableArray(items);

    viewModel.load = function(legislatorId) {
        return http.request({
            url: global.apiBaseServiceUrl + "initiativestances?legislatorId=" + legislatorId,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(initiative) {
                viewModel.push({
                    initiativeId: initiative.InitiativeId,
                    initiative: initiative.Initiative,
                    legislatorId: initiative.LegislatorId,
                    legislator: initiative.Legislator,
                    tier: initiative.Tier,
                    issueStanceId: initiative.IssueStanceId,
                    issueStance: initiative.IssueStance
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = InitiativetiersViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/initiativetiers/initiativetiers-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/initiativetiers/initiativetiers-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/legislator-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const LegislatorViewModel = __webpack_require__("./legislators/legislator/legislator-view-model.js");
const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
// const Color = require("color").Color;
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var page;
var navigationContext;

var legislatorList = new LegislatorViewModel([]);

var pageData = new observableModule.fromObject({
    legislatorList: legislatorList,
    isLoading: false
});

function onNavigatingTo(args) {
    page = args.object;

    page.actionBar.title = "Legislator";

    // if (frameModule.topmost().ios) {
    //     var navigationBar = frameModule.topmost().ios.controller.navigationBar;

    //     //dialogs.alert(navigationBar.items);

    //     try {
    //         navigationBar.tintColor = new Color("#007aff").ios;
    //     }
    //     catch(e)
    //     {
    //         dialogs.alert(e);
    //     }
    // }

    // if (page.ios)
    // {
    //     var selectedViewController = page.ios;

    //     selectedViewController.hidesBottomBarWhenPushed = false;
    // }

    navigationContext = page.navigationContext;
    var legislatorId = page.getViewById("legislatorId");
    var legislatorName = page.getViewById("legislatorName");
    
    legislatorId.text = navigationContext.legislatorId;
    legislatorName.text = navigationContext.fullName;

    legislatorList.empty();
    legislatorList.load(navigationContext.bioguideId);

    //dialogs.alert(legislatorList.getItem(legislatorList.length - 1).title);
    
    page.bindingContext = pageData;
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onItemTap(args)
{
    try
    {
        var index = args.index;
        var item = legislatorList.getItem(index);

        navigationContext.reference = "nav";
        navigationContext.relationalType = "legislator";
        navigationContext.relationalId = navigationContext.legislatorId;

        const navigationEntry = {
            moduleName: item.navigateTo,
            context: navigationContext,
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onBackTap = onBackTap;
exports.onItemTap = onItemTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/legislator-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/legislator-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/legislator-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\" class=\"view-title\">\n            <Label id=\"legislatorId\" text=\"\" visibility=\"collapsed\" />\n            <Label id=\"legislatorName\" text=\"\" verticalAlignment=\"center\" horizontalAlignment=\"center\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\" width=\"100%\">\n            <ListView items=\"{{ legislatorList }}\" itemTap=\"onItemTap\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <StackLayout>\n                        <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                            <Label row=\"0\" col=\"0\" text=\"{{ title }}\" verticalAlignment=\"middle\" class=\"list-view-item-main-top\" />\n                            <Label row=\"0\" col=\"1\" text=\"&#xf105;\" verticalAlignment=\"middle\" class=\"fn-list-view-item\" />\n                        </GridLayout>\n                    </StackLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/legislator-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./legislators/legislator/legislator-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/legislator-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function LegislatorViewModel(items) {
    const viewModel = new ObservableArray(items);

    viewModel.load = function(bioguideId) {
        var data;

        if (bioguideId === null || bioguideId === "") {
            data = [
                {"title": "Meetings", "navigateTo": "meetings/meetings-page"},
                {"title": "Initiative Tiers", "navigateTo": "legislators/legislator/initiativetiers/initiativetiers-page"},
                {"title": "Surveys", "navigateTo": "legislators/legislator/surveys/surveys-page"},
                {"title": "Relationships", "navigateTo": "profiles/profiles-page"},
                {"title": "Committees", "navigateTo": "legislators/legislator/committees/committees-page"}
            ];
        } else {
            data = [
                {"title": "Meetings", "navigateTo": "meetings/meetings-page"},
                {"title": "Initiative Tiers", "navigateTo": "legislators/legislator/initiativetiers/initiativetiers-page"},
                {"title": "Surveys", "navigateTo": "legislators/legislator/surveys/surveys-page"},
                {"title": "Relationships", "navigateTo": "profiles/profiles-page"},
                {"title": "Bio", "navigateTo": "legislators/legislator/bio/bio-page"},
                {"title": "Committees", "navigateTo": "legislators/legislator/committees/committees-page"}
            ];
        }

        data.forEach(function(dataItem) {
            viewModel.push({
                title: dataItem.title,
                navigateTo: dataItem.navigateTo
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };

    return viewModel;
}

module.exports = LegislatorViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/legislator-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/legislator-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/surveys/select/select-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const SelectViewModel = __webpack_require__("./legislators/legislator/surveys/select/select-view-model.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var page;
var navigationContext;

var selectList = new SelectViewModel([]);

var switchTap = false;

var pageData = new ObservableModule.fromObject({
    boundData: null,
    selectList: selectList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        navigationContext = page.navigationContext;
        
        pageData.boundData = navigationContext;
        pageData.boundData.updated = false;
        
        page.actionBar.title = "Select Survey(s)";

        selectList.empty();

        pageData.set("isLoading", true);

        selectList.load(navigationContext.meetingId).then(function () {
            pageData.set("isLoading", false);

            page.bindingContext = pageData;
        });
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSwitchLoaded(args) {
    var checkedSwitch = args.object;

    checkedSwitch.on("tap", function(args) {
        // Necessary to prevent the checkedChange event from firing on the switch when user scrolls.
        switchTap = true;
    });

    checkedSwitch.on("checkedChange", function(args) {
        if (switchTap) {
            var stackLayout = args.object.parent;
            var indexLabel = stackLayout.getViewById("indexLabel");

            var model = selectList.getItem(indexLabel.text);

            model.checked = args.value;
            
            http.request({
                url: global.apiBaseServiceUrl + "updatemeetingsurvey",
                method: "POST",
                headers: { "Content-Type": "application/json", "Authorization": global.token },
                content: JSON.stringify(model)
            }).then(function (response) {
                // var result = response.content.toJSON();

                // dialogs.alert(result);
                pageData.boundData.updated = true;

                switchTap = false;
            }, function (e) {
                dialogs.alert({
                    title: "Error",
                    message: e.toString(),
                    okButtonText: "OK"
                });
            });
        }
    });
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onSwitchLoaded = onSwitchLoaded;
exports.onBackTap = onBackTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/surveys/select/select-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/surveys/select/select-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/surveys/select/select-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"*\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\">\n            <ListView items=\"{{ selectList }}\" itemTemplateSelector=\"$index\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <StackLayout>\n                        <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                            <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"middle\">\n                                <Label text=\"{{ survey }}\" class=\"list-view-item-main-top\" />\n                                <GridLayout columns=\"auto, *\" rows=\"*\">\n                                    <Label row=\"0\" col=\"0\" text=\"Session Year: \" class=\"list-view-item-sub-title\" />\n                                    <Label row=\"0\" col=\"1\" text=\"{{ year }}\" class=\"list-view-item-sub\" />\n                                </GridLayout>\n                                <GridLayout columns=\"auto, *\" rows=\"*\">\n                                    <Label row=\"0\" col=\"0\" text=\"Chamber/Caucus: \" class=\"list-view-item-sub-title\" />\n                                    <Label row=\"0\" col=\"1\" text=\"{{ chamber }}\" class=\"list-view-item-sub\" />\n                                </GridLayout>\n                            </StackLayout>\n                            <StackLayout row=\"0\" col=\"1\" verticalAlignment=\"middle\">\n                                <Switch id=\"checkedSwitch\" row=\"0\" col=\"1\" checked=\"{{ checked }}\" \n                                    loaded=\"onSwitchLoaded\" horizontalAlignment=\"right\" class=\"switch\" />\n                                <Label id=\"indexLabel\" text=\"{{ $index }}\" visibility=\"collapse\" />\n                            </StackLayout>\n                        </GridLayout>\n                    </StackLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"1\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/surveys/select/select-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./legislators/legislator/surveys/select/select-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/surveys/select/select-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function SelectViewModel(items) {
    const viewModel = new ObservableArray(items);
    
    viewModel.load = function(meetingId) {
        return http.request({
            url: global.apiBaseServiceUrl + "meetingsurveys?meetingId=" + meetingId,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(survey) {
                var checked = false;

                if (survey.Checked === "true") {
                    checked = true;
                }

                viewModel.push({
                    meetingId: survey.MeetingId,
                    legislatorId: survey.LegislatorId,
                    surveyId: survey.SurveyId,
                    survey: survey.Survey,
                    initiativeIds: survey.InitiativeIds,
                    intitiatives: survey.Initiatives,
                    year: survey.Year,
                    chamberId: survey.ChamberId,
                    chamber: survey.Chamber,
                    checked: survey.Checked
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = SelectViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/surveys/select/select-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/surveys/select/select-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/surveys/survey/question/question-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ResponseViewModel = __webpack_require__("./legislators/legislator/surveys/survey/question/response-view-model.js");
const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

var page;
var navigationContext;

var responseList = new ResponseViewModel([]);
var responseIndex = 0;

var pageData = new ObservableModule.fromObject({
    boundData: null,
    responseIndex: responseIndex,
    responseList: responseList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;

        navigationContext = page.navigationContext;

        var legislatorId = page.getViewById("legislatorId");
        var legislatorName = page.getViewById("legislatorName");

        legislatorId.text = navigationContext.legislatorId;
        legislatorName.text = navigationContext.fullName;
        
        var surveyTitle = navigationContext.boundData.survey;
        var maxLength = 20;

        if (surveyTitle.length > maxLength) {
            for (var i = maxLength; i > 0; i--) {
                var position = surveyTitle.indexOf(" ", i);

                if (position > -1 && position <= maxLength) {
                    surveyTitle = surveyTitle.substr(0, position) + "..."

                    break;
                }
            }
        }

        page.actionBar.title = surveyTitle;

        pageData.boundData = navigationContext.boundData;
        pageData.boundData.result = "";

        responseList.empty();

        if (responseList.Items.length === 0) {
            pageData.set("isLoading", true);
    
            responseList.load(pageData.boundData.surveyQuestionId).then(function () {
                responseIndex = 0;

                if (pageData.boundData.responseId.toString().length > 0) {
                    pageData.responseList = responseList;

                    var i;

                    for (i = 0; i < responseList.List.length; i++) {
                        if (pageData.responseList.List.getItem(i).responseId === pageData.boundData.responseId) {
                            responseIndex = i;
                        }
                    }
                }

                pageData.responseIndex = responseIndex;

                page.bindingContext = pageData;

                pageData.set("isLoading", false);
            });
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onLoaded(args) {
    try {
        var responseListPicker = page.getViewById("responseListPicker");
        
        responseListPicker.on("selectedIndexChange", function(args) {
            var responseLabel = page.getViewById("responseLabel");

            responseLabel.text = pageData.responseList.Items.getItem(args.object.selectedIndex);
        });
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        if (platform.isAndroid) {
            var comments = page.getViewById("comments");

            comments.dismissSoftInput();
        }

        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onGridLayoutTap(args) {
    try {
        if (platform.isAndroid) {
            var comments = page.getViewById("comments");

            comments.dismissSoftInput();
        }
    } catch(e) {
        dialogs.alert(e);
    }
}

function onStackLayoutTap(args) {
    try {
        if (platform.isAndroid) {
            var comments = page.getViewById("comments");

            comments.dismissSoftInput();
        }

        var responseListPickerGridLayout = page.getViewById("responseListPickerGridLayout");
        
        if (responseListPickerGridLayout.visibility === "collapse") {
            responseListPickerGridLayout.visibility = "visible";

            page.addCss("#responseLabel {color: #cc2d30;}");
        } else {
            responseListPickerGridLayout.visibility = "collapse";

            page.addCss("#responseLabel {color: #666;}");
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSaveTap(args) {
    if (platform.isAndroid) {
        var comments = page.getViewById("comments");

        comments.dismissSoftInput();
    }

    var responseListPicker = page.getViewById("responseListPicker");

    pageData.boundData.responseId = pageData.responseList.List.getItem(responseListPicker.selectedIndex).responseId;
    pageData.boundData.response = pageData.responseList.List.getItem(responseListPicker.selectedIndex).response;
    
    var result;

    http.request({
        url: global.apiBaseServiceUrl + "updatelegislatorsurvey",
        method: "POST",
        headers: { "Content-Type": "application/json", "Authorization": global.token },
        content: JSON.stringify(pageData.boundData)
    }).then(function (response) {
        pageData.boundData.result = "Update";

        frameModule.topmost().goBack();
    }, function (e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    });
}

exports.onNavigatingTo = onNavigatingTo;
exports.onLoaded = onLoaded;
exports.onBackTap = onBackTap;
exports.onGridLayoutTap = onGridLayoutTap;
exports.onStackLayoutTap = onStackLayoutTap;
exports.onSaveTap = onSaveTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/surveys/survey/question/question-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/surveys/survey/question/question-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/surveys/survey/question/question-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" loaded=\"onLoaded\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n        <ActionItem tap=\"onSaveTap\" ios.systemIcon=\"3\" android.systemIcon=\"ic_menu_save\" ios.position=\"right\" />\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, *\" height=\"100%\" width=\"100%\" tap=\"onGridLayoutTap\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\" class=\"view-title\" visibility=\"{{ boundData.relationalType === 'legislator' ? 'visible' : 'collapse' }}\">\n            <Label id=\"legislatorId\" text=\"\" visibility=\"collapsed\" />\n            <Label id=\"legislatorName\" text=\"\" horizontalAlignment=\"center\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\">\n            <GridLayout columns=\"*\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"{{ boundData.surveyQuestion }}\" textWrap=\"true\" class=\"list-view-item-left\" />\n            </GridLayout>\n            <StackLayout tap=\"onStackLayoutTap\">\n                <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                    <Label row=\"0\" col=\"0\" text=\"Response\" class=\"list-view-item-left\" />\n                    <Label id=\"responseLabel\" row=\"0\" col=\"1\" text=\"{{ boundData.response }}\" class=\"list-view-item-right\" />\n                </GridLayout>\n            </StackLayout>\n            <GridLayout id=\"responseListPickerGridLayout\" columns=\"*\" rows=\"auto\" class=\"list-view-item-form\" visibility=\"collapse\">\n                <ListPicker id=\"responseListPicker\" row=\"0\" col=\"0\" items=\"{{ responseList.Items }}\" selectedIndex=\"{{ responseIndex }}\" horizontalAlignment=\"center\" class=\"list-view-item-picker\"></ListPicker>\n            </GridLayout>\n            <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Follow Up Required?\" class=\"list-view-item-left\" />\n                <Switch row=\"0\" col=\"1\" checked=\"{{ boundData.followUpRequired }}\" horizontalAlignment=\"right\" class=\"switch\" />\n            </GridLayout>\n            <!-- <GridLayout columns=\"*\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Comments/Observations\" class=\"list-view-item-left\" />\n            </GridLayout> -->\n            <GridLayout columns=\"*\" rows=\"*\" class=\"list-view-item-form\">\n                <TextView id=\"comments\" row=\"0\" col=\"0\" text=\"{{ boundData.comments }}\" hint=\"Comments/Observations\" class=\"list-view-item-textview\" />\n            </GridLayout>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"2\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/surveys/survey/question/question-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./legislators/legislator/surveys/survey/question/question-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/surveys/survey/question/response-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js").Observable;
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function ResponseViewModel() {
    const viewModel = new ObservableModule();
    viewModel.Items = new ObservableArray();
    viewModel.List = new ObservableArray();

    viewModel.load = function(surveyQuestionId) {
        return http.request({
            url: global.apiBaseServiceUrl + "surveyresponseset?surveyQuestionId=" + surveyQuestionId,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(response) {
                viewModel.Items.push(
                    response.Response
                );

                viewModel.List.push({
                    responseId: response.ResponseId,
                    response: response.Response
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.Items.length) {
            viewModel.Items.pop();
        }

        while (viewModel.List.length) {
            viewModel.List.pop();
        }
    };
    
    return viewModel;
}

module.exports = ResponseViewModel;; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/surveys/survey/question/response-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/surveys/survey/question/response-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/surveys/survey/survey-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const SurveyViewModel = __webpack_require__("./legislators/legislator/surveys/survey/survey-view-model.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
const appModule = __webpack_require__("../node_modules/@nativescript/core/application/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var page;
var model;
var navigationContext;

var surveyList = new SurveyViewModel([]);

var pageData = new ObservableModule.fromObject({
    boundData: null,
    surveyList: surveyList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;

        navigationContext = page.navigationContext;

        var surveyTitle = navigationContext.survey;
        var maxLength = 20;

        if (surveyTitle.length > maxLength) {
            for (var i = maxLength; i > 0; i--) {
                var position = surveyTitle.indexOf(" ", i);

                if (position > -1 && position <= maxLength) {
                    surveyTitle = surveyTitle.substr(0, position) + "..."

                    break;
                }
            }
        }

        //page.actionBar.title = "Survey";
        page.actionBar.title = surveyTitle;

        pageData.boundData = navigationContext;

        const boolTextConverter = (value) => {
            var result = "No";

            if (value) {
                result = "Yes";
            }

            return result;
        };

        appModule.getResources().boolTextConverter = boolTextConverter;

        if (args.isBackNavigation) {
            if (model.result === "Update") {
                surveyList.empty();
            
                if (surveyList.length === 0) {
                    pageData.set("isLoading", true);
            
                    surveyList.load(navigationContext.legislatorId, navigationContext.surveyId).then(function () {
                        pageData.set("isLoading", false);
                    });
                }
            
                page.bindingContext = pageData;
            }
        } else {
            navigationContext = page.navigationContext;

            var legislatorId = page.getViewById("legislatorId");
            var legislatorName = page.getViewById("legislatorName");

            legislatorId.text = navigationContext.legislatorId;
            legislatorName.text = navigationContext.fullName;

            surveyList.empty();
            
            pageData.set("isLoading", true);
    
            surveyList.load(navigationContext.legislatorId, navigationContext.surveyId).then(function () {
                pageData.set("isLoading", false);
            });
        
            page.bindingContext = pageData;
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onItemTap(args) {
    try
    {
        var legislatorId = page.getViewById("legislatorId");
        var legislatorName = page.getViewById("legislatorName");
        var view = args.view;

        model = view.bindingContext;
        model.relationalType = navigationContext.relationalType;
        model.relationalId = navigationContext.relationalId;
        //dialogs.alert(view.bindingContext.surveyQuestion);

        const navigationEntry = {
            moduleName: "legislators/legislator/surveys/survey/question/question-page",
            context: { 
                legislatorId: legislatorId.text,
                fullName: legislatorName.text,
                boundData: model
            },
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onBackTap = onBackTap;
exports.onItemTap = onItemTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/surveys/survey/survey-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/surveys/survey/survey-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/surveys/survey/survey-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\" class=\"view-title\" visibility=\"{{ boundData.relationalType === 'legislator' ? 'visible' : 'collapse' }}\">\n            <Label id=\"legislatorId\" text=\"\" visibility=\"collapsed\" />\n            <Label id=\"legislatorName\" text=\"\" horizontalAlignment=\"center\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\">\n            <ListView items=\"{{ surveyList }}\" itemTap=\"onItemTap\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <StackLayout>\n                        <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                            <StackLayout row=\"0\" col=\"0\">\n                                <Label text=\"{{ surveyQuestion }}\" textWrap=\"true\" class=\"list-view-item-main-top\" />\n                                <Label text=\"Survey Question Response\" class=\"list-view-item-sub\" style=\"font-style: italic;\" horizontalAlignment=\"center\" />\n                                <GridLayout columns=\"auto, *\" rows=\"*\">\n                                    <Label row=\"0\" col=\"0\" text=\"Response: \" class=\"list-view-item-sub-title\" />\n                                    <Label row=\"0\" col=\"1\" text=\"{{ response }}\" class=\"list-view-item-sub\" />\n                                </GridLayout>\n                                <GridLayout columns=\"auto, *\" rows=\"*\">\n                                    <Label row=\"0\" col=\"0\" text=\"Follow Up Required? \" class=\"list-view-item-sub-title\" />\n                                    <Label row=\"0\" col=\"1\" text=\"{{ followUpRequired | boolTextConverter() }}\" class=\"list-view-item-sub\" />\n                                </GridLayout>\n                                <StackLayout direction=\"horizontal\">\n                                    <Label row=\"0\" col=\"0\" text=\"Comments/Observations: \" class=\"list-view-item-sub-title\" />\n                                    <Label row=\"0\" col=\"1\" text=\"{{ comments }}\" textWrap=\"true\" class=\"list-view-item-sub\" visibility=\"{{ comments === null || comments.length === 0 ? 'collapse' : 'visible' }}\" />\n                                </StackLayout>\n                            </StackLayout>\n                            <Label row=\"0\" col=\"1\" text=\"&#xf105;\" class=\"fn-list-view-item\" />\n                        </GridLayout>\n                    </StackLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"2\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/surveys/survey/survey-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./legislators/legislator/surveys/survey/survey-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/surveys/survey/survey-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function SurveyViewModel(items) {
    const viewModel = new ObservableArray(items);

    viewModel.load = function(legislatorId, surveyId) {
        return http.request({
            url: global.apiBaseServiceUrl + "legislatorsurvey?legislatorId=" + legislatorId + "&surveyId=" + surveyId,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(surveyQuestion) {
                var followUpRequired = false;

                if (surveyQuestion.FollowUpRequired === "true") {
                    followUpRequired = true;
                }

                viewModel.push({
                    legislatorId: surveyQuestion.LegislatorId,
                    fullName: surveyQuestion.FullName,
                    surveyId: surveyQuestion.SurveyId,
                    survey: surveyQuestion.Survey,
                    surveyQuestionId: surveyQuestion.SurveyQuestionId,
                    surveyQuestion: surveyQuestion.SurveyQuestion,
                    initiativeIds: surveyQuestion.InitiativeIds,
                    initiatives: surveyQuestion.Initiatives,
                    responseId: surveyQuestion.ResponseId,
                    response: surveyQuestion.Response,
                    followUpRequired: followUpRequired,
                    comments: surveyQuestion.Comments,
                    editorId: surveyQuestion.EditorId,
                    editor: surveyQuestion.Editor,
                    modifiedDate: surveyQuestion.ModifiedDate
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = SurveyViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/surveys/survey/survey-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/surveys/survey/survey-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/surveys/surveys-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const SurveysViewModel = __webpack_require__("./legislators/legislator/surveys/surveys-view-model.js");
const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
const appModule = __webpack_require__("../node_modules/@nativescript/core/application/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var page;
var navigationContext;

var surveysActive;

var surveysList = new SurveysViewModel([]);

var pageData = new observableModule.fromObject({
    boundData: null,
    surveysList: surveysList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;

        page.actionBar.title = "Surveys";

        navigationContext = page.navigationContext;

        pageData.boundData = navigationContext;

        var legislatorId = page.getViewById("legislatorId");
        var legislatorName = page.getViewById("legislatorName");

        legislatorId.text = navigationContext.legislatorId;
        legislatorName.text = navigationContext.fullName;

        if (args.isBackNavigation) {
            surveysList.empty();

            pageData.set("isLoading", true);

            surveysList.load(navigationContext.legislatorId, navigationContext.meetingId, surveysActive).then(function () {
                pageData.set("isLoading", false);
            });
        } else {
            // Since the Page contains a SegmentedBar,
            // the selectedIndexChanged event will perform the initial load of the ListView.

            page.bindingContext = pageData;
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSelectedIndexChanged(args) {
    try {
        if (args.newIndex === 0) {
            surveysActive = "Y";
        }
        else {
            surveysActive = "N";
        }

        surveysList.empty();

        pageData.set("isLoading", true);

        surveysList.load(navigationContext.legislatorId, navigationContext.meetingId, surveysActive).then(function () {
            pageData.set("isLoading", false);
        });

        page.bindingContext = pageData;
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onAddTap(args) {
    try {
        pageData.boundData.relationalType = "meeting";
        pageData.boundData.relationalId = pageData.boundData.meetingId;
        
        const navigationEntry = {
            moduleName: "legislators/legislator/surveys/select/select-page",
            context: pageData.boundData,
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onItemTap(args) {
    try
    {
        var legislatorId = page.getViewById("legislatorId");
        var legislatorName = page.getViewById("legislatorName");
        var index = args.index;
        var item = surveysList.getItem(index);

        const navigationEntry = {
            moduleName: "legislators/legislator/surveys/survey/survey-page",
            context: { 
                surveyId: item.surveyId,
                survey: item.survey,
                legislatorId: legislatorId.text,
                fullName: legislatorName.text,
                relationalType: navigationContext.relationalType,
                relationalId: navigationContext.relationalId
            },
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onSelectedIndexChanged = onSelectedIndexChanged;
exports.onAddTap = onAddTap;
exports.onBackTap = onBackTap;
exports.onItemTap = onItemTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/surveys/surveys-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/surveys/surveys-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/surveys/surveys-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n        <ActionItem tap=\"onAddTap\" ios.systemIcon=\"4\" android.systemIcon=\"ic_menu_add\" ios.position=\"right\" \n            visibility=\"{{ boundData.relationalType === 'legislator' ? 'collapse' : 'visible' }}\" />\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\" class=\"view-title\" visibility=\"{{ boundData.relationalType === 'legislator' ? 'visible' : 'collapse' }}\">\n            <Label id=\"legislatorId\" text=\"\" visibility=\"collapsed\" />\n            <Label id=\"legislatorName\" text=\"\" horizontalAlignment=\"center\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\">\n            <SegmentedBar class=\"segmented-bar\" selectedIndexChanged=\"onSelectedIndexChanged\">\n                <SegmentedBar.items>\n                    <SegmentedBarItem title=\"Current Surveys\" />\n                    <SegmentedBarItem title=\"Archived Surveys\" />\n                </SegmentedBar.items>\n            </SegmentedBar>\n        </StackLayout>\n        <StackLayout row=\"2\" col=\"0\" verticalAlignment=\"top\">\n            <ListView items=\"{{ surveysList }}\" itemTap=\"onItemTap\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <StackLayout>\n                        <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                            <StackLayout row=\"0\" col=\"0\">\n                                <Label text=\"{{ survey }}\" class=\"list-view-item-main-top\" />\n                                <GridLayout columns=\"auto, *\" rows=\"*\">\n                                    <Label row=\"0\" col=\"0\" text=\"Initiative(s): \" class=\"list-view-item-sub-title\" />\n                                    <Label row=\"0\" col=\"1\" text=\"{{ initiatives }}\" class=\"list-view-item-sub\" />\n                                </GridLayout>\n                                <GridLayout columns=\"auto, *\" rows=\"*\">\n                                    <Label row=\"0\" col=\"0\" text=\"Session Year: \" class=\"list-view-item-sub-title\" />\n                                    <Label row=\"0\" col=\"1\" text=\"{{ year }}\" class=\"list-view-item-sub\" />\n                                </GridLayout>\n                                <GridLayout columns=\"auto, *\" rows=\"*\">\n                                    <Label row=\"0\" col=\"0\" text=\"Chamber/Caucus: \" class=\"list-view-item-sub-title\" />\n                                    <Label row=\"0\" col=\"1\" text=\"{{ chamber }}\" class=\"list-view-item-sub\" />\n                                </GridLayout>\n                                <Label text=\"{{ questionCount }}\" class=\"list-view-item-sub\" />\n                            </StackLayout>\n                            <Label row=\"0\" col=\"1\" text=\"&#xf105;\" class=\"fn-list-view-item\" />\n                        </GridLayout>\n                    </StackLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"3\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/surveys/surveys-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./legislators/legislator/surveys/surveys-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislator/surveys/surveys-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function SurveysViewModel(items) {
    const viewModel = new ObservableArray(items);

    viewModel.load = function(legislatorId, meetingId, surveysActive) {
        var url = global.apiBaseServiceUrl + "legislatorsurveys?legislatorId=" + legislatorId;

        if (meetingId !== null) {
            url += "&meetingId=" + meetingId;
        }

        url += "&active=" + surveysActive;

        return http.request({
            url: url, //global.apiBaseServiceUrl + "legislatorsurveys?legislatorId=" + legislatorId + "&active=" + surveysActive,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(survey) {
                var questionCount = "(" + survey.QuestionCount + " survey questions)";

                viewModel.push({
                    legislatorId: survey.LegislatorId,
                    fullName: survey.FullName,
                    surveyId: survey.SurveyId,
                    survey: survey.Survey,
                    initiativeIds: survey.InitiativeIds,
                    initiatives: survey.Initiatives,
                    year: survey.Year,
                    chamber: survey.Chamber,
                    questionCount: questionCount
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = SurveysViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislator/surveys/surveys-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislator/surveys/surveys-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislators-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const LegislatorsViewModel = __webpack_require__("./legislators/legislators-view-model.js");
const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var gestures = __webpack_require__("../node_modules/@nativescript/core/ui/gestures/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

const MIN_X = -160;
const MAX_X = 0;
const THRESHOLD = 0.25;

var swipeOpen = false;
var swipedItem;

var isScrolling = false;
var isSwiping = false;

var page;
// var view;
var searchBar;
var legislatorsPageSize = 25;
var legislatorsSearchText = "";
var legislatorsSearchSubmitted = false;

var legislatorsList = new LegislatorsViewModel([]);

var pageData = new ObservableModule.fromObject({
    legislatorsList: legislatorsList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        
        page.actionBar.title = "Legislators";

        if (legislatorsSearchText !== "") {
            var searchBar = page.getViewById("searchBar");

            searchBar.text = legislatorsSearchText;
        }
        
        if (legislatorsList.length === 0) {
            pageData.set("isLoading", true);

            legislatorsList.load(legislatorsSearchText, 1, legislatorsPageSize).then(function () {
                pageData.set("isLoading", false);
            });
        }

        page.bindingContext = pageData;

        // var observerTap = page.observe(gestures.GestureTypes.tap, function (args) {
        //     searchBar.dismissSoftInput(); })
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

// function onViewLoaded(args) {
//     view = args.object;
//     page = view.page;
    
//     page.actionBar.title = "Legislators";

//     //legislatorsList.empty();
    
//     if (legislatorsList.length === 0) {
//         viewData.set("isLoading", true);

//         legislatorsList.load(legislatorsSearchText, 1, legislatorsPageSize).then(function () {
//             viewData.set("isLoading", false);
//         });

//         view.bindingContext = viewData;
//     }

//     // var observerTap = page.observe(gestures.GestureTypes.tap, function (args) {
//     //     searchBar.dismissSoftInput(); })
// }

// function onViewUnloaded(args) {

// }

function onSearchBarLoaded(args) {
    searchBar = args.object;

    if (platform.isAndroid) {
        searchBar.android.clearFocus();
    } else if (platform.isIOS) {
        // iOS Styling
        searchBar.ios.searchBarStyle = UISearchBarStyle.UISearchBarStyleMinimal;
        searchBar.ios.showsCancelButton = true;
        //searchBar.ios.animated = true;
        // searchbar.ios.setShowsCancelButtonAnimated(true, true);
    }
}

function onSubmit(args) {
    searchBar = args.object;

    legislatorsSearchText = searchBar.text.trim();

    legislatorsList.empty();
    
    pageData.set("isLoading", true);

    legislatorsList.load(legislatorsSearchText, 1, legislatorsPageSize).then(function (){
        pageData.set("isLoading", false);

        legislatorsSearchSubmitted = true;
    
        searchBar.dismissSoftInput();
    });
}

function onClear(args) {
    searchBar.text = "";
    legislatorsSearchText = "";

    if (legislatorsSearchSubmitted) {
        legislatorsList.empty();
        
        pageData.set("isLoading", true);

        legislatorsList.load(legislatorsSearchText, 1, legislatorsPageSize).then(function (){
            pageData.set("isLoading", false);

            legislatorsSearchSubmitted = false;
        
            searchBar.dismissSoftInput();
        });
    }
}

function onItemLoading(args) {
    if (platform.isIOS) {
        var cell = args.ios;

        cell.selectionStyle = UITableViewCellSelectionStyle.UITableViewCellSelectionStyleNone;
    }
}

// function onButtonTap(args) {
//     searchBar.ios.showsCancelButton = !searchBar.ios.showsCancelButton;
// }

function onItemTap(args) {
    try {
        if (platform.isIOS) {
            if (swipeOpen) {
                swipedItem.animate({
                    translate: { x: 0, y: 0 },
                    duration: 200
                });

                swipeOpen = false;
            } else {
                var view = args.view;
                var model = view.bindingContext;

                const navigationEntry = {
                    moduleName: "legislators/legislator/legislator-page",
                    context: model,
                    clearHistory: false
                };

                frameModule.topmost().navigate(navigationEntry);
            }
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onLoadMoreItems(args) {
    try {
        var legislatorsListCount = legislatorsList.length;
        var legislatorsPageNumber = Math.ceil(legislatorsListCount / legislatorsPageSize) + 1;
        var legislatorsRemainder = legislatorsListCount % legislatorsPageSize;

        if (legislatorsRemainder !== 0 && legislatorsRemainder < legislatorsPageSize)
        {
            return;
        }

        pageData.set("isLoading", true);

        legislatorsList.load(legislatorsSearchText, legislatorsPageNumber, legislatorsPageSize).then(function (){
            pageData.set("isLoading", false);
        });
    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onAddClick(args) {
    var view = args.object;

    var model = {
        meetingId: 0,
        meetingDate: new Date(),
        venueTypeId: 1,
        venueType: "In Person",
        attendeeTypeId: 1,
        attendeeType: "Staff Only",
        lobbyistId: global.personId,
        lobbyist: null,
        legislatorId: view.bindingContext.legislatorId,
        fullName: view.bindingContext.fullName,
        name: null,
        pciInitiatives: null,
        surveys: null,
        pciAttendees: global.currentUser,
        primaryOfficeContact: null,
        meetingLocationId: 2,
        location: "Meeting in DC",
        legislatorStaffAttendees: null,
        followUpNeeded: false,
        followUpDate: null,
        followUpNotes: null,
        creatorId: global.personId,
        notes: null,
        initiativeId: null,
        surveyId: null,
        assignmentId: null
    }

    const navigationEntry = {
        moduleName: "meetings/meeting/meeting-page",
        context: model,
        clearHistory: false
    };

    frameModule.topmost().navigate(navigationEntry);

    if (swipeOpen) {
        swipedItem.animate({
            translate: { x: 0, y: 0 },
            duration: 200
        });

        swipeOpen = false;
    }
}

function onViewClick(args) {
    var view = args.object;
    var model = view.bindingContext;

    model.reference = "nav";
    model.relationalType = "legislator";
    model.relationalId = view.bindingContext.legislatorId;

    const navigationEntry = {
        moduleName: "meetings/meetings-page",
        context: model,
        clearHistory: false
    };

    frameModule.topmost().navigate(navigationEntry);

    if (swipeOpen) {
        swipedItem.animate({
            translate: { x: 0, y: 0 },
            duration: 200
        });

        swipeOpen = false;
    }
}

function onLayoutLoaded(args) {
    var layout = args.object;

    if (platform.isAndroid) {
        layout.on(gestures.GestureTypes.tap, function(args) {
            try {
                if (swipeOpen) {
                    swipedItem.animate({
                        translate: { x: 0, y: 0 },
                        duration: 200
                    });
        
                    swipeOpen = false;
                } else {
                    var view = args.view;
                    var model = view.bindingContext;
        
                    const navigationEntry = {
                        moduleName: "legislators/legislator/legislator-page",
                        context: model,
                        clearHistory: false
                    };
        
                    frameModule.topmost().navigate(navigationEntry);
                }
            }
            catch(e)
            {
                dialogs.alert({
                    title: "Error",
                    message: e.toString(),
                    okButtonText: "OK"
                });
            }
        });
    }

    layout.on(gestures.GestureTypes.pan, function(args) {
        try {
            var layout = args.object;
            var view = args.view;

            if (swipeOpen && swipedItem !== undefined && swipedItem != layout) {
                swipedItem.animate({
                    translate: { x: 0, y: 0 },
                    duration: 50
                });
            }

            if (!isScrolling && !isSwiping) {
                if (Math.abs(args.deltaY) > Math.abs(args.deltaX)) {
                    isScrolling = true;
                    isSwiping = false;
                } else if (Math.abs(args.deltaX) > Math.abs(args.deltaY)) {
                    isScrolling = false;
                    isSwiping = true;
                }
            }

            if (isScrolling) {
                if (swipeOpen && swipedItem !== undefined) {
                    swipedItem.animate({
                        translate: { x: 0, y: 0 },
                        duration: 50
                    });
                }

                if (args.state === gestures.GestureStateTypes.ended) {
                    isScrolling = false;
                }
            } else if (isSwiping) {
                var legislatorsListView = page.getViewById("legislatorsListView");

                if (platform.isAndroid) {
                    legislatorsListView.nativeView.requestDisallowInterceptTouchEvent(true);
                } else if (platform.isIOS) {
                    legislatorsListView.ios.scrollEnabled = false;
                }

                swipeOpen = true;
                swipedItem = layout;

                var newX = layout.translateX + args.deltaX;

                if (newX >= MIN_X && newX <= MAX_X) {
                    layout.translateX = newX;
                }
                
                if (args.state === gestures.GestureStateTypes.ended && !(newX === MIN_X || newX === MAX_X)) {
                    // init our destination X coordinate to 0, in case neither THRESHOLD has been hit
                    let destX = 0;
                    
                    // if user hit or crossed the THESHOLD either way, let's finish in that direction
                    if (newX <= MIN_X * THRESHOLD) {
                        destX = MIN_X;
                    } else if (newX >= MAX_X * THRESHOLD) {
                        destX = MAX_X;
                    }
                    
                    layout.animate({
                        translate: { x: destX, y: 0 },
                        duration: 200
                    });

                    if (platform.isAndroid) {
                        legislatorsListView.nativeView.requestDisallowInterceptTouchEvent(false);
                    } else if (platform.isIOS) {
                        legislatorsListView.ios.scrollEnabled = true;
                    }

                    isSwiping = false;
                }
            }
        } catch(e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        }
    });
}

exports.onNavigatingTo = onNavigatingTo;
// exports.onViewLoaded = onViewLoaded;
// exports.onViewUnloaded = onViewUnloaded;
exports.onSearchBarLoaded = onSearchBarLoaded;
exports.onSubmit = onSubmit;
exports.onClear = onClear;
// exports.onButtonTap = onButtonTap;
exports.onItemLoading = onItemLoading;
exports.onItemTap = onItemTap;
exports.onLoadMoreItems = onLoadMoreItems;
exports.onLayoutLoaded = onLayoutLoaded;
exports.onAddClick = onAddClick;
exports.onViewClick = onViewClick;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislators-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislators-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislators-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\" />\n    \n<!-- <StackLayout loaded=\"onViewLoaded\" unloaded=\"onViewUnloaded\"> -->\n    <GridLayout columns=\"*\" rows=\"auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\" direction=\"horizontal\">\n            <SearchBar row=\"0\" col=\"0\" id=\"searchBar\" hint=\"Search\" text=\"\" loaded=\"onSearchBarLoaded\" submit=\"onSubmit\" clear=\"onClear\" />\n            <!-- <Button tap=\"onButtonTap\" text=\"Toggle Cancel\" /> -->\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\">\n            <ListView id=\"legislatorsListView\" items=\"{{ legislatorsList }}\" itemLoading=\"onItemLoading\" itemTap=\"onItemTap\" loadMoreItems=\"onLoadMoreItems\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <AbsoluteLayout>\n                        <!-- BACKGROUND: Swipe Actions -->\n                        <GridLayout columns=\"*, 80, 80\" rows=\"54\" width=\"100%\">\n                            <Label col=\"0\" />\n                            <GridLayout col=\"1\" columns=\"*\" rows=\"*, auto, auto, *\" tap=\"onAddClick\" class=\"swipe-icons orange\">\n                                <Label row=\"0\" col=\"0\" text=\"\" />\n                                <Label row=\"1\" col=\"0\" text=\"&#xf073;\" class=\"tab-icon\" />\n                                <Label row=\"2\" col=\"0\" text=\"Add Meeting\" class=\"tab-label\" />\n                                <Label row=\"3\" col=\"0\" text=\"\" />\n                            </GridLayout>\n                            <GridLayout col=\"2\" columns=\"*\" rows=\"*, auto, auto, *\" tap=\"onViewClick\" class=\"swipe-icons blue\">\n                                <Label row=\"0\" col=\"0\" text=\"\" />\n                                <Label row=\"1\" col=\"0\" text=\"&#xf2b5;\" class=\"tab-icon\" />\n                                <Label row=\"2\" col=\"0\" text=\"Meetings\" class=\"tab-label\" />\n                                <Label row=\"3\" col=\"0\" text=\"\" />\n                            </GridLayout>\n                        </GridLayout>\n                        <!-- FOREGROUND: List View Item Details -->\n                        <StackLayout loaded=\"onLayoutLoaded\" backgroundColor=\"white\" width=\"100%\">\n                            <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\" height=\"54\">\n                                <Label row=\"0\" col=\"0\" text=\"{{ combinedName }}\" class=\"list-view-item-main-top\" verticalAlignment=\"middle\" />\n                                <Label row=\"0\" col=\"1\" text=\"&#xf105;\" class=\"fn-list-view-item\" verticalAlignment=\"middle\" />\n                            </GridLayout>\n                        </StackLayout>\n                    </AbsoluteLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"2\" colSpan=\"1\" />\n    </GridLayout>\n<!-- </StackLayout> -->\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislators-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./legislators/legislators-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./legislators/legislators-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function LegislatorsViewModel(items) {
    const viewModel = new ObservableArray(items);
    
    viewModel.load = function(filter, page, pageSize) {
        return http.request({
            url: global.apiBaseServiceUrl + "legislatorfilter?filter=" + filter.replace(/ /g, "%20") + "&page=" + page + "&pageSize=" + pageSize,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(legislator) {
                if (legislator.LegislatorId !== null && legislator.LegislatorId !== 0) {
                    viewModel.push({
                        legislatorId: legislator.LegislatorId,
                        bioguideId: legislator.BioguideId,
                        birthdate: legislator.Birthdate,
                        chamber: legislator.Chamber,
                        fullName: legislator.FullName,
                        district: legislator.District,
                        facebookId: legislator.FacebookId,
                        fax: legislator.Fax,
                        combinedName: legislator.LastName + ", " + legislator.FirstName + " " + legislator.MiddleName,
                        firstName: legislator.FirstName,
                        lastName: legislator.LastName,
                        middleName: legislator.MiddleName,
                        gender: legislator.Gender,
                        inOffice: legislator.InOffice,
                        office: legislator.Office,
                        party: legislator.Party,
                        partyName: legislator.PartyName,
                        phone: legislator.Phone,
                        state: legislator.State,
                        stateName: legislator.StateName,
                        stateRank: legislator.StateRank,
                        termStart: legislator.TermStart,
                        termEnd: legislator.TermEnd,
                        title: legislator.Title,
                        titleName: legislator.TitleName,
                        twitterId: legislator.TwitterId,
                        website: legislator.Website,
                        youTubeUrl: legislator.YouTubeUrl,
                        bio: legislator.BioPlainText,
                        imageUrl: legislator.PictureUrl,
                        description: legislator.Description
                    });
                }
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = LegislatorsViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./legislators/legislators-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./legislators/legislators-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./login/login-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const LoginViewModel = __webpack_require__("./login/login-view-model.js");
const platformModule = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
const appSettings = __webpack_require__("../node_modules/@nativescript/core/application-settings/index.js");
const dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var utilsModule = __webpack_require__("../node_modules/@nativescript/core/utils/utils.js");
const fingerprintAuthPlugin = __webpack_require__("../node_modules/nativescript-fingerprint-auth/fingerprint-auth.js");
var fingerprintAuth = new fingerprintAuthPlugin.FingerprintAuth();
var view = __webpack_require__("../node_modules/@nativescript/core/ui/core/view/index.js");
var orientation = __webpack_require__("../node_modules/@proplugins/nativescript-orientation/orientation.js");
var page;
var loginViewModel;
var email;
var password;
var rememberMe;

function onNavigatingTo(args) {
    orientation.disableRotation();
    // page = args.object;

    // loginViewModel = new LoginViewModel();

    // loginViewModel.email = appSettings.getString("email", "");
    // loginViewModel.password = appSettings.getString("password", "");
    // loginViewModel.rememberMe = appSettings.getBoolean("rememberMe", false);
    // loginViewModel.useTouchId = appSettings.getBoolean("useTouchId", false);

    // page.bindingContext = loginViewModel;
}

function onLoaded(args)
{
    page = args.object;

    // email = view.getViewById(page, "email");
    // password = view.getViewById(page, "password");
    // rememberMe = view.getViewById(page, "rememberMe");

    loginViewModel = new LoginViewModel();

    loginViewModel.email = appSettings.getString("email", "");
    loginViewModel.password = appSettings.getString("password", "");
    loginViewModel.rememberMe = appSettings.getBoolean("rememberMe", false);
    loginViewModel.useTouchId = appSettings.getBoolean("useTouchId", false);

    page.bindingContext = loginViewModel;
}

function onNavigatedTo(args)
{
    try {
        if (platformModule.isIOS) {
            if (loginViewModel.useTouchId)
            {
                fingerprintAuth.available().then(
                    fingerprintAuth.verifyFingerprint({
                        message: 'Log on to view legislator information' // optional, shown in the fingerprint dialog (default: 'Scan your finger').
                    }).then(
                        () => {
                            const bindingContext = page.bindingContext;

                            bindingContext.signIn(null);
                        },
                        error => {
                            // when error.code === -3, the user pressed the button labeled with your fallbackMessage
                            dialogs.alert("Fingerprint NOT OK. Error code: " + error.code + ". Error message: " + error.message);
                        }
                    )
                );
            }
        }
    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSigninButtonTap(args) {
    try {
        let button = args.object;

        email = button.page.getViewById("email");
        password = button.page.getViewById("password");
        rememberMe = button.page.getViewById("rememberMe");

        appSettings.setBoolean("rememberMe", rememberMe.checked);

        if (rememberMe.checked)
        {
            appSettings.setString("email", email.text);
            appSettings.setString("password", password.text);
        }
        else
        {
            appSettings.setBoolean("useTouchId", false);
            appSettings.setString("email", "");
            appSettings.setString("password", "");
        }

        var scanType;

        fingerprintAuth.available().then((result) => 
        {
            if (result.touch) {
                scanType = "touch";
            }
            else
            {
                scanType = "face"
            }

            loginViewModel.signIn(scanType);
        }).catch((e) =>
        {
            scanType = null;

            loginViewModel.signIn(scanType);
        });
    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onForgotPasswordTap() {
    utilsModule.openUrl("https://www.pciaa.net/pciwebsite/Accounts/forgotpassword.aspx")
}

exports.onNavigatingTo = onNavigatingTo;
exports.onLoaded = onLoaded;
exports.onNavigatedTo = onNavigatedTo;
exports.onSigninButtonTap = onSigninButtonTap;
exports.onForgotPasswordTap = onForgotPasswordTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./login/login-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./login/login-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./login/login-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page class=\"page\" navigatingTo=\"onNavigatingTo\" loaded=\"onLoaded\" navigatedTo=\"onNavigatedTo\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" style=\"margin-top: 0;\">\n    <ScrollView class=\"login-background\">\n        <GridLayout columns=\"*\" rows=\"*, auto, auto, auto, auto, auto\" height=\"100%\" width=\"100%\">\n            <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"center\" horizontalAlignment=\"center\">\n                <Image src=\"res://login\" android:stretch=\"aspectFill\" ios:stretch=\"none\"></Image>\n            </StackLayout>\n            <StackLayout row=\"1\" col=\"0\" orientation=\"vertical\" backgroundColor=\"#eee\" verticalAlignment=\"bottom\" margin=\"0 10 0 10\" borderRadius=\"5\">\n                <StackLayout orientation=\"horizontal\" class=\"login-field\">\n                    <StackLayout width=\"10%\" verticalAlignment=\"center\">\n                        <Image src=\"res://email\" android:stretch=\"aspectFill\" ios:stretch=\"none\"></Image>\n                    </StackLayout>\n                    <StackLayout width=\"90%\" verticalAlignment=\"center\">\n                        <TextField id=\"email\" hint=\"Email\" keyboardType=\"email\" autocorrect=\"false\" autocapitalization=\"none\"\n                            text=\"{{ email }}\" width=\"100%\" textAlignment=\"left\"></TextField>\n                    </StackLayout>\n                </StackLayout>\n            </StackLayout>\n            <StackLayout row=\"2\" col=\"0\" orientation=\"vertical\" backgroundColor=\"#eee\" verticalAlignment=\"bottom\" margin=\"5 10 0 10\" borderRadius=\"5\">\n                <StackLayout orientation=\"horizontal\" class=\"login-field\">\n                    <StackLayout width=\"10%\" verticalAlignment=\"center\">\n                        <Image src=\"res://password\" android:stretch=\"aspectFill\" ios:stretch=\"none\"></Image>\n                    </StackLayout>\n                    <StackLayout width=\"90%\" verticalAlignment=\"center\">\n                        <TextField id=\"password\" hint=\"Password\" secure=\"true\" autocorrect=\"false\" autocapitalization=\"none\"\n                            text=\"{{ password }}\" width=\"100%\" textAlignment=\"left\"></TextField>\n                    </StackLayout>\n                </StackLayout>\n            </StackLayout>\n            <StackLayout row=\"3\" col=\"0\" orientation=\"vertical\" backgroundColor=\"#eee\" verticalAlignment=\"bottom\" margin=\"5 10 0 10\" borderRadius=\"5\">\n                <StackLayout orientation=\"horizontal\" class=\"login-field-switch\">\n                    <StackLayout width=\"40%\" verticalAlignment=\"center\">\n                        <Label text=\"Remember Me\" horizontalAlignment=\"left\" />\n                    </StackLayout>\n                    <StackLayout width=\"60%\" verticalAlignment=\"center\">\n                        <Switch id=\"rememberMe\" checked=\"{{ rememberMe }}\" horizontalAlignment=\"right\" class=\"switch\" />\n                    </StackLayout>\n                </StackLayout>\n            </StackLayout>\n            <StackLayout row=\"4\" col=\"0\" orientation=\"vertical\" verticalAlignment=\"top\" margin=\"0 10 0 10\">\n                <Button class=\"login-button\" text=\"Sign In\" tap=\"onSigninButtonTap\"></Button>\n            </StackLayout>\n            <StackLayout row=\"5\" col=\"0\" orientation=\"vertical\" verticalAlignment=\"top\" margin=\"5 10 30 10\">\n                <Button class=\"forgot-button\" text=\"Forgot Password?\" tap=\"onForgotPasswordTap\"></Button>\n            </StackLayout>\n            <!-- <Label class=\"m-t-10 m-b-10 m-l-15 m-r-15\" text=\"Forgot password?\" tap=\"onForgotPasswordTap\"></Label> -->\n        </GridLayout>\n    </ScrollView>\n</Page>"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./login/login-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./login/login-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./login/login-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const platformModule = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var appSettings = __webpack_require__("../node_modules/@nativescript/core/application-settings/index.js");
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function LoginViewModel() {
    const viewModel = observableModule.fromObject({
        email: "",
        password: "",
        rememberMe: false,
        useTouchId: false,

        signIn: function(scanType) {
            const email = this.email;
            const password = this.password;

            // dialogs.alert(global.token + "\nisPci: " + global.isPci + "\nisCongressAdmin: " + global.isCongressAdmin + 
            //     "\nisCongressUser: " + global.isCongressUser + "\nisCongressExternalUser: " + global.isCongressExternalUser + 
            //     "\npersonId: " + global.personId + "\ncompanyId: " + global.companyId + "\ncurrentUser: " + global.currentUser);

            http.request({
                url: global.apiLoginUrl,
                method: "POST",
                headers: { "Content-Type": "application/json" },
                content: JSON.stringify({ EmailAddress: email, Password: password, Scope: global.scope })
            }).then(function (response) {
                var result = response.content.toString();
                var data = JSON.parse(result);

                if (data.AccessToken !== undefined && data.AccessToken !== null)
                {
                    global.token = data.AccessToken;
                    
                    var pciEveryonePosition = global.token.toLowerCase().indexOf("pci.everyone");

                    if (pciEveryonePosition > 0)
                    {
                        global.isPci = true;
                    }

                    var congressUserPosition = global.token.toLowerCase().indexOf("congress+user");
                    var congressExternalUserPosition = global.token.toLowerCase().indexOf("congress+external+user");
                    var congressAdminPosition = global.token.toLowerCase().indexOf("congress+admin");

                    if (congressAdminPosition > 0)
                    {
                        global.isCongressAdmin = true;
                    }
                    else if (congressUserPosition > 0)
                    {
                        global.isCongressUser = true;
                    }
                    else if (congressExternalUserPosition > 0)
                    {
                        global.isCongressExternalUser = true;
                    }

                    if (global.isCongressAdmin || global.isCongressUser || global.isCongressExternalUser)
                    {
                        var personIdPosition = token.toLowerCase().indexOf("&personid=") + 10;
                        var firstNamePosition = token.toLowerCase().indexOf("&firstname=");

                        global.personId = token.slice(personIdPosition, firstNamePosition);

                        var fullNamePosition = token.toLowerCase().indexOf("&fullname=") + 10;
                        var streetAddress1Position = token.toLowerCase().indexOf("&streetaddress1=");

                        global.currentUser = decodeURIComponent(token.slice(fullNamePosition, streetAddress1Position)).replace("+", " ");

                        var companyIdPosition = token.toLowerCase().indexOf("&companyid=") + 11;
                        var deptIdPosition = token.toLowerCase().indexOf("&deptid=");

                        global.companyId = token.slice(companyIdPosition, deptIdPosition);

                        const navigationEntry = {
                            moduleName: "main-page", // "home/home-page",
                            clearHistory: true
                        };

                        var useTouchId = appSettings.getBoolean("useTouchId", false);
                        var rememberMe = appSettings.getBoolean("rememberMe", false);

                        if ((useTouchId === undefined || useTouchId === null || useTouchId === false) && scanType === "touch" && rememberMe && platformModule.isIOS)
                        {
                            dialogs.confirm(
                                {
                                    title: "Touch ID for \"LegCon\"",
                                    message: "Would you like to use the fingerprint scanner to log on in the future?",
                                    okButtonText: "Yes",
                                    cancelButtonText: "No"
                                }
                            ).then(function (result) {
                                if (result)
                                {
                                    appSettings.setBoolean("useTouchId", true);

                                    try
                                    {
                                        frameModule.topmost().navigate(navigationEntry);
                                    }
                                    catch(e)
                                    {
                                        dialogs.alert({
                                            title: "Error",
                                            message: e.toString(),
                                            okButtonText: "OK"
                                        });
                                    }
                                }
                                else
                                {
                                    appSettings.setBoolean("useTouchId", false);

                                    try
                                    {
                                        frameModule.topmost().navigate(navigationEntry);
                                    }
                                    catch(e)
                                    {
                                        dialogs.alert({
                                            title: "Error",
                                            message: e.toString(),
                                            okButtonText: "OK"
                                        });
                                    }
                                }
                            });
                        }
                        else if ((useTouchId === undefined || useTouchId === null || useTouchId === false) && scanType === "face" && rememberMe && platformModule.isIOS)
                        {
                            appSettings.setBoolean("useTouchId", true);
                        }
                        else
                        {
                            try
                            {
                                frameModule.topmost().navigate(navigationEntry);
                            }
                            catch(e)
                            {
                                dialogs.alert({
                                    title: "Error",
                                    message: e.toString(),
                                    okButtonText: "OK"
                                });
                            }
                        }
                    }
                    else
                    {
                        dialogs.alert("Unauthorized user account.");
                    }
                }
                else
                {
                    // undefined or null data.AccessToken returned.  
                    // Usually the result of invalid user name and password.
                    //dialogs.alert("Null access token returned.");
                    dialogs.alert("Invalid email address or password.")
                }
            }, function (e) {
                dialogs.alert({
                    title: "Error",
                    message: e.toString(),
                    okButtonText: "OK"
                });
            });
        }
    });

    return viewModel;
}

module.exports = LoginViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./login/login-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./login/login-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./main-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const application = __webpack_require__("../node_modules/@nativescript/core/application/index.js");
var frame = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var gridLayout = __webpack_require__("../node_modules/@nativescript/core/ui/layouts/grid-layout/index.js");
var stackLayout = __webpack_require__("../node_modules/@nativescript/core/ui/layouts/stack-layout/index.js")
var Label = __webpack_require__("../node_modules/@nativescript/core/ui/label/index.js").Label;
var orientation = __webpack_require__("../node_modules/@proplugins/nativescript-orientation/orientation.js");

var page;

function onNavigatingTo(args) {
    orientation.enableRotation();
    page = args.object;
    page._tabs = [];

    page.tabItems = [
        { path: "legislators/legislators-page", iconCode: "\uf19c", label: "Legislators" },
        { path: "committees/committees-page", iconCode: "\uf0c0", label: "Committees" },
        { path: "meetings/meetings-page", iconCode: "\uf2b5", label: "My Meetings" },
        { path: "assignments/assignments-page", iconCode: "\uf03a", label: "Assignments" }
    ];

    var numItems = page.tabItems.length;

    var newGrid = new gridLayout.GridLayout();

    newGrid.id = "tab-navigation";

    newGrid.addRow(new gridLayout.ItemSpec(1, "star"));
    newGrid.addRow(new gridLayout.ItemSpec(1, "auto"));
    
    for (var i = 0; i < numItems; i++) {
        newGrid.addColumn(new gridLayout.ItemSpec(1, "star"));
    }
    
    var frameHolder = new stackLayout.StackLayout();
    
    page.navFrame = new frame.Frame();

    page.navFrame.id = "navigation-frame";
    page.navFrame.className = "navigation-frame";

    frameHolder.addChild(page.navFrame);

    newGrid.addChild(frameHolder);

    gridLayout.GridLayout.setColumn(frameHolder, 0);
    gridLayout.GridLayout.setRow(frameHolder, 0);
    gridLayout.GridLayout.setColumnSpan(frameHolder, numItems);

    for (var i = 0; i < numItems; i++) {
        var currentItem = page.tabItems[i];
        var tab = new stackLayout.StackLayout();

        tab.direction = "vertical";

        if (i === 0) {
            tab.className = "tab tab-selected";
        } else {
            tab.className = "tab";
        }

        tab.id = "tab_" + i;
        
        tab.on("tap", function (args) {
            return onTabSelected(args, currentItem);
        })

        var icon = new Label();

        icon.className = 'tab-icon';

        //icon.text = String.fromCharCode(currentItem.iconCode)
        icon.text = currentItem.iconCode;
        tab.addChild(icon);

        var label = new Label();

        label.className = 'tab-label';
        label.text = currentItem.label;
        tab.addChild(label);

        page._tabs.push(tab);
        newGrid.addChild(tab);

        gridLayout.GridLayout.setRow(tab, 1);
        gridLayout.GridLayout.setColumn(tab, i);
    }

    page.content = newGrid;

    const dateConverter = (value, format) => {
        let result = format;

        if (value === null) {
            //result = "";
        } else {
            const day = value.getDate();
            result = result.replace("DD", day < 10 ? `0${day}` : day);
            const month = value.getMonth() + 1;
            result = result.replace("MM", month < 10 ? `0${month}` : month);
            result = result.replace("YYYY", value.getFullYear());
        }

        return result;
    };

    application.getResources().dateConverter = dateConverter;
    application.getResources().dateFormat = "MM/DD/YYYY";

    var navigationEntry = {
        moduleName: page.tabItems[0].path,
        context: {
            reference: "tab"
        },
        clearHistory: true
    }

    page.navFrame.navigate(navigationEntry);
    //page.navFrame.navigate(page.tabItems[0].path);
}

function onTabSelected(args) {
    var selectedTab = args.object;
    var index = selectedTab.id.substring(selectedTab.id.indexOf("tab_") + 4);

    if (selectedTab.className.indexOf("tab-selected") > -1) {
        var currentFrame = page.getViewById("navigation-frame");
        
        if (page.tabItems[index].label === currentFrame.currentPage.actionBar.title) {
            return;
        }
    }

    page._tabs.forEach(function(tab) {
        tab.className = 'tab';
    });

    selectedTab.className = 'tab tab-selected';

    showTab(page.tabItems[index]);
}

function showTab(tabItem) {
    var navigationEntry = {
        moduleName: tabItem.path,
        context: {
            reference: "tab"
        },
        clearHistory: true
    }

    page.navFrame.navigate(navigationEntry)
}

exports.onNavigatingTo = onNavigatingTo;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./main-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./main-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./main-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page xmlns=\"http://schemas.nativescript.org/tns.xsd\" backgroundSpanUnderStatusBar=\"true\" actionBarHidden=\"true\" navigatingTo=\"onNavigatingTo\">\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./main-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./main-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/attendeetype/attendeetype-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const AttendeeTypeViewModel = __webpack_require__("./meetings/meeting/attendeetype/attendeetype-view-model.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

var page;
var navigationContext;
var attendeeTypeList = new AttendeeTypeViewModel([]);

var attendeeTypeIndex = 0;

var pageData = new ObservableModule.fromObject({
    boundData: null,
    attendeeTypeIndex: attendeeTypeIndex,
    attendeeTypeList: null,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        page.actionBar.title = "Cong. Office Attendees";

        navigationContext = page.navigationContext;

        pageData.boundData = navigationContext;

        if (global.attendeeTypeList === undefined) {
            pageData.set("isLoading", true);

            attendeeTypeList.load().then(function () {
                global.attendeeTypeList = attendeeTypeList;

                pageData.attendeeTypeList = global.attendeeTypeList;

                attendeeTypeIndex = 0;

                if (pageData.boundData.attendeeTypeId !== null && pageData.boundData.attendeeTypeId.toString().length > 0) {
                    var i;

                    for (i = 0; i < pageData.attendeeTypeList.List.length; i++) {
                        if (pageData.attendeeTypeList.List.getItem(i).attendeeTypeId === pageData.boundData.attendeeTypeId) {
                            attendeeTypeIndex = i;
                        }
                    }
                }

                pageData.attendeeTypeIndex = attendeeTypeIndex;

                pageData.set("isLoading", false);

                page.bindingContext = pageData;
            });
        } else {
            pageData.attendeeTypeList = global.attendeeTypeList;
            
            attendeeTypeIndex = 0;

            if (pageData.boundData.attendeeTypeId !== null && pageData.boundData.attendeeTypeId.toString().length > 0) {
                var i;

                for (i = 0; i < pageData.attendeeTypeList.List.length; i++) {
                    if (pageData.attendeeTypeList.List.getItem(i).attendeeTypeId === pageData.boundData.attendeeTypeId) {
                        attendeeTypeIndex = i;
                    }
                }
            }

            pageData.attendeeTypeIndex = attendeeTypeIndex;

            page.bindingContext = pageData;
        }
    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onLoaded(args) {
    try {
        var attendeeTypeListPicker = page.getViewById("attendeeTypeListPicker");
        
        attendeeTypeListPicker.on("selectedIndexChange", function(args) {
            var attendeeTypeItem = pageData.attendeeTypeList.List.getItem(args.object.selectedIndex);
            //dialogs.alert(attendeeTypeItem.attendeeTypeId + ": " + attendeeTypeItem.attendeeType);
            pageData.boundData.attendeeTypeId = attendeeTypeItem.attendeeTypeId;
            pageData.boundData.attendeeType = attendeeTypeItem.attendeeType;
        });

    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onLoaded = onLoaded;
exports.onBackTap = onBackTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/attendeetype/attendeetype-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/attendeetype/attendeetype-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/attendeetype/attendeetype-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" loaded=\"onLoaded\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, auto, *\">\n        <StackLayout row=\"0\" col=\"0\" class=\"list-view-section-header\"></StackLayout>\n        <GridLayout row=\"1\" col=\"0\" columns=\"*\" rows=\"auto\" class=\"list-view-item-form\">\n            <ListPicker id=\"attendeeTypeListPicker\" row=\"0\" col=\"0\" items=\"{{ attendeeTypeList.Items }}\" selectedIndex=\"{{ attendeeTypeIndex }}\" \n                horizontalAlignment=\"center\" class=\"list-view-item-picker\"></ListPicker>\n        </GridLayout>\n        <StackLayout row=\"2\" col=\"0\" height=\"100%\" class=\"list-view-section-header\"></StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"3\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/attendeetype/attendeetype-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./meetings/meeting/attendeetype/attendeetype-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/attendeetype/attendeetype-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js").Observable;
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function AttendeeTypeViewModel() {
    const viewModel = new ObservableModule();
    viewModel.Items = new ObservableArray();
    viewModel.List = new ObservableArray();

    viewModel.load = function() {
        return http.request({
            url: global.apiBaseServiceUrl + "meetingattendeetypes",
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(attendeeType) {
                viewModel.Items.push(
                    attendeeType.Type
                );

                viewModel.List.push({
                    attendeeTypeId: attendeeType.AttendeeTypeId,
                    attendeeType: attendeeType.Type
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.Items.length) {
            viewModel.Items.pop();
        }

        while (viewModel.List.length) {
            viewModel.List.pop();
        }
    };
    
    return viewModel;
}

module.exports = AttendeeTypeViewModel;; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/attendeetype/attendeetype-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/attendeetype/attendeetype-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/followup/followup-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

var page;
var navigationContext;

function onNavigatingTo(args) {
    try {
        page = args.object;
        page.actionBar.title = "Follow Up";

        navigationContext = page.navigationContext;

        page.bindingContext = navigationContext;

    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onLoaded(args) {
    try {
        var followUpDateDatePicker = page.getViewById("followUpDateDatePicker");

        followUpDateDatePicker.on("dateChange", function(args) {
            var followUpDateLabel = page.getViewById("followUpDateLabel");

            followUpDateLabel.text = dateConverter(args.value, "MM/DD/YYYY");
        });
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        dismissKeyboard()

        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onGridLayoutTap(args) {
    try {
        dismissKeyboard()
    } catch(e) {
        dialogs.alert(e);
    }
}

function onSwitchLoaded(args) {
    var checkedSwitch = args.object;

    checkedSwitch.on("checkedChange", function(args) {
        dismissKeyboard()

        var detailsLabel = page.getViewById("detailsLabel");
        var followUpDetailsStackLayout = page.getViewById("followUpDetailsStackLayout");
        var followUpDateDatePickerGridLayout = page.getViewById("followUpDateDatePickerGridLayout");

        if (args.value) {
            detailsLabel.visibility = "visible";
            followUpDetailsStackLayout.visibility = "visible";
        } else {
            detailsLabel.visibility = "collapse";
            followUpDetailsStackLayout.visibility = "collapse";
        }

        followUpDateDatePickerGridLayout.visibility = "collapse";

        page.addCss("#followUpDateLabel {color: #666;}");
    });
}

function onTextViewFocus(args) {
    try {
        var followUpDateDatePickerGridLayout = page.getViewById("followUpDateDatePickerGridLayout");

        followUpDateDatePickerGridLayout.visibility = "collapse";

        page.addCss("#followUpDateLabel {color: #666;}");
    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutFollowUpDateTap(args) {
    try {
        dismissKeyboard()

        var followUpDateDatePickerGridLayout = page.getViewById("followUpDateDatePickerGridLayout");
        
        if (followUpDateDatePickerGridLayout.visibility === "collapse") {
            followUpDateDatePickerGridLayout.visibility = "visible";

            page.addCss("#followUpDateLabel {color: #cc2d30;}");
        } else {
            followUpDateDatePickerGridLayout.visibility = "collapse";

            page.addCss("#followUpDateLabel {color: #666;}");
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function dateConverter(value, format) {
    let result = format;

    const day = value.getDate();

    result = result.replace("DD", day < 10 ? `0${day}` : day);

    const month = value.getMonth() + 1;

    result = result.replace("MM", month < 10 ? `0${month}` : month);
    result = result.replace("YYYY", value.getFullYear());

    return result;
}

function dismissKeyboard() {
    if (platform.isAndroid) {
        var followUpNotes = page.getViewById("followUpNotes");

        followUpNotes.dismissSoftInput();
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onLoaded = onLoaded;
exports.onBackTap = onBackTap;
exports.onGridLayoutTap = onGridLayoutTap;
exports.onSwitchLoaded = onSwitchLoaded;
exports.onTextViewFocus = onTextViewFocus;
exports.onStackLayoutFollowUpDateTap = onStackLayoutFollowUpDateTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/followup/followup-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/followup/followup-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/followup/followup-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" loaded=\"onLoaded\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, auto, *\" tap=\"onGridLayoutTap\">\n        <StackLayout row=\"0\" col=\"0\" class=\"list-view-section-header\"></StackLayout>\n        <StackLayout row=\"1\" col=\"0\">\n            <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form-bottom\">\n                <Label row=\"0\" col=\"0\" text=\"Follow Up Needed?\" class=\"list-view-item-left\" />\n                <Switch row=\"0\" col=\"1\" checked=\"{{ followUpNeeded }}\" loaded=\"onSwitchLoaded\" horizontalAlignment=\"right\" class=\"switch\" />\n            </GridLayout>\n        </StackLayout>\n        <StackLayout row=\"2\" col=\"0\" style=\"background-color: #eee;\">\n            <StackLayout verticalAlignment=\"bottom\" class=\"list-view-section-header-no-border\">\n                <Label id=\"detailsLabel\" text=\"DETAILS\" verticalAlignment=\"bottom\" visibility=\"{{ followUpNeeded === 'true' || followUpNeeded === true ? 'visible' : 'collapse' }}\" />\n            </StackLayout>\n            <StackLayout id=\"followUpDetailsStackLayout\" class=\"list-view-section-detail\" visibility=\"{{ followUpNeeded === 'true' || followUpNeeded === true ? 'visible' : 'collapse' }}\">\n                <StackLayout tap=\"onStackLayoutFollowUpDateTap\">\n                    <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                        <Label row=\"0\" col=\"0\" text=\"Follow Up Completed\" class=\"list-view-item-left\" />\n                        <Label id=\"followUpDateLabel\" row=\"0\" col=\"1\" text=\"{{ followUpDate | dateConverter(dateFormat) }}\" class=\"list-view-item-right\" />\n                    </GridLayout>\n                </StackLayout>\n                <GridLayout id=\"followUpDateDatePickerGridLayout\" columns=\"*\" rows=\"auto\" class=\"list-view-item-form\" visibility=\"collapse\">\n                    <DatePicker id=\"followUpDateDatePicker\" row=\"0\" col=\"0\" date=\"{{ followUpDate }}\" horizontalAlignment=\"center\" class=\"list-view-item-right\"></DatePicker>\n                </GridLayout>\n                <GridLayout columns=\"*\" rows=\"*\" class=\"list-view-item-form-bottom\">\n                    <TextView id=\"followUpNotes\" row=\"0\" col=\"0\" text=\"{{ followUpNotes }}\" focus=\"onTextViewFocus\" hint=\"Follow Up Notes\" class=\"list-view-item-textview\" height=\"100%\" />\n                </GridLayout>\n            </StackLayout>\n        </StackLayout>\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/followup/followup-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./meetings/meeting/followup/followup-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/initiatives/initiatives-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const InitiativesViewModel = __webpack_require__("./meetings/meeting/initiatives/initiatives-view-model.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var page;
var navigationContext;

var initiativesList = new InitiativesViewModel([]);

var switchTap = false;

var pageData = new ObservableModule.fromObject({
    boundData: null,
    initiativesList: initiativesList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        navigationContext = page.navigationContext;

        pageData.boundData = navigationContext;
        pageData.boundData.updated = false;
        
        page.actionBar.title = "Select Initiative(s)";

        initiativesList.empty();

        pageData.set("isLoading", true);

        initiativesList.load(navigationContext.meetingId).then(function () {
            pageData.set("isLoading", false);

            page.bindingContext = pageData;
        });
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSwitchLoaded(args) {
    var checkedSwitch = args.object;

    checkedSwitch.on("tap", function(args) {
        // Necessary to prevent the checkedChange event from firing on the switch when user scrolls.
        switchTap = true;
    });

    checkedSwitch.on("checkedChange", function(args) {
        if (switchTap) {
            var stackLayout = args.object.parent;
            var indexLabel = stackLayout.getViewById("indexLabel");

            var model = initiativesList.getItem(indexLabel.text);

            model.checked = args.value;
            
            http.request({
                url: global.apiBaseServiceUrl + "updatemeetinginitiative",
                method: "POST",
                headers: { "Content-Type": "application/json", "Authorization": global.token },
                content: JSON.stringify(model)
            }).then(function (response) {
                // var result = response.content.toJSON();

                // dialogs.alert(result);
                pageData.boundData.updated = true;

                switchTap = false;
            }, function (e) {
                dialogs.alert({
                    title: "Error",
                    message: e.toString(),
                    okButtonText: "OK"
                });
            });
        }
    });
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onSwitchLoaded = onSwitchLoaded;
exports.onBackTap = onBackTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/initiatives/initiatives-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/initiatives/initiatives-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/initiatives/initiatives-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"*\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\">\n            <ListView items=\"{{ initiativesList }}\" itemTemplateSelector=\"$index\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <StackLayout>\n                        <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                            <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"middle\">\n                                <Label text=\"{{ initiative }}\" class=\"list-view-item-main-top\" />\n                            </StackLayout>\n                            <StackLayout row=\"0\" col=\"1\" verticalAlignment=\"middle\">\n                                <Switch id=\"checkedSwitch\" row=\"0\" col=\"1\" checked=\"{{ checked }}\" \n                                    loaded=\"onSwitchLoaded\" horizontalAlignment=\"right\" class=\"switch\" />\n                                <Label id=\"indexLabel\" text=\"{{ $index }}\" visibility=\"collapse\" />\n                            </StackLayout>\n                        </GridLayout>\n                    </StackLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"1\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/initiatives/initiatives-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./meetings/meeting/initiatives/initiatives-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/initiatives/initiatives-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function InitiativesViewModel(items) {
    const viewModel = new ObservableArray(items);
    
    viewModel.load = function(meetingId) {
        return http.request({
            url: global.apiBaseServiceUrl + "meetinginitiatives?meetingId=" + meetingId,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(initiative) {
                var checked = false;

                if (initiative.Checked === "true") {
                    checked = true;
                }

                viewModel.push({
                    meetingId: initiative.MeetingId,
                    legislatorId: initiative.LegislatorId,
                    initiativeId: initiative.InitiativeId,
                    initiative: initiative.Initiative,
                    checked: initiative.Checked
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = InitiativesViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/initiatives/initiatives-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/initiatives/initiatives-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/meeting-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const MeetingViewModel = __webpack_require__("./meetings/meeting/meeting-view-model.js");
const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
const appModule = __webpack_require__("../node_modules/@nativescript/core/application/index.js");
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

var page;
var navigationContext;

// var pageData = new ObservableModule.fromObject({
//     boundData: null
// });

var pageData = new ObservableModule.Observable();

function onNavigatingTo(args) {
    try {
        page = args.object;

        var offeredToMembersLabel = page.getViewById("offeredToMembersLabel");
        var followUpTitle = page.getViewById("followUpTitle");
        var followUpLabel = page.getViewById("followUpLabel");

        const limitText = (text, limit) => {
            let result = text;

            if (result !== null) {
                if (result.length > limit) {
                    for (var i = limit; i > 0; i--) {
                        var position = result.indexOf(" ", i);

                        if (position > -1 && position <= limit) {
                            result = result.substr(0, position) + "..."

                            break;
                        }
                    }
                }
            }

            return result;
        };

        appModule.getResources().limitText = limitText;

        if (args.isBackNavigation) {
            var venueTypeLabel = page.getViewById("venueTypeLabel");
            var notesLabel = page.getViewById("notesLabel");
            var legislatorLabel = page.getViewById("legislatorLabel");
            var attendeeTypeLabel = page.getViewById("attendeeTypeLabel");
            var meetingLocationLabel = page.getViewById("meetingLocationLabel");
            var staffAttendeesLabel = page.getViewById("staffAttendeesLabel");

            venueTypeLabel.text = pageData.venueType;

            if (pageData.offeredToMembers === true || pageData.offeredToMembers === "true") {
                offeredToMembersLabel.text = "Yes";
            } else {
                offeredToMembersLabel.text = "No";
            }

            notesLabel.text = limitText(pageData.notes, 30);
            legislatorLabel.text = pageData.fullName;
            attendeeTypeLabel.text = pageData.attendeeType;
            meetingLocationLabel.text = pageData.location;
            staffAttendeesLabel.text = limitText(pageData.legislatorStaffAttendees, 20);

            if (pageData.followUpNeeded === true || pageData.followUpNeeded === "true") {
                if (pageData.followUpDate === null) {
                    followUpTitle.text = "Follow Up Needed?";
                    followUpLabel.text = "Yes";
                } else {
                    followUpTitle.text = "Follow Up Date";
                    followUpLabel.text = dateConverter(pageData.followUpDate, "MM/DD/YYYY");
                }
            } else {
                followUpTitle.text = "Follow Up Needed?";
                followUpLabel.text = "No";
            }

            if (pageData.updated) {
                var currentMeeting = new MeetingViewModel();

                currentMeeting.load(pageData.meetingId).then(function () {
                    var initiativesLabel = page.getViewById("initiativesLabel");
                    var surveysLabel = page.getViewById("surveysLabel");
                    var pciAttendeesLabel = page.getViewById("pciAttendeesLabel");

                    pageData.pciInitiatives = currentMeeting.pciInitiatives;
                    pageData.surveys = currentMeeting.surveys;
                    pageData.pciAttendees = currentMeeting.pciAttendees;
                    
                    initiativesLabel.text = limitText(pageData.pciInitiatives, 25);
                    surveysLabel.text = limitText(pageData.surveys, 25);
                    pciAttendeesLabel.text = limitText(pageData.pciAttendees, 25);

                    pageData.updated = false;
                });
            }

        } else {
            navigationContext = page.navigationContext;
            
            pageData = navigationContext;
            pageData.result = "";

            if (pageData.meetingId === null || pageData.meetingId === 0) {
                page.actionBar.title = "Add Meeting";
            } else {
                page.actionBar.title = "Edit Meeting";
            }

            if (pageData.offeredToMembers === true || pageData.offeredToMembers === "true") {
                offeredToMembersLabel.text = "Yes";
            } else {
                offeredToMembersLabel.text = "No";
            }

            if (pageData.followUpNeeded === true || pageData.followUpNeeded === "true") {
                if (pageData.followUpDate === null) {
                    followUpTitle.text = "Follow Up Needed?";
                    followUpLabel.text = "Yes";
                } else {
                    followUpTitle.text = "Follow Up Completed";
                    followUpLabel.text = dateConverter(pageData.followUpDate, "MM/DD/YYYY");
                }
            } else {
                followUpTitle.text = "Follow Up Needed?";
                followUpLabel.text = "No";
            }

            page.bindingContext = pageData;
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onLoaded(args) {
    try {
        var meetingDateDatePicker = page.getViewById("meetingDateDatePicker");
        
        meetingDateDatePicker.on("dateChange", function(args) {
            var meetingDateLabel = page.getViewById("meetingDateLabel");

            meetingDateLabel.text = dateConverter(args.value, "MM/DD/YYYY");
        });
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutMeetingDateTap(args) {
    try {
        var meetingDateGridLayout = page.getViewById("meetingDateGridLayout");
        
        if (meetingDateGridLayout.visibility === "collapse") {
            meetingDateGridLayout.visibility = "visible";

            page.addCss("#meetingDateLabel {color: #cc2d30;}");
        } else {
            meetingDateGridLayout.visibility = "collapse";

            page.addCss("#meetingDateLabel {color: #666;}");
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutVenueTypeTap(args) {
    try {
        collapseMeetingDate();

        const navigationEntry = {
            moduleName: "meetings/meeting/venuetype/venuetype-page",
            context: pageData,
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutOfferedToMembersTap(args) {
    try {
        collapseMeetingDate();

        const navigationEntry = {
            moduleName: "meetings/meeting/offeredtomembers/offeredtomembers-page",
            context: pageData,
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutNotesTap(args) {
    try {
        collapseMeetingDate();

        const navigationEntry = {
            moduleName: "meetings/meeting/notes/notes-page",
            context: pageData,
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutFollowUpTap(args) {
    try {
        collapseMeetingDate();

        const navigationEntry = {
            moduleName: "meetings/meeting/followup/followup-page",
            context: pageData,
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutInitiativesTap(args) {
    try
    {
        collapseMeetingDate();

        if (pageData.meetingId === null || pageData.meetingId === 0) {
            if (platform.isAndroid) {
                dialogs.confirm({
                    title: "Save",
                    message: "A new meeting must be saved prior to adding an initiative. Would you like to save this meeting?",
                    okButtonText: "Yes",
                    cancelButtonText: "No"
                }).then(function (result) {
                    if (result) {
                        saveMeeting("meetings/meeting/initiatives/initiatives-page", false);
                    }
                });
            } else if (platform.isIOS) {
                dialogs.action({
                    message: "A new meeting must be saved prior to adding an initiative. Would you like to save this meeting?",
                    cancelButtonText: "Cancel",
                    actions: ["Save"]
                }).then(function (result) {
                    if (result === "Save") {
                        saveMeeting("meetings/meeting/initiatives/initiatives-page", false);
                    }
                });
            }
        } else {
            pageData.relationalType = "meeting";
            pageData.relationalId = pageData.meetingId;
            
            const navigationEntry = {
                moduleName: "meetings/meeting/initiatives/initiatives-page",
                context: pageData,
                clearHistory: false
            };

            frameModule.topmost().navigate(navigationEntry);
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutSurveysTap(args) {
    try
    {
        collapseMeetingDate();

        if (pageData.meetingId === null || pageData.meetingId === 0) {
            if (platform.isAndroid) {
                dialogs.confirm({
                    title: "Save",
                    message: "A new meeting must be saved prior to adding a survey. Would you like to save this meeting?",
                    okButtonText: "Yes",
                    cancelButtonText: "No"
                }).then(function (result) {
                    if (result) {
                        saveMeeting("legislators/legislator/surveys/surveys-page", false);
                    }
                });
            } else if (platform.isIOS) {
                dialogs.action({
                    message: "A new meeting must be saved prior to adding a survey. Would you like to save this meeting?",
                    cancelButtonText: "Cancel",
                    actions: ["Save"]
                }).then(function (result) {
                    if (result === "Save") {
                        saveMeeting("legislators/legislator/surveys/surveys-page", true);
                    }
                });
            }
        } else {
            pageData.relationalType = "meeting";
            pageData.relationalId = pageData.meetingId;
            
            const navigationEntry = {
                moduleName: "legislators/legislator/surveys/surveys-page",
                context: pageData,
                clearHistory: false
            };

            frameModule.topmost().navigate(navigationEntry);
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutLegislatorTap(args) {
    try {
        collapseMeetingDate();

        const navigationEntry = {
            moduleName: "meetings/meeting/legislator/legislator-page",
            context: pageData,
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutAttendeeTypeTap(args) {
    try {
        collapseMeetingDate();

        const navigationEntry = {
            moduleName: "meetings/meeting/attendeetype/attendeetype-page",
            context: pageData,
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutMeetingLocationTap(args) {
    try {
        collapseMeetingDate();

        const navigationEntry = {
            moduleName: "meetings/meeting/meetinglocation/meetinglocation-page",
            context: pageData,
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutPciAttendeesTap(args) {
    try
    {
        collapseMeetingDate();

        if (pageData.meetingId === null || pageData.meetingId === 0) {
            if (platform.isAndroid) {
                dialogs.confirm({
                    title: "Save",
                    message: "A new meeting must be saved prior to adding PCI attendees. Would you like to save this meeting?",
                    okButtonText: "Yes",
                    cancelButtonText: "No"
                }).then(function (result) {
                    if (result) {
                        saveMeeting("profiles/profiles-page", false);
                    }
                });
            } else if (platform.isIOS) {
                dialogs.action({
                    message: "A new meeting must be saved prior to adding PCI attendees. Would you like to save this meeting?",
                    cancelButtonText: "Cancel",
                    actions: ["Save"]
                }).then(function (result) {
                    if (result === "Save") {
                        saveMeeting("profiles/profiles-page", true);
                    }
                });
            }
        } else {
            pageData.relationalType = "meeting";
            pageData.relationalId = pageData.meetingId;
            
            const navigationEntry = {
                moduleName: "profiles/profiles-page",
                context: pageData,
                clearHistory: false
            };

            frameModule.topmost().navigate(navigationEntry);
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutStaffAttendeesTap(args) {
    try {
        collapseMeetingDate();

        const navigationEntry = {
            moduleName: "meetings/meeting/staffattendees/staffattendees-page",
            context: pageData,
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onSaveTap(args) {
    try {
        collapseMeetingDate();

        saveMeeting(null, false);
    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function saveMeeting(moduleName, isAttendees) {
    var isAdd = false;

    if (pageData.meetingId === null || pageData.meetingId === 0) {
        isAdd = true;
    }

    http.request({
        url: global.apiBaseServiceUrl + "insertupdatemeeting",
        method: "POST",
        headers: { "Content-Type": "application/json", "Authorization": global.token },
        content: JSON.stringify(pageData)
    }).then(function (response) {
        var result = response.content.toString();
        var data = JSON.parse(result);
        
        if (data.MeetingId !== null)
        {
            if (isAdd) {
                if (pageData.assignmentId !== null && pageData.assignmentId !== 0) {
                    global.refreshAssignments = true;
                }
            }

            if (moduleName === null) {
                pageData.meetingId = data.MeetingId;

                frameModule.topmost().goBack();
            } else {
                pageData.meetingId = data.MeetingId;

                //if (isAttendees) {
                    pageData.relationalType = "meeting";
                    pageData.relationalId = pageData.meetingId; 
                //}
                
                const navigationEntry = {
                    moduleName: moduleName,
                    context: pageData,
                    clearHistory: false
                };

                frameModule.topmost().navigate(navigationEntry);
            }
        } else {
            dialogs.alert("There was an error saving the meeting.");
        }
        
    }, function (e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    });
}

function dateConverter(value, format) {
    let result = format;

    const day = value.getDate();

    result = result.replace("DD", day < 10 ? `0${day}` : day);

    const month = value.getMonth() + 1;

    result = result.replace("MM", month < 10 ? `0${month}` : month);
    result = result.replace("YYYY", value.getFullYear());

    return result;
};

function collapseMeetingDate() {
    var meetingDateGridLayout = page.getViewById("meetingDateGridLayout");

    meetingDateGridLayout.visibility = "collapse";

    page.addCss("#meetingDateLabel {color: #666;}");
}

exports.onNavigatingTo = onNavigatingTo;
exports.onLoaded = onLoaded;
exports.onStackLayoutMeetingDateTap = onStackLayoutMeetingDateTap;
exports.onStackLayoutVenueTypeTap = onStackLayoutVenueTypeTap;
exports.onStackLayoutOfferedToMembersTap = onStackLayoutOfferedToMembersTap;
exports.onStackLayoutNotesTap = onStackLayoutNotesTap;
exports.onStackLayoutFollowUpTap = onStackLayoutFollowUpTap;
exports.onStackLayoutInitiativesTap = onStackLayoutInitiativesTap;
exports.onStackLayoutSurveysTap = onStackLayoutSurveysTap;
exports.onStackLayoutLegislatorTap = onStackLayoutLegislatorTap;
exports.onStackLayoutAttendeeTypeTap = onStackLayoutAttendeeTypeTap;
exports.onStackLayoutMeetingLocationTap = onStackLayoutMeetingLocationTap;
exports.onStackLayoutPciAttendeesTap = onStackLayoutPciAttendeesTap;
exports.onStackLayoutStaffAttendeesTap = onStackLayoutStaffAttendeesTap;
exports.onBackTap = onBackTap;
exports.onSaveTap = onSaveTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/meeting-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/meeting-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/meeting-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" loaded=\"onLoaded\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n        <ActionItem tap=\"onSaveTap\" ios.systemIcon=\"3\" android.systemIcon=\"ic_menu_save\" ios.position=\"right\" />\n    </ActionBar>\n\n    <ScrollView>\n        <StackLayout verticalAlignment=\"top\">\n            <StackLayout verticalAlignment=\"top\" class=\"list-view-section-blank\">\n                <Label text=\"\" verticalAlignment=\"bottom\" />\n            </StackLayout>\n            <StackLayout verticalAlignment=\"bottom\" class=\"list-view-section-header\">\n                <Label text=\"MEETING INFORMATION\" verticalAlignment=\"bottom\" />\n            </StackLayout>\n            <StackLayout tap=\"onStackLayoutMeetingDateTap\">\n                <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item-form\" verticalAlignment=\"middle\">\n                    <Label row=\"0\" col=\"0\" text=\"Meeting Date\" class=\"list-view-item-left\" />\n                    <Label id=\"meetingDateLabel\" row=\"0\" col=\"1\" text=\"{{ meetingDate | dateConverter(dateFormat) }}\" class=\"list-view-item-right\" />\n                </GridLayout>\n            </StackLayout>\n            <GridLayout id=\"meetingDateGridLayout\" columns=\"*\" rows=\"auto\" class=\"list-view-item-form\" visibility=\"collapse\">\n                <DatePicker id=\"meetingDateDatePicker\" row=\"0\" col=\"0\" date=\"{{ meetingDate }}\" horizontalAlignment=\"center\" class=\"list-view-item-picker\"></DatePicker>\n            </GridLayout>\n            <StackLayout tap=\"onStackLayoutVenueTypeTap\">\n                <GridLayout columns=\"auto, *, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                    <Label row=\"0\" col=\"0\" text=\"Venue\" class=\"list-view-item-left\" />\n                    <Label id=\"venueTypeLabel\" row=\"0\" col=\"1\" text=\"{{ venueType }}\" class=\"list-view-item-right\" />\n                    <Label row=\"0\" col=\"2\" text=\"&#xf105;\" class=\"fn-list-view-item\" />\n                </GridLayout>\n            </StackLayout>\n            <StackLayout tap=\"onStackLayoutOfferedToMembersTap\">\n                <GridLayout columns=\"auto, *, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                    <Label row=\"0\" col=\"0\" text=\"Offered to APCIA Members?\" class=\"list-view-item-left\" />\n                    <Label id=\"offeredToMembersLabel\" row=\"0\" col=\"1\" text=\"\" class=\"list-view-item-right\" />\n                    <Label row=\"0\" col=\"2\" text=\"&#xf105;\" class=\"fn-list-view-item\" />\n                </GridLayout>\n            </StackLayout>\n            <StackLayout tap=\"onStackLayoutNotesTap\">\n                <GridLayout columns=\"auto, *, auto\" rows=\"auto\" class=\"list-view-item-form-bottom\">\n                    <Label row=\"0\" col=\"0\" text=\"Notes\" class=\"list-view-item-left\" />\n                    <Label id=\"notesLabel\" row=\"0\" col=\"1\" text=\"{{ notes | limitText(30) }}\" class=\"list-view-item-right\" />\n                    <Label row=\"0\" col=\"2\" text=\"&#xf105;\" class=\"fn-list-view-item\" />\n                </GridLayout>\n            </StackLayout>\n            <!-- <GridLayout columns=\"*\" rows=\"*\" class=\"list-view-item-form-bottom\">\n                <TextView row=\"0\" col=\"0\" text=\"{{ notes }}\" hint=\"Notes\" class=\"list-view-item-right\" />\n            </GridLayout> -->\n            <StackLayout verticalAlignment=\"bottom\" class=\"list-view-section-header\">\n                <Label text=\"FOLLOW UP INFORMATION\" verticalAlignment=\"bottom\" />\n            </StackLayout>\n            <StackLayout tap=\"onStackLayoutFollowUpTap\">\n                <GridLayout columns=\"auto, *, auto\" rows=\"auto\" class=\"list-view-item-form-bottom\">\n                    <Label id=\"followUpTitle\" row=\"0\" col=\"0\" text=\"\" class=\"list-view-item-left\" />\n                    <Label id=\"followUpLabel\" row=\"0\" col=\"1\" text=\"\" class=\"list-view-item-right\" />\n                    <Label row=\"0\" col=\"2\" text=\"&#xf105;\" class=\"fn-list-view-item\" />\n                </GridLayout>\n            </StackLayout>\n            <StackLayout verticalAlignment=\"bottom\" class=\"list-view-section-header\">\n                <Label text=\"RELATED INFORMATION\" verticalAlignment=\"bottom\" />\n            </StackLayout>\n            <StackLayout tap=\"onStackLayoutInitiativesTap\">\n                <GridLayout columns=\"auto, *, auto\" rows=\"*\" class=\"list-view-item-form\">\n                    <Label row=\"0\" col=\"0\" text=\"Initiatives\" class=\"list-view-item-left\" />\n                    <Label id=\"initiativesLabel\" row=\"0\" col=\"1\" text=\"{{ pciInitiatives | limitText(25) }}\" class=\"list-view-item-right\" />\n                    <Label row=\"0\" col=\"2\" text=\"&#xf105;\" class=\"fn-list-view-item\" />\n                </GridLayout>\n            </StackLayout>\n            <StackLayout tap=\"onStackLayoutSurveysTap\">\n                <GridLayout columns=\"auto, *, auto\" rows=\"*\" class=\"list-view-item-form-bottom\">\n                    <Label row=\"0\" col=\"0\" text=\"Surveys\" class=\"list-view-item-left\" />\n                    <Label id=\"surveysLabel\" row=\"0\" col=\"1\" text=\"{{ surveys | limitText(25) }}\" class=\"list-view-item-right\" />\n                    <Label row=\"0\" col=\"2\" text=\"&#xf105;\" class=\"fn-list-view-item\" />\n                </GridLayout>\n            </StackLayout>\n            <StackLayout verticalAlignment=\"bottom\" class=\"list-view-section-header\">\n                <Label text=\"ATTENDEE INFORMATION\" verticalAlignment=\"bottom\" />\n            </StackLayout>\n            <!-- <StackLayout tap=\"onStackLayoutLegislatorTap\"> -->\n                <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                    <Label row=\"0\" col=\"0\" text=\"Legislator\" class=\"list-view-item-left\" verticalAlignment=\"middle\" />\n                    <Label id=\"legislatorLabel\" row=\"0\" col=\"1\" text=\"{{ fullName }}\" class=\"list-view-item-right\" />\n                    <!-- <Label row=\"0\" col=\"2\" text=\"&#xf105;\" class=\"fn-list-view-item\" /> -->\n                </GridLayout>\n            <!-- </StackLayout> -->\n            <StackLayout tap=\"onStackLayoutAttendeeTypeTap\">\n                <GridLayout columns=\"auto, *, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                    <Label row=\"0\" col=\"0\" text=\"Cong. Office Attendees\" class=\"list-view-item-left\" />\n                    <Label id=\"attendeeTypeLabel\" row=\"0\" col=\"1\" text=\"{{ attendeeType }}\" class=\"list-view-item-right\" />\n                    <Label row=\"0\" col=\"2\" text=\"&#xf105;\" class=\"fn-list-view-item\" />\n                </GridLayout>\n            </StackLayout>\n            <StackLayout tap=\"onStackLayoutMeetingLocationTap\">\n                <GridLayout columns=\"auto, *, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                    <Label row=\"0\" col=\"0\" text=\"Type\" class=\"list-view-item-left\" />\n                    <Label id=\"meetingLocationLabel\" row=\"0\" col=\"1\" text=\"{{ location }}\" class=\"list-view-item-right\" />\n                    <Label row=\"0\" col=\"2\" text=\"&#xf105;\" class=\"fn-list-view-item\" />\n                </GridLayout>\n            </StackLayout>\n            <StackLayout tap=\"onStackLayoutPciAttendeesTap\">\n                <GridLayout columns=\"auto, *, auto\" rows=\"*\" class=\"list-view-item-form\">\n                    <Label row=\"0\" col=\"0\" text=\"APCIA Attendees\" class=\"list-view-item-left\" />\n                    <Label id=\"pciAttendeesLabel\" row=\"0\" col=\"1\" text=\"{{ pciAttendees | limitText(25) }}\" class=\"list-view-item-right\" />\n                    <Label row=\"0\" col=\"2\" text=\"&#xf105;\" class=\"fn-list-view-item\" />\n                </GridLayout>\n            </StackLayout>\n            <StackLayout tap=\"onStackLayoutStaffAttendeesTap\">\n                <GridLayout columns=\"auto, *, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                    <Label row=\"0\" col=\"0\" text=\"Cong. Staff Attendees\" class=\"list-view-item-left\" />\n                    <Label id=\"staffAttendeesLabel\" row=\"0\" col=\"1\" text=\"{{ legislatorStaffAttendees | limitText(20) }}\" class=\"list-view-item-right\" />\n                    <Label row=\"0\" col=\"2\" text=\"&#xf105;\" class=\"fn-list-view-item\" />\n                </GridLayout>\n            </StackLayout>\n            <!-- <GridLayout columns=\"*\" rows=\"*\" class=\"list-view-item-form-bottom\">\n                <TextView row=\"0\" col=\"0\" text=\"{{ legislatorStaffAttendees }}\" hint=\"Congressional Staff Attendees\" class=\"list-view-item-right\" />\n            </GridLayout> -->\n        </StackLayout>\n    </ScrollView>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/meeting-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./meetings/meeting/meeting-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/meeting-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function MeetingViewModel() {
    const viewModel = ObservableModule.fromObject({
        meetingId: null,
        meetingDate: null,
        venueTypeId: null,
        venueType: null,
        attendeeTypeId: null,
        attendeeType: null,
        lobbyistId: null,
        lobbyist: null,
        legislatorId: null,
        fullName: null,
        name: null,
        pciInitiatives: null,
        surveys: null,
        pciAttendees: null,
        primaryOfficeContact: null,
        meetingLocationId: null,
        location: null,
        legislatorStaffAttendees: null,
        followUpNeeded: null,
        followUpDate: null,
        followUpNotes: null,
        creatorId: null,
        notes: null,
        initiativeId: null,
        surveyId: null,
        assignmentId: null,

        load: function(meetingId) {
            return new Promise((resolve, reject) => {
                return http.request({
                    url: global.apiBaseServiceUrl + "meeting?meetingId=" + meetingId,
                    method: "GET",
                    headers: { "Content-Type": "application/json", "Authorization": global.token }
                }).then(function (response) {
                    var result = response.content.toString();
                    var data = JSON.parse(result);
                    var meetingDate;
                    var followUpDate;
                    
                    meetingDate = new Date(parseInt(data.MeetingDate.substring(data.MeetingDate.indexOf("/Date(") + 6, data.MeetingDate.indexOf(")/"))));

                    if (data.FollowUpDate === null || data.FollowUpDate.length === 0) {
                        followUpDate = null;
                    } else {
                        followUpDate = new Date(parseInt(data.FollowUpDate.substring(data.FollowUpDate.indexOf("/Date(") + 6, data.FollowUpDate.indexOf(")/"))));
                    }

                    viewModel.meetingId = data.MeetingId,
                    viewModel.meetingDate = meetingDate,
                    viewModel.venueTypeId = data.VenueTypeId,
                    viewModel.venueType = data.VenueType,
                    viewModel.attendeeTypeId = data.AttendeeTypeId,
                    viewModel.attendeeType = data.AttendeeType,
                    viewModel.lobbyistId = data.LobbyistId,
                    viewModel.lobbyist = data.Lobbyist,
                    viewModel.legislatorId = data.LegislatorId,
                    viewModel.fullName = data.FullName,
                    viewModel.name = data.Name,
                    viewModel.pciInitiatives = data.PciInitiatives,
                    viewModel.surveys = data.Surveys,
                    viewModel.pciAttendees = data.PciAttendees,
                    viewModel.primaryOfficeContact = data.PrimaryOfficeContact,
                    viewModel.meetingLocationId = data.MeetingLocationId,
                    viewModel.location = data.Location,
                    viewModel.legislatorStaffAttendees = data.LegislatorStaffAttendees,
                    viewModel.followUpNeeded = data.FollowUpNeeded,
                    viewModel.followUpDate = followUpDate,
                    viewModel.followUpNotes = data.FollowUpNotes,
                    viewModel.creatorId = data.CreatorId,
                    viewModel.notes = data.Notes,
                    viewModel.initiativeId = data.InitiativeId,
                    viewModel.surveyId = data.SurveyId,
                    viewModel.assignmentId = data.AssignmentId;

                    resolve("SUCCESS");

                }, function (e) {
                    dialogs.alert({
                        title: "Error",
                        message: e.toString(),
                        okButtonText: "OK"
                    });

                    reject("FAILURE");
                });
            })
        }
    });

    return viewModel;
}

module.exports = MeetingViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/meeting-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/meeting-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/meetinglocation/meetinglocation-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const MeetingLocationViewModel = __webpack_require__("./meetings/meeting/meetinglocation/meetinglocation-view-model.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

var page;
var navigationContext;
var meetingLocationList = new MeetingLocationViewModel([]);

var meetingLocationIndex = 0;

var pageData = new ObservableModule.fromObject({
    boundData: null,
    meetingLocationIndex: meetingLocationIndex,
    meetingLocationList: null,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        page.actionBar.title = "Type";

        navigationContext = page.navigationContext;

        pageData.boundData = navigationContext;

        if (global.meetingLocationList === undefined) {
            pageData.set("isLoading", true);

            meetingLocationList.load().then(function () {
                global.meetingLocationList = meetingLocationList;

                pageData.meetingLocationList = global.meetingLocationList;

                meetingLocationIndex = 0;

                if (pageData.boundData.meetingLocationId !== null && pageData.boundData.meetingLocationId.toString().length > 0) {
                    var i;

                    for (i = 0; i < pageData.meetingLocationList.List.length; i++) {
                        if (pageData.meetingLocationList.List.getItem(i).meetingLocationId === pageData.boundData.meetingLocationId) {
                            meetingLocationIndex = i;
                        }
                    }
                }

                pageData.meetingLocationIndex = meetingLocationIndex;

                pageData.set("isLoading", false);

                page.bindingContext = pageData;
            });
        } else {
            pageData.meetingLocationList = global.meetingLocationList;
            
            meetingLocationIndex = 0;

            if (pageData.boundData.meetingLocationId !== null && pageData.boundData.meetingLocationId.toString().length > 0) {
                var i;

                for (i = 0; i < pageData.meetingLocationList.List.length; i++) {
                    if (pageData.meetingLocationList.List.getItem(i).meetingLocationId === pageData.boundData.meetingLocationId) {
                        meetingLocationIndex = i;
                    }
                }
            }

            pageData.meetingLocationIndex = meetingLocationIndex;

            page.bindingContext = pageData;
        }
    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onLoaded(args) {
    try {
        var meetingLocationListPicker = page.getViewById("meetingLocationListPicker");
        
        meetingLocationListPicker.on("selectedIndexChange", function(args) {
            var meetingLocationItem = pageData.meetingLocationList.List.getItem(args.object.selectedIndex);
            //dialogs.alert(meetingLocationItem.meetingLocationId + ": " + meetingLocationItem.meetingLocation);
            pageData.boundData.meetingLocationId = meetingLocationItem.meetingLocationId;
            pageData.boundData.location = meetingLocationItem.meetingLocation;
        });

    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onLoaded = onLoaded;
exports.onBackTap = onBackTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/meetinglocation/meetinglocation-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/meetinglocation/meetinglocation-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/meetinglocation/meetinglocation-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" loaded=\"onLoaded\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, auto, *\">\n        <StackLayout row=\"0\" col=\"0\" class=\"list-view-section-header\"></StackLayout>\n        <GridLayout row=\"1\" col=\"0\" columns=\"*\" rows=\"auto\" class=\"list-view-item-form\">\n            <ListPicker id=\"meetingLocationListPicker\" row=\"0\" col=\"0\" items=\"{{ meetingLocationList.Items }}\" selectedIndex=\"{{ meetingLocationIndex }}\" \n                horizontalAlignment=\"center\" class=\"list-view-item-picker\"></ListPicker>\n        </GridLayout>\n        <StackLayout row=\"2\" col=\"0\" height=\"100%\" class=\"list-view-section-header\"></StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"3\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/meetinglocation/meetinglocation-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./meetings/meeting/meetinglocation/meetinglocation-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/meetinglocation/meetinglocation-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js").Observable;
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function MeetingLocationViewModel() {
    const viewModel = new ObservableModule();
    viewModel.Items = new ObservableArray();
    viewModel.List = new ObservableArray();

    viewModel.load = function() {
        return http.request({
            url: global.apiBaseServiceUrl + "meetinglocations",
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(meetingLocation) {
                viewModel.Items.push(
                    meetingLocation.Location
                );

                viewModel.List.push({
                    meetingLocationId: meetingLocation.MeetingLocationId,
                    meetingLocation: meetingLocation.Location
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.Items.length) {
            viewModel.Items.pop();
        }

        while (viewModel.List.length) {
            viewModel.List.pop();
        }
    };
    
    return viewModel;
}

module.exports = MeetingLocationViewModel;; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/meetinglocation/meetinglocation-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/meetinglocation/meetinglocation-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/notes/notes-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

var page;
var navigationContext;

function onNavigatingTo(args) {
    try {
        page = args.object;
        page.actionBar.title = "Notes";

        navigationContext = page.navigationContext;

        page.bindingContext = navigationContext;

    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        dismissKeyboard()

        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onGridLayoutTap(args) {
    try {
        dismissKeyboard()
    } catch(e) {
        dialogs.alert(e);
    }
}

function dismissKeyboard() {
    if (platform.isAndroid) {
        var notes = page.getViewById("notes");

        notes.dismissSoftInput();
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onBackTap = onBackTap;
exports.onGridLayoutTap = onGridLayoutTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/notes/notes-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/notes/notes-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/notes/notes-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"*\" class=\"list-view-item-form\" tap=\"onGridLayoutTap\">\n        <TextView id=\"notes\" row=\"0\" col=\"0\" text=\"{{ notes }}\" hint=\"Notes\" class=\"list-view-item-textview\" height=\"100%\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/notes/notes-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./meetings/meeting/notes/notes-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/offeredtomembers/offeredtomembers-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

var page;
var navigationContext;

function onNavigatingTo(args) {
    try {
        page = args.object;
        page.actionBar.title = "APCIA Members";

        navigationContext = page.navigationContext;

        page.bindingContext = navigationContext;

    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onBackTap = onBackTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/offeredtomembers/offeredtomembers-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/offeredtomembers/offeredtomembers-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/offeredtomembers/offeredtomembers-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, auto, *\">\n        <StackLayout row=\"0\" col=\"0\" class=\"list-view-section-header\"></StackLayout>\n        <StackLayout row=\"1\" col=\"0\">\n            <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form-bottom\">\n                <Label row=\"0\" col=\"0\" text=\"Offered to APCIA Members?\" class=\"list-view-item-left\" />\n                <Switch row=\"0\" col=\"1\" checked=\"{{ offeredToMembers }}\" horizontalAlignment=\"right\" class=\"switch\" />\n            </GridLayout>\n        </StackLayout>\n        <StackLayout row=\"2\" col=\"0\" style=\"background-color: #eee;\"></StackLayout>\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/offeredtomembers/offeredtomembers-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./meetings/meeting/offeredtomembers/offeredtomembers-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/staffattendees/staffattendees-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

var page;
var navigationContext;

function onNavigatingTo(args) {
    try {
        page = args.object;
        page.actionBar.title = "Cong. Staff Attendees";

        page.bindingContext = page.navigationContext;

    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        dismissKeyboard()

        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onGridLayoutTap(args) {
    try {
        dismissKeyboard()
    } catch(e) {
        dialogs.alert(e);
    }
}

function dismissKeyboard() {
    if (platform.isAndroid) {
        var legislatorStaffAttendees = page.getViewById("legislatorStaffAttendees");

        legislatorStaffAttendees.dismissSoftInput();
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onBackTap = onBackTap;
exports.onGridLayoutTap = onGridLayoutTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/staffattendees/staffattendees-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/staffattendees/staffattendees-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/staffattendees/staffattendees-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"*\" class=\"list-view-item-form\" tap=\"onGridLayoutTap\">\n        <TextView id=\"legislatorStaffAttendees\" row=\"0\" col=\"0\" text=\"{{ legislatorStaffAttendees }}\" hint=\"Congressional Staff Attendees\" class=\"list-view-item-textview\" height=\"100%\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/staffattendees/staffattendees-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./meetings/meeting/staffattendees/staffattendees-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/venuetype/venuetype-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const VenueTypeViewModel = __webpack_require__("./meetings/meeting/venuetype/venuetype-view-model.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

var page;
var navigationContext;
var venueTypeList = new VenueTypeViewModel([]);

var venueTypeIndex = 0;

var pageData = new ObservableModule.fromObject({
    boundData: null,
    venueTypeIndex: venueTypeIndex,
    venueTypeList: null,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        page.actionBar.title = "Venue";

        navigationContext = page.navigationContext;

        pageData.boundData = navigationContext;

        if (global.venueTypeList === undefined) {
            pageData.set("isLoading", true);

            venueTypeList.load().then(function () {
                global.venueTypeList = venueTypeList;

                pageData.venueTypeList = global.venueTypeList;

                venueTypeIndex = 0;

                if (pageData.boundData.venueTypeId !== null && pageData.boundData.venueTypeId.toString().length > 0) {
                    var i;

                    for (i = 0; i < pageData.venueTypeList.List.length; i++) {
                        if (pageData.venueTypeList.List.getItem(i).venueTypeId === pageData.boundData.venueTypeId) {
                            venueTypeIndex = i;
                        }
                    }
                }

                pageData.venueTypeIndex = venueTypeIndex;

                pageData.set("isLoading", false);

                page.bindingContext = pageData;
            });
        } else {
            pageData.venueTypeList = global.venueTypeList;
            
            venueTypeIndex = 0;

            if (pageData.boundData.venueTypeId !== null && pageData.boundData.venueTypeId.toString().length > 0) {
                var i;

                for (i = 0; i < pageData.venueTypeList.List.length; i++) {
                    if (pageData.venueTypeList.List.getItem(i).venueTypeId === pageData.boundData.venueTypeId) {
                        venueTypeIndex = i;
                    }
                }
            }

            pageData.venueTypeIndex = venueTypeIndex;

            page.bindingContext = pageData;
        }
    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onLoaded(args) {
    try {
        var venueTypeListPicker = page.getViewById("venueTypeListPicker");
        
        venueTypeListPicker.on("selectedIndexChange", function(args) {
            var venueTypeItem = pageData.venueTypeList.List.getItem(args.object.selectedIndex);
            //dialogs.alert(venueTypeItem.venueTypeId + ": " + venueTypeItem.venueType);
            pageData.boundData.venueTypeId = venueTypeItem.venueTypeId;
            pageData.boundData.venueType = venueTypeItem.venueType;
        });

    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onLoaded = onLoaded;
exports.onBackTap = onBackTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/venuetype/venuetype-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/venuetype/venuetype-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/venuetype/venuetype-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" loaded=\"onLoaded\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, auto, *\">\n        <StackLayout row=\"0\" col=\"0\" class=\"list-view-section-header\"></StackLayout>\n        <GridLayout row=\"1\" col=\"0\" columns=\"*\" rows=\"auto\" class=\"list-view-item-form\">\n            <ListPicker id=\"venueTypeListPicker\" row=\"0\" col=\"0\" items=\"{{ venueTypeList.Items }}\" selectedIndex=\"{{ venueTypeIndex }}\" \n                horizontalAlignment=\"center\" class=\"list-view-item-picker\" width=\"100%\"></ListPicker>\n        </GridLayout>\n        <StackLayout row=\"2\" col=\"0\" height=\"100%\" class=\"list-view-section-header\"></StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"3\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/venuetype/venuetype-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./meetings/meeting/venuetype/venuetype-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meeting/venuetype/venuetype-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js").Observable;
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function VenueTypeViewModel() {
    const viewModel = new ObservableModule();
    viewModel.Items = new ObservableArray();
    viewModel.List = new ObservableArray();

    viewModel.load = function() {
        return http.request({
            url: global.apiBaseServiceUrl + "meetingvenuetypes",
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(venueType) {
                viewModel.Items.push(
                    venueType.VenueType
                );

                viewModel.List.push({
                    venueTypeId: venueType.VenueTypeId,
                    venueType: venueType.VenueType
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.Items.length) {
            viewModel.Items.pop();
        }

        while (viewModel.List.length) {
            viewModel.List.pop();
        }
    };
    
    return viewModel;
}

module.exports = VenueTypeViewModel;; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meeting/venuetype/venuetype-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meeting/venuetype/venuetype-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meetings-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const MeetingsViewModel = __webpack_require__("./meetings/meetings-view-model.js");
// const LegislatorViewModel = require("./meeting/legislator/legislator-view-model");
const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var gestures = __webpack_require__("../node_modules/@nativescript/core/ui/gestures/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

const MIN_X = -80;
const MAX_X = 0;
const THRESHOLD = 0.5;

var swipeOpen = false;
var swipedItem;

var isScrolling = false;
var isSwiping = false;

var page;
var navigationContext;

var meetingsList = new MeetingsViewModel([]);
// var legislatorList = new LegislatorViewModel([]);

var pageData = new ObservableModule.fromObject({
    meetingsList: meetingsList,
    reference: "tab",
    recentMeetings: "Y",
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;

        page.actionBar.title = "Meetings";
        
        navigationContext = page.navigationContext;

        if (navigationContext.reference === "tab") {
            pageData.reference = "tab";
        } else {
            pageData.reference = "nav";
        }

        if (args.isBackNavigation) {
            meetingsList.empty();

            pageData.set("isLoading", true);

            meetingsList.load(pageData.reference, navigationContext.legislatorId, pageData.recentMeetings).then(function () {
                pageData.set("isLoading", false);

                page.bindingContext = pageData;
            });
        } else {
            // Since the Page contains a SegmentedBar,
            // the selectedIndexChanged event will perform the initial load of the ListView.
            page.bindingContext = pageData;
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSelectedIndexChanged(args) {
    try {
        if (args.newIndex === 0) {
            pageData.recentMeetings = "Y";
        }
        else {
            pageData.recentMeetings = "N";
        }

        meetingsList.empty();

        pageData.set("isLoading", true);

        meetingsList.load(pageData.reference, navigationContext.legislatorId, pageData.recentMeetings).then(function () {
            // NEED THE FOLLOWING COMMENTED CODE ONCE WE ALLOW THE LEGISLATOR FIELD TO BE EDITABLE.
            // if (global.legislatorList === undefined) {
            //     legislatorList.load().then(function () {
            //         global.legislatorList = legislatorList;

            //         pageData.set("isLoading", false);

            //         page.bindingContext = pageData;
            //     });
            // } else {
                pageData.set("isLoading", false);

                page.bindingContext = pageData;
            // }
        });
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onItemLoading(args) {
    if (platform.isIOS) {
        var cell = args.ios;

        cell.selectionStyle = UITableViewCellSelectionStyle.UITableViewCellSelectionStyleNone;
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onAddTap(args) {
    try
    {
        var model = {
            meetingId: 0,
            meetingDate: new Date(),
            venueTypeId: 1,
            venueType: "In Person",
            attendeeTypeId: 1,
            attendeeType: "Staff Only",
            lobbyistId: global.personId,
            lobbyist: null,
            legislatorId: navigationContext.legislatorId,
            fullName: navigationContext.fullName,
            name: null,
            pciInitiatives: null,
            surveys: null,
            pciAttendees: global.currentUser,
            primaryOfficeContact: null,
            meetingLocationId: 2,
            location: "Meeting in DC",
            legislatorStaffAttendees: null,
            followUpNeeded: false,
            followUpDate: null,
            followUpNotes: null,
            creatorId: global.personId,
            notes: null,
            initiativeId: null,
            surveyId: null,
            assignmentId: null
        }

        const navigationEntry = {
            moduleName: "meetings/meeting/meeting-page",
            context: model,
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onItemTap(args) {
    try {
        if (platform.isIOS) {
            if (swipeOpen) {
                swipedItem.animate({
                    translate: { x: 0, y: 0 },
                    duration: 200
                });

                swipeOpen = false;
            } else {
                var view = args.view;

                model = view.bindingContext;

                const navigationEntry = {
                    moduleName: "meetings/meeting/meeting-page",
                    context: model,
                    clearHistory: false
                };

                frameModule.topmost().navigate(navigationEntry);
            }
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onDeleteClick(args) {
    if (platform.isAndroid) {
        dialogs.confirm({
            title: "Delete",
            message: "Meeting will be deleted. Delete?",
            okButtonText: "Yes",
            cancelButtonText: "No"
        }).then(function (result) {
            if (result) {
                var view = args.object;

                http.request({
                    url: global.apiBaseServiceUrl + "deletemeeting",
                    method: "POST",
                    headers: { "Content-Type": "application/json", "Authorization": global.token },
                    content: JSON.stringify(view.bindingContext)
                }).then(function (response) {
                    meetingsList.empty();
        
                    pageData.set("isLoading", true);
        
                    meetingsList.load(pageData.reference, navigationContext.legislatorId, pageData.recentMeetings).then(function () {
                            pageData.set("isLoading", false);
        
                            page.bindingContext = pageData;
                    });
                    
                }, function (e) {
                    dialogs.alert({
                        title: "Error",
                        message: e.toString(),
                        okButtonText: "OK"
                    });
                });
            }
        });
    } else if (platform.isIOS) {
        dialogs.action({
            message: "Would you like to delete this meeting?",
            cancelButtonText: "Cancel",
            actions: ["Delete"]
        }).then(function (result) {
            if (result === "Delete") {
                var view = args.object;

                http.request({
                    url: global.apiBaseServiceUrl + "deletemeeting",
                    method: "POST",
                    headers: { "Content-Type": "application/json", "Authorization": global.token },
                    content: JSON.stringify(view.bindingContext)
                }).then(function (response) {
                    meetingsList.empty();
        
                    pageData.set("isLoading", true);
        
                    meetingsList.load(pageData.reference, navigationContext.legislatorId, pageData.recentMeetings).then(function () {
                            pageData.set("isLoading", false);
        
                            page.bindingContext = pageData;
                    });
                    
                }, function (e) {
                    dialogs.alert({
                        title: "Error",
                        message: e.toString(),
                        okButtonText: "OK"
                    });
                });
            }
        });
    }

    if (swipeOpen) {
        swipedItem.animate({
            translate: { x: 0, y: 0 },
            duration: 200
        });

        swipeOpen = false;
    }
}

function onLayoutLoaded(args) {
    var layout = args.object;

    if (platform.isAndroid) {
        layout.on(gestures.GestureTypes.tap, function(args) {
            try {
                if (swipeOpen) {
                    swipedItem.animate({
                        translate: { x: 0, y: 0 },
                        duration: 200
                    });
    
                    swipeOpen = false;
                } else {
                    var view = args.view;
    
                    model = view.bindingContext;
    
                    const navigationEntry = {
                        moduleName: "meetings/meeting/meeting-page",
                        context: model,
                        clearHistory: false
                    };
    
                    frameModule.topmost().navigate(navigationEntry);
                }
            }
            catch(e)
            {
                dialogs.alert({
                    title: "Error",
                    message: e.toString(),
                    okButtonText: "OK"
                });
            }
        });
    }

    layout.on(gestures.GestureTypes.pan, function(args) {
        try {
            var layout = args.object;
            var view = args.view;

            if (swipeOpen && swipedItem !== undefined && swipedItem != layout) {
                swipedItem.animate({
                    translate: { x: 0, y: 0 },
                    duration: 50
                });
            }

            if (!isScrolling && !isSwiping) {
                if (Math.abs(args.deltaY) > Math.abs(args.deltaX)) {
                    isScrolling = true;
                    isSwiping = false;
                } else if (Math.abs(args.deltaX) > Math.abs(args.deltaY)) {
                    isScrolling = false;
                    isSwiping = true;
                }
            }

            if (isScrolling) {
                if (swipeOpen && swipedItem !== undefined) {
                    swipedItem.animate({
                        translate: { x: 0, y: 0 },
                        duration: 50
                    });
                }

                if (args.state === gestures.GestureStateTypes.ended) {
                    isScrolling = false;
                }
            } else if (isSwiping) {
                var meetingsListView = page.getViewById("meetingsListView");

                if (platform.isAndroid) {
                    meetingsListView.nativeView.requestDisallowInterceptTouchEvent(true);
                } else if (platform.isIOS) {
                    meetingsListView.ios.scrollEnabled = false;
                }

                swipeOpen = true;
                swipedItem = layout;

                var newX = layout.translateX + args.deltaX;

                if (newX >= MIN_X && newX <= MAX_X) {
                    layout.translateX = newX;
                }
                
                if (args.state === gestures.GestureStateTypes.ended && !(newX === MIN_X || newX === MAX_X)) {
                    // init our destination X coordinate to 0, in case neither THRESHOLD has been hit
                    let destX = 0;
                    
                    // if user hit or crossed the THESHOLD either way, let's finish in that direction
                    if (newX <= MIN_X * THRESHOLD) {
                        destX = MIN_X;
                    } else if (newX >= MAX_X * THRESHOLD) {
                        destX = MAX_X;
                    }
                    
                    layout.animate({
                        translate: { x: destX, y: 0 },
                        duration: 200
                    });

                    if (platform.isAndroid) {
                        meetingsListView.nativeView.requestDisallowInterceptTouchEvent(false);
                    } else if (platform.isIOS) {
                        meetingsListView.ios.scrollEnabled = true;
                    }

                    isSwiping = false;
                }
            }
        } catch(e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        }
    });
}

exports.onNavigatingTo = onNavigatingTo;
exports.onSelectedIndexChanged = onSelectedIndexChanged;
exports.onItemLoading = onItemLoading;
exports.onBackTap = onBackTap;
exports.onAddTap = onAddTap;
exports.onItemTap = onItemTap;
exports.onLayoutLoaded = onLayoutLoaded;
exports.onDeleteClick = onDeleteClick;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meetings-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meetings-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meetings-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" visibility=\"{{ reference === 'tab' ? 'collapse' : 'visible' }}\" />\n        </android>\n        <ActionItem tap=\"onAddTap\" ios.systemIcon=\"4\" android.systemIcon=\"ic_menu_add\" ios.position=\"right\" \n            visibility=\"{{ reference === 'tab' ? 'collapse' : 'visible' }}\" />\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\">\n            <SegmentedBar class=\"segmented-bar\" selectedIndexChanged=\"onSelectedIndexChanged\">\n                <SegmentedBar.items>\n                    <SegmentedBarItem title=\"Recent Meetings\" />\n                    <SegmentedBarItem title=\"All Meetings\" />\n                </SegmentedBar.items>\n            </SegmentedBar>\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\">\n            <ListView id=\"meetingsListView\" items=\"{{ meetingsList }}\" itemLoading=\"onItemLoading\" itemTap=\"onItemTap\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <AbsoluteLayout>\n                        <!-- BACKGROUND: Swipe Actions -->\n                        <GridLayout columns=\"*, 80\" width=\"100%\"\n                            android:rows=\"{{ pciInitiatives.length > 0 &amp;&amp; legislatorStaffAttendees.length > 0 ? '89' : pciInitiatives.length > 0 || legislatorStaffAttendees.length > 0 ? '70' : '51' }}\"\n                            ios:rows=\"{{ pciInitiatives.length > 0 &amp;&amp; legislatorStaffAttendees.length > 0 ? '98' : pciInitiatives.length > 0 || legislatorStaffAttendees.length > 0 ? '78' : '58' }}\">\n                            <Label col=\"0\" />\n                            <GridLayout col=\"1\" columns=\"*\" rows=\"*, auto, auto, *\" tap=\"onDeleteClick\" class=\"swipe-icons red\">\n                                <Label row=\"0\" col=\"0\" text=\"\" />\n                                <Label row=\"1\" col=\"0\" text=\"&#xf1f8;\" class=\"tab-icon\" />\n                                <Label row=\"2\" col=\"0\" text=\"Delete\" class=\"tab-label\" />\n                                <Label row=\"3\" col=\"0\" text=\"\" />\n                            </GridLayout>\n                        </GridLayout>\n                        <!-- FOREGROUND: List View Item Details -->\n                        <StackLayout loaded=\"onLayoutLoaded\" backgroundColor=\"white\" width=\"100%\">\n                            <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                                <StackLayout row=\"0\" col=\"0\">\n                                    <Label text=\"{{ name }}\" class=\"list-view-item-main-top\" />\n                                    <Label text=\"{{ meetingDate | dateConverter(dateFormat) }}\" class=\"list-view-item-main\" />\n                                    <Label text=\"{{ 'with ' + legislatorStaffAttendees }}\" visibility=\"{{ legislatorStaffAttendees.length > 0 ? 'visible' : 'collapse' }}\" class=\"list-view-item-sub\" />\n                                    <Label text=\"{{ 'on ' + pciInitiatives }}\" visibility=\"{{ pciInitiatives.length > 0 ? 'visible' : 'collapse' }}\" class=\"list-view-item-sub\" />\n                                </StackLayout>\n                                <Label row=\"0\" col=\"1\" text=\"&#xf105;\" class=\"fn-list-view-item\" verticalAlignment=\"middle\" />\n                            </GridLayout>\n                        </StackLayout>\n                    </AbsoluteLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"2\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meetings-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./meetings/meetings-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./meetings/meetings-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function MeetingsViewModel(items) {
    const viewModel = new ObservableArray(items);

    viewModel.load = function(reference, legislatorId, recentMeetings) {
        var requestUrl;

        if (reference === "tab") {
            requestUrl = global.apiBaseServiceUrl + "meetings?personId=" + global.personId + "&recentMeetings=" + recentMeetings;
        } else {
            if (global.isPci) {
                requestUrl = global.apiBaseServiceUrl + "meetings?legislatorId=" + legislatorId + "&recentMeetings=" + recentMeetings;
            } else {
                requestUrl = global.apiBaseServiceUrl + "meetings?personId=" + global.personId + "&legislatorId=" + legislatorId + "&recentMeetings=" + recentMeetings;
            }
        }

        return http.request({
            url: requestUrl,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token } //,
            //content: JSON.stringify({ filter: "", page: "1", pageSize: "20" })
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(meeting) {
                var meetingDate;
                // var legislatorStaffAttendees = meeting.LegislatorStaffAttendees;
                var pciInitiatives = meeting.PciInitiatives;
                var followUpDate;
                
                meetingDate = new Date(parseInt(meeting.MeetingDate.substring(meeting.MeetingDate.indexOf("/Date(") + 6, meeting.MeetingDate.indexOf(")/"))));

                // if (legislatorStaffAttendees.length > 0)
                // {
                //     legislatorStaffAttendees = "with " + legislatorStaffAttendees;
                // }

                if (pciInitiatives.length > 0)
                {
                    pciInitiatives = "on " + pciInitiatives
                }

                if (meeting.FollowUpDate === null || meeting.FollowUpDate.length === 0) {
                    followUpDate = null;
                } else {
                    followUpDate = new Date(parseInt(meeting.FollowUpDate.substring(meeting.FollowUpDate.indexOf("/Date(") + 6, meeting.FollowUpDate.indexOf(")/"))));
                }

                viewModel.push({
                    meetingId: meeting.MeetingId,
                    meetingDate: meetingDate,
                    venueTypeId: meeting.VenueTypeId,
                    venueType: meeting.VenueType,
                    offeredToMembers: meeting.OfferedToMembers,
                    attendeeTypeId: meeting.AttendeeTypeId,
                    attendeeType: meeting.AttendeeType,
                    lobbyistId: meeting.LobbyistId,
                    lobbyist: meeting.Lobbyist,
                    legislatorId: meeting.LegislatorId,
                    fullName: meeting.FullName,
                    name: meeting.Name,
                    pciInitiatives: meeting.PciInitiatives,
                    surveys: meeting.Surveys,
                    pciAttendees: meeting.PciAttendees,
                    primaryOfficeContact: meeting.PrimaryOfficeContact,
                    meetingLocationId: meeting.MeetingLocationId,
                    location: meeting.Location,
                    legislatorStaffAttendees: meeting.LegislatorStaffAttendees,
                    followUpNeeded: meeting.FollowUpNeeded,
                    followUpDate: followUpDate,
                    followUpNotes: meeting.FollowUpNotes,
                    creatorId: meeting.CreatorId,
                    notes: meeting.Notes,
                    initiativeId: meeting.InitiativeId,
                    surveyId: meeting.SurveyId,
                    assignmentId: meeting.AssignmentId
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = MeetingsViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./meetings/meetings-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./meetings/meetings-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profile/familiaritylevel-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js").Observable;
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function FamiliarityLevelViewModel() {
    const viewModel = new ObservableModule();
    viewModel.Items = new ObservableArray();
    viewModel.List = new ObservableArray();

    viewModel.load = function() {
        return http.request({
            url: global.apiBaseServiceUrl + "familiaritylevels",
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(familiarityLevel) {
                viewModel.Items.push(
                    familiarityLevel.Level
                );

                viewModel.List.push({
                    familiarityLevelId: familiarityLevel.FamiliarityLevelId,
                    familiarityLevel: familiarityLevel.Level
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.Items.length) {
            viewModel.Items.pop();
        }

        while (viewModel.List.length) {
            viewModel.List.pop();
        }
    };
    
    return viewModel;
}

module.exports = FamiliarityLevelViewModel;; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profile/familiaritylevel-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./profiles/profile/familiaritylevel-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profile/profile-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const RelationshipTypeViewModel = __webpack_require__("./profiles/profile/relationshiptype-view-model.js");
const FamiliarityLevelViewModel = __webpack_require__("./profiles/profile/familiaritylevel-view-model.js");
const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var email = __webpack_require__("../node_modules/nativescript-email/email.js");
var phone = __webpack_require__("../node_modules/nativescript-phone/index.js");

var page;
var navigationContext;

var relationshipList = new RelationshipTypeViewModel([]);
var familiarityList = new FamiliarityLevelViewModel([]);

var relationshipIndex = 0;
var familiarityIndex = 0;

var pageData = new ObservableModule.fromObject({
    boundData: null,
    relationshipIndex: relationshipIndex,
    relationshipList: null,
    familiarityIndex: familiarityIndex,
    familiarityList: null,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;

        navigationContext = page.navigationContext;

        page.actionBar.title = "Profile";

        if (args.isBackNavigation) {
            var personDetails = page.getViewById("personDetails");
            var fullNameLabel = page.getViewById("fullNameLabel");
            var companyLabel = page.getViewById("companyLabel");
            var titleLabel = page.getViewById("titleLabel");
            var emailAddressButton = page.getViewById("emailAddressButton");
            var workPhoneButton = page.getViewById("workPhoneButton");
            var selectPerson = page.getViewById("selectPerson");
            var rightArrow = page.getViewById("rightArrow");

            if (pageData.boundData.personId !== null && pageData.boundData.personId !== 0) {
                fullNameLabel.text = pageData.boundData.fullName;
                companyLabel.text = pageData.boundData.company;
                titleLabel.text = pageData.boundData.title;
                emailAddressButton.text = pageData.boundData.emailAddress;
                workPhoneButton.text = pageData.boundData.workPhone;

                personDetails.visibility = "visible";
                selectPerson.visibility = "collapse";
                rightArrow.visibility = "collapse";

                if (pageData.boundData.emailAddress !== null && pageData.boundData.emailAddress.length > 0) {
                    emailAddressButton.visibility = "visible";
                }

                if (pageData.boundData.workPhone !== null && pageData.boundData.workPhone.length > 0) {
                    workPhoneButton.visibility = "visible";
                }
            }

        } else {
            pageData.boundData = navigationContext.boundData;
            pageData.boundData.result = "";

            if (global.relationshipList === undefined) {
                pageData.set("isLoading", true);

                relationshipList.load().then(function () {
                    global.relationshipList = relationshipList;

                    pageData.relationshipList = global.relationshipList;

                    relationshipIndex = 0;

                    if (pageData.boundData.relationshipTypeId !== null && pageData.boundData.relationshipTypeId.toString().length > 0) {
                        var i;

                        for (i = 0; i < pageData.relationshipList.List.length; i++) {
                            if (pageData.relationshipList.List.getItem(i).relationshipTypeId === pageData.boundData.relationshipTypeId) {
                                relationshipIndex = i;
                            }
                        }
                    }

                    pageData.relationshipIndex = relationshipIndex;
                    pageData.boundData.relationshipTypeId = pageData.relationshipList.List.getItem(relationshipIndex).relationshipTypeId;
                    pageData.boundData.relationshipType = pageData.relationshipList.List.getItem(relationshipIndex).relationshipType;

                    if (global.familiarityList === undefined) {
                        familiarityList.load().then(function () {
                            global.familiarityList = familiarityList;
            
                            pageData.familiarityList = global.familiarityList;
            
                            familiarityIndex = 0;
            
                            if (pageData.boundData.familiarityLevelId !== null && pageData.boundData.familiarityLevelId.toString().length > 0) {
                                var j;
            
                                for (j = 0; j < pageData.familiarityList.List.length; j++) {
                                    if (pageData.familiarityList.List.getItem(j).familiarityLevelId === pageData.boundData.familiarityLevelId) {
                                        familiarityIndex = j;
                                    }
                                }
                            }

                            pageData.familiarityIndex = familiarityIndex;
                            pageData.boundData.familiarityLevelId = pageData.familiarityList.List.getItem(familiarityIndex).familiarityLevelId;
                            pageData.boundData.familiarityLevel = pageData.familiarityList.List.getItem(familiarityIndex).familiarityLevel;
            
                            pageData.set("isLoading", false);
            
                            page.bindingContext = pageData;
                        });
                    } else {
                        pageData.familiarityList = global.familiarityList;
            
                        familiarityIndex = 0;
        
                        if (pageData.boundData.familiarityLevelId !== null && pageData.boundData.familiarityLevelId.toString().length > 0) {
                            var j;
        
                            for (j = 0; j < pageData.familiarityList.List.length; j++) {
                                if (pageData.familiarityList.List.getItem(j).familiarityLevelId === pageData.boundData.familiarityLevelId) {
                                    familiarityIndex = j;
                                }
                            }
                        }

                        pageData.familiarityIndex = familiarityIndex;
                        pageData.boundData.familiarityLevelId = pageData.familiarityList.List.getItem(familiarityIndex).familiarityLevelId;
                        pageData.boundData.familiarityLevel = pageData.familiarityList.List.getItem(familiarityIndex).familiarityLevel;
        
                        pageData.set("isLoading", false);
        
                        page.bindingContext = pageData;
                    }
                });
            } else {
                pageData.relationshipList = global.relationshipList;

                relationshipIndex = 0;

                if (pageData.boundData.relationshipTypeId !== null && pageData.boundData.relationshipTypeId.toString().length > 0) {
                    var i;

                    for (i = 0; i < pageData.relationshipList.List.length; i++) {
                        if (pageData.relationshipList.List.getItem(i).relationshipTypeId === pageData.boundData.relationshipTypeId) {
                            relationshipIndex = i;
                        }
                    }
                }

                pageData.relationshipIndex = relationshipIndex;
                pageData.boundData.relationshipTypeId = pageData.relationshipList.List.getItem(relationshipIndex).relationshipTypeId;
                pageData.boundData.relationshipType = pageData.relationshipList.List.getItem(relationshipIndex).relationshipType;

                pageData.familiarityList = global.familiarityList;

                familiarityIndex = 0;

                if (pageData.boundData.familiarityLevelId !== null && pageData.boundData.familiarityLevelId.toString().length > 0) {
                    var j;

                    for (j = 0; j < pageData.familiarityList.List.length; j++) {
                        if (pageData.familiarityList.List.getItem(j).familiarityLevelId === pageData.boundData.familiarityLevelId) {
                            familiarityIndex = j;
                        }
                    }
                }

                pageData.familiarityIndex = familiarityIndex;
                pageData.boundData.familiarityLevelId = pageData.familiarityList.List.getItem(familiarityIndex).familiarityLevelId;
                pageData.boundData.familiarityLevel = pageData.familiarityList.List.getItem(familiarityIndex).familiarityLevel;

                page.bindingContext = pageData;
            }
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onLoaded(args) {
    try {
        var relationshipListPicker = page.getViewById("relationshipListPicker");
        
        relationshipListPicker.on("selectedIndexChange", function(args) {
            var relationshipLabel = page.getViewById("relationshipLabel");
            var relationshipItem = pageData.relationshipList.List.getItem(args.object.selectedIndex);
            
            pageData.boundData.relationshipTypeId = relationshipItem.relationshipTypeId;
            pageData.boundData.relationshipType = relationshipItem.relationshipType;

            relationshipLabel.text = pageData.boundData.relationshipType;
            // dialogs.alert(relationshipItem.relationshipTypeId + ": " + relationshipItem.relationshipType);
        });

        var familiarityListPicker = page.getViewById("familiarityListPicker");
        
        familiarityListPicker.on("selectedIndexChange", function(args) {
            var familiarityLabel = page.getViewById("familiarityLabel");
            var familiarityItem = pageData.familiarityList.List.getItem(args.object.selectedIndex);
            
            pageData.boundData.familiarityLevelId = familiarityItem.familiarityLevelId;
            pageData.boundData.familiarityLevel = familiarityItem.familiarityLevel;

            familiarityLabel.text = pageData.boundData.familiarityLevel;
            // dialogs.alert(familiarityItem.familiarityLevelId + ": " + familiarityItem.familiarityLevel);
        });
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        dismissKeyboard();

        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onGridLayoutTap(args) {
    try {
        dismissKeyboard();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onSelectionTap(args) {
    try
    {
        dismissKeyboard();

        // Only navigate if this is a new relationship.
        if (pageData.boundData.personId === null || pageData.boundData.personId === 0) {
            const navigationEntry = {
                moduleName: "profiles/profilesearch/profilesearch-page",
                context: pageData.boundData,
                clearHistory: false
            };

            frameModule.topmost().navigate(navigationEntry); 
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onEmailTap(args) {
    dismissKeyboard();

    var emailButton = args.object;
    var emailAddress = emailButton.text;

    email.compose({
        to: [emailAddress]
    })
}

function onPhoneTap(args) {
    dismissKeyboard();

    var phoneButton = args.object;
    var phoneNumber = phoneButton.text;

    phone.dial(phoneNumber, false);
}

function onStackLayoutRelationshipTap(args) {
    try {
        dismissKeyboard();

        var relationshipListPickerGridLayout = page.getViewById("relationshipListPickerGridLayout");
        var familiarityListPickerGridLayout = page.getViewById("familiarityListPickerGridLayout");
        
        if (relationshipListPickerGridLayout.visibility === "collapse") {
            relationshipListPickerGridLayout.visibility = "visible";
            familiarityListPickerGridLayout.visibility = "collapse";

            page.addCss("#relationshipLabel {color: #cc2d30;}");
            page.addCss("#familiarityLabel {color: #666;}");
        } else {
            relationshipListPickerGridLayout.visibility = "collapse";

            page.addCss("#relationshipLabel {color: #666;}");
        }
    }
    catch(e)
    {
        diadialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onStackLayoutFamiliarityTap(args) {
    try {
        dismissKeyboard();

        var relationshipListPickerGridLayout = page.getViewById("relationshipListPickerGridLayout");
        var familiarityListPickerGridLayout = page.getViewById("familiarityListPickerGridLayout");
        
        if (familiarityListPickerGridLayout.visibility === "collapse") {
            relationshipListPickerGridLayout.visibility = "collapse";
            familiarityListPickerGridLayout.visibility = "visible";

            page.addCss("#relationshipLabel {color: #666;}");
            page.addCss("#familiarityLabel {color: #cc2d30;}");
        } else {
            familiarityListPickerGridLayout.visibility = "collapse";

            page.addCss("#familiarityLabel {color: #666;}");
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onTextViewFocus(args) {
    try {
        var relationshipListPickerGridLayout = page.getViewById("relationshipListPickerGridLayout");
        var familiarityListPickerGridLayout = page.getViewById("familiarityListPickerGridLayout");

        relationshipListPickerGridLayout.visibility = "collapse";
        familiarityListPickerGridLayout.visibility = "collapse";

        page.addCss("#relationshipLabel {color: #666;}");
        page.addCss("#familiarityLabel {color: #666;}");
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSaveTap(args) {
    dismissKeyboard();

    if (pageData.boundData.personId === null || pageData.boundData.personId === 0) {
        var label;

        if (navigationContext.relationalType === "legislator") {
            label = "relationship";
        } else {
            label = "attendee";
        }

        dialogs.alert({
            title: "Input Validation",
            message: "A person must be selected prior to saving this " + label + ".",
            okButtonText: "OK"
        });
    } else {
        var relationshipListPicker = page.getViewById("relationshipListPicker");

        pageData.boundData.relationshipTypeId = pageData.relationshipList.List.getItem(relationshipListPicker.selectedIndex).relationshipTypeId;
        pageData.boundData.relationshipType = pageData.relationshipList.List.getItem(relationshipListPicker.selectedIndex).relationshipType;

        var familiarityListPicker = page.getViewById("familiarityListPicker");

        pageData.boundData.familiarityLevelId = pageData.familiarityList.List.getItem(familiarityListPicker.selectedIndex).familiarityLevelId;
        pageData.boundData.familiarityLevel = pageData.familiarityList.List.getItem(familiarityListPicker.selectedIndex).familiarityLevel;
        
        var result;

        pageData.set("isLoading", true);

        http.request({
            url: global.apiBaseServiceUrl + "updateprofilerelationship",
            method: "POST",
            headers: { "Content-Type": "application/json", "Authorization": global.token },
            content: JSON.stringify(pageData.boundData)
        }).then(function (response) {
            // result = response.content.toJSON();
            // dialogs.alert(result);
            // dialogs.alert(pageData.boundData.responseId + ": " + pageData.boundData.response);

            pageData.boundData.result = "Update";

            pageData.set("isLoading", false);

            frameModule.topmost().goBack();
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    }
}

function dismissKeyboard() {
    if (platform.isAndroid) {
        var notes = page.getViewById("notes");

        notes.dismissSoftInput();
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onLoaded = onLoaded;
exports.onBackTap = onBackTap;
exports.onGridLayoutTap = onGridLayoutTap;
exports.onSelectionTap = onSelectionTap;
exports.onEmailTap = onEmailTap;
exports.onPhoneTap = onPhoneTap;
exports.onStackLayoutRelationshipTap = onStackLayoutRelationshipTap;
exports.onStackLayoutFamiliarityTap = onStackLayoutFamiliarityTap;
exports.onTextViewFocus = onTextViewFocus;
exports.onSaveTap = onSaveTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profile/profile-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./profiles/profile/profile-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profile/profile-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" loaded=\"onLoaded\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n        <ActionItem tap=\"onSaveTap\" ios.systemIcon=\"3\" android.systemIcon=\"ic_menu_save\" ios.position=\"right\" />\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"*\" height=\"100%\" width=\"100%\" tap=\"onGridLayoutTap\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\">\n            <StackLayout class=\"list-view-item-form\">\n                <GridLayout columns=\"*, auto\" rows=\"auto\" tap=\"onSelectionTap\" verticalAlignment=\"middle\">\n                    <StackLayout id=\"personDetails\" row=\"0\" col=\"0\" visibility=\"{{ boundData.personId === null || boundData.personId === 0 ? 'collapse' : 'visible' }}\">\n                        <Label id=\"fullNameLabel\" text=\"{{ boundData.fullName }}\" class=\"list-view-item-main-top\" />\n                        <Label id=\"companyLabel\" text=\"{{ boundData.company }}\" class=\"list-view-item-sub\" />\n                        <Label id=\"titleLabel\" text=\"{{ boundData.title }}\" class=\"list-view-item-sub\" />\n                        <Label id=\"emailAddressButton\" text=\"{{ boundData.emailAddress }}\" tap=\"onEmailTap\" horizontalAlignment=\"left\" class=\"list-view-item-sub-email\" \n                            visibility=\"{{ boundData.emailAddress !== null &amp;&amp; boundData.emailAddress.length > 0 ? 'visible' : 'collapse' }}\" />\n                        <Label id=\"workPhoneButton\" text=\"{{ boundData.workPhone }}\" tap=\"onPhoneTap\" horizontalAlignment=\"left\" class=\"list-view-item-sub-phone\" \n                            visibility=\"{{ boundData.workPhone !== null &amp;&amp; boundData.workPhone.length > 0 ? 'visible' : 'collapse' }}\"/>\n                    </StackLayout>\n                    <StackLayout id=\"selectPerson\" row=\"0\" col=\"0\" visibility=\"{{ boundData.personId !== null &amp;&amp; boundData.personId !== 0 ? 'collapse' : 'visible' }}\">\n                        <Label text=\"Select Person\" class=\"list-view-item-left\" style=\"color: #999; font-style: italic;\" />\n                    </StackLayout>\n                    <Label id=\"rightArrow\" row=\"0\" col=\"1\" text=\"&#xf105;\" class=\"fn-list-view-item\" visibility=\"{{ boundData.personId !== null &amp;&amp; boundData.personId !== 0 ? 'collapse' : 'visible' }}\" />\n                </GridLayout>\n            </StackLayout>\n            <StackLayout tap=\"onStackLayoutRelationshipTap\" visibility=\"{{ boundData.relationalType === 'legislator' ? 'visible' : 'collapse' }}\">\n                <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                    <Label row=\"0\" col=\"0\" text=\"Relationship\" class=\"list-view-item-left\" />\n                    <Label id=\"relationshipLabel\" row=\"0\" col=\"1\" text=\"{{ boundData.relationshipType }}\" class=\"list-view-item-right\" />\n                </GridLayout>\n            </StackLayout>\n            <GridLayout id=\"relationshipListPickerGridLayout\" columns=\"*\" rows=\"auto\" class=\"list-view-item-form\" visibility=\"collapse\">\n                <ListPicker id=\"relationshipListPicker\" row=\"0\" col=\"0\" items=\"{{ relationshipList.Items }}\" selectedIndex=\"{{ relationshipIndex }}\" horizontalAlignment=\"center\" class=\"list-view-item-right\"></ListPicker>\n            </GridLayout>\n            <StackLayout tap=\"onStackLayoutFamiliarityTap\" visibility=\"{{ boundData.relationalType === 'legislator' ? 'visible' : 'collapse' }}\">\n                <GridLayout columns=\"*, auto\" rows=\"auto\" class=\"list-view-item-form\">\n                    <Label row=\"0\" col=\"0\" text=\"Knows How Well?\" class=\"list-view-item-left\" />\n                    <Label id=\"familiarityLabel\" row=\"0\" col=\"1\" text=\"{{ boundData.familiarityLevel }}\" class=\"list-view-item-right\" />\n                </GridLayout>\n            </StackLayout>\n            <GridLayout id=\"familiarityListPickerGridLayout\" columns=\"*\" rows=\"auto\" class=\"list-view-item-form\" visibility=\"collapse\">\n                <ListPicker id=\"familiarityListPicker\" row=\"0\" col=\"0\" items=\"{{ familiarityList.Items }}\" selectedIndex=\"{{ familiarityIndex }}\" horizontalAlignment=\"center\" class=\"list-view-item-right\"></ListPicker>\n            </GridLayout>\n            <!-- <GridLayout columns=\"*\" rows=\"auto\" class=\"list-view-item-form\">\n                <Label row=\"0\" col=\"0\" text=\"Notes\" class=\"list-view-item-left\" />\n            </GridLayout> -->\n            <GridLayout columns=\"*\" rows=\"*\" class=\"list-view-item-form\">\n                <TextView id=\"notes\" row=\"0\" col=\"0\" text=\"{{ boundData.notes }}\" focus=\"onTextViewFocus\" hint=\"Notes\" class=\"list-view-item-textview\" />\n            </GridLayout>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"1\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profile/profile-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./profiles/profile/profile-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profile/relationshiptype-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js").Observable;
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function RelationshipTypeViewModel() {
    const viewModel = new ObservableModule();
    viewModel.Items = new ObservableArray();
    viewModel.List = new ObservableArray();

    viewModel.load = function() {
        return http.request({
            url: global.apiBaseServiceUrl + "relationshiptypes",
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(relationshipType) {
                viewModel.Items.push(
                    relationshipType.Type
                );

                viewModel.List.push({
                    relationshipTypeId: relationshipType.RelationshipTypeId,
                    relationshipType: relationshipType.Type
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.Items.length) {
            viewModel.Items.pop();
        }

        while (viewModel.List.length) {
            viewModel.List.pop();
        }
    };
    
    return viewModel;
}

module.exports = RelationshipTypeViewModel;; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profile/relationshiptype-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./profiles/profile/relationshiptype-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profiles-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ProfilesViewModel = __webpack_require__("./profiles/profiles-view-model.js");
const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var gestures = __webpack_require__("../node_modules/@nativescript/core/ui/gestures/index.js");
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

const MIN_X = -80;
const MAX_X = 0;
const THRESHOLD = 0.5;

var swipeOpen = false;
var swipedItem;

var isScrolling = false;
var isSwiping = false;

var page;
var model;
var navigationContext;

var profilesList = new ProfilesViewModel([]);

var pageData = new ObservableModule.fromObject({
    boundData: null,
    profilesList: profilesList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        
        if (args.isBackNavigation) {
            profilesList.empty();

            pageData.set("isLoading", true);
    
            profilesList.load(navigationContext.relationalType, navigationContext.relationalId).then(function () {
                pageData.set("isLoading", false);
    
                page.bindingContext = pageData;
            });
        } else {
            navigationContext = page.navigationContext;

            pageData.boundData = navigationContext;
            pageData.boundData.updated = false;
            
            var legislatorId = page.getViewById("legislatorId");
            var legislatorName = page.getViewById("legislatorName");
        
            legislatorId.text = navigationContext.relationalId;
            legislatorName.text = navigationContext.fullName;
        
            if (navigationContext.relationalType === "legislator") {
                page.actionBar.title = "Relationships";
            } else {
                page.actionBar.title = "APCIA Attendees";
            }
            
            profilesList.empty();
        
            pageData.set("isLoading", true);
        
            profilesList.load(navigationContext.relationalType, navigationContext.relationalId).then(function () {
                pageData.set("isLoading", false);
            });
        
            page.bindingContext = pageData;
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onItemLoading(args) {
    if (platform.isIOS) {
        var cell = args.ios;

        cell.selectionStyle = UITableViewCellSelectionStyle.UITableViewCellSelectionStyleNone;
    }
}

function onItemTap(args) {
    try {
        if (platform.isIOS) {
            if (swipeOpen) {
                swipedItem.animate({
                    translate: { x: 0, y: 0 },
                    duration: 200
                });

                swipeOpen = false;
            } else {
                var view = args.view;

                model = view.bindingContext;

                const navigationEntry = {
                    moduleName: "profiles/profile/profile-page",
                    context: { 
                        relationalType: navigationContext.relationalType,
                        relationalId: navigationContext.relationalId,
                        boundData: model
                    },
                    clearHistory: false
                };

                frameModule.topmost().navigate(navigationEntry);
            }
        }
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onAddTap(args) {
    try
    {
        pageData.boundData.updated = true;

        var model = {
            relationalType: navigationContext.relationalType,
            relationalId: navigationContext.relationalId,
            personId: 0,
            fullName: null,
            company: null,
            title: null,
            workPhone: null,
            emailAddress: null,
            relationshipTypeId: null,
            relationshipType: null,
            familiarityLevelId: null,
            familiarityLevel: null,
            notes: null,
            modifiedDate: new Date(),
            checked: false
        }

        const navigationEntry = {
            moduleName: "profiles/profile/profile-page",
            context: { 
                relationalType: navigationContext.relationalType,
                relationalId: navigationContext.relationalId,
                boundData: model
            },
            clearHistory: false
        };

        frameModule.topmost().navigate(navigationEntry);
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onDeleteClick(args) {
    var profileType;

    if (navigationContext.relationalType === "legislator") {
        profileType = "Relationship";
    } else {
        profileType = "Attendee";
    }
    
    if (platform.isAndroid) {
        dialogs.confirm({
            title: "Delete",
            message: profileType + " will be deleted. Delete?",
            okButtonText: "Yes",
            cancelButtonText: "No"
        }).then(function (result) {
            if (result) {
                var view = args.object;
                
                view.bindingContext.checked = false;

                http.request({
                    url: global.apiBaseServiceUrl + "insertdeleteprofilerelationship",
                    method: "POST",
                    headers: { "Content-Type": "application/json", "Authorization": global.token },
                    content: JSON.stringify(view.bindingContext)
                }).then(function (response) {
                    // result = response.content.toJSON();
                    // dialogs.alert(result);

                    pageData.boundData.updated = true;

                    profilesList.empty();
        
                    pageData.set("isLoading", true);
        
                    profilesList.load(navigationContext.relationalType, navigationContext.relationalId).then(function () {
                            pageData.set("isLoading", false);
        
                            page.bindingContext = pageData;
                    });
                    
                }, function (e) {
                    dialogs.alert({
                        title: "Error",
                        message: e.toString(),
                        okButtonText: "OK"
                    });
                });
            }
        });
    } else if (platform.isIOS) {
        dialogs.action({
            message: "Would you like to delete this " + profileType.toLowerCase() + "?",
            cancelButtonText: "Cancel",
            actions: ["Delete"]
        }).then(function (result) {
            if (result === "Delete") {
                var view = args.object;
                
                view.bindingContext.checked = false;

                http.request({
                    url: global.apiBaseServiceUrl + "insertdeleteprofilerelationship",
                    method: "POST",
                    headers: { "Content-Type": "application/json", "Authorization": global.token },
                    content: JSON.stringify(view.bindingContext)
                }).then(function (response) {
                    // result = response.content.toJSON();
                    // dialogs.alert(result);

                    pageData.boundData.updated = true;

                    profilesList.empty();
        
                    pageData.set("isLoading", true);
        
                    profilesList.load(navigationContext.relationalType, navigationContext.relationalId).then(function () {
                            pageData.set("isLoading", false);
        
                            page.bindingContext = pageData;
                    });
                    
                }, function (e) {
                    dialogs.alert({
                        title: "Error",
                        message: e.toString(),
                        okButtonText: "OK"
                    });
                });
            }
        });
    }

    if (swipeOpen) {
        swipedItem.animate({
            translate: { x: 0, y: 0 },
            duration: 200
        });

        swipeOpen = false;
    }
}

function onLayoutLoaded(args) {
    var layout = args.object;

    if (platform.isAndroid) {
        layout.on(gestures.GestureTypes.tap, function(args) {
            try {
                if (swipeOpen) {
                    swipedItem.animate({
                        translate: { x: 0, y: 0 },
                        duration: 200
                    });
    
                    swipeOpen = false;
                } else {
                    var view = args.view;
    
                    model = view.bindingContext;
    
                    const navigationEntry = {
                        moduleName: "profiles/profile/profile-page",
                        context: { 
                            relationalType: navigationContext.relationalType,
                            relationalId: navigationContext.relationalId,
                            boundData: model
                        },
                        clearHistory: false
                    };
    
                    frameModule.topmost().navigate(navigationEntry);
                }
            }
            catch(e)
            {
                dialogs.alert({
                    title: "Error",
                    message: e.toString(),
                    okButtonText: "OK"
                });
            }
        });
    }

    layout.on(gestures.GestureTypes.pan, function(args) {
        try {
            var layout = args.object;
            var view = args.view;

            if (swipeOpen && swipedItem !== undefined && swipedItem != layout) {
                swipedItem.animate({
                    translate: { x: 0, y: 0 },
                    duration: 50
                });
            }

            if (!isScrolling && !isSwiping) {
                if (Math.abs(args.deltaY) > Math.abs(args.deltaX)) {
                    isScrolling = true;
                    isSwiping = false;
                } else if (Math.abs(args.deltaX) > Math.abs(args.deltaY)) {
                    isScrolling = false;
                    isSwiping = true;
                }
            }

            if (isScrolling) {
                if (swipeOpen && swipedItem !== undefined) {
                    swipedItem.animate({
                        translate: { x: 0, y: 0 },
                        duration: 50
                    });
                }

                if (args.state === gestures.GestureStateTypes.ended) {
                    isScrolling = false;
                }
            } else if (isSwiping) {
                var profilesListView = page.getViewById("profilesListView");

                if (platform.isAndroid) {
                    profilesListView.nativeView.requestDisallowInterceptTouchEvent(true);
                } else if (platform.isIOS) {
                    profilesListView.ios.scrollEnabled = false;
                }

                swipeOpen = true;
                swipedItem = layout;

                var newX = layout.translateX + args.deltaX;

                if (newX >= MIN_X && newX <= MAX_X) {
                    layout.translateX = newX;
                }
                
                if (args.state === gestures.GestureStateTypes.ended && !(newX === MIN_X || newX === MAX_X)) {
                    // init our destination X coordinate to 0, in case neither THRESHOLD has been hit
                    let destX = 0;
                    
                    // if user hit or crossed the THESHOLD either way, let's finish in that direction
                    if (newX <= MIN_X * THRESHOLD) {
                        destX = MIN_X;
                    } else if (newX >= MAX_X * THRESHOLD) {
                        destX = MAX_X;
                    }
                    
                    layout.animate({
                        translate: { x: destX, y: 0 },
                        duration: 200
                    });

                    if (platform.isAndroid) {
                        profilesListView.nativeView.requestDisallowInterceptTouchEvent(false);
                    } else if (platform.isIOS) {
                        profilesListView.ios.scrollEnabled = true;
                    }

                    isSwiping = false;
                }
            }
        } catch(e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        }
    });
}

exports.onNavigatingTo = onNavigatingTo;
exports.onItemLoading = onItemLoading;
exports.onItemTap = onItemTap;
exports.onAddTap = onAddTap;
exports.onBackTap = onBackTap;
exports.onLayoutLoaded = onLayoutLoaded;
exports.onDeleteClick = onDeleteClick;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profiles-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./profiles/profiles-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profiles-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n        <ActionItem tap=\"onAddTap\" ios.systemIcon=\"4\" android.systemIcon=\"ic_menu_add\" ios.position=\"right\" />\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"center\" horizontalAlignment=\"center\" class=\"view-title\" visibility=\"{{ boundData.relationalType === 'legislator' ? 'visible' : 'collapse' }}\">\n            <Label id=\"legislatorId\" text=\"\" visibility=\"collapsed\" />\n            <Label id=\"legislatorName\" text=\"\" verticalAlignment=\"center\" horizontalAlignment=\"center\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\">\n            <ListView id=\"profilesListView\" items=\"{{ profilesList }}\" itemLoading=\"onItemLoading\" itemTap=\"onItemTap\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <AbsoluteLayout>\n                        <!-- BACKGROUND: Swipe Actions -->\n                        <GridLayout columns=\"*, 80\" android:rows=\"48\" ios:rows=\"55\" width=\"100%\">\n                            <Label col=\"0\" />\n                            <GridLayout col=\"1\" columns=\"*\" rows=\"*, auto, auto, *\" tap=\"onDeleteClick\" class=\"swipe-icons red\">\n                                <Label row=\"0\" col=\"0\" text=\"\" />\n                                <Label row=\"1\" col=\"0\" text=\"&#xf1f8;\" class=\"tab-icon\" />\n                                <Label row=\"2\" col=\"0\" text=\"Delete\" class=\"tab-label\" />\n                                <Label row=\"3\" col=\"0\" text=\"\" />\n                            </GridLayout>\n                        </GridLayout>\n                        <!-- FOREGROUND: List View Item Details -->\n                        <StackLayout loaded=\"onLayoutLoaded\" backgroundColor=\"white\" width=\"100%\">\n                            <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                                <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"middle\">\n                                    <Label text=\"{{ fullName }}\" class=\"list-view-item-main-top\" />\n                                    <Label text=\"{{ company }}\" textWrap=\"true\" class=\"list-view-item-sub\" />\n                                </StackLayout>\n                                <Label row=\"0\" col=\"1\" text=\"&#xf105;\" class=\"fn-list-view-item\" verticalAlignment=\"middle\" />\n                            </GridLayout>\n                        </StackLayout>\n                    </AbsoluteLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"2\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profiles-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./profiles/profiles-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profiles-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const observableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function ProfilesViewModel(items) {
    const viewModel = new ObservableArray(items);

    viewModel.load = function(relationalType, relationalId) {
        return http.request({
            url: global.apiBaseServiceUrl + "profilerelationships?relationalType=" + relationalType + "&relationalId=" + relationalId,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(profile) {
                viewModel.push({
                    relationalType: profile.RelationalType,
                    relationalId: profile.RelationalId,
                    personId: profile.PersonId,
                    fullName: profile.FullName,
                    company: profile.Company,
                    title: profile.Title,
                    workPhone: profile.WorkPhone,
                    emailAddress: profile.EmailAddress,
                    relationshipTypeId: profile.RelationshipTypeId,
                    relationshipType: profile.RelationshipType,
                    familiarityLevelId: profile.FamiliarityLevelId,
                    familiarityLevel: profile.FamiliarityLevel,
                    notes: profile.Notes,
                    modifiedDate: profile.ModifiedDate,
                    checked: profile.Checked,
                    total: profile.Total
                });
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = ProfilesViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profiles-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./profiles/profiles-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profilesearch/old/profilesearch-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
const ProfileSearchViewModel = __webpack_require__("./profiles/profilesearch/old/profilesearch-view-model.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var page;
var navigationContext;

var searchBar;
var profileSearchPageSize = 25;
var profileSearchSearchText = "";
var profileSearchSearchSubmitted = false;

var profileSearchList = new ProfileSearchViewModel([]);

var switchTap = false;

var pageData = new ObservableModule.fromObject({
    profileSearchList: profileSearchList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        navigationContext = page.navigationContext;
        
        if (navigationContext.relationalType === "legislator") {
            page.actionBar.title = "Profile Search";
        } else {
            page.actionBar.title = "PCI Attendee Search";
        }

        // if (profileSearchSearchText !== "") {
        //     var searchBar = page.getViewById("searchBar");

        //     searchBar.text = profileSearchSearchText;
        // }
        
        // if (profileSearchList.length === 0) {
        profileSearchSearchText = "";
        
        profileSearchList.empty();

        pageData.set("isLoading", true);

        profileSearchList.load(navigationContext.relationalType, navigationContext.relationalId, profileSearchSearchText, 1, profileSearchPageSize).then(function () {
            pageData.set("isLoading", false);
        });
        // }

        page.bindingContext = pageData;
    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSearchBarLoaded(args)
{
    searchBar = args.object;

    if (platform.isIOS) {
        // iOS Styling
        searchBar.ios.searchBarStyle = UISearchBarStyle.UISearchBarStyleMinimal;
        searchBar.ios.showsCancelButton = true;
    }
}

function onSubmit(args)
{
    searchBar = args.object;

    profileSearchSearchText = searchBar.text.trim();

    profileSearchList.empty();
    
    pageData.set("isLoading", true);

    profileSearchList.load(navigationContext.relationalType, navigationContext.relationalId, profileSearchSearchText, 1, profileSearchPageSize).then(function () {
        pageData.set("isLoading", false);

        profileSearchSearchSubmitted = true;
    
        searchBar.dismissSoftInput();
    });
}

function onClear(args)
{
    searchBar.text = "";
    profileSearchSearchText = "";

    if (profileSearchSearchSubmitted) {
        profileSearchList.empty();
        
        pageData.set("isLoading", true);

        profileSearchList.load(navigationContext.relationalType, navigationContext.relationalId, profileSearchSearchText, 1, profileSearchPageSize).then(function () {
            pageData.set("isLoading", false);

            profileSearchSearchSubmitted = false;
        
            searchBar.dismissSoftInput();
        });
    }
}

function onSwitchLoaded(args) {
    var checkedSwitch = args.object;

    checkedSwitch.on("tap", function(args) {
        // Necessary to prevent the checkedChange event from firing on the switch when user scrolls.
        switchTap = true;
    });

    checkedSwitch.on("checkedChange", function(args) {
        if (switchTap) {
            var stackLayout = args.object.parent;
            var indexLabel = stackLayout.getViewById("indexLabel");

            var model = profileSearchList.getItem(indexLabel.text);

            model.checked = args.value;
            
            http.request({
                url: global.apiBaseServiceUrl + "insertdeleteprofilerelationship",
                method: "POST",
                headers: { "Content-Type": "application/json", "Authorization": global.token },
                content: JSON.stringify(model)
            }).then(function (response) {
                switchTap = false;
            }, function (e) {
                dialogs.alert({
                    title: "Error",
                    message: e.toString(),
                    okButtonText: "OK"
                });
            });
        }
    });
}

function onLoadMoreItems(args) {
    var profileSearchListCount = profileSearchList.length;
    var profileSearchPageNumber = Math.ceil(profileSearchListCount / profileSearchPageSize) + 1;
    var profileSearchRemainder = profileSearchListCount % profileSearchPageSize;

    if (profileSearchRemainder !== 0 && profileSearchRemainder < profileSearchPageSize)
    {
        return;
    }

    pageData.set("isLoading", true);

    profileSearchList.load(navigationContext.relationalType, navigationContext.relationalId, profileSearchSearchText, profileSearchPageNumber, profileSearchPageSize).then(function (){
        pageData.set("isLoading", false);
    });
}

exports.onNavigatingTo = onNavigatingTo;
exports.onSearchBarLoaded = onSearchBarLoaded;
exports.onSubmit = onSubmit;
exports.onClear = onClear;
exports.onSwitchLoaded = onSwitchLoaded;
exports.onLoadMoreItems = onLoadMoreItems;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profilesearch/old/profilesearch-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./profiles/profilesearch/old/profilesearch-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profilesearch/old/profilesearch-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\" />\n\n    <GridLayout columns=\"*\" rows=\"auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"center\" horizontalAlignment=\"center\" direction=\"horizontal\">\n            <SearchBar row=\"0\" col=\"0\" id=\"searchBar\" hint=\"Search\" text=\"\" loaded=\"onSearchBarLoaded\" submit=\"onSubmit\" clear=\"onClear\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\">\n            <ListView items=\"{{ profileSearchList }}\" loadMoreItems=\"onLoadMoreItems\" itemTemplateSelector=\"$index\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"middle\">\n                            <Label text=\"{{ fullName }}\" class=\"list-view-item-main-top\" />\n                            <Label text=\"{{ company }}\" textWrap=\"true\" class=\"list-view-item-sub\" />\n                            <Label text=\"{{ title }}\" textWrap=\"true\" class=\"list-view-item-sub\" />\n                        </StackLayout>\n                        <StackLayout row=\"0\" col=\"1\" verticalAlignment=\"middle\">\n                            <Switch id=\"checkedSwitch\" row=\"0\" col=\"1\" checked=\"{{ checked }}\" \n                                loaded=\"onSwitchLoaded\" horizontalAlignment=\"right\" class=\"switch\" />\n                            <Label id=\"indexLabel\" text=\"{{ $index }}\" visibility=\"collapse\" />\n                        </StackLayout>\n                    </GridLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"2\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profilesearch/old/profilesearch-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./profiles/profilesearch/old/profilesearch-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profilesearch/old/profilesearch-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function ProfileSearchViewModel(items) {
    const viewModel = new ObservableArray(items);
    
    viewModel.load = function(relationalType, relationalId, filter, page, pageSize) {
        return http.request({
            url: global.apiBaseServiceUrl + "profilerelationshipfilter?relationalType=" + relationalType + "&relationalId=" + relationalId + "&filter=" + filter.replace(/ /g, "%20") + "&page=" + page + "&pageSize=" + pageSize,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(profile) {
                if (profile.PersonId !== null && profile.PersonId !== 0) {
                    var checked = false;

                    if (profile.Checked === "true") {
                        checked = true;
                    }

                    viewModel.push({
                        relationalType: profile.RelationalType,
                        relationalId: profile.RelationalId,
                        personId: profile.PersonId,
                        fullName: profile.FullName,
                        company: profile.Company,
                        title: profile.Title,
                        checked: checked,
                        total: profile.Total
                    });
                }
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = ProfileSearchViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profilesearch/old/profilesearch-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./profiles/profilesearch/old/profilesearch-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profilesearch/profilesearch-page.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ProfileSearchViewModel = __webpack_require__("./profiles/profilesearch/profilesearch-view-model.js");
const platform = __webpack_require__("../node_modules/@nativescript/core/platform/index.js");
const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var frameModule = __webpack_require__("../node_modules/@nativescript/core/ui/frame/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");
var page;
var navigationContext;

var searchBar;
var profileSearchPageSize = 25;
var profileSearchSearchText = "";
var profileSearchSearchSubmitted = false;

var previousSelected = null;

var profileSearchList = new ProfileSearchViewModel([]);

var pageData = new ObservableModule.fromObject({
    boundData: null,
    profileSearchList: profileSearchList,
    isLoading: false
});

function onNavigatingTo(args) {
    try {
        page = args.object;
        navigationContext = page.navigationContext;
        
        if (navigationContext.relationalType === "legislator") {
            page.actionBar.title = "Profile Search";
        } else {
            page.actionBar.title = "PCI Attendee Search";
        }

        pageData.boundData = navigationContext;

        // if (profileSearchSearchText !== "") {
        //     var searchBar = page.getViewById("searchBar");

        //     searchBar.text = profileSearchSearchText;
        // }
        
        // if (profileSearchList.length === 0) {
        profileSearchSearchText = "";
        
        profileSearchList.empty();

        pageData.set("isLoading", true);

        profileSearchList.load(navigationContext.relationalType, navigationContext.relationalId, profileSearchSearchText, 1, profileSearchPageSize).then(function () {
            pageData.set("isLoading", false);

            page.bindingContext = pageData;
        });
        // }

    }
    catch(e)
    {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onSearchBarLoaded(args)
{
    searchBar = args.object;

    if (platform.isAndroid) {
        searchBar.android.clearFocus();
    } else if (platform.isIOS) {
        // iOS Styling
        searchBar.ios.searchBarStyle = UISearchBarStyle.UISearchBarStyleMinimal;
        searchBar.ios.showsCancelButton = true;
    }
}

function onSubmit(args)
{
    searchBar = args.object;

    profileSearchSearchText = searchBar.text.trim();

    profileSearchList.empty();
    
    pageData.set("isLoading", true);

    profileSearchList.load(navigationContext.relationalType, navigationContext.relationalId, profileSearchSearchText, 1, profileSearchPageSize).then(function () {
        pageData.set("isLoading", false);

        profileSearchSearchSubmitted = true;
    
        searchBar.dismissSoftInput();
    });
}

function onClear(args)
{
    searchBar.text = "";
    profileSearchSearchText = "";

    if (profileSearchSearchSubmitted) {
        profileSearchList.empty();
        
        pageData.set("isLoading", true);

        profileSearchList.load(navigationContext.relationalType, navigationContext.relationalId, profileSearchSearchText, 1, profileSearchPageSize).then(function () {
            pageData.set("isLoading", false);

            profileSearchSearchSubmitted = false;
        
            searchBar.dismissSoftInput();
        });
    }
}

function onLoadMoreItems(args) {
    try {
        var profileSearchListCount = profileSearchList.length;
        var profileSearchPageNumber = Math.ceil(profileSearchListCount / profileSearchPageSize) + 1;
        var profileSearchRemainder = profileSearchListCount % profileSearchPageSize;

        if (profileSearchRemainder !== 0 && profileSearchRemainder < profileSearchPageSize)
        {
            return;
        }

        pageData.set("isLoading", true);

        profileSearchList.load(navigationContext.relationalType, navigationContext.relationalId, profileSearchSearchText, profileSearchPageNumber, profileSearchPageSize).then(function (){
            pageData.set("isLoading", false);
        });
    } catch(e) {
        dialogs.alert({
            title: "Error",
            message: e.toString(),
            okButtonText: "OK"
        });
    }
}

function onBackTap(args) {
    try {
        frameModule.topmost().goBack();
    } catch(e) {
        dialogs.alert(e);
    }
}

function onItemTap(args) {
    try {
        var selected = pageData.profileSearchList.getItem(args.index); //.set("checked", true);

        selected.checked = !selected.checked;

        if (previousSelected !== null & previousSelected !== selected) {
            previousSelected.checked = false;
        }
        
        page.getViewById("profileSearch").refresh();

        if (selected.checked) {
            previousSelected = selected;

            pageData.boundData.personId = selected.personId;
            pageData.boundData.fullName = selected.fullName;
            pageData.boundData.company = selected.company;
            pageData.boundData.title = selected.title;
            pageData.boundData.emailAddress = selected.emailAddress;
            pageData.boundData.workPhone = selected.workPhone;
        } else {
            previousSelected = null;

            pageData.boundData.personId = null;
            pageData.boundData.fullName = null;
            pageData.boundData.company = null;
            pageData.boundData.title = null;
            pageData.boundData.emailAddress = null;
            pageData.boundData.workPhone = null;
        }
    } catch(e) {
        dialogs.alert(e);
    }
}

exports.onNavigatingTo = onNavigatingTo;
exports.onSearchBarLoaded = onSearchBarLoaded;
exports.onSubmit = onSubmit;
exports.onClear = onClear;
exports.onLoadMoreItems = onLoadMoreItems;
exports.onBackTap = onBackTap;
exports.onItemTap = onItemTap;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profilesearch/profilesearch-page.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./profiles/profilesearch/profilesearch-page.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profilesearch/profilesearch-page.xml":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {
module.exports = "<Page navigatingTo=\"onNavigatingTo\" class=\"page\" xmlns=\"http://schemas.nativescript.org/tns.xsd\" >\n    <ActionBar class=\"action-bar\">\n        <android>\n            <NavigationButton android.systemIcon=\"ic_menu_back\" tap=\"onBackTap\" />\n        </android>\n    </ActionBar>\n\n    <GridLayout columns=\"*\" rows=\"auto, *\" height=\"100%\" width=\"100%\">\n        <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"top\" horizontalAlignment=\"center\" direction=\"horizontal\">\n            <SearchBar row=\"0\" col=\"0\" id=\"searchBar\" hint=\"Search\" text=\"\" loaded=\"onSearchBarLoaded\" submit=\"onSubmit\" clear=\"onClear\" />\n        </StackLayout>\n        <StackLayout row=\"1\" col=\"0\" verticalAlignment=\"top\">\n            <ListView id=\"profileSearch\" items=\"{{ profileSearchList }}\" itemTap=\"onItemTap\" loadMoreItems=\"onLoadMoreItems\" height=\"100%\">\n                <ListView.itemTemplate>\n                    <StackLayout>\n                        <GridLayout columns=\"*, auto\" rows=\"*\" class=\"list-view-item\">\n                            <StackLayout row=\"0\" col=\"0\" verticalAlignment=\"middle\">\n                                <Label text=\"{{ fullName }}\" class=\"list-view-item-main-top\" />\n                                <Label text=\"{{ company }}\" textWrap=\"true\" class=\"list-view-item-sub\" />\n                                <Label text=\"{{ title }}\" textWrap=\"true\" class=\"list-view-item-sub\" />\n                            </StackLayout>\n                            <StackLayout row=\"0\" col=\"1\" verticalAlignment=\"middle\">\n                                <Label row=\"0\" col=\"1\" text=\"&#xf00c;\" class=\"fn-list-view-item-small\" visibility=\"{{ checked ? 'visible' : 'collapse' }}\" />\n                            </StackLayout>\n                        </GridLayout>\n                    </StackLayout>\n                </ListView.itemTemplate>\n            </ListView>\n        </StackLayout>\n        <ActivityIndicator busy=\"{{ isLoading }}\" android:height=\"25%\" android:width=\"25%\" ios.activityIndicatorViewStyle=\"whiteLarge\" rowSpan=\"2\" colSpan=\"1\" />\n    </GridLayout>\n</Page>\n"; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profilesearch/profilesearch-page.xml") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "markup", path: "./profiles/profilesearch/profilesearch-page.xml" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./profiles/profilesearch/profilesearch-view-model.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {const ObservableModule = __webpack_require__("../node_modules/@nativescript/core/data/observable/index.js");
var ObservableArray = __webpack_require__("../node_modules/@nativescript/core/data/observable-array/index.js").ObservableArray;
var http = __webpack_require__("../node_modules/@nativescript/core/http/index.js");
var dialogs = __webpack_require__("../node_modules/@nativescript/core/ui/dialogs/index.js");

function ProfileSearchViewModel(items) {
    const viewModel = new ObservableArray(items);
    
    viewModel.load = function(relationalType, relationalId, filter, page, pageSize) {
        return http.request({
            url: global.apiBaseServiceUrl + "profilerelationshipfilter?relationalType=" + relationalType + "&relationalId=" + relationalId + "&filter=" + filter.replace(/ /g, "%20") + "&page=" + page + "&pageSize=" + pageSize,
            method: "GET",
            headers: { "Content-Type": "application/json", "Authorization": global.token }
        }).then(function (response) {
            var result = response.content.toString();
            var data = JSON.parse(result);

            data.forEach(function(profile) {
                if (profile.PersonId !== null && profile.PersonId !== 0) {
                    var checked = false;

                    if (profile.Checked === "true") {
                        checked = true;
                    }

                    if (!checked) {
                        viewModel.push({
                            relationalType: profile.RelationalType,
                            relationalId: profile.RelationalId,
                            personId: profile.PersonId,
                            fullName: profile.FullName,
                            company: profile.Company,
                            title: profile.Title,
                            emailAddress: profile.EmailAddress,
                            workPhone: profile.WorkPhone,
                            checked: checked,
                            total: profile.Total
                        });
                    }
                }
            });
        }, function (e) {
            dialogs.alert({
                title: "Error",
                message: e.toString(),
                okButtonText: "OK"
            });
        });
    };

    viewModel.empty = function() {
        while (viewModel.length) {
            viewModel.pop();
        }
    };
    
    return viewModel;
}

module.exports = ProfileSearchViewModel;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./profiles/profilesearch/profilesearch-view-model.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./profiles/profilesearch/profilesearch-view-model.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./vendor-platform.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {// There is a bug in angular: https://github.com/angular/angular-cli/pull/8589/files
// Legendary stuff, its webpack plugin pretty much doesn't work with empty TypeScript files in v1.8.3
void 0;
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./vendor-platform.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./vendor-platform.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./vendor.js":
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {// Snapshot the ~/app.css and the theme
const application = __webpack_require__("../node_modules/@nativescript/core/application/index.js");
__webpack_require__("../node_modules/@nativescript/core/ui/styling/style-scope.js");
const appCssContext = __webpack_require__("./ sync ^\\.\\/app\\.(css|scss|less|sass)$");
global.registerWebpackModules(appCssContext);
application.loadAppCss();

__webpack_require__("./vendor-platform.js");

__webpack_require__("../node_modules/@nativescript/core/bundle-entry-points.js");
; 
if ( true && global._isModuleLoadedForUI && global._isModuleLoadedForUI("./vendor.js") ) {
    
    module.hot.accept();
    module.hot.dispose(() => {
        global.hmrRefresh({ type: "script", path: "./vendor.js" });
    });
} 
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("../node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "~/package.json":
/***/ (function(module, exports) {

module.exports = require("~/package.json");

/***/ })

},[["./app.js","runtime","vendor"]]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLiBzeW5jIG5vbnJlY3Vyc2l2ZSBeXFwuXFwvYXBwXFwuKGNzc3xzY3NzfGxlc3N8c2FzcykkIiwid2VicGFjazovLy9cXGJfW1xcdy1dKlxcLilzY3NzKSQiLCJ3ZWJwYWNrOi8vLy4gc3luYyAocGFnZXxmcmFnbWVudClcXC4oeG1sfGNzc3xqc3x0c3xzY3NzKSQiLCJ3ZWJwYWNrOi8vLy4vYXBwLXJvb3QueG1sIiwid2VicGFjazovLy8uL2FwcC5jc3MiLCJ3ZWJwYWNrOi8vLy4vYXBwLmpzIiwid2VicGFjazovLy8uL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnQvYXNzaWdubWVudC1wYWdlLmpzIiwid2VicGFjazovLy8uL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnQvYXNzaWdubWVudC1wYWdlLnhtbCIsIndlYnBhY2s6Ly8vLi9hc3NpZ25tZW50cy9hc3NpZ25tZW50cy1wYWdlLmpzIiwid2VicGFjazovLy8uL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnRzLXBhZ2UueG1sIiwid2VicGFjazovLy8uL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnRzLXZpZXctbW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vYnVuZGxlLWNvbmZpZy5qcyIsIndlYnBhY2s6Ly8vLi9jb21taXR0ZWVzL2NvbW1pdHRlZS9jb21taXR0ZWUtcGFnZS5qcyIsIndlYnBhY2s6Ly8vLi9jb21taXR0ZWVzL2NvbW1pdHRlZS9jb21taXR0ZWUtcGFnZS54bWwiLCJ3ZWJwYWNrOi8vLy4vY29tbWl0dGVlcy9jb21taXR0ZWUvY29tbWl0dGVlLXZpZXctbW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vY29tbWl0dGVlcy9jb21taXR0ZWVzLXBhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vY29tbWl0dGVlcy9jb21taXR0ZWVzLXBhZ2UueG1sIiwid2VicGFjazovLy8uL2NvbW1pdHRlZXMvY29tbWl0dGVlcy12aWV3LW1vZGVsLmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvdGFiLW5hdmlnYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vaG9tZS9ob21lLXBhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vaG9tZS9ob21lLXBhZ2UueG1sIiwid2VicGFjazovLy8uL2hvbWUvaG9tZS12aWV3LW1vZGVsLmpzIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvYmlvL2Jpby1wYWdlLmpzIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvYmlvL2Jpby1wYWdlLnhtbCIsIndlYnBhY2s6Ly8vLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2NvbW1pdHRlZXMvY29tbWl0dGVlcy1wYWdlLmpzIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvY29tbWl0dGVlcy9jb21taXR0ZWVzLXBhZ2UueG1sIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvY29tbWl0dGVlcy9jb21taXR0ZWVzLXZpZXctbW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9pbml0aWF0aXZldGllcnMvaW5pdGlhdGl2ZXRpZXJzLXBhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9pbml0aWF0aXZldGllcnMvaW5pdGlhdGl2ZXRpZXJzLXBhZ2UueG1sIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvaW5pdGlhdGl2ZXRpZXJzL2luaXRpYXRpdmV0aWVycy12aWV3LW1vZGVsLmpzIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvbGVnaXNsYXRvci1wYWdlLmpzIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvbGVnaXNsYXRvci1wYWdlLnhtbCIsIndlYnBhY2s6Ly8vLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2xlZ2lzbGF0b3Itdmlldy1tb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc2VsZWN0L3NlbGVjdC1wYWdlLmpzIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zZWxlY3Qvc2VsZWN0LXBhZ2UueG1sIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zZWxlY3Qvc2VsZWN0LXZpZXctbW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9xdWVzdGlvbi9xdWVzdGlvbi1wYWdlLmpzIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXkvcXVlc3Rpb24vcXVlc3Rpb24tcGFnZS54bWwiLCJ3ZWJwYWNrOi8vLy4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9xdWVzdGlvbi9yZXNwb25zZS12aWV3LW1vZGVsLmpzIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXkvc3VydmV5LXBhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9zdXJ2ZXktcGFnZS54bWwiLCJ3ZWJwYWNrOi8vLy4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9zdXJ2ZXktdmlldy1tb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5cy1wYWdlLmpzIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXlzLXBhZ2UueG1sIiwid2VicGFjazovLy8uL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXlzLXZpZXctbW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvcnMtcGFnZS5qcyIsIndlYnBhY2s6Ly8vLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9ycy1wYWdlLnhtbCIsIndlYnBhY2s6Ly8vLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9ycy12aWV3LW1vZGVsLmpzIiwid2VicGFjazovLy8uL2xvZ2luL2xvZ2luLXBhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbG9naW4vbG9naW4tcGFnZS54bWwiLCJ3ZWJwYWNrOi8vLy4vbG9naW4vbG9naW4tdmlldy1tb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9tYWluLXBhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbWFpbi1wYWdlLnhtbCIsIndlYnBhY2s6Ly8vLi9tZWV0aW5ncy9tZWV0aW5nL2F0dGVuZGVldHlwZS9hdHRlbmRlZXR5cGUtcGFnZS5qcyIsIndlYnBhY2s6Ly8vLi9tZWV0aW5ncy9tZWV0aW5nL2F0dGVuZGVldHlwZS9hdHRlbmRlZXR5cGUtcGFnZS54bWwiLCJ3ZWJwYWNrOi8vLy4vbWVldGluZ3MvbWVldGluZy9hdHRlbmRlZXR5cGUvYXR0ZW5kZWV0eXBlLXZpZXctbW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbWVldGluZ3MvbWVldGluZy9mb2xsb3d1cC9mb2xsb3d1cC1wYWdlLmpzIiwid2VicGFjazovLy8uL21lZXRpbmdzL21lZXRpbmcvZm9sbG93dXAvZm9sbG93dXAtcGFnZS54bWwiLCJ3ZWJwYWNrOi8vLy4vbWVldGluZ3MvbWVldGluZy9pbml0aWF0aXZlcy9pbml0aWF0aXZlcy1wYWdlLmpzIiwid2VicGFjazovLy8uL21lZXRpbmdzL21lZXRpbmcvaW5pdGlhdGl2ZXMvaW5pdGlhdGl2ZXMtcGFnZS54bWwiLCJ3ZWJwYWNrOi8vLy4vbWVldGluZ3MvbWVldGluZy9pbml0aWF0aXZlcy9pbml0aWF0aXZlcy12aWV3LW1vZGVsLmpzIiwid2VicGFjazovLy8uL21lZXRpbmdzL21lZXRpbmcvbWVldGluZy1wYWdlLmpzIiwid2VicGFjazovLy8uL21lZXRpbmdzL21lZXRpbmcvbWVldGluZy1wYWdlLnhtbCIsIndlYnBhY2s6Ly8vLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmctdmlldy1tb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmdsb2NhdGlvbi9tZWV0aW5nbG9jYXRpb24tcGFnZS5qcyIsIndlYnBhY2s6Ly8vLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmdsb2NhdGlvbi9tZWV0aW5nbG9jYXRpb24tcGFnZS54bWwiLCJ3ZWJwYWNrOi8vLy4vbWVldGluZ3MvbWVldGluZy9tZWV0aW5nbG9jYXRpb24vbWVldGluZ2xvY2F0aW9uLXZpZXctbW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbWVldGluZ3MvbWVldGluZy9ub3Rlcy9ub3Rlcy1wYWdlLmpzIiwid2VicGFjazovLy8uL21lZXRpbmdzL21lZXRpbmcvbm90ZXMvbm90ZXMtcGFnZS54bWwiLCJ3ZWJwYWNrOi8vLy4vbWVldGluZ3MvbWVldGluZy9vZmZlcmVkdG9tZW1iZXJzL29mZmVyZWR0b21lbWJlcnMtcGFnZS5qcyIsIndlYnBhY2s6Ly8vLi9tZWV0aW5ncy9tZWV0aW5nL29mZmVyZWR0b21lbWJlcnMvb2ZmZXJlZHRvbWVtYmVycy1wYWdlLnhtbCIsIndlYnBhY2s6Ly8vLi9tZWV0aW5ncy9tZWV0aW5nL3N0YWZmYXR0ZW5kZWVzL3N0YWZmYXR0ZW5kZWVzLXBhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbWVldGluZ3MvbWVldGluZy9zdGFmZmF0dGVuZGVlcy9zdGFmZmF0dGVuZGVlcy1wYWdlLnhtbCIsIndlYnBhY2s6Ly8vLi9tZWV0aW5ncy9tZWV0aW5nL3ZlbnVldHlwZS92ZW51ZXR5cGUtcGFnZS5qcyIsIndlYnBhY2s6Ly8vLi9tZWV0aW5ncy9tZWV0aW5nL3ZlbnVldHlwZS92ZW51ZXR5cGUtcGFnZS54bWwiLCJ3ZWJwYWNrOi8vLy4vbWVldGluZ3MvbWVldGluZy92ZW51ZXR5cGUvdmVudWV0eXBlLXZpZXctbW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbWVldGluZ3MvbWVldGluZ3MtcGFnZS5qcyIsIndlYnBhY2s6Ly8vLi9tZWV0aW5ncy9tZWV0aW5ncy1wYWdlLnhtbCIsIndlYnBhY2s6Ly8vLi9tZWV0aW5ncy9tZWV0aW5ncy12aWV3LW1vZGVsLmpzIiwid2VicGFjazovLy8uL3Byb2ZpbGVzL3Byb2ZpbGUvZmFtaWxpYXJpdHlsZXZlbC12aWV3LW1vZGVsLmpzIiwid2VicGFjazovLy8uL3Byb2ZpbGVzL3Byb2ZpbGUvcHJvZmlsZS1wYWdlLmpzIiwid2VicGFjazovLy8uL3Byb2ZpbGVzL3Byb2ZpbGUvcHJvZmlsZS1wYWdlLnhtbCIsIndlYnBhY2s6Ly8vLi9wcm9maWxlcy9wcm9maWxlL3JlbGF0aW9uc2hpcHR5cGUtdmlldy1tb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9wcm9maWxlcy9wcm9maWxlcy1wYWdlLmpzIiwid2VicGFjazovLy8uL3Byb2ZpbGVzL3Byb2ZpbGVzLXBhZ2UueG1sIiwid2VicGFjazovLy8uL3Byb2ZpbGVzL3Byb2ZpbGVzLXZpZXctbW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vcHJvZmlsZXMvcHJvZmlsZXNlYXJjaC9vbGQvcHJvZmlsZXNlYXJjaC1wYWdlLmpzIiwid2VicGFjazovLy8uL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvb2xkL3Byb2ZpbGVzZWFyY2gtcGFnZS54bWwiLCJ3ZWJwYWNrOi8vLy4vcHJvZmlsZXMvcHJvZmlsZXNlYXJjaC9vbGQvcHJvZmlsZXNlYXJjaC12aWV3LW1vZGVsLmpzIiwid2VicGFjazovLy8uL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvcHJvZmlsZXNlYXJjaC1wYWdlLmpzIiwid2VicGFjazovLy8uL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvcHJvZmlsZXNlYXJjaC1wYWdlLnhtbCIsIndlYnBhY2s6Ly8vLi9wcm9maWxlcy9wcm9maWxlc2VhcmNoL3Byb2ZpbGVzZWFyY2gtdmlldy1tb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi92ZW5kb3ItcGxhdGZvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vdmVuZG9yLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcIn4vcGFja2FnZS5qc29uXCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUU7Ozs7Ozs7QUN0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0o7Ozs7Ozs7QUNoSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZOztBQUVaO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMkMsRUFBRTtBQUM3Qzs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLHdCQUF3QixhQUFhO0FBQ3JDO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7O0FBRUE7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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCO0FBQ2pCOztBQUVBLFNBQVM7QUFDVDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDRDQUE0QyxnQkFBZ0I7QUFDNUQsU0FBUztBQUNUOztBQUVBLDRDQUE0QyxhQUFhO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG9FQUFvRTtBQUN0RjtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBLCtEO0FBQ0E7O0FBRUE7QUFD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QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QixTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsQztBQUNBLElBQUksS0FBVTs7QUFFZDtBQUNBO0FBQ0EsMkJBQTJCLCtFQUErRTtBQUMxRyxLQUFLO0FBQ0wsQzs7Ozs7Ozs7QUNuRUE7QUFDQTtBQUNBO0FBQ0EsQztBQUNBLElBQUksS0FBVTs7QUFFZDtBQUNBO0FBQ0EsMkJBQTJCLCtDQUErQztBQUMxRSxLQUFLO0FBQ0wsQzs7Ozs7Ozs7QUNWQTtBQUNBLG9CQUFvQixtQkFBTyxDQUFDLHlEQUFhO0FBQ3pDLG1CQUFPLENBQUMsOERBQXdCO0FBQ2hDLHNCQUFzQixpRUFBK0Q7QUFDckY7QUFDQTs7QUFFQSxtQkFBTyxDQUFDLHNCQUFtQjs7QUFFM0IsbUJBQU8sQ0FBQywyREFBcUI7QUFDN0IsQztBQUNBLElBQUksS0FBVTs7QUFFZDtBQUNBO0FBQ0EsMkJBQTJCLHNDQUFzQztBQUNqRSxLQUFLO0FBQ0wsQzs7Ozs7Ozs7QUNqQkEsMkMiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG1hcCA9IHtcblx0XCIuL2FwcC5jc3NcIjogXCIuL2FwcC5jc3NcIlxufTtcblxuXG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0dmFyIGlkID0gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSk7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKGlkKTtcbn1cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhtYXAsIHJlcSkpIHtcblx0XHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdHRocm93IGU7XG5cdH1cblx0cmV0dXJuIG1hcFtyZXFdO1xufVxud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IFwiLi8gc3luYyBeXFxcXC5cXFxcL2FwcFxcXFwuKGNzc3xzY3NzfGxlc3N8c2FzcykkXCI7IiwidmFyIG1hcCA9IHtcblx0XCIuL2FwcC1yb290LnhtbFwiOiBcIi4vYXBwLXJvb3QueG1sXCIsXG5cdFwiLi9hcHAuY3NzXCI6IFwiLi9hcHAuY3NzXCIsXG5cdFwiLi9hcHAuanNcIjogXCIuL2FwcC5qc1wiLFxuXHRcIi4vYXNzaWdubWVudHMvYXNzaWdubWVudC9hc3NpZ25tZW50LXBhZ2UuanNcIjogXCIuL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnQvYXNzaWdubWVudC1wYWdlLmpzXCIsXG5cdFwiLi9hc3NpZ25tZW50cy9hc3NpZ25tZW50L2Fzc2lnbm1lbnQtcGFnZS54bWxcIjogXCIuL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnQvYXNzaWdubWVudC1wYWdlLnhtbFwiLFxuXHRcIi4vYXNzaWdubWVudHMvYXNzaWdubWVudHMtcGFnZS5qc1wiOiBcIi4vYXNzaWdubWVudHMvYXNzaWdubWVudHMtcGFnZS5qc1wiLFxuXHRcIi4vYXNzaWdubWVudHMvYXNzaWdubWVudHMtcGFnZS54bWxcIjogXCIuL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnRzLXBhZ2UueG1sXCIsXG5cdFwiLi9hc3NpZ25tZW50cy9hc3NpZ25tZW50cy12aWV3LW1vZGVsLmpzXCI6IFwiLi9hc3NpZ25tZW50cy9hc3NpZ25tZW50cy12aWV3LW1vZGVsLmpzXCIsXG5cdFwiLi9idW5kbGUtY29uZmlnLmpzXCI6IFwiLi9idW5kbGUtY29uZmlnLmpzXCIsXG5cdFwiLi9jb21taXR0ZWVzL2NvbW1pdHRlZS9jb21taXR0ZWUtcGFnZS5qc1wiOiBcIi4vY29tbWl0dGVlcy9jb21taXR0ZWUvY29tbWl0dGVlLXBhZ2UuanNcIixcblx0XCIuL2NvbW1pdHRlZXMvY29tbWl0dGVlL2NvbW1pdHRlZS1wYWdlLnhtbFwiOiBcIi4vY29tbWl0dGVlcy9jb21taXR0ZWUvY29tbWl0dGVlLXBhZ2UueG1sXCIsXG5cdFwiLi9jb21taXR0ZWVzL2NvbW1pdHRlZS9jb21taXR0ZWUtdmlldy1tb2RlbC5qc1wiOiBcIi4vY29tbWl0dGVlcy9jb21taXR0ZWUvY29tbWl0dGVlLXZpZXctbW9kZWwuanNcIixcblx0XCIuL2NvbW1pdHRlZXMvY29tbWl0dGVlcy1wYWdlLmpzXCI6IFwiLi9jb21taXR0ZWVzL2NvbW1pdHRlZXMtcGFnZS5qc1wiLFxuXHRcIi4vY29tbWl0dGVlcy9jb21taXR0ZWVzLXBhZ2UueG1sXCI6IFwiLi9jb21taXR0ZWVzL2NvbW1pdHRlZXMtcGFnZS54bWxcIixcblx0XCIuL2NvbW1pdHRlZXMvY29tbWl0dGVlcy12aWV3LW1vZGVsLmpzXCI6IFwiLi9jb21taXR0ZWVzL2NvbW1pdHRlZXMtdmlldy1tb2RlbC5qc1wiLFxuXHRcIi4vY29tcG9uZW50cy90YWItbmF2aWdhdGlvbi5qc1wiOiBcIi4vY29tcG9uZW50cy90YWItbmF2aWdhdGlvbi5qc1wiLFxuXHRcIi4vaG9tZS9ob21lLXBhZ2UuanNcIjogXCIuL2hvbWUvaG9tZS1wYWdlLmpzXCIsXG5cdFwiLi9ob21lL2hvbWUtcGFnZS54bWxcIjogXCIuL2hvbWUvaG9tZS1wYWdlLnhtbFwiLFxuXHRcIi4vaG9tZS9ob21lLXZpZXctbW9kZWwuanNcIjogXCIuL2hvbWUvaG9tZS12aWV3LW1vZGVsLmpzXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2Jpby9iaW8tcGFnZS5qc1wiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9iaW8vYmlvLXBhZ2UuanNcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvYmlvL2Jpby1wYWdlLnhtbFwiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9iaW8vYmlvLXBhZ2UueG1sXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2NvbW1pdHRlZXMvY29tbWl0dGVlcy1wYWdlLmpzXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2NvbW1pdHRlZXMvY29tbWl0dGVlcy1wYWdlLmpzXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2NvbW1pdHRlZXMvY29tbWl0dGVlcy1wYWdlLnhtbFwiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9jb21taXR0ZWVzL2NvbW1pdHRlZXMtcGFnZS54bWxcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvY29tbWl0dGVlcy9jb21taXR0ZWVzLXZpZXctbW9kZWwuanNcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvY29tbWl0dGVlcy9jb21taXR0ZWVzLXZpZXctbW9kZWwuanNcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvaW5pdGlhdGl2ZXRpZXJzL2luaXRpYXRpdmV0aWVycy1wYWdlLmpzXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2luaXRpYXRpdmV0aWVycy9pbml0aWF0aXZldGllcnMtcGFnZS5qc1wiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9pbml0aWF0aXZldGllcnMvaW5pdGlhdGl2ZXRpZXJzLXBhZ2UueG1sXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2luaXRpYXRpdmV0aWVycy9pbml0aWF0aXZldGllcnMtcGFnZS54bWxcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvaW5pdGlhdGl2ZXRpZXJzL2luaXRpYXRpdmV0aWVycy12aWV3LW1vZGVsLmpzXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2luaXRpYXRpdmV0aWVycy9pbml0aWF0aXZldGllcnMtdmlldy1tb2RlbC5qc1wiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9sZWdpc2xhdG9yLXBhZ2UuanNcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvbGVnaXNsYXRvci1wYWdlLmpzXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2xlZ2lzbGF0b3ItcGFnZS54bWxcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvbGVnaXNsYXRvci1wYWdlLnhtbFwiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9sZWdpc2xhdG9yLXZpZXctbW9kZWwuanNcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvbGVnaXNsYXRvci12aWV3LW1vZGVsLmpzXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc2VsZWN0L3NlbGVjdC1wYWdlLmpzXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc2VsZWN0L3NlbGVjdC1wYWdlLmpzXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc2VsZWN0L3NlbGVjdC1wYWdlLnhtbFwiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3NlbGVjdC9zZWxlY3QtcGFnZS54bWxcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zZWxlY3Qvc2VsZWN0LXZpZXctbW9kZWwuanNcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zZWxlY3Qvc2VsZWN0LXZpZXctbW9kZWwuanNcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXkvcXVlc3Rpb24vcXVlc3Rpb24tcGFnZS5qc1wiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9xdWVzdGlvbi9xdWVzdGlvbi1wYWdlLmpzXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5L3F1ZXN0aW9uL3F1ZXN0aW9uLXBhZ2UueG1sXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5L3F1ZXN0aW9uL3F1ZXN0aW9uLXBhZ2UueG1sXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5L3F1ZXN0aW9uL3Jlc3BvbnNlLXZpZXctbW9kZWwuanNcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXkvcXVlc3Rpb24vcmVzcG9uc2Utdmlldy1tb2RlbC5qc1wiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9zdXJ2ZXktcGFnZS5qc1wiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9zdXJ2ZXktcGFnZS5qc1wiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9zdXJ2ZXktcGFnZS54bWxcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXkvc3VydmV5LXBhZ2UueG1sXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5L3N1cnZleS12aWV3LW1vZGVsLmpzXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5L3N1cnZleS12aWV3LW1vZGVsLmpzXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5cy1wYWdlLmpzXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5cy1wYWdlLmpzXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5cy1wYWdlLnhtbFwiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleXMtcGFnZS54bWxcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXlzLXZpZXctbW9kZWwuanNcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXlzLXZpZXctbW9kZWwuanNcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3JzLXBhZ2UuanNcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3JzLXBhZ2UuanNcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3JzLXBhZ2UueG1sXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9ycy1wYWdlLnhtbFwiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvcnMtdmlldy1tb2RlbC5qc1wiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvcnMtdmlldy1tb2RlbC5qc1wiLFxuXHRcIi4vbG9naW4vbG9naW4tcGFnZS5qc1wiOiBcIi4vbG9naW4vbG9naW4tcGFnZS5qc1wiLFxuXHRcIi4vbG9naW4vbG9naW4tcGFnZS54bWxcIjogXCIuL2xvZ2luL2xvZ2luLXBhZ2UueG1sXCIsXG5cdFwiLi9sb2dpbi9sb2dpbi12aWV3LW1vZGVsLmpzXCI6IFwiLi9sb2dpbi9sb2dpbi12aWV3LW1vZGVsLmpzXCIsXG5cdFwiLi9tYWluLXBhZ2UuanNcIjogXCIuL21haW4tcGFnZS5qc1wiLFxuXHRcIi4vbWFpbi1wYWdlLnhtbFwiOiBcIi4vbWFpbi1wYWdlLnhtbFwiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9hdHRlbmRlZXR5cGUvYXR0ZW5kZWV0eXBlLXBhZ2UuanNcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvYXR0ZW5kZWV0eXBlL2F0dGVuZGVldHlwZS1wYWdlLmpzXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL2F0dGVuZGVldHlwZS9hdHRlbmRlZXR5cGUtcGFnZS54bWxcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvYXR0ZW5kZWV0eXBlL2F0dGVuZGVldHlwZS1wYWdlLnhtbFwiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9hdHRlbmRlZXR5cGUvYXR0ZW5kZWV0eXBlLXZpZXctbW9kZWwuanNcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvYXR0ZW5kZWV0eXBlL2F0dGVuZGVldHlwZS12aWV3LW1vZGVsLmpzXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL2ZvbGxvd3VwL2ZvbGxvd3VwLXBhZ2UuanNcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvZm9sbG93dXAvZm9sbG93dXAtcGFnZS5qc1wiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9mb2xsb3d1cC9mb2xsb3d1cC1wYWdlLnhtbFwiOiBcIi4vbWVldGluZ3MvbWVldGluZy9mb2xsb3d1cC9mb2xsb3d1cC1wYWdlLnhtbFwiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9pbml0aWF0aXZlcy9pbml0aWF0aXZlcy1wYWdlLmpzXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL2luaXRpYXRpdmVzL2luaXRpYXRpdmVzLXBhZ2UuanNcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvaW5pdGlhdGl2ZXMvaW5pdGlhdGl2ZXMtcGFnZS54bWxcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvaW5pdGlhdGl2ZXMvaW5pdGlhdGl2ZXMtcGFnZS54bWxcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvaW5pdGlhdGl2ZXMvaW5pdGlhdGl2ZXMtdmlldy1tb2RlbC5qc1wiOiBcIi4vbWVldGluZ3MvbWVldGluZy9pbml0aWF0aXZlcy9pbml0aWF0aXZlcy12aWV3LW1vZGVsLmpzXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmctcGFnZS5qc1wiOiBcIi4vbWVldGluZ3MvbWVldGluZy9tZWV0aW5nLXBhZ2UuanNcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvbWVldGluZy1wYWdlLnhtbFwiOiBcIi4vbWVldGluZ3MvbWVldGluZy9tZWV0aW5nLXBhZ2UueG1sXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmctdmlldy1tb2RlbC5qc1wiOiBcIi4vbWVldGluZ3MvbWVldGluZy9tZWV0aW5nLXZpZXctbW9kZWwuanNcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvbWVldGluZ2xvY2F0aW9uL21lZXRpbmdsb2NhdGlvbi1wYWdlLmpzXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmdsb2NhdGlvbi9tZWV0aW5nbG9jYXRpb24tcGFnZS5qc1wiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9tZWV0aW5nbG9jYXRpb24vbWVldGluZ2xvY2F0aW9uLXBhZ2UueG1sXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmdsb2NhdGlvbi9tZWV0aW5nbG9jYXRpb24tcGFnZS54bWxcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvbWVldGluZ2xvY2F0aW9uL21lZXRpbmdsb2NhdGlvbi12aWV3LW1vZGVsLmpzXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmdsb2NhdGlvbi9tZWV0aW5nbG9jYXRpb24tdmlldy1tb2RlbC5qc1wiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9ub3Rlcy9ub3Rlcy1wYWdlLmpzXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL25vdGVzL25vdGVzLXBhZ2UuanNcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvbm90ZXMvbm90ZXMtcGFnZS54bWxcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvbm90ZXMvbm90ZXMtcGFnZS54bWxcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvb2ZmZXJlZHRvbWVtYmVycy9vZmZlcmVkdG9tZW1iZXJzLXBhZ2UuanNcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvb2ZmZXJlZHRvbWVtYmVycy9vZmZlcmVkdG9tZW1iZXJzLXBhZ2UuanNcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvb2ZmZXJlZHRvbWVtYmVycy9vZmZlcmVkdG9tZW1iZXJzLXBhZ2UueG1sXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL29mZmVyZWR0b21lbWJlcnMvb2ZmZXJlZHRvbWVtYmVycy1wYWdlLnhtbFwiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9zdGFmZmF0dGVuZGVlcy9zdGFmZmF0dGVuZGVlcy1wYWdlLmpzXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL3N0YWZmYXR0ZW5kZWVzL3N0YWZmYXR0ZW5kZWVzLXBhZ2UuanNcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvc3RhZmZhdHRlbmRlZXMvc3RhZmZhdHRlbmRlZXMtcGFnZS54bWxcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvc3RhZmZhdHRlbmRlZXMvc3RhZmZhdHRlbmRlZXMtcGFnZS54bWxcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvdmVudWV0eXBlL3ZlbnVldHlwZS1wYWdlLmpzXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL3ZlbnVldHlwZS92ZW51ZXR5cGUtcGFnZS5qc1wiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy92ZW51ZXR5cGUvdmVudWV0eXBlLXBhZ2UueG1sXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL3ZlbnVldHlwZS92ZW51ZXR5cGUtcGFnZS54bWxcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvdmVudWV0eXBlL3ZlbnVldHlwZS12aWV3LW1vZGVsLmpzXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL3ZlbnVldHlwZS92ZW51ZXR5cGUtdmlldy1tb2RlbC5qc1wiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZ3MtcGFnZS5qc1wiOiBcIi4vbWVldGluZ3MvbWVldGluZ3MtcGFnZS5qc1wiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZ3MtcGFnZS54bWxcIjogXCIuL21lZXRpbmdzL21lZXRpbmdzLXBhZ2UueG1sXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5ncy12aWV3LW1vZGVsLmpzXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5ncy12aWV3LW1vZGVsLmpzXCIsXG5cdFwiLi9wcm9maWxlcy9wcm9maWxlL2ZhbWlsaWFyaXR5bGV2ZWwtdmlldy1tb2RlbC5qc1wiOiBcIi4vcHJvZmlsZXMvcHJvZmlsZS9mYW1pbGlhcml0eWxldmVsLXZpZXctbW9kZWwuanNcIixcblx0XCIuL3Byb2ZpbGVzL3Byb2ZpbGUvcHJvZmlsZS1wYWdlLmpzXCI6IFwiLi9wcm9maWxlcy9wcm9maWxlL3Byb2ZpbGUtcGFnZS5qc1wiLFxuXHRcIi4vcHJvZmlsZXMvcHJvZmlsZS9wcm9maWxlLXBhZ2UueG1sXCI6IFwiLi9wcm9maWxlcy9wcm9maWxlL3Byb2ZpbGUtcGFnZS54bWxcIixcblx0XCIuL3Byb2ZpbGVzL3Byb2ZpbGUvcmVsYXRpb25zaGlwdHlwZS12aWV3LW1vZGVsLmpzXCI6IFwiLi9wcm9maWxlcy9wcm9maWxlL3JlbGF0aW9uc2hpcHR5cGUtdmlldy1tb2RlbC5qc1wiLFxuXHRcIi4vcHJvZmlsZXMvcHJvZmlsZXMtcGFnZS5qc1wiOiBcIi4vcHJvZmlsZXMvcHJvZmlsZXMtcGFnZS5qc1wiLFxuXHRcIi4vcHJvZmlsZXMvcHJvZmlsZXMtcGFnZS54bWxcIjogXCIuL3Byb2ZpbGVzL3Byb2ZpbGVzLXBhZ2UueG1sXCIsXG5cdFwiLi9wcm9maWxlcy9wcm9maWxlcy12aWV3LW1vZGVsLmpzXCI6IFwiLi9wcm9maWxlcy9wcm9maWxlcy12aWV3LW1vZGVsLmpzXCIsXG5cdFwiLi9wcm9maWxlcy9wcm9maWxlc2VhcmNoL29sZC9wcm9maWxlc2VhcmNoLXBhZ2UuanNcIjogXCIuL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvb2xkL3Byb2ZpbGVzZWFyY2gtcGFnZS5qc1wiLFxuXHRcIi4vcHJvZmlsZXMvcHJvZmlsZXNlYXJjaC9vbGQvcHJvZmlsZXNlYXJjaC1wYWdlLnhtbFwiOiBcIi4vcHJvZmlsZXMvcHJvZmlsZXNlYXJjaC9vbGQvcHJvZmlsZXNlYXJjaC1wYWdlLnhtbFwiLFxuXHRcIi4vcHJvZmlsZXMvcHJvZmlsZXNlYXJjaC9vbGQvcHJvZmlsZXNlYXJjaC12aWV3LW1vZGVsLmpzXCI6IFwiLi9wcm9maWxlcy9wcm9maWxlc2VhcmNoL29sZC9wcm9maWxlc2VhcmNoLXZpZXctbW9kZWwuanNcIixcblx0XCIuL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvcHJvZmlsZXNlYXJjaC1wYWdlLmpzXCI6IFwiLi9wcm9maWxlcy9wcm9maWxlc2VhcmNoL3Byb2ZpbGVzZWFyY2gtcGFnZS5qc1wiLFxuXHRcIi4vcHJvZmlsZXMvcHJvZmlsZXNlYXJjaC9wcm9maWxlc2VhcmNoLXBhZ2UueG1sXCI6IFwiLi9wcm9maWxlcy9wcm9maWxlc2VhcmNoL3Byb2ZpbGVzZWFyY2gtcGFnZS54bWxcIixcblx0XCIuL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvcHJvZmlsZXNlYXJjaC12aWV3LW1vZGVsLmpzXCI6IFwiLi9wcm9maWxlcy9wcm9maWxlc2VhcmNoL3Byb2ZpbGVzZWFyY2gtdmlldy1tb2RlbC5qc1wiLFxuXHRcIi4vdmVuZG9yLXBsYXRmb3JtLmpzXCI6IFwiLi92ZW5kb3ItcGxhdGZvcm0uanNcIixcblx0XCIuL3ZlbmRvci5qc1wiOiBcIi4vdmVuZG9yLmpzXCJcbn07XG5cblxuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHZhciBpZCA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpO1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhpZCk7XG59XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0XHR0aHJvdyBlO1xuXHR9XG5cdHJldHVybiBtYXBbcmVxXTtcbn1cbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSBcIi4vIHN5bmMgcmVjdXJzaXZlICg/PCFcXFxcYkFwcF9SZXNvdXJjZXNcXFxcYi4qKSg/PCFcXFxcLlxcXFwvXFxcXGJ0ZXN0c1xcXFxiXFxcXC8uKj8pXFxcXC4oeG1sfGNzc3xqc3woPzwhXFxcXC5kXFxcXC4pdHN8KD88IVxcXFxiX1tcXFxcdy1dKlxcXFwuKXNjc3MpJFwiOyIsInZhciBtYXAgPSB7XG5cdFwiLi9hc3NpZ25tZW50cy9hc3NpZ25tZW50L2Fzc2lnbm1lbnQtcGFnZS5qc1wiOiBcIi4vYXNzaWdubWVudHMvYXNzaWdubWVudC9hc3NpZ25tZW50LXBhZ2UuanNcIixcblx0XCIuL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnQvYXNzaWdubWVudC1wYWdlLnhtbFwiOiBcIi4vYXNzaWdubWVudHMvYXNzaWdubWVudC9hc3NpZ25tZW50LXBhZ2UueG1sXCIsXG5cdFwiLi9hc3NpZ25tZW50cy9hc3NpZ25tZW50cy1wYWdlLmpzXCI6IFwiLi9hc3NpZ25tZW50cy9hc3NpZ25tZW50cy1wYWdlLmpzXCIsXG5cdFwiLi9hc3NpZ25tZW50cy9hc3NpZ25tZW50cy1wYWdlLnhtbFwiOiBcIi4vYXNzaWdubWVudHMvYXNzaWdubWVudHMtcGFnZS54bWxcIixcblx0XCIuL2NvbW1pdHRlZXMvY29tbWl0dGVlL2NvbW1pdHRlZS1wYWdlLmpzXCI6IFwiLi9jb21taXR0ZWVzL2NvbW1pdHRlZS9jb21taXR0ZWUtcGFnZS5qc1wiLFxuXHRcIi4vY29tbWl0dGVlcy9jb21taXR0ZWUvY29tbWl0dGVlLXBhZ2UueG1sXCI6IFwiLi9jb21taXR0ZWVzL2NvbW1pdHRlZS9jb21taXR0ZWUtcGFnZS54bWxcIixcblx0XCIuL2NvbW1pdHRlZXMvY29tbWl0dGVlcy1wYWdlLmpzXCI6IFwiLi9jb21taXR0ZWVzL2NvbW1pdHRlZXMtcGFnZS5qc1wiLFxuXHRcIi4vY29tbWl0dGVlcy9jb21taXR0ZWVzLXBhZ2UueG1sXCI6IFwiLi9jb21taXR0ZWVzL2NvbW1pdHRlZXMtcGFnZS54bWxcIixcblx0XCIuL2hvbWUvaG9tZS1wYWdlLmpzXCI6IFwiLi9ob21lL2hvbWUtcGFnZS5qc1wiLFxuXHRcIi4vaG9tZS9ob21lLXBhZ2UueG1sXCI6IFwiLi9ob21lL2hvbWUtcGFnZS54bWxcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvYmlvL2Jpby1wYWdlLmpzXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2Jpby9iaW8tcGFnZS5qc1wiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9iaW8vYmlvLXBhZ2UueG1sXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2Jpby9iaW8tcGFnZS54bWxcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvY29tbWl0dGVlcy9jb21taXR0ZWVzLXBhZ2UuanNcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvY29tbWl0dGVlcy9jb21taXR0ZWVzLXBhZ2UuanNcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvY29tbWl0dGVlcy9jb21taXR0ZWVzLXBhZ2UueG1sXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2NvbW1pdHRlZXMvY29tbWl0dGVlcy1wYWdlLnhtbFwiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9pbml0aWF0aXZldGllcnMvaW5pdGlhdGl2ZXRpZXJzLXBhZ2UuanNcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvaW5pdGlhdGl2ZXRpZXJzL2luaXRpYXRpdmV0aWVycy1wYWdlLmpzXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2luaXRpYXRpdmV0aWVycy9pbml0aWF0aXZldGllcnMtcGFnZS54bWxcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvaW5pdGlhdGl2ZXRpZXJzL2luaXRpYXRpdmV0aWVycy1wYWdlLnhtbFwiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9sZWdpc2xhdG9yLXBhZ2UuanNcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvbGVnaXNsYXRvci1wYWdlLmpzXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2xlZ2lzbGF0b3ItcGFnZS54bWxcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvbGVnaXNsYXRvci1wYWdlLnhtbFwiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3NlbGVjdC9zZWxlY3QtcGFnZS5qc1wiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3NlbGVjdC9zZWxlY3QtcGFnZS5qc1wiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3NlbGVjdC9zZWxlY3QtcGFnZS54bWxcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zZWxlY3Qvc2VsZWN0LXBhZ2UueG1sXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5L3F1ZXN0aW9uL3F1ZXN0aW9uLXBhZ2UuanNcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXkvcXVlc3Rpb24vcXVlc3Rpb24tcGFnZS5qc1wiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9xdWVzdGlvbi9xdWVzdGlvbi1wYWdlLnhtbFwiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9xdWVzdGlvbi9xdWVzdGlvbi1wYWdlLnhtbFwiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9zdXJ2ZXktcGFnZS5qc1wiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9zdXJ2ZXktcGFnZS5qc1wiLFxuXHRcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9zdXJ2ZXktcGFnZS54bWxcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXkvc3VydmV5LXBhZ2UueG1sXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5cy1wYWdlLmpzXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5cy1wYWdlLmpzXCIsXG5cdFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5cy1wYWdlLnhtbFwiOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleXMtcGFnZS54bWxcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3JzLXBhZ2UuanNcIjogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3JzLXBhZ2UuanNcIixcblx0XCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3JzLXBhZ2UueG1sXCI6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9ycy1wYWdlLnhtbFwiLFxuXHRcIi4vbG9naW4vbG9naW4tcGFnZS5qc1wiOiBcIi4vbG9naW4vbG9naW4tcGFnZS5qc1wiLFxuXHRcIi4vbG9naW4vbG9naW4tcGFnZS54bWxcIjogXCIuL2xvZ2luL2xvZ2luLXBhZ2UueG1sXCIsXG5cdFwiLi9tYWluLXBhZ2UuanNcIjogXCIuL21haW4tcGFnZS5qc1wiLFxuXHRcIi4vbWFpbi1wYWdlLnhtbFwiOiBcIi4vbWFpbi1wYWdlLnhtbFwiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9hdHRlbmRlZXR5cGUvYXR0ZW5kZWV0eXBlLXBhZ2UuanNcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvYXR0ZW5kZWV0eXBlL2F0dGVuZGVldHlwZS1wYWdlLmpzXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL2F0dGVuZGVldHlwZS9hdHRlbmRlZXR5cGUtcGFnZS54bWxcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvYXR0ZW5kZWV0eXBlL2F0dGVuZGVldHlwZS1wYWdlLnhtbFwiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9mb2xsb3d1cC9mb2xsb3d1cC1wYWdlLmpzXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL2ZvbGxvd3VwL2ZvbGxvd3VwLXBhZ2UuanNcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvZm9sbG93dXAvZm9sbG93dXAtcGFnZS54bWxcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvZm9sbG93dXAvZm9sbG93dXAtcGFnZS54bWxcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvaW5pdGlhdGl2ZXMvaW5pdGlhdGl2ZXMtcGFnZS5qc1wiOiBcIi4vbWVldGluZ3MvbWVldGluZy9pbml0aWF0aXZlcy9pbml0aWF0aXZlcy1wYWdlLmpzXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL2luaXRpYXRpdmVzL2luaXRpYXRpdmVzLXBhZ2UueG1sXCI6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL2luaXRpYXRpdmVzL2luaXRpYXRpdmVzLXBhZ2UueG1sXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmctcGFnZS5qc1wiOiBcIi4vbWVldGluZ3MvbWVldGluZy9tZWV0aW5nLXBhZ2UuanNcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvbWVldGluZy1wYWdlLnhtbFwiOiBcIi4vbWVldGluZ3MvbWVldGluZy9tZWV0aW5nLXBhZ2UueG1sXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmdsb2NhdGlvbi9tZWV0aW5nbG9jYXRpb24tcGFnZS5qc1wiOiBcIi4vbWVldGluZ3MvbWVldGluZy9tZWV0aW5nbG9jYXRpb24vbWVldGluZ2xvY2F0aW9uLXBhZ2UuanNcIixcblx0XCIuL21lZXRpbmdzL21lZXRpbmcvbWVldGluZ2xvY2F0aW9uL21lZXRpbmdsb2NhdGlvbi1wYWdlLnhtbFwiOiBcIi4vbWVldGluZ3MvbWVldGluZy9tZWV0aW5nbG9jYXRpb24vbWVldGluZ2xvY2F0aW9uLXBhZ2UueG1sXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL25vdGVzL25vdGVzLXBhZ2UuanNcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvbm90ZXMvbm90ZXMtcGFnZS5qc1wiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9ub3Rlcy9ub3Rlcy1wYWdlLnhtbFwiOiBcIi4vbWVldGluZ3MvbWVldGluZy9ub3Rlcy9ub3Rlcy1wYWdlLnhtbFwiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9vZmZlcmVkdG9tZW1iZXJzL29mZmVyZWR0b21lbWJlcnMtcGFnZS5qc1wiOiBcIi4vbWVldGluZ3MvbWVldGluZy9vZmZlcmVkdG9tZW1iZXJzL29mZmVyZWR0b21lbWJlcnMtcGFnZS5qc1wiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9vZmZlcmVkdG9tZW1iZXJzL29mZmVyZWR0b21lbWJlcnMtcGFnZS54bWxcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvb2ZmZXJlZHRvbWVtYmVycy9vZmZlcmVkdG9tZW1iZXJzLXBhZ2UueG1sXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL3N0YWZmYXR0ZW5kZWVzL3N0YWZmYXR0ZW5kZWVzLXBhZ2UuanNcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvc3RhZmZhdHRlbmRlZXMvc3RhZmZhdHRlbmRlZXMtcGFnZS5qc1wiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy9zdGFmZmF0dGVuZGVlcy9zdGFmZmF0dGVuZGVlcy1wYWdlLnhtbFwiOiBcIi4vbWVldGluZ3MvbWVldGluZy9zdGFmZmF0dGVuZGVlcy9zdGFmZmF0dGVuZGVlcy1wYWdlLnhtbFwiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZy92ZW51ZXR5cGUvdmVudWV0eXBlLXBhZ2UuanNcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvdmVudWV0eXBlL3ZlbnVldHlwZS1wYWdlLmpzXCIsXG5cdFwiLi9tZWV0aW5ncy9tZWV0aW5nL3ZlbnVldHlwZS92ZW51ZXR5cGUtcGFnZS54bWxcIjogXCIuL21lZXRpbmdzL21lZXRpbmcvdmVudWV0eXBlL3ZlbnVldHlwZS1wYWdlLnhtbFwiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZ3MtcGFnZS5qc1wiOiBcIi4vbWVldGluZ3MvbWVldGluZ3MtcGFnZS5qc1wiLFxuXHRcIi4vbWVldGluZ3MvbWVldGluZ3MtcGFnZS54bWxcIjogXCIuL21lZXRpbmdzL21lZXRpbmdzLXBhZ2UueG1sXCIsXG5cdFwiLi9wcm9maWxlcy9wcm9maWxlL3Byb2ZpbGUtcGFnZS5qc1wiOiBcIi4vcHJvZmlsZXMvcHJvZmlsZS9wcm9maWxlLXBhZ2UuanNcIixcblx0XCIuL3Byb2ZpbGVzL3Byb2ZpbGUvcHJvZmlsZS1wYWdlLnhtbFwiOiBcIi4vcHJvZmlsZXMvcHJvZmlsZS9wcm9maWxlLXBhZ2UueG1sXCIsXG5cdFwiLi9wcm9maWxlcy9wcm9maWxlcy1wYWdlLmpzXCI6IFwiLi9wcm9maWxlcy9wcm9maWxlcy1wYWdlLmpzXCIsXG5cdFwiLi9wcm9maWxlcy9wcm9maWxlcy1wYWdlLnhtbFwiOiBcIi4vcHJvZmlsZXMvcHJvZmlsZXMtcGFnZS54bWxcIixcblx0XCIuL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvb2xkL3Byb2ZpbGVzZWFyY2gtcGFnZS5qc1wiOiBcIi4vcHJvZmlsZXMvcHJvZmlsZXNlYXJjaC9vbGQvcHJvZmlsZXNlYXJjaC1wYWdlLmpzXCIsXG5cdFwiLi9wcm9maWxlcy9wcm9maWxlc2VhcmNoL29sZC9wcm9maWxlc2VhcmNoLXBhZ2UueG1sXCI6IFwiLi9wcm9maWxlcy9wcm9maWxlc2VhcmNoL29sZC9wcm9maWxlc2VhcmNoLXBhZ2UueG1sXCIsXG5cdFwiLi9wcm9maWxlcy9wcm9maWxlc2VhcmNoL3Byb2ZpbGVzZWFyY2gtcGFnZS5qc1wiOiBcIi4vcHJvZmlsZXMvcHJvZmlsZXNlYXJjaC9wcm9maWxlc2VhcmNoLXBhZ2UuanNcIixcblx0XCIuL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvcHJvZmlsZXNlYXJjaC1wYWdlLnhtbFwiOiBcIi4vcHJvZmlsZXMvcHJvZmlsZXNlYXJjaC9wcm9maWxlc2VhcmNoLXBhZ2UueG1sXCJcbn07XG5cblxuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHZhciBpZCA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpO1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhpZCk7XG59XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0XHR0aHJvdyBlO1xuXHR9XG5cdHJldHVybiBtYXBbcmVxXTtcbn1cbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSBcIi4vIHN5bmMgcmVjdXJzaXZlIChwYWdlfGZyYWdtZW50KVxcXFwuKHhtbHxjc3N8anN8dHN8c2NzcykkXCI7IiwiXG5tb2R1bGUuZXhwb3J0cyA9IFwiPEZyYW1lIGRlZmF1bHRQYWdlPVxcXCJsb2dpbi9sb2dpbi1wYWdlXFxcIj48L0ZyYW1lPlwiOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2FwcC1yb290LnhtbFwiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJtYXJrdXBcIiwgcGF0aDogXCIuL2FwcC1yb290LnhtbFwiIH0pO1xuICAgIH0pO1xufSAiLCJtb2R1bGUuZXhwb3J0cyA9IHtcInR5cGVcIjpcInN0eWxlc2hlZXRcIixcInN0eWxlc2hlZXRcIjp7XCJydWxlc1wiOlt7XCJ0eXBlXCI6XCJjb21tZW50XCIsXCJjb21tZW50XCI6XCJcXG5JbiBOYXRpdmVTY3JpcHQsIHRoZSBhcHAuY3NzIGZpbGUgaXMgd2hlcmUgeW91IHBsYWNlIENTUyBydWxlcyB0aGF0XFxueW91IHdvdWxkIGxpa2UgdG8gYXBwbHkgdG8geW91ciBlbnRpcmUgYXBwbGljYXRpb24uIENoZWNrIG91dFxcbmh0dHA6Ly9kb2NzLm5hdGl2ZXNjcmlwdC5vcmcvdWkvc3R5bGluZyBmb3IgYSBmdWxsIGxpc3Qgb2YgdGhlIENTU1xcbnNlbGVjdG9ycyBhbmQgcHJvcGVydGllcyB5b3UgY2FuIHVzZSB0byBzdHlsZSBVSSBjb21wb25lbnRzLlxcblxcbi8qXFxuRm9yIGV4YW1wbGUsIHRoZSBmb2xsb3dpbmcgQ1NTIHJ1bGUgY2hhbmdlcyB0aGUgZm9udCBzaXplIG9mIGFsbCBVSVxcbmNvbXBvbmVudHMgdGhhdCBoYXZlIHRoZSBidG4gY2xhc3MgbmFtZS5cXG5cIn0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiQWN0aXZpdHlJbmRpY2F0b3JcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcIiMwMDc1YmVcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCJQYWdlXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYmFja2dyb3VuZC1jb2xvclwiLFwidmFsdWVcIjpcIiNlZWVcIn0se1widHlwZVwiOlwiY29tbWVudFwiLFwiY29tbWVudFwiOlwiIG1hcmdpbi10b3A6IC0yMDsgZml4IG5lc3RlZCBmcmFtZSBzcGFjaW5nIFwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5pb3MgLnBhZ2VcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tdG9wXCIsXCJ2YWx1ZVwiOlwiMFwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5hbmRyb2lkIFRleHRGaWVsZFwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnRcIixcInZhbHVlXCI6XCIxNFwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5hbmRyb2lkIC5sb2dpbi1maWVsZFwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1ib3R0b21cIixcInZhbHVlXCI6XCIwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLWxlZnRcIixcInZhbHVlXCI6XCIxMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1yaWdodFwiLFwidmFsdWVcIjpcIjEwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLXRvcFwiLFwidmFsdWVcIjpcIjBcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuaW9zIC5sb2dpbi1maWVsZFwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1ib3R0b21cIixcInZhbHVlXCI6XCIxMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1sZWZ0XCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tcmlnaHRcIixcInZhbHVlXCI6XCIxNVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi10b3BcIixcInZhbHVlXCI6XCIxMFwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5hbmRyb2lkIC5sb2dpbi1maWVsZC1zd2l0Y2hcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tYm90dG9tXCIsXCJ2YWx1ZVwiOlwiNVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1sZWZ0XCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tcmlnaHRcIixcInZhbHVlXCI6XCIxMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi10b3BcIixcInZhbHVlXCI6XCI1XCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmlvcyAubG9naW4tZmllbGQtc3dpdGNoXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLWJvdHRvbVwiLFwidmFsdWVcIjpcIjVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tbGVmdFwiLFwidmFsdWVcIjpcIjEwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLXJpZ2h0XCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tdG9wXCIsXCJ2YWx1ZVwiOlwiNVwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5oci1saWdodFwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJhY2tncm91bmQtY29sb3JcIixcInZhbHVlXCI6XCIjZTBlMGUwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiaGVpZ2h0XCIsXCJ2YWx1ZVwiOlwiMVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIndpZHRoXCIsXCJ2YWx1ZVwiOlwiMTAwJVwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5oci1kYXJrXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiaGVpZ2h0XCIsXCJ2YWx1ZVwiOlwiMVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJhY2tncm91bmQtY29sb3JcIixcInZhbHVlXCI6XCIjMzAzMDMwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwid2lkdGhcIixcInZhbHVlXCI6XCIxMDAlXCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmFuZHJvaWQgLmJ1dHRvblwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJhY2tncm91bmRcIixcInZhbHVlXCI6XCIjZWVlXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYm9yZGVyLWNvbG9yXCIsXCJ2YWx1ZVwiOlwiI2NjY1wifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci1yYWRpdXNcIixcInZhbHVlXCI6XCIzXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYm9yZGVyLXN0eWxlXCIsXCJ2YWx1ZVwiOlwic29saWRcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXItd2lkdGhcIixcInZhbHVlXCI6XCIxXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiY29sb3JcIixcInZhbHVlXCI6XCJibGFja1wifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjEyXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiaGVpZ2h0XCIsXCJ2YWx1ZVwiOlwiMzBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tYm90dG9tXCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tdG9wXCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nXCIsXCJ2YWx1ZVwiOlwiMFwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5pb3MgLmJ1dHRvblwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJhY2tncm91bmRcIixcInZhbHVlXCI6XCIjZWVlXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYm9yZGVyLWNvbG9yXCIsXCJ2YWx1ZVwiOlwiI2NjY1wifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci1yYWRpdXNcIixcInZhbHVlXCI6XCIzXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYm9yZGVyLXN0eWxlXCIsXCJ2YWx1ZVwiOlwic29saWRcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXItd2lkdGhcIixcInZhbHVlXCI6XCIxXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiY29sb3JcIixcInZhbHVlXCI6XCJibGFja1wifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjE4XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLWJvdHRvbVwiLFwidmFsdWVcIjpcIjEwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLXRvcFwiLFwidmFsdWVcIjpcIjEwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZ1wiLFwidmFsdWVcIjpcIjVcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuYW5kcm9pZCAubG9naW4tYnV0dG9uXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYmFja2dyb3VuZFwiLFwidmFsdWVcIjpcIiNjY2NcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXItY29sb3JcIixcInZhbHVlXCI6XCIjOTk5XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYm9yZGVyLXJhZGl1c1wiLFwidmFsdWVcIjpcIjNcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXItc3R5bGVcIixcInZhbHVlXCI6XCJzb2xpZFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci13aWR0aFwiLFwidmFsdWVcIjpcIjFcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcImJsYWNrXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTJcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJoZWlnaHRcIixcInZhbHVlXCI6XCIzMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1ib3R0b21cIixcInZhbHVlXCI6XCIxMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi10b3BcIixcInZhbHVlXCI6XCIxMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInBhZGRpbmdcIixcInZhbHVlXCI6XCI1XCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmlvcyAubG9naW4tYnV0dG9uXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYmFja2dyb3VuZFwiLFwidmFsdWVcIjpcIiMwMDc1YmVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXItY29sb3JcIixcInZhbHVlXCI6XCIjMDA3NWJlXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYm9yZGVyLXJhZGl1c1wiLFwidmFsdWVcIjpcIjNcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXItc3R5bGVcIixcInZhbHVlXCI6XCJzb2xpZFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci13aWR0aFwiLFwidmFsdWVcIjpcIjFcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcIndoaXRlXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMThcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tYm90dG9tXCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tdG9wXCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nXCIsXCJ2YWx1ZVwiOlwiMTBcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuYW5kcm9pZCAuZm9yZ290LWJ1dHRvblwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJhY2tncm91bmRcIixcInZhbHVlXCI6XCJ0cmFuc3BhcmVudFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlclwiLFwidmFsdWVcIjpcIm5vbmVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcIiNlYTA5MmFcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxMVwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5pb3MgLmZvcmdvdC1idXR0b25cIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJiYWNrZ3JvdW5kXCIsXCJ2YWx1ZVwiOlwidHJhbnNwYXJlbnRcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXJcIixcInZhbHVlXCI6XCJub25lXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiY29sb3JcIixcInZhbHVlXCI6XCIjZWEwOTJhXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTZcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIubmF2aWdhdGlvbi1mcmFtZSBQYWdlXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImNvbW1lbnRcIixcImNvbW1lbnRcIjpcIiBtYXJnaW4tdG9wOiAyMDsgZml4IG5lc3RlZCBmcmFtZSBzcGFjaW5nIFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJhY2tncm91bmQtY29sb3JcIixcInZhbHVlXCI6XCJ3aGl0ZVwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi50YWJcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiY29tbWVudFwiLFwiY29tbWVudFwiOlwiIHBhZGRpbmc6IDEwOyBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXItdG9wLWNvbG9yXCIsXCJ2YWx1ZVwiOlwiI2RkZFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci10b3Atd2lkdGhcIixcInZhbHVlXCI6XCIxXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYmFja2dyb3VuZC1jb2xvclwiLFwidmFsdWVcIjpcIiNlZWVlZWVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcIiM5OTlcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIudGFiLXNlbGVjdGVkXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiY29sb3JcIixcInZhbHVlXCI6XCIjMDA3NWJlXCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmFuZHJvaWQgLnRhYi1pY29uXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwidGV4dC1hbGlnblwiLFwidmFsdWVcIjpcImNlbnRlclwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjIyXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1mYW1pbHlcIixcInZhbHVlXCI6XCJmb250YXdlc29tZVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1ib3R0b21cIixcInZhbHVlXCI6XCI1XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLXRvcFwiLFwidmFsdWVcIjpcIjVcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuaW9zIC50YWItaWNvblwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInRleHQtYWxpZ25cIixcInZhbHVlXCI6XCJjZW50ZXJcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIyMlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtZmFtaWx5XCIsXCJ2YWx1ZVwiOlwiJ0ZvbnRBd2Vzb21lJ1wifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1ib3R0b21cIixcInZhbHVlXCI6XCI1XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLXRvcFwiLFwidmFsdWVcIjpcIjVcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIudGFiLWxhYmVsXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwidGV4dC1hbGlnblwiLFwidmFsdWVcIjpcImNlbnRlclwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjEwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLWJvdHRvbVwiLFwidmFsdWVcIjpcIjFcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuYWN0aW9uLWJhci10aXRsZVwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtd2VpZ2h0XCIsXCJ2YWx1ZVwiOlwiYm9sZFwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5hbmRyb2lkIC5saXN0LXZpZXctaXRlbVwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjE0XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLWxlZnRcIixcInZhbHVlXCI6XCIxMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1yaWdodFwiLFwidmFsdWVcIjpcIjEwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWluLWhlaWdodFwiLFwidmFsdWVcIjpcIjM4XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy1ib3R0b21cIixcInZhbHVlXCI6XCI1XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy10b3BcIixcInZhbHVlXCI6XCI1XCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmlvcyAubGlzdC12aWV3LWl0ZW1cIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxNlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1sZWZ0XCIsXCJ2YWx1ZVwiOlwiMjBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tcmlnaHRcIixcInZhbHVlXCI6XCIyMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1pbi1oZWlnaHRcIixcInZhbHVlXCI6XCI0NFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInBhZGRpbmctYm90dG9tXCIsXCJ2YWx1ZVwiOlwiOFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInBhZGRpbmctdG9wXCIsXCJ2YWx1ZVwiOlwiOFwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5hbmRyb2lkIC5saXN0LXZpZXctaXRlbS1zbWFsbFwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjExXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLWxlZnRcIixcInZhbHVlXCI6XCIxMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1yaWdodFwiLFwidmFsdWVcIjpcIjEwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWluLWhlaWdodFwiLFwidmFsdWVcIjpcIjM4XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy1ib3R0b21cIixcInZhbHVlXCI6XCI1XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy10b3BcIixcInZhbHVlXCI6XCI1XCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmlvcyAubGlzdC12aWV3LWl0ZW0tc21hbGxcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxM1wifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1sZWZ0XCIsXCJ2YWx1ZVwiOlwiMjBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tcmlnaHRcIixcInZhbHVlXCI6XCIyMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1pbi1oZWlnaHRcIixcInZhbHVlXCI6XCI0NFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInBhZGRpbmctYm90dG9tXCIsXCJ2YWx1ZVwiOlwiOFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInBhZGRpbmctdG9wXCIsXCJ2YWx1ZVwiOlwiOFwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5yYWQtbGlzdC12aWV3LWl0ZW1cIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXItYm90dG9tLWNvbG9yXCIsXCJ2YWx1ZVwiOlwiI2RkZFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci1ib3R0b20td2lkdGhcIixcInZhbHVlXCI6XCIwLjVcIn0se1widHlwZVwiOlwiY29tbWVudFwiLFwiY29tbWVudFwiOlwiIGNvbG9yOiAjMjEyMTIxOyBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxNlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1sZWZ0XCIsXCJ2YWx1ZVwiOlwiMjBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLXJpZ2h0XCIsXCJ2YWx1ZVwiOlwiMjBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtaW4taGVpZ2h0XCIsXCJ2YWx1ZVwiOlwiNDRcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLWJvdHRvbVwiLFwidmFsdWVcIjpcIjhcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLXRvcFwiLFwidmFsdWVcIjpcIjhcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuYW5kcm9pZCAubGlzdC12aWV3LWl0ZW0tZm9ybVwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci1ib3R0b20tY29sb3JcIixcInZhbHVlXCI6XCIjZGRkXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYm9yZGVyLWJvdHRvbS13aWR0aFwiLFwidmFsdWVcIjpcIjAuNVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjE0XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLWxlZnRcIixcInZhbHVlXCI6XCIxMFwifSx7XCJ0eXBlXCI6XCJjb21tZW50XCIsXCJjb21tZW50XCI6XCIgbWFyZ2luLXJpZ2h0OiAyMDsgXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWluLWhlaWdodFwiLFwidmFsdWVcIjpcIjM4XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy1ib3R0b21cIixcInZhbHVlXCI6XCI4XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy1yaWdodFwiLFwidmFsdWVcIjpcIjEwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy10b3BcIixcInZhbHVlXCI6XCI4XCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmlvcyAubGlzdC12aWV3LWl0ZW0tZm9ybVwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci1ib3R0b20tY29sb3JcIixcInZhbHVlXCI6XCIjZGRkXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYm9yZGVyLWJvdHRvbS13aWR0aFwiLFwidmFsdWVcIjpcIjAuNVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjE2XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLWxlZnRcIixcInZhbHVlXCI6XCIyMFwifSx7XCJ0eXBlXCI6XCJjb21tZW50XCIsXCJjb21tZW50XCI6XCIgbWFyZ2luLXJpZ2h0OiAyMDsgXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWluLWhlaWdodFwiLFwidmFsdWVcIjpcIjQ0XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy1ib3R0b21cIixcInZhbHVlXCI6XCI4XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy1yaWdodFwiLFwidmFsdWVcIjpcIjIwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy10b3BcIixcInZhbHVlXCI6XCI4XCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmFuZHJvaWQgLmxpc3Qtdmlldy1pdGVtLWZvcm0tYm90dG9tXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTRcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tbGVmdFwiLFwidmFsdWVcIjpcIjEwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWluLWhlaWdodFwiLFwidmFsdWVcIjpcIjM4XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy1ib3R0b21cIixcInZhbHVlXCI6XCI4XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy1yaWdodFwiLFwidmFsdWVcIjpcIjEwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy10b3BcIixcInZhbHVlXCI6XCI4XCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmlvcyAubGlzdC12aWV3LWl0ZW0tZm9ybS1ib3R0b21cIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxNlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1sZWZ0XCIsXCJ2YWx1ZVwiOlwiMjBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtaW4taGVpZ2h0XCIsXCJ2YWx1ZVwiOlwiNDRcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLWJvdHRvbVwiLFwidmFsdWVcIjpcIjhcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLXJpZ2h0XCIsXCJ2YWx1ZVwiOlwiMjBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLXRvcFwiLFwidmFsdWVcIjpcIjhcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIubGlzdC12aWV3LXNlY3Rpb24tYmxhbmtcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJiYWNrZ3JvdW5kLWNvbG9yXCIsXCJ2YWx1ZVwiOlwiI2RkZFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImhlaWdodFwiLFwidmFsdWVcIjpcIjFcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuYW5kcm9pZCAubGlzdC12aWV3LXNlY3Rpb24taGVhZGVyXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYmFja2dyb3VuZC1jb2xvclwiLFwidmFsdWVcIjpcIiNlZWVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXItYm90dG9tLWNvbG9yXCIsXCJ2YWx1ZVwiOlwiI2RkZFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci1ib3R0b20td2lkdGhcIixcInZhbHVlXCI6XCIwLjVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXItdG9wLWNvbG9yXCIsXCJ2YWx1ZVwiOlwiI2RkZFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci10b3Atd2lkdGhcIixcInZhbHVlXCI6XCIwLjVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcIiM2NjZcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxMFwifSx7XCJ0eXBlXCI6XCJjb21tZW50XCIsXCJjb21tZW50XCI6XCIgaGVpZ2h0OiAzMDsgXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy1ib3R0b21cIixcInZhbHVlXCI6XCIyXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy1sZWZ0XCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLXJpZ2h0XCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLXRvcFwiLFwidmFsdWVcIjpcIjEwXCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmlvcyAubGlzdC12aWV3LXNlY3Rpb24taGVhZGVyXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYmFja2dyb3VuZC1jb2xvclwiLFwidmFsdWVcIjpcIiNlZWVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXItYm90dG9tLWNvbG9yXCIsXCJ2YWx1ZVwiOlwiI2RkZFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci1ib3R0b20td2lkdGhcIixcInZhbHVlXCI6XCIwLjVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXItdG9wLWNvbG9yXCIsXCJ2YWx1ZVwiOlwiI2RkZFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci10b3Atd2lkdGhcIixcInZhbHVlXCI6XCIwLjVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcIiM2NjZcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxMlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImhlaWdodFwiLFwidmFsdWVcIjpcIjM1XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy1ib3R0b21cIixcInZhbHVlXCI6XCIyXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy1sZWZ0XCIsXCJ2YWx1ZVwiOlwiMjBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLXJpZ2h0XCIsXCJ2YWx1ZVwiOlwiMjBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLXRvcFwiLFwidmFsdWVcIjpcIjBcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuYW5kcm9pZCAubGlzdC12aWV3LXNlY3Rpb24taGVhZGVyLW5vLWJvcmRlclwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJhY2tncm91bmQtY29sb3JcIixcInZhbHVlXCI6XCIjZWVlXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYm9yZGVyLXRvcC1jb2xvclwiLFwidmFsdWVcIjpcIiNkZGRcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXItdG9wLXdpZHRoXCIsXCJ2YWx1ZVwiOlwiMC41XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiY29sb3JcIixcInZhbHVlXCI6XCIjNjY2XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJoZWlnaHRcIixcInZhbHVlXCI6XCIzMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInBhZGRpbmctYm90dG9tXCIsXCJ2YWx1ZVwiOlwiMlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInBhZGRpbmctbGVmdFwiLFwidmFsdWVcIjpcIjEwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy1yaWdodFwiLFwidmFsdWVcIjpcIjEwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy10b3BcIixcInZhbHVlXCI6XCIwXCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmlvcyAubGlzdC12aWV3LXNlY3Rpb24taGVhZGVyLW5vLWJvcmRlclwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJhY2tncm91bmQtY29sb3JcIixcInZhbHVlXCI6XCIjZWVlXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYm9yZGVyLXRvcC1jb2xvclwiLFwidmFsdWVcIjpcIiNkZGRcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJib3JkZXItdG9wLXdpZHRoXCIsXCJ2YWx1ZVwiOlwiMC41XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiY29sb3JcIixcInZhbHVlXCI6XCIjNjY2XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTJcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJoZWlnaHRcIixcInZhbHVlXCI6XCIzNVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInBhZGRpbmctYm90dG9tXCIsXCJ2YWx1ZVwiOlwiMlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInBhZGRpbmctbGVmdFwiLFwidmFsdWVcIjpcIjIwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy1yaWdodFwiLFwidmFsdWVcIjpcIjIwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy10b3BcIixcInZhbHVlXCI6XCIwXCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmxpc3Qtdmlldy1zZWN0aW9uLWRldGFpbFwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJhY2tncm91bmQtY29sb3JcIixcInZhbHVlXCI6XCJ3aGl0ZVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJvcmRlci10b3AtY29sb3JcIixcInZhbHVlXCI6XCIjZGRkXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYm9yZGVyLXRvcC13aWR0aFwiLFwidmFsdWVcIjpcIjAuNVwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5hbmRyb2lkIC5saXN0LXZpZXctaXRlbS1tYWluLXRvcFwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwiYmxhY2tcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxNFwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5pb3MgLmxpc3Qtdmlldy1pdGVtLW1haW4tdG9wXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTZcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuYW5kcm9pZCAubGlzdC12aWV3LWl0ZW0tbWFpblwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjE0XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLXRvcFwiLFwidmFsdWVcIjpcIjNcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuaW9zIC5saXN0LXZpZXctaXRlbS1tYWluXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTZcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tdG9wXCIsXCJ2YWx1ZVwiOlwiM1wifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5hbmRyb2lkIC5saXN0LXZpZXctaXRlbS1waWNrZXJcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcImJsYWNrXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTRcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJ3aWR0aFwiLFwidmFsdWVcIjpcIjEwMCVcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuaW9zIC5saXN0LXZpZXctaXRlbS1waWNrZXJcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcImJsYWNrXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTZcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJ3aWR0aFwiLFwidmFsdWVcIjpcIjEwMCVcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuYW5kcm9pZCAubGlzdC12aWV3LWl0ZW0tdGV4dHZpZXdcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcIiM2NjZcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxNFwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5pb3MgLmxpc3Qtdmlldy1pdGVtLXRleHR2aWV3XCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiY29sb3JcIixcInZhbHVlXCI6XCIjNjY2XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTZcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuYW5kcm9pZCAubGlzdC12aWV3LWl0ZW0tbGVmdFwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwiYmxhY2tcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxNFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInRleHQtYWxpZ25cIixcInZhbHVlXCI6XCJsZWZ0XCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmlvcyAubGlzdC12aWV3LWl0ZW0tbGVmdFwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjE2XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwidGV4dC1hbGlnblwiLFwidmFsdWVcIjpcImxlZnRcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuYW5kcm9pZCAubGlzdC12aWV3LWl0ZW0tcmlnaHRcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcIiM2NjZcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxNFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInRleHQtYWxpZ25cIixcInZhbHVlXCI6XCJyaWdodFwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5pb3MgLmxpc3Qtdmlldy1pdGVtLXJpZ2h0XCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiY29sb3JcIixcInZhbHVlXCI6XCIjNjY2XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTZcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJ0ZXh0LWFsaWduXCIsXCJ2YWx1ZVwiOlwicmlnaHRcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuYW5kcm9pZCAubGlzdC12aWV3LWl0ZW0tc3ViLWVtYWlsXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiY29sb3JcIixcInZhbHVlXCI6XCIjMDA3NWJlXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTJcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tdG9wXCIsXCJ2YWx1ZVwiOlwiM1wifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInRleHQtZGVjb3JhdGlvblwiLFwidmFsdWVcIjpcInVuZGVybGluZVwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5pb3MgLmxpc3Qtdmlldy1pdGVtLXN1Yi1lbWFpbFwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwiIzAwNzViZVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjE0XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLXRvcFwiLFwidmFsdWVcIjpcIjNcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJ0ZXh0LWRlY29yYXRpb25cIixcInZhbHVlXCI6XCJ1bmRlcmxpbmVcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuYW5kcm9pZCAubGlzdC12aWV3LWl0ZW0tc3ViLXBob25lXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiY29sb3JcIixcInZhbHVlXCI6XCIjMDA3NWJlXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTJcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tdG9wXCIsXCJ2YWx1ZVwiOlwiNVwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5pb3MgLmxpc3Qtdmlldy1pdGVtLXN1Yi1waG9uZVwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwiIzAwNzViZVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjE0XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLXRvcFwiLFwidmFsdWVcIjpcIjNcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuYW5kcm9pZCAubGlzdC12aWV3LWl0ZW0tc3ViLXRpdGxlXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiY29sb3JcIixcInZhbHVlXCI6XCIjNjY2XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTJcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXdlaWdodFwiLFwidmFsdWVcIjpcImJvbGRcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tdG9wXCIsXCJ2YWx1ZVwiOlwiM1wifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5pb3MgLmxpc3Qtdmlldy1pdGVtLXN1Yi10aXRsZVwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwiIzY2NlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjE0XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC13ZWlnaHRcIixcInZhbHVlXCI6XCJib2xkXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLXRvcFwiLFwidmFsdWVcIjpcIjNcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuYW5kcm9pZCAubGlzdC12aWV3LWl0ZW0tc3ViXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiY29sb3JcIixcInZhbHVlXCI6XCIjNjY2XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTJcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tdG9wXCIsXCJ2YWx1ZVwiOlwiM1wifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5pb3MgLmxpc3Qtdmlldy1pdGVtLXN1YlwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwiIzY2NlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjE0XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwibWFyZ2luLXRvcFwiLFwidmFsdWVcIjpcIjNcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuYW5kcm9pZCAuZm4tbGlzdC12aWV3LWl0ZW1cIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcIiNjY2NcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LWZhbWlseVwiLFwidmFsdWVcIjpcImZvbnRhd2Vzb21lXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMjRcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tbGVmdFwiLFwidmFsdWVcIjpcIjEwXCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmlvcyAuZm4tbGlzdC12aWV3LWl0ZW1cIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcIiNjY2NcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LWZhbWlseVwiLFwidmFsdWVcIjpcIidGb250QXdlc29tZSdcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIyNlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1sZWZ0XCIsXCJ2YWx1ZVwiOlwiMTBcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuYW5kcm9pZCAuZm4tbGlzdC12aWV3LWl0ZW0tc21hbGxcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcIiMwMDc1YmVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LWZhbWlseVwiLFwidmFsdWVcIjpcImZvbnRhd2Vzb21lXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTRcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tbGVmdFwiLFwidmFsdWVcIjpcIjEwXCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmlvcyAuZm4tbGlzdC12aWV3LWl0ZW0tc21hbGxcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcIiMwMDc1YmVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LWZhbWlseVwiLFwidmFsdWVcIjpcIidGb250QXdlc29tZSdcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxNlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIm1hcmdpbi1sZWZ0XCIsXCJ2YWx1ZVwiOlwiMTBcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIubG9naW4tYmFja2dyb3VuZFwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJjb21tZW50XCIsXCJjb21tZW50XCI6XCIgYmFja2dyb3VuZC1jb2xvcjogIzAwNzViZTsgXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYmFja2dyb3VuZC1jb2xvclwiLFwidmFsdWVcIjpcIndoaXRlXCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmFuZHJvaWQgLnNjcm9sbC12aWV3LWl0ZW1cIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcIiM2NjZcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIxNFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInBhZGRpbmctbGVmdFwiLFwidmFsdWVcIjpcIjEwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy1yaWdodFwiLFwidmFsdWVcIjpcIjEwXCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmlvcyAuc2Nyb2xsLXZpZXctaXRlbVwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwiIzY2NlwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjE2XCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy1sZWZ0XCIsXCJ2YWx1ZVwiOlwiMTVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJwYWRkaW5nLXJpZ2h0XCIsXCJ2YWx1ZVwiOlwiMTVcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuYW5kcm9pZCAuc2VnbWVudGVkLWJhclwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJhY2tncm91bmQtY29sb3JcIixcInZhbHVlXCI6XCIjMzNhOGYxXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiY29sb3JcIixcInZhbHVlXCI6XCJ3aGl0ZVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImZvbnQtc2l6ZVwiLFwidmFsdWVcIjpcIjEwXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwic2VsZWN0ZWQtYmFja2dyb3VuZC1jb2xvclwiLFwidmFsdWVcIjpcIiMwMDc1YmVcIn0se1widHlwZVwiOlwiY29tbWVudFwiLFwiY29tbWVudFwiOlwiIE5FRURFRCBcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuaW9zIC5zZWdtZW50ZWQtYmFyXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYmFja2dyb3VuZC1jb2xvclwiLFwidmFsdWVcIjpcIiMzM2E4ZjFcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJjb2xvclwiLFwidmFsdWVcIjpcIndoaXRlXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiZm9udC1zaXplXCIsXCJ2YWx1ZVwiOlwiMTRcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tYm90dG9tXCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJtYXJnaW4tdG9wXCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJzZWxlY3RlZC1iYWNrZ3JvdW5kLWNvbG9yXCIsXCJ2YWx1ZVwiOlwiIzAwNzViZVwifSx7XCJ0eXBlXCI6XCJjb21tZW50XCIsXCJjb21tZW50XCI6XCIgTkVFREVEIFwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5zd2lwZS1pY29uc1wiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwiI2ZmZlwifSx7XCJ0eXBlXCI6XCJjb21tZW50XCIsXCJjb21tZW50XCI6XCIgcGFkZGluZy1sZWZ0OiAxMDtcXG4gICAgcGFkZGluZy1yaWdodDogMTA7IFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcIndpZHRoXCIsXCJ2YWx1ZVwiOlwiODBcIn1dfSx7XCJ0eXBlXCI6XCJydWxlXCIsXCJzZWxlY3RvcnNcIjpbXCIuYmx1ZVwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJhY2tncm91bmQtY29sb3JcIixcInZhbHVlXCI6XCIjMDA3NWJlXCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLmdyZWVuXCJdLFwiZGVjbGFyYXRpb25zXCI6W3tcInR5cGVcIjpcImNvbW1lbnRcIixcImNvbW1lbnRcIjpcIiBiYWNrZ3JvdW5kLWNvbG9yOiBncmVlbjsgXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYmFja2dyb3VuZC1jb2xvclwiLFwidmFsdWVcIjpcIiMzNWM0YWZcIn0se1widHlwZVwiOlwiY29tbWVudFwiLFwiY29tbWVudFwiOlwiICMwYTU3M2Q7IFwifV19LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5vcmFuZ2VcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiY29tbWVudFwiLFwiY29tbWVudFwiOlwiIGJhY2tncm91bmQtY29sb3I6ICNmNjgzMjA7IFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImJhY2tncm91bmQtY29sb3JcIixcInZhbHVlXCI6XCIjZTg4MDExXCJ9XX0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLnJlZFwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJjb21tZW50XCIsXCJjb21tZW50XCI6XCIgYmFja2dyb3VuZC1jb2xvcjogI2NjMmQzMDsgXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYmFja2dyb3VuZC1jb2xvclwiLFwidmFsdWVcIjpcIiNlYTA5MmFcIn1dfSx7XCJ0eXBlXCI6XCJjb21tZW50XCIsXCJjb21tZW50XCI6XCIgLmFuZHJvaWQgLnN3aXRjaCB7XFxuICAgIGNvbG9yOiAjY2MyZDMwO1xcbn0gXCJ9LHtcInR5cGVcIjpcInJ1bGVcIixcInNlbGVjdG9yc1wiOltcIi5pb3MgLnN3aXRjaFwiXSxcImRlY2xhcmF0aW9uc1wiOlt7XCJ0eXBlXCI6XCJjb21tZW50XCIsXCJjb21tZW50XCI6XCIgYmFja2dyb3VuZC1jb2xvcjogI2NjMmQzMDsgXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwiYmFja2dyb3VuZC1jb2xvclwiLFwidmFsdWVcIjpcIiNlYTA5MmFcIn1dfSx7XCJ0eXBlXCI6XCJjb21tZW50XCIsXCJjb21tZW50XCI6XCIgU3dpdGNoW2NoZWNrZWQ9dHJ1ZV0ge1xcbiAgICBjb2xvcjogd2hpdGUgO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3NWJlO1xcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMjUsIDEuMjUpO1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNSwgMCk7XFxuICB9XFxuICBcXG4gIFN3aXRjaFtjaGVja2VkPWZhbHNlXSB7XFxuICAgIGNvbG9yOiBncmF5O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBncmF5O1xcbiAgfSBcIn0se1widHlwZVwiOlwicnVsZVwiLFwic2VsZWN0b3JzXCI6W1wiLnZpZXctdGl0bGVcIl0sXCJkZWNsYXJhdGlvbnNcIjpbe1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJiYWNrZ3JvdW5kLWNvbG9yXCIsXCJ2YWx1ZVwiOlwiIzAwNzViZVwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcImNvbG9yXCIsXCJ2YWx1ZVwiOlwid2hpdGVcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJmb250LXNpemVcIixcInZhbHVlXCI6XCIyMFwifSx7XCJ0eXBlXCI6XCJjb21tZW50XCIsXCJjb21tZW50XCI6XCIgaGVpZ2h0OiA0NDsgXCJ9LHtcInR5cGVcIjpcImRlY2xhcmF0aW9uXCIsXCJwcm9wZXJ0eVwiOlwicGFkZGluZy1ib3R0b21cIixcInZhbHVlXCI6XCIxMFwifSx7XCJ0eXBlXCI6XCJkZWNsYXJhdGlvblwiLFwicHJvcGVydHlcIjpcInBhZGRpbmctdG9wXCIsXCJ2YWx1ZVwiOlwiMTBcIn0se1widHlwZVwiOlwiZGVjbGFyYXRpb25cIixcInByb3BlcnR5XCI6XCJ3aWR0aFwiLFwidmFsdWVcIjpcIjEwMCVcIn1dfSx7XCJ0eXBlXCI6XCJjb21tZW50XCIsXCJjb21tZW50XCI6XCJcXG5JbiBtYW55IGNhc2VzIHlvdSBtYXkgd2FudCB0byB1c2UgdGhlIE5hdGl2ZVNjcmlwdCBjb3JlIHRoZW1lIGluc3RlYWRcXG5vZiB3cml0aW5nIHlvdXIgb3duIENTUyBydWxlcy4gRm9yIGEgZnVsbCBsaXN0IG9mIGNsYXNzIG5hbWVzIGluIHRoZSB0aGVtZVxcbnJlZmVyIHRvIGh0dHA6Ly9kb2NzLm5hdGl2ZXNjcmlwdC5vcmcvdWkvdGhlbWUuXFxuXCJ9LHtcInR5cGVcIjpcImNvbW1lbnRcIixcImNvbW1lbnRcIjpcIkBpbXBvcnQgJ35uYXRpdmVzY3JpcHQtdGhlbWUtY29yZS9jc3MvY29yZS5saWdodC5jc3MnO1wifV0sXCJwYXJzaW5nRXJyb3JzXCI6W119fTs7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vYXBwLmNzc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzdHlsZVwiLCBwYXRoOiBcIi4vYXBwLmNzc1wiIH0pO1xuICAgIH0pO1xufSAiLCJcbiAgICAgICAgICAgIHJlcXVpcmUoXCJAbmF0aXZlc2NyaXB0L3dlYnBhY2svaGVscGVycy9sb2FkLWFwcGxpY2F0aW9uLWNzcy1yZWd1bGFyXCIpKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICBpZiAobW9kdWxlLmhvdCkge1xuICAgICAgICAgICAgY29uc3QgaG1yVXBkYXRlID0gcmVxdWlyZShcIkBuYXRpdmVzY3JpcHQvd2VicGFjay9obXJcIikuaG1yVXBkYXRlO1xuICAgICAgICAgICAgZ2xvYmFsLl9fY29yZU1vZHVsZXNMaXZlU3luYyA9IGdsb2JhbC5fX29uTGl2ZVN5bmM7XG5cbiAgICAgICAgICAgIGdsb2JhbC5fX29uTGl2ZVN5bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gaGFuZGxlIGhvdCB1cGRhdGVkIG9uIExpdmVTeW5jXG4gICAgICAgICAgICAgICAgaG1yVXBkYXRlKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCA9IGZ1bmN0aW9uKHsgdHlwZSwgcGF0aCB9ID0ge30pIHtcbiAgICAgICAgICAgICAgICAvLyB0aGUgaG90IHVwZGF0ZXMgYXJlIGFwcGxpZWQsIGFzayB0aGUgbW9kdWxlcyB0byBhcHBseSB0aGUgY2hhbmdlc1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBnbG9iYWwuX19jb3JlTW9kdWxlc0xpdmVTeW5jKHsgdHlwZSwgcGF0aCB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIGhhbmRsZSBob3QgdXBkYXRlZCBvbiBpbml0aWFsIGFwcCBzdGFydFxuICAgICAgICAgICAgaG1yVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gcmVxdWlyZS5jb250ZXh0KFwifi9cIiwgdHJ1ZSwgLyg/PCFcXGJBcHBfUmVzb3VyY2VzXFxiLiopKD88IVxcLlxcL1xcYnRlc3RzXFxiXFwvLio/KVxcLih4bWx8Y3NzfGpzfCg/PCFcXC5kXFwuKXRzfCg/PCFcXGJfW1xcdy1dKlxcLilzY3NzKSQvKTtcbiAgICAgICAgICAgIGdsb2JhbC5yZWdpc3RlcldlYnBhY2tNb2R1bGVzKGNvbnRleHQpO1xuICAgICAgICAgICAgaWYgKG1vZHVsZS5ob3QpIHtcbiAgICAgICAgICAgICAgICBtb2R1bGUuaG90LmFjY2VwdChjb250ZXh0LmlkLCAoKSA9PiB7IFxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkhNUjogQWNjZXB0IG1vZHVsZSAnXCIgKyBjb250ZXh0LmlkICsgXCInIGZyb20gJ1wiICsgbW9kdWxlLmlkICsgXCInXCIpOyBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICBpbXBvcnQgXCJAbmF0aXZlc2NyaXB0L2NvcmUvYnVuZGxlLWVudHJ5LXBvaW50c1wiO1xuICAgICAgICAvKlxuSW4gTmF0aXZlU2NyaXB0LCB0aGUgYXBwLmpzIGZpbGUgaXMgdGhlIGVudHJ5IHBvaW50IHRvIHlvdXIgYXBwbGljYXRpb24uXG5Zb3UgY2FuIHVzZSB0aGlzIGZpbGUgdG8gcGVyZm9ybSBhcHAtbGV2ZWwgaW5pdGlhbGl6YXRpb24sIGJ1dCB0aGUgcHJpbWFyeVxucHVycG9zZSBvZiB0aGUgZmlsZSBpcyB0byBwYXNzIGNvbnRyb2wgdG8gdGhlIGFwcOKAmXMgZmlyc3QgbW9kdWxlLlxuKi9cblxucmVxdWlyZShcIi4vYnVuZGxlLWNvbmZpZ1wiKTtcbnJlcXVpcmUoXCJAcHJvcGx1Z2lucy9uYXRpdmVzY3JpcHQtcGxhdGZvcm0tY3NzXCIpO1xuY29uc3QgeyBQYWdlIH0gPSByZXF1aXJlKFwiQG5hdGl2ZXNjcmlwdC9jb3JlXCIpO1xuY29uc3QgYXBwbGljYXRpb24gPSByZXF1aXJlKFwiYXBwbGljYXRpb25cIik7XG5cbi8vIERldiwgdGVzdCwgcHJvZCB1cmxzXG5jb25zdCBhcGlMb2dpblVybERldiA9IFwiaHR0cHM6Ly9zdHMtZGV2LnBjaWFhLm5ldC9hcGkvcGNpL3NpZ25pbi9pc3N1ZVwiO1xuY29uc3QgYXBpTG9naW5VcmxUZXN0ID0gXCJodHRwczovL3N0cy10ZXN0LnBjaWFhLm5ldC9hcGkvcGNpL3NpZ25pbi9pc3N1ZVwiO1xuY29uc3QgYXBpTG9naW5VcmxQcm9kID0gXCJodHRwczovL3N0cy5hcGNpLm9yZy9hcGkvcGNpL3NpZ25pbi9pc3N1ZVwiO1xuY29uc3QgYXBpQmFzZVNlcnZpY2VVcmxEZXYgPSBcImh0dHBzOi8vZGV2LnBjaWFhLm5ldC9wY2l3ZWJzaXRlL2NvbmdyZXNzYXBpL2xlZ2lzbGF0b3JzL1wiO1xuY29uc3QgYXBpQmFzZVNlcnZpY2VVcmxUZXN0ID0gXCJodHRwczovL3Rlc3QucGNpYWEubmV0L3BjaXdlYnNpdGUvY29uZ3Jlc3NhcGkvbGVnaXNsYXRvcnMvXCI7XG5jb25zdCBhcGlCYXNlU2VydmljZVVybFByb2QgPSBcImh0dHBzOi8vd3d3LmFwY2kub3JnL3BjaXdlYnNpdGUvY29uZ3Jlc3NhcGkvbGVnaXNsYXRvcnMvXCI7XG5jb25zdCBzY29wZURldiA9IFwiaHR0cDovL2Rldi5wY2lhYS5uZXQvXCI7XG5jb25zdCBzY29wZVRlc3QgPSBcImh0dHA6Ly90ZXN0LnBjaWFhLm5ldC9cIjtcbmNvbnN0IHNjb3BlUHJvZCA9IFwiaHR0cDovL3d3dy5hcGNpLm9yZy9cIjtcblxuLy8gRGVmaW5lIGFsbCBnbG9iYWwgdmFyaWFibGVzIHVzZWQgdGhyb3VnaG91dCB0aGUgZW50aXJlIHNvbHV0aW9uLlxuZ2xvYmFsLmFwaUxvZ2luVXJsID0gYXBpTG9naW5VcmxQcm9kO1xuZ2xvYmFsLmFwaUJhc2VTZXJ2aWNlVXJsID0gYXBpQmFzZVNlcnZpY2VVcmxQcm9kO1xuZ2xvYmFsLnNjb3BlID0gc2NvcGVQcm9kO1xuZ2xvYmFsLnRva2VuID0gbnVsbDtcbmdsb2JhbC5wZXJzb25JZCA9IG51bGw7XG5nbG9iYWwuY3VycmVudFVzZXIgPSBudWxsO1xuZ2xvYmFsLmNvbXBhbnlJZCA9IG51bGw7XG5nbG9iYWwuaXNQY2kgPSBmYWxzZTtcbmdsb2JhbC5pc0NvbmdyZXNzQWRtaW4gPSBmYWxzZTtcbmdsb2JhbC5pc0NvbmdyZXNzVXNlciA9IGZhbHNlO1xuZ2xvYmFsLmlzQ29uZ3Jlc3NFeHRlcm5hbFVzZXIgPSBmYWxzZTtcblxuLy9hcHBsaWNhdGlvbi5zdGFydCh7IG1vZHVsZU5hbWU6IFwibG9naW4vbG9naW4tcGFnZVwiIH0pO1xuLy9hcHBsaWNhdGlvbi5ydW4oeyBtb2R1bGVOYW1lOiBcImxvZ2luL2xvZ2luLXBhZ2VcIiB9KTtcbmFwcGxpY2F0aW9uLnJ1bih7IG1vZHVsZU5hbWU6IFwiYXBwLXJvb3RcIiB9KTtcblxuLypcbkRvIG5vdCBwbGFjZSBhbnkgY29kZSBhZnRlciB0aGUgYXBwbGljYXRpb24gaGFzIGJlZW4gc3RhcnRlZCBhcyBpdCB3aWxsIG5vdFxuYmUgZXhlY3V0ZWQgb24gaU9TLlxuKi9cbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9hcHAuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9hcHAuanNcIiB9KTtcbiAgICB9KTtcbn0gXG4gICAgXG4gICAgICAgIFxuICAgICAgICAiLCJjb25zdCBvYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBmcmFtZU1vZHVsZSA9IHJlcXVpcmUoXCJ1aS9mcmFtZVwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG5cbnZhciBwYWdlO1xudmFyIG5hdmlnYXRpb25Db250ZXh0O1xuXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuKiBVc2UgdGhlIFwib25OYXZpZ2F0aW5nVG9cIiBoYW5kbGVyIHRvIGluaXRpYWxpemUgdGhlIHBhZ2UgYmluZGluZyBjb250ZXh0LlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmZ1bmN0aW9uIG9uTmF2aWdhdGluZ1RvKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBwYWdlID0gYXJncy5vYmplY3Q7XG4gICAgICAgIG5hdmlnYXRpb25Db250ZXh0ID0gcGFnZS5uYXZpZ2F0aW9uQ29udGV4dDtcblxuICAgICAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiQXNzaWdubWVudFwiO1xuXG4gICAgICAgIGlmIChhcmdzLmlzQmFja05hdmlnYXRpb24pIHtcbiAgICAgICAgICAgIGlmIChnbG9iYWwucmVmcmVzaEFzc2lnbm1lbnRzICE9PSB1bmRlZmluZWQgJiYgZ2xvYmFsLnJlZnJlc2hBc3NpZ25tZW50cyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8vIHBhZ2UuYmluZGluZ0NvbnRleHQuc2V0KFwibWVldGluZ0NyZWF0ZWRcIiwgXCJZXCIpO1xuICAgICAgICAgICAgICAgIC8vIHBhZ2UuYmluZGluZ0NvbnRleHQuc2V0KFwibG9iYnlpc3RJZFwiLCBnbG9iYWwucGVyc29uSWQpO1xuICAgICAgICAgICAgICAgIC8vIHBhZ2UuYmluZGluZ0NvbnRleHQuc2V0KFwibG9iYnlpc3RcIiwgZ2xvYmFsLmN1cnJlbnRVc2VyKTtcbiAgICAgICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0Lm1lZXRpbmdDcmVhdGVkID0gXCJZXCI7XG4gICAgICAgICAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dC5sb2JieWlzdElkID0gZ2xvYmFsLnBlcnNvbklkO1xuICAgICAgICAgICAgICAgIHBhZ2UuYmluZGluZ0NvbnRleHQubG9iYnlpc3QgPSBnbG9iYWwuY3VycmVudFVzZXI7XG5cbiAgICAgICAgICAgICAgICB2YXIgbG9iYnlpc3RHcmlkTGF5b3V0ID0gcGFnZS5nZXRWaWV3QnlJZChcImxvYmJ5aXN0R3JpZExheW91dFwiKTtcbiAgICAgICAgICAgICAgICB2YXIgbG9iYnlpc3RMYWJlbCA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJsb2JieWlzdExhYmVsXCIpO1xuXG4gICAgICAgICAgICAgICAgbG9iYnlpc3RHcmlkTGF5b3V0LnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgICAgICAgICAgICBsb2JieWlzdExhYmVsLnRleHQgPSBnbG9iYWwuY3VycmVudFVzZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbG9iYWwucmVmcmVzaEFzc2lnbm1lbnRzID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBuYXZpZ2F0aW9uQ29udGV4dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KGUpO1xuICAgIH1cbiAgICBcbn1cblxuZnVuY3Rpb24gb25CYWNrVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkuZ29CYWNrKCk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkFkZFRhcChhcmdzKSB7XG4gICAgdHJ5XG4gICAge1xuICAgICAgICB2YXIgbW9kZWwgPSB7XG4gICAgICAgICAgICBtZWV0aW5nSWQ6IDAsXG4gICAgICAgICAgICBtZWV0aW5nRGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIHZlbnVlVHlwZUlkOiAxLFxuICAgICAgICAgICAgdmVudWVUeXBlOiBcIkluIFBlcnNvblwiLFxuICAgICAgICAgICAgYXR0ZW5kZWVUeXBlSWQ6IDEsXG4gICAgICAgICAgICBhdHRlbmRlZVR5cGU6IFwiU3RhZmYgT25seVwiLFxuICAgICAgICAgICAgbG9iYnlpc3RJZDogZ2xvYmFsLnBlcnNvbklkLFxuICAgICAgICAgICAgbG9iYnlpc3Q6IG51bGwsXG4gICAgICAgICAgICBsZWdpc2xhdG9ySWQ6IG5hdmlnYXRpb25Db250ZXh0LmxlZ2lzbGF0b3JJZCxcbiAgICAgICAgICAgIGZ1bGxOYW1lOiBuYXZpZ2F0aW9uQ29udGV4dC5sZWdpc2xhdG9yLFxuICAgICAgICAgICAgbmFtZTogbnVsbCxcbiAgICAgICAgICAgIHBjaUluaXRpYXRpdmVzOiBuYXZpZ2F0aW9uQ29udGV4dC5pbml0aWF0aXZlLFxuICAgICAgICAgICAgc3VydmV5czogbmF2aWdhdGlvbkNvbnRleHQuc3VydmV5LFxuICAgICAgICAgICAgcGNpQXR0ZW5kZWVzOiBnbG9iYWwuY3VycmVudFVzZXIsXG4gICAgICAgICAgICBwcmltYXJ5T2ZmaWNlQ29udGFjdDogbnVsbCxcbiAgICAgICAgICAgIG1lZXRpbmdMb2NhdGlvbklkOiAyLFxuICAgICAgICAgICAgbG9jYXRpb246IFwiTWVldGluZyBpbiBEQ1wiLFxuICAgICAgICAgICAgbGVnaXNsYXRvclN0YWZmQXR0ZW5kZWVzOiBudWxsLFxuICAgICAgICAgICAgZm9sbG93VXBOZWVkZWQ6IGZhbHNlLFxuICAgICAgICAgICAgZm9sbG93VXBEYXRlOiBudWxsLFxuICAgICAgICAgICAgZm9sbG93VXBOb3RlczogbnVsbCxcbiAgICAgICAgICAgIGNyZWF0b3JJZDogZ2xvYmFsLnBlcnNvbklkLFxuICAgICAgICAgICAgbm90ZXM6IG51bGwsXG4gICAgICAgICAgICBpbml0aWF0aXZlSWQ6IG5hdmlnYXRpb25Db250ZXh0LmluaXRpYXRpdmVJZCxcbiAgICAgICAgICAgIHN1cnZleUlkOiBuYXZpZ2F0aW9uQ29udGV4dC5zdXJ2ZXlJZCxcbiAgICAgICAgICAgIGFzc2lnbm1lbnRJZDogbmF2aWdhdGlvbkNvbnRleHQuYXNzaWdubWVudElkXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgICAgICBtb2R1bGVOYW1lOiBcIm1lZXRpbmdzL21lZXRpbmcvbWVldGluZy1wYWdlXCIsXG4gICAgICAgICAgICBjb250ZXh0OiBtb2RlbCxcbiAgICAgICAgICAgIGNsZWFySGlzdG9yeTogZmFsc2VcbiAgICAgICAgfTtcblxuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkubmF2aWdhdGUobmF2aWdhdGlvbkVudHJ5KTtcbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgfVxufVxuXG5leHBvcnRzLm9uTmF2aWdhdGluZ1RvID0gb25OYXZpZ2F0aW5nVG87XG5leHBvcnRzLm9uQmFja1RhcCA9IG9uQmFja1RhcDtcbmV4cG9ydHMub25BZGRUYXAgPSBvbkFkZFRhcDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9hc3NpZ25tZW50cy9hc3NpZ25tZW50L2Fzc2lnbm1lbnQtcGFnZS5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnQvYXNzaWdubWVudC1wYWdlLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxubW9kdWxlLmV4cG9ydHMgPSBcIjxQYWdlIG5hdmlnYXRpbmdUbz1cXFwib25OYXZpZ2F0aW5nVG9cXFwiIGNsYXNzPVxcXCJwYWdlXFxcIiB4bWxucz1cXFwiaHR0cDovL3NjaGVtYXMubmF0aXZlc2NyaXB0Lm9yZy90bnMueHNkXFxcIiA+XFxuICAgIDxBY3Rpb25CYXIgY2xhc3M9XFxcImFjdGlvbi1iYXJcXFwiPlxcbiAgICAgICAgPGFuZHJvaWQ+XFxuICAgICAgICAgICAgPE5hdmlnYXRpb25CdXR0b24gYW5kcm9pZC5zeXN0ZW1JY29uPVxcXCJpY19tZW51X2JhY2tcXFwiIHRhcD1cXFwib25CYWNrVGFwXFxcIiAvPlxcbiAgICAgICAgPC9hbmRyb2lkPlxcbiAgICAgICAgPEFjdGlvbkl0ZW0gdGFwPVxcXCJvbkFkZFRhcFxcXCIgaW9zLnN5c3RlbUljb249XFxcIjRcXFwiIGFuZHJvaWQuc3lzdGVtSWNvbj1cXFwiaWNfbWVudV9hZGRcXFwiIGlvcy5wb3NpdGlvbj1cXFwicmlnaHRcXFwiIFxcbiAgICAgICAgICAgIHZpc2liaWxpdHk9XFxcInt7IG1lZXRpbmdDcmVhdGVkID09PSAnWScgPyAnY29sbGFwc2UnIDogJ3Zpc2libGUnIH19XFxcIiAvPlxcbiAgICA8L0FjdGlvbkJhcj5cXG5cXG4gICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiYXV0bywgYXV0bywgKlxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIiB3aWR0aD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgY2xhc3M9XFxcInZpZXctdGl0bGVcXFwiPlxcbiAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwiYXNzaWdubWVudElkXFxcIiB0ZXh0PVxcXCJ7eyBhc3NpZ25tZW50SWQgfX1cXFwiIHZpc2liaWxpdHk9XFxcImNvbGxhcHNlZFxcXCIgLz5cXG4gICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImxlZ2lzbGF0b3JOYW1lXFxcIiB0ZXh0PVxcXCJ7eyBsZWdpc2xhdG9yIH19XFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiIC8+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMVxcXCIgY29sPVxcXCIwXFxcIiB3aWR0aD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiYXV0bywgKlxcXCIgcm93cz1cXFwiYXV0b1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiPlxcbiAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIkNvbXBhbnlcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJtaWRkbGVcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1sZWZ0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IGNvbXBhbnkgfX1cXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcInJpZ2h0XFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIiB0ZXh0V3JhcD1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIiAvPlxcbiAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCJhdXRvLCAqXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiSW5pdGlhdGl2ZVxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcIm1pZGRsZVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwie3sgaW5pdGlhdGl2ZSB9fVxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwicmlnaHRcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJtaWRkbGVcXFwiIHRleHRXcmFwPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tcmlnaHRcXFwiIC8+XFxuICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcImF1dG8sICpcXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJTdXJ2ZXlcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJtaWRkbGVcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1sZWZ0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IHN1cnZleSB9fVxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwicmlnaHRcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJtaWRkbGVcXFwiIHRleHRXcmFwPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tcmlnaHRcXFwiIC8+XFxuICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcImF1dG8sICpcXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJNZWV0aW5nIENyZWF0ZWQ/XFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbGVmdFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJ7eyBtZWV0aW5nQ3JlYXRlZCA9PT0gJ1knID8gJ1llcycgOiAnTm8nIH19XFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJyaWdodFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcIm1pZGRsZVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIiAvPlxcbiAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICA8R3JpZExheW91dCBpZD1cXFwibG9iYnlpc3RHcmlkTGF5b3V0XFxcIiBjb2x1bW5zPVxcXCJhdXRvLCAqXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCIgdmlzaWJpbGl0eT1cXFwie3sgbWVldGluZ0NyZWF0ZWQgPT09ICdZJyA/ICd2aXNpYmxlJyA6ICdjb2xsYXBzZScgfX1cXFwiPlxcbiAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIkxvYmJ5aXN0XFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbGVmdFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJsb2JieWlzdExhYmVsXFxcIiByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwie3sgbG9iYnlpc3QgfX1cXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcInJpZ2h0XFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIiB0ZXh0V3JhcD1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIiAvPlxcbiAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgIDwvR3JpZExheW91dD5cXG48L1BhZ2U+XFxuXCI7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vYXNzaWdubWVudHMvYXNzaWdubWVudC9hc3NpZ25tZW50LXBhZ2UueG1sXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcIm1hcmt1cFwiLCBwYXRoOiBcIi4vYXNzaWdubWVudHMvYXNzaWdubWVudC9hc3NpZ25tZW50LXBhZ2UueG1sXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IEFzc2lnbm1lbnRzVmlld01vZGVsID0gcmVxdWlyZShcIi4vYXNzaWdubWVudHMtdmlldy1tb2RlbFwiKTtcbmNvbnN0IHBsYXRmb3JtID0gcmVxdWlyZShcInBsYXRmb3JtXCIpO1xuY29uc3QgT2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgZ2VzdHVyZXMgPSByZXF1aXJlKFwidWkvZ2VzdHVyZXNcIik7XG52YXIgZnJhbWVNb2R1bGUgPSByZXF1aXJlKFwidWkvZnJhbWVcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xuXG5jb25zdCBNSU5fWCA9IC04MDtcbmNvbnN0IE1BWF9YID0gMDtcbmNvbnN0IFRIUkVTSE9MRCA9IDAuNTtcblxudmFyIHN3aXBlT3BlbiA9IGZhbHNlO1xudmFyIHN3aXBlZEl0ZW07XG5cbnZhciBpc1Njcm9sbGluZyA9IGZhbHNlO1xudmFyIGlzU3dpcGluZyA9IGZhbHNlO1xuXG52YXIgcGFnZTtcbnZhciBzZWFyY2hCYXI7XG52YXIgYXNzaWdubWVudHNQYWdlU2l6ZSA9IDI1O1xudmFyIGFzc2lnbm1lbnRzU2VhcmNoVGV4dCA9IFwiXCI7XG52YXIgbWVldGluZ0NyZWF0ZWQgPSBcIk5cIjtcbnZhciBhc3NpZ25tZW50c1NlYXJjaFN1Ym1pdHRlZCA9IGZhbHNlO1xuXG52YXIgYXNzaWdubWVudHNMaXN0ID0gbmV3IEFzc2lnbm1lbnRzVmlld01vZGVsKFtdKTtcblxudmFyIHBhZ2VEYXRhID0gbmV3IE9ic2VydmFibGVNb2R1bGUuZnJvbU9iamVjdCh7XG4gICAgYXNzaWdubWVudHNMaXN0OiBhc3NpZ25tZW50c0xpc3QsXG4gICAgaXNMb2FkaW5nOiBmYWxzZVxufSk7XG5cbmZ1bmN0aW9uIG9uTmF2aWdhdGluZ1RvKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBwYWdlID0gYXJncy5vYmplY3Q7XG4gICAgICAgIFxuICAgICAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiQXNzaWdubWVudHNcIjtcblxuICAgICAgICBpZiAoYXJncy5pc0JhY2tOYXZpZ2F0aW9uKSB7XG4gICAgICAgICAgICBpZiAoZ2xvYmFsLnJlZnJlc2hBc3NpZ25tZW50cyAhPT0gdW5kZWZpbmVkICYmIGdsb2JhbC5yZWZyZXNoQXNzaWdubWVudHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBhc3NpZ25tZW50c0xpc3QuZW1wdHkoKTtcblxuICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIGFzc2lnbm1lbnRzTGlzdC5sb2FkKG1lZXRpbmdDcmVhdGVkLCBhc3NpZ25tZW50c1NlYXJjaFRleHQsIDEsIGFzc2lnbm1lbnRzUGFnZVNpemUpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbC5yZWZyZXNoQXNzaWdubWVudHMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChhc3NpZ25tZW50c1NlYXJjaFRleHQgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VhcmNoQmFyID0gcGFnZS5nZXRWaWV3QnlJZChcInNlYXJjaEJhclwiKTtcblxuICAgICAgICAgICAgICAgIHNlYXJjaEJhci50ZXh0ID0gYXNzaWdubWVudHNTZWFyY2hUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgICAgIC8vIFNpbmNlIHRoZSBQYWdlIGNvbnRhaW5zIGEgU2VnbWVudGVkQmFyLFxuICAgICAgICAgICAgLy8gdGhlIHNlbGVjdGVkSW5kZXhDaGFuZ2VkIGV2ZW50IHdpbGwgcGVyZm9ybSB0aGUgaW5pdGlhbCBsb2FkIG9mIHRoZSBMaXN0Vmlldy5cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblNlbGVjdGVkSW5kZXhDaGFuZ2VkKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAoYXJncy5uZXdJbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgbWVldGluZ0NyZWF0ZWQgPSBcIk5cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1lZXRpbmdDcmVhdGVkID0gXCJZXCI7XG4gICAgICAgIH1cblxuICAgICAgICBhc3NpZ25tZW50c0xpc3QuZW1wdHkoKTtcblxuICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgdHJ1ZSk7XG5cbiAgICAgICAgYXNzaWdubWVudHNMaXN0LmxvYWQobWVldGluZ0NyZWF0ZWQsIGFzc2lnbm1lbnRzU2VhcmNoVGV4dCwgMSwgYXNzaWdubWVudHNQYWdlU2l6ZSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU2VhcmNoQmFyTG9hZGVkKGFyZ3MpIHtcbiAgICBzZWFyY2hCYXIgPSBhcmdzLm9iamVjdDtcblxuICAgIGlmIChwbGF0Zm9ybS5pc0FuZHJvaWQpIHtcbiAgICAgICAgc2VhcmNoQmFyLmFuZHJvaWQuY2xlYXJGb2N1cygpO1xuICAgIH0gZWxzZSBpZiAocGxhdGZvcm0uaXNJT1MpIHtcbiAgICAgICAgLy8gaU9TIFN0eWxpbmdcbiAgICAgICAgc2VhcmNoQmFyLmlvcy5zZWFyY2hCYXJTdHlsZSA9IFVJU2VhcmNoQmFyU3R5bGUuVUlTZWFyY2hCYXJTdHlsZU1pbmltYWw7XG4gICAgICAgIHNlYXJjaEJhci5pb3Muc2hvd3NDYW5jZWxCdXR0b24gPSB0cnVlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25TdWJtaXQoYXJncykge1xuICAgIHNlYXJjaEJhciA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgYXNzaWdubWVudHNTZWFyY2hUZXh0ID0gc2VhcmNoQmFyLnRleHQudHJpbSgpO1xuXG4gICAgYXNzaWdubWVudHNMaXN0LmVtcHR5KCk7XG4gICAgXG4gICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuXG4gICAgYXNzaWdubWVudHNMaXN0LmxvYWQobWVldGluZ0NyZWF0ZWQsIGFzc2lnbm1lbnRzU2VhcmNoVGV4dCwgMSwgYXNzaWdubWVudHNQYWdlU2l6ZSkudGhlbihmdW5jdGlvbiAoKXtcbiAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcblxuICAgICAgICBhc3NpZ25tZW50c1NlYXJjaFN1Ym1pdHRlZCA9IHRydWU7XG4gICAgXG4gICAgICAgIHNlYXJjaEJhci5kaXNtaXNzU29mdElucHV0KCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIG9uQ2xlYXIoYXJncykge1xuICAgIHNlYXJjaEJhci50ZXh0ID0gXCJcIjtcbiAgICBhc3NpZ25tZW50c1NlYXJjaFRleHQgPSBcIlwiO1xuXG4gICAgaWYgKGFzc2lnbm1lbnRzU2VhcmNoU3VibWl0dGVkKSB7XG4gICAgICAgIGFzc2lnbm1lbnRzTGlzdC5lbXB0eSgpO1xuICAgICAgICBcbiAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuXG4gICAgICAgIGFzc2lnbm1lbnRzTGlzdC5sb2FkKG1lZXRpbmdDcmVhdGVkLCBhc3NpZ25tZW50c1NlYXJjaFRleHQsIDEsIGFzc2lnbm1lbnRzUGFnZVNpemUpLnRoZW4oZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuXG4gICAgICAgICAgICBhc3NpZ25tZW50c1NlYXJjaFN1Ym1pdHRlZCA9IGZhbHNlO1xuICAgICAgICBcbiAgICAgICAgICAgIHNlYXJjaEJhci5kaXNtaXNzU29mdElucHV0KCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25JdGVtTG9hZGluZyhhcmdzKSB7XG4gICAgaWYgKHBsYXRmb3JtLmlzSU9TKSB7XG4gICAgICAgIHZhciBjZWxsID0gYXJncy5pb3M7XG5cbiAgICAgICAgY2VsbC5zZWxlY3Rpb25TdHlsZSA9IFVJVGFibGVWaWV3Q2VsbFNlbGVjdGlvblN0eWxlLlVJVGFibGVWaWV3Q2VsbFNlbGVjdGlvblN0eWxlTm9uZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uSXRlbVRhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHBsYXRmb3JtLmlzSU9TKSB7XG4gICAgICAgICAgICBpZiAoc3dpcGVPcGVuKSB7XG4gICAgICAgICAgICAgICAgc3dpcGVkSXRlbS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgc3dpcGVPcGVuID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB2aWV3ID0gYXJncy52aWV3O1xuICAgICAgICAgICAgICAgIHZhciBtb2RlbCA9IHZpZXcuYmluZGluZ0NvbnRleHQ7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZU5hbWU6IFwiYXNzaWdubWVudHMvYXNzaWdubWVudC9hc3NpZ25tZW50LXBhZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dDogbW9kZWwsXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySGlzdG9yeTogZmFsc2VcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25Mb2FkTW9yZUl0ZW1zKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgYXNzaWdubWVudHNMaXN0Q291bnQgPSBhc3NpZ25tZW50c0xpc3QubGVuZ3RoO1xuICAgICAgICB2YXIgYXNzaWdubWVudHNQYWdlTnVtYmVyID0gTWF0aC5jZWlsKGFzc2lnbm1lbnRzTGlzdENvdW50IC8gYXNzaWdubWVudHNQYWdlU2l6ZSkgKyAxO1xuICAgICAgICB2YXIgYXNzaWdubWVudHNSZW1haW5kZXIgPSBhc3NpZ25tZW50c0xpc3RDb3VudCAlIGFzc2lnbm1lbnRzUGFnZVNpemU7XG5cbiAgICAgICAgaWYgKGFzc2lnbm1lbnRzUmVtYWluZGVyICE9PSAwICYmIGFzc2lnbm1lbnRzUmVtYWluZGVyIDwgYXNzaWdubWVudHNQYWdlU2l6ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuXG4gICAgICAgIGFzc2lnbm1lbnRzTGlzdC5sb2FkKG1lZXRpbmdDcmVhdGVkLCBhc3NpZ25tZW50c1NlYXJjaFRleHQsIGFzc2lnbm1lbnRzUGFnZU51bWJlciwgYXNzaWdubWVudHNQYWdlU2l6ZSkudGhlbihmdW5jdGlvbiAoKXtcbiAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uQWRkQ2xpY2soYXJncykge1xuICAgIHZhciB2aWV3ID0gYXJncy5vYmplY3Q7XG4gICAgXG4gICAgdmFyIG1vZGVsID0ge1xuICAgICAgICBtZWV0aW5nSWQ6IDAsXG4gICAgICAgIG1lZXRpbmdEYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICB2ZW51ZVR5cGVJZDogMSxcbiAgICAgICAgdmVudWVUeXBlOiBcIkluIFBlcnNvblwiLFxuICAgICAgICBhdHRlbmRlZVR5cGVJZDogMSxcbiAgICAgICAgYXR0ZW5kZWVUeXBlOiBcIlN0YWZmIE9ubHlcIixcbiAgICAgICAgbG9iYnlpc3RJZDogZ2xvYmFsLnBlcnNvbklkLFxuICAgICAgICBsb2JieWlzdDogbnVsbCxcbiAgICAgICAgbGVnaXNsYXRvcklkOiB2aWV3LmJpbmRpbmdDb250ZXh0LmxlZ2lzbGF0b3JJZCxcbiAgICAgICAgZnVsbE5hbWU6IHZpZXcuYmluZGluZ0NvbnRleHQubGVnaXNsYXRvcixcbiAgICAgICAgbmFtZTogbnVsbCxcbiAgICAgICAgcGNpSW5pdGlhdGl2ZXM6IHZpZXcuYmluZGluZ0NvbnRleHQuaW5pdGlhdGl2ZSxcbiAgICAgICAgc3VydmV5czogdmlldy5iaW5kaW5nQ29udGV4dC5zdXJ2ZXksXG4gICAgICAgIHBjaUF0dGVuZGVlczogZ2xvYmFsLmN1cnJlbnRVc2VyLFxuICAgICAgICBwcmltYXJ5T2ZmaWNlQ29udGFjdDogbnVsbCxcbiAgICAgICAgbWVldGluZ0xvY2F0aW9uSWQ6IDEsXG4gICAgICAgIGxvY2F0aW9uOiBcIk1lZXRpbmcgaW4gRGlzdHJpY3RcIixcbiAgICAgICAgbGVnaXNsYXRvclN0YWZmQXR0ZW5kZWVzOiBudWxsLFxuICAgICAgICBmb2xsb3dVcE5lZWRlZDogZmFsc2UsXG4gICAgICAgIGZvbGxvd1VwRGF0ZTogbnVsbCxcbiAgICAgICAgZm9sbG93VXBOb3RlczogbnVsbCxcbiAgICAgICAgY3JlYXRvcklkOiBnbG9iYWwucGVyc29uSWQsXG4gICAgICAgIG5vdGVzOiBudWxsLFxuICAgICAgICBpbml0aWF0aXZlSWQ6IHZpZXcuYmluZGluZ0NvbnRleHQuaW5pdGlhdGl2ZUlkLFxuICAgICAgICBzdXJ2ZXlJZDogdmlldy5iaW5kaW5nQ29udGV4dC5zdXJ2ZXlJZCxcbiAgICAgICAgYXNzaWdubWVudElkOiB2aWV3LmJpbmRpbmdDb250ZXh0LmFzc2lnbm1lbnRJZFxuICAgIH1cblxuICAgIGNvbnN0IG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgbW9kdWxlTmFtZTogXCJtZWV0aW5ncy9tZWV0aW5nL21lZXRpbmctcGFnZVwiLFxuICAgICAgICBjb250ZXh0OiBtb2RlbCxcbiAgICAgICAgY2xlYXJIaXN0b3J5OiBmYWxzZVxuICAgIH07XG5cbiAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkubmF2aWdhdGUobmF2aWdhdGlvbkVudHJ5KTtcblxuICAgIGlmIChzd2lwZU9wZW4pIHtcbiAgICAgICAgc3dpcGVkSXRlbS5hbmltYXRlKHtcbiAgICAgICAgICAgIHRyYW5zbGF0ZTogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICBkdXJhdGlvbjogMjAwXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHN3aXBlT3BlbiA9IGZhbHNlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25MYXlvdXRMb2FkZWQoYXJncykge1xuICAgIHZhciBsYXlvdXQgPSBhcmdzLm9iamVjdDtcblxuICAgIGlmIChwbGF0Zm9ybS5pc0FuZHJvaWQpIHtcbiAgICAgICAgbGF5b3V0Lm9uKGdlc3R1cmVzLkdlc3R1cmVUeXBlcy50YXAsIGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHN3aXBlT3Blbikge1xuICAgICAgICAgICAgICAgICAgICBzd2lwZWRJdGVtLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIHN3aXBlT3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2aWV3ID0gYXJncy52aWV3O1xuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kZWwgPSB2aWV3LmJpbmRpbmdDb250ZXh0O1xuICAgIFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVOYW1lOiBcImFzc2lnbm1lbnRzL2Fzc2lnbm1lbnQvYXNzaWdubWVudC1wYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiBtb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySGlzdG9yeTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2goZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBsYXlvdXQub24oZ2VzdHVyZXMuR2VzdHVyZVR5cGVzLnBhbiwgZnVuY3Rpb24oYXJncykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGxheW91dCA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICAgICAgdmFyIHZpZXcgPSBhcmdzLnZpZXc7XG5cbiAgICAgICAgICAgIGlmIChzd2lwZU9wZW4gJiYgc3dpcGVkSXRlbSAhPT0gdW5kZWZpbmVkICYmIHN3aXBlZEl0ZW0gIT0gbGF5b3V0KSB7XG4gICAgICAgICAgICAgICAgc3dpcGVkSXRlbS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghaXNTY3JvbGxpbmcgJiYgIWlzU3dpcGluZykge1xuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhhcmdzLmRlbHRhWSkgPiBNYXRoLmFicyhhcmdzLmRlbHRhWCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNTY3JvbGxpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpc1N3aXBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGFyZ3MuZGVsdGFYKSA+IE1hdGguYWJzKGFyZ3MuZGVsdGFZKSkge1xuICAgICAgICAgICAgICAgICAgICBpc1Njcm9sbGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpc1N3aXBpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzU2Nyb2xsaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN3aXBlT3BlbiAmJiBzd2lwZWRJdGVtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpcGVkSXRlbS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZTogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3Muc3RhdGUgPT09IGdlc3R1cmVzLkdlc3R1cmVTdGF0ZVR5cGVzLmVuZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzU2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1N3aXBpbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAodmlldy5iaW5kaW5nQ29udGV4dC5tZWV0aW5nQ3JlYXRlZCA9PT0gXCJOXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFzc2lnbm1lbnRzTGlzdFZpZXcgPSBwYWdlLmdldFZpZXdCeUlkKFwiYXNzaWdubWVudHNMaXN0Vmlld1wiKTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsYXRmb3JtLmlzQW5kcm9pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWdubWVudHNMaXN0Vmlldy5uYXRpdmVWaWV3LnJlcXVlc3REaXNhbGxvd0ludGVyY2VwdFRvdWNoRXZlbnQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxhdGZvcm0uaXNJT1MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbm1lbnRzTGlzdFZpZXcuaW9zLnNjcm9sbEVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICBzd2lwZU9wZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzd2lwZWRJdGVtID0gbGF5b3V0O1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdYID0gbGF5b3V0LnRyYW5zbGF0ZVggKyBhcmdzLmRlbHRhWDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3WCA+PSBNSU5fWCAmJiBuZXdYIDw9IE1BWF9YKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQudHJhbnNsYXRlWCA9IG5ld1g7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLnN0YXRlID09PSBnZXN0dXJlcy5HZXN0dXJlU3RhdGVUeXBlcy5lbmRlZCAmJiAhKG5ld1ggPT09IE1JTl9YIHx8IG5ld1ggPT09IE1BWF9YKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW5pdCBvdXIgZGVzdGluYXRpb24gWCBjb29yZGluYXRlIHRvIDAsIGluIGNhc2UgbmVpdGhlciBUSFJFU0hPTEQgaGFzIGJlZW4gaGl0XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVzdFggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB1c2VyIGhpdCBvciBjcm9zc2VkIHRoZSBUSEVTSE9MRCBlaXRoZXIgd2F5LCBsZXQncyBmaW5pc2ggaW4gdGhhdCBkaXJlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdYIDw9IE1JTl9YICogVEhSRVNIT0xEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzdFggPSBNSU5fWDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobmV3WCA+PSBNQVhfWCAqIFRIUkVTSE9MRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RYID0gTUFYX1g7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheW91dC5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGU6IHsgeDogZGVzdFgsIHk6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwbGF0Zm9ybS5pc0FuZHJvaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbm1lbnRzTGlzdFZpZXcubmF0aXZlVmlldy5yZXF1ZXN0RGlzYWxsb3dJbnRlcmNlcHRUb3VjaEV2ZW50KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbGF0Zm9ybS5pc0lPUykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWdubWVudHNMaXN0Vmlldy5pb3Muc2Nyb2xsRW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpc1N3aXBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpc1N3aXBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmV4cG9ydHMub25OYXZpZ2F0aW5nVG8gPSBvbk5hdmlnYXRpbmdUbztcbmV4cG9ydHMub25TZWxlY3RlZEluZGV4Q2hhbmdlZCA9IG9uU2VsZWN0ZWRJbmRleENoYW5nZWQ7XG5leHBvcnRzLm9uU2VhcmNoQmFyTG9hZGVkID0gb25TZWFyY2hCYXJMb2FkZWQ7XG5leHBvcnRzLm9uU3VibWl0ID0gb25TdWJtaXQ7XG5leHBvcnRzLm9uQ2xlYXIgPSBvbkNsZWFyO1xuZXhwb3J0cy5vbkl0ZW1Mb2FkaW5nID0gb25JdGVtTG9hZGluZztcbmV4cG9ydHMub25JdGVtVGFwID0gb25JdGVtVGFwO1xuZXhwb3J0cy5vbkxvYWRNb3JlSXRlbXMgPSBvbkxvYWRNb3JlSXRlbXM7XG5leHBvcnRzLm9uTGF5b3V0TG9hZGVkID0gb25MYXlvdXRMb2FkZWQ7XG5leHBvcnRzLm9uQWRkQ2xpY2sgPSBvbkFkZENsaWNrO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnRzLXBhZ2UuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9hc3NpZ25tZW50cy9hc3NpZ25tZW50cy1wYWdlLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxubW9kdWxlLmV4cG9ydHMgPSBcIjxQYWdlIG5hdmlnYXRpbmdUbz1cXFwib25OYXZpZ2F0aW5nVG9cXFwiIGNsYXNzPVxcXCJwYWdlXFxcIiB4bWxucz1cXFwiaHR0cDovL3NjaGVtYXMubmF0aXZlc2NyaXB0Lm9yZy90bnMueHNkXFxcIiA+XFxuICAgIDxBY3Rpb25CYXIgY2xhc3M9XFxcImFjdGlvbi1iYXJcXFwiIC8+XFxuXFxuICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcImF1dG8sIGF1dG8sICpcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiPlxcbiAgICAgICAgICAgIDxTZWFyY2hCYXIgaWQ9XFxcInNlYXJjaEJhclxcXCIgaGludD1cXFwiU2VhcmNoXFxcIiB0ZXh0PVxcXCJcXFwiIGxvYWRlZD1cXFwib25TZWFyY2hCYXJMb2FkZWRcXFwiIHN1Ym1pdD1cXFwib25TdWJtaXRcXFwiIGNsZWFyPVxcXCJvbkNsZWFyXFxcIiAvPlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjFcXFwiIGNvbD1cXFwiMFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcInRvcFxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIj5cXG4gICAgICAgICAgICA8U2VnbWVudGVkQmFyIGNsYXNzPVxcXCJzZWdtZW50ZWQtYmFyXFxcIiBzZWxlY3RlZEluZGV4Q2hhbmdlZD1cXFwib25TZWxlY3RlZEluZGV4Q2hhbmdlZFxcXCI+XFxuICAgICAgICAgICAgICAgIDxTZWdtZW50ZWRCYXIuaXRlbXM+XFxuICAgICAgICAgICAgICAgICAgICA8U2VnbWVudGVkQmFySXRlbSB0aXRsZT1cXFwiT3BlbiBBc3NpZ25tZW50c1xcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIDxTZWdtZW50ZWRCYXJJdGVtIHRpdGxlPVxcXCJDbG9zZWQgQXNzaWdubWVudHNcXFwiIC8+XFxuICAgICAgICAgICAgICAgIDwvU2VnbWVudGVkQmFyLml0ZW1zPlxcbiAgICAgICAgICAgIDwvU2VnbWVudGVkQmFyPlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjJcXFwiIGNvbD1cXFwiMFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcInRvcFxcXCI+XFxuICAgICAgICAgICAgPExpc3RWaWV3IGlkPVxcXCJhc3NpZ25tZW50c0xpc3RWaWV3XFxcIiBpdGVtcz1cXFwie3sgYXNzaWdubWVudHNMaXN0IH19XFxcIiBpdGVtTG9hZGluZz1cXFwib25JdGVtTG9hZGluZ1xcXCIgaXRlbVRhcD1cXFwib25JdGVtVGFwXFxcIiBsb2FkTW9yZUl0ZW1zPVxcXCJvbkxvYWRNb3JlSXRlbXNcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMaXN0Vmlldy5pdGVtVGVtcGxhdGU+XFxuICAgICAgICAgICAgICAgICAgICA8QWJzb2x1dGVMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBCQUNLR1JPVU5EOiBTd2lwZSBBY3Rpb25zIC0tPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIiosIDgwXFxcIiBhbmRyb2lkOnJvd3M9XFxcIjY3XFxcIiBpb3M6cm93cz1cXFwiNzVcXFwiIHdpZHRoPVxcXCIxMDAlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIGNvbD1cXFwiMFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sPVxcXCIxXFxcIiBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCIqLCBhdXRvLCBhdXRvLCAqXFxcIiB0YXA9XFxcIm9uQWRkQ2xpY2tcXFwiIGNsYXNzPVxcXCJzd2lwZS1pY29ucyBvcmFuZ2VcXFwiIFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eT1cXFwie3sgbWVldGluZ0NyZWF0ZWQgPT09ICdZJyA/ICdjb2xsYXBzZScgOiAndmlzaWJsZScgfX1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIxXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIiYjeGYwNzM7XFxcIiBjbGFzcz1cXFwidGFiLWljb25cXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIyXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIkFkZCBNZWV0aW5nXFxcIiBjbGFzcz1cXFwidGFiLWxhYmVsXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiM1xcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBGT1JFR1JPVU5EOiBMaXN0IFZpZXcgSXRlbSBEZXRhaWxzIC0tPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxTdGFja0xheW91dCBsb2FkZWQ9XFxcIm9uTGF5b3V0TG9hZGVkXFxcIiBiYWNrZ3JvdW5kQ29sb3I9XFxcIndoaXRlXFxcIiB3aWR0aD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIiosIGF1dG9cXFwiIHJvd3M9XFxcIipcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJtaWRkbGVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJ7eyBsZWdpc2xhdG9yIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbWFpbi10b3BcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiYXV0bywgKlxcXCIgcm93cz1cXFwiKlxcXCIgdmlzaWJpbGl0eT1cXFwie3sgaW5pdGlhdGl2ZS5sZW5ndGggPiAwID8gJ3Zpc2libGUnIDogJ2NvbGxhcHNlJyB9fVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiSW5pdGlhdGl2ZTogXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViLXRpdGxlXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IGluaXRpYXRpdmUgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1zdWJcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcImF1dG8sICpcXFwiIHJvd3M9XFxcIipcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIlN1cnZleTogXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViLXRpdGxlXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IHN1cnZleSB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1YlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCImI3hmMTA1O1xcXCIgY2xhc3M9XFxcImZuLWxpc3Qtdmlldy1pdGVtXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgICAgIDwvQWJzb2x1dGVMYXlvdXQ+XFxuICAgICAgICAgICAgICAgIDwvTGlzdFZpZXcuaXRlbVRlbXBsYXRlPlxcbiAgICAgICAgICAgIDwvTGlzdFZpZXc+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPEFjdGl2aXR5SW5kaWNhdG9yIGJ1c3k9XFxcInt7IGlzTG9hZGluZyB9fVxcXCIgYW5kcm9pZDpoZWlnaHQ9XFxcIjI1JVxcXCIgYW5kcm9pZDp3aWR0aD1cXFwiMjUlXFxcIiBpb3MuYWN0aXZpdHlJbmRpY2F0b3JWaWV3U3R5bGU9XFxcIndoaXRlTGFyZ2VcXFwiIHJvd1NwYW49XFxcIjNcXFwiIGNvbFNwYW49XFxcIjFcXFwiIC8+XFxuICAgIDwvR3JpZExheW91dD5cXG48L1BhZ2U+XFxuXCI7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vYXNzaWdubWVudHMvYXNzaWdubWVudHMtcGFnZS54bWxcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwibWFya3VwXCIsIHBhdGg6IFwiLi9hc3NpZ25tZW50cy9hc3NpZ25tZW50cy1wYWdlLnhtbFwiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBvYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBPYnNlcnZhYmxlQXJyYXkgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlLWFycmF5XCIpLk9ic2VydmFibGVBcnJheTtcbnZhciBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xuXG5mdW5jdGlvbiBBc3NpZ25tZW50c1ZpZXdNb2RlbChpdGVtcykge1xuICAgIGNvbnN0IHZpZXdNb2RlbCA9IG5ldyBPYnNlcnZhYmxlQXJyYXkoaXRlbXMpO1xuICAgIFxuICAgIHZpZXdNb2RlbC5sb2FkID0gZnVuY3Rpb24obWVldGluZ0NyZWF0ZWQsIGZpbHRlciwgcGFnZSwgcGFnZVNpemUpIHtcbiAgICAgICAgcmV0dXJuIGh0dHAucmVxdWVzdCh7XG4gICAgICAgICAgICB1cmw6IGdsb2JhbC5hcGlCYXNlU2VydmljZVVybCArIFwiYXNzaWdubWVudHNmaWx0ZXI/bWVldGluZ0NyZWF0ZWQ9XCIgKyBtZWV0aW5nQ3JlYXRlZCArIFwiJmZpbHRlcj1cIiArIGZpbHRlci5yZXBsYWNlKC8gL2csIFwiJTIwXCIpICsgXCImcGFnZT1cIiArIHBhZ2UgKyBcIiZwYWdlU2l6ZT1cIiArIHBhZ2VTaXplICsgXCImY29tcGFueUlkPVwiICsgZ2xvYmFsLmNvbXBhbnlJZCxcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiQXV0aG9yaXphdGlvblwiOiBnbG9iYWwudG9rZW4gfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmNvbnRlbnQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShyZXN1bHQpO1xuXG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oYXNzaWdubWVudCkge1xuICAgICAgICAgICAgICAgIGlmIChhc3NpZ25tZW50LkFzc2lnbm1lbnRJZCAhPT0gbnVsbCAmJiBhc3NpZ25tZW50LkFzc2lnbm1lbnRJZCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NpZ25tZW50SWQ6IGFzc2lnbm1lbnQuQXNzaWdubWVudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFueUlkOiBhc3NpZ25tZW50LkNvbXBhbnlJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhbnk6IGFzc2lnbm1lbnQuQ29tcGFueSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYXRpdmVJZDogYXNzaWdubWVudC5Jbml0aWF0aXZlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWF0aXZlOiBhc3NpZ25tZW50LkluaXRpYXRpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdXJ2ZXlJZDogYXNzaWdubWVudC5TdXJ2ZXlJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1cnZleTogYXNzaWdubWVudC5TdXJ2ZXksXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWdpc2xhdG9ySWQ6IGFzc2lnbm1lbnQuTGVnaXNsYXRvcklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVnaXNsYXRvcjogYXNzaWdubWVudC5MZWdpc2xhdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFydHk6IGFzc2lnbm1lbnQuUGFydHksXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0eU5hbWU6IGFzc2lnbm1lbnQuUGFydHlOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6IGFzc2lnbm1lbnQuU3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZU5hbWU6IGFzc2lnbm1lbnQuU3RhdGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWl0dGVlSWRzOiBhc3NpZ25tZW50LkNvbW1pdHRlZUlkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1pdHRlZXM6IGFzc2lnbm1lbnQuQ29tbWl0dGVlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWREYXRlOiBhc3NpZ25tZW50LkNyZWF0ZWREYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGlvbkRhdGU6IGFzc2lnbm1lbnQuQ29tcGxldGlvbkRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NpZ25tZW50U3RhdHVzQ29kZTogYXNzaWdubWVudC5Bc3NpZ25tZW50U3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbm1lbnRTdGF0dXM6IGFzc2lnbm1lbnQuQXNzaWdubWVudFN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lZXRpbmdDcmVhdGVkOiBhc3NpZ25tZW50Lk1lZXRpbmdDcmVhdGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVldGluZ0lkOiBhc3NpZ25tZW50Lk1lZXRpbmdJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYmJ5aXN0SWQ6IGFzc2lnbm1lbnQuTG9iYnlpc3RJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYmJ5aXN0OiBhc3NpZ25tZW50LkxvYmJ5aXN0XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmlld01vZGVsLmVtcHR5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHdoaWxlICh2aWV3TW9kZWwubGVuZ3RoKSB7XG4gICAgICAgICAgICB2aWV3TW9kZWwucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHJldHVybiB2aWV3TW9kZWw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQXNzaWdubWVudHNWaWV3TW9kZWw7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vYXNzaWdubWVudHMvYXNzaWdubWVudHMtdmlldy1tb2RlbC5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL2Fzc2lnbm1lbnRzL2Fzc2lnbm1lbnRzLXZpZXctbW9kZWwuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiaWYgKGdsb2JhbC5UTlNfV0VCUEFDSykge1xuICAgIC8vIHJlZ2lzdGVycyB0bnMtY29yZS1tb2R1bGVzIFVJIGZyYW1ld29yayBtb2R1bGVzXG4gICAgcmVxdWlyZShcImJ1bmRsZS1lbnRyeS1wb2ludHNcIik7XG5cbiAgICAvLyByZWdpc3RlciBhcHBsaWNhdGlvbiBtb2R1bGVzXG4gICAgLy8gVGhpcyB3aWxsIHJlZ2lzdGVyIGVhY2ggYHBhZ2VgIHBvc3RmaXhlZCB4bWwsIGNzcywganMsIHRzLCBzY3NzIGV0Yy4gaW4gdGhlIGFwcC8gZm9sZGVyXG4gICAgY29uc3QgY29udGV4dCA9IHJlcXVpcmUuY29udGV4dChcIn4vXCIsIHRydWUsIC8ocGFnZXxmcmFnbWVudClcXC4oeG1sfGNzc3xqc3x0c3xzY3NzKSQvKTtcbiAgICBnbG9iYWwucmVnaXN0ZXJXZWJwYWNrTW9kdWxlcyhjb250ZXh0KTtcbn1cbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9idW5kbGUtY29uZmlnLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vYnVuZGxlLWNvbmZpZy5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBDb21taXR0ZWVWaWV3TW9kZWwgPSByZXF1aXJlKFwiLi9jb21taXR0ZWUtdmlldy1tb2RlbFwiKTtcbmNvbnN0IG9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpO1xudmFyIGZyYW1lTW9kdWxlID0gcmVxdWlyZShcInVpL2ZyYW1lXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcbnZhciBwYWdlO1xuXG52YXIgY29tbWl0dGVlTGlzdCA9IG5ldyBDb21taXR0ZWVWaWV3TW9kZWwoW10pO1xuXG52YXIgcGFnZURhdGEgPSBuZXcgb2JzZXJ2YWJsZU1vZHVsZS5mcm9tT2JqZWN0KHtcbiAgICBjb21taXR0ZWVMaXN0OiBjb21taXR0ZWVMaXN0LFxuICAgIGlzTG9hZGluZzogZmFsc2Vcbn0pO1xuXG5mdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICBcbiAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIkNvbW1pdHRlZVwiO1xuXG4gICAgICAgIHZhciBuYXZpZ2F0aW9uQ29udGV4dCA9IHBhZ2UubmF2aWdhdGlvbkNvbnRleHQ7XG5cbiAgICAgICAgdmFyIGNvbW1pdHRlZU5hbWUgPSBwYWdlLmdldFZpZXdCeUlkKFwiY29tbWl0dGVlTmFtZVwiKTtcbiAgICAgICAgdmFyIGNvbW1pdHRlZSA9IG5hdmlnYXRpb25Db250ZXh0LmNvbW1pdHRlZU5hbWU7XG4gICAgICAgIHZhciBtYXhMZW5ndGggPSAzNTtcblxuICAgICAgICBpZiAoY29tbWl0dGVlLmxlbmd0aCA+IG1heExlbmd0aCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IG1heExlbmd0aDsgaSA+IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IGNvbW1pdHRlZS5pbmRleE9mKFwiIFwiLCBpKTtcblxuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbiA+IC0xICYmIHBvc2l0aW9uIDw9IG1heExlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb21taXR0ZWUgPSBjb21taXR0ZWUuc3Vic3RyKDAsIHBvc2l0aW9uKSArIFwiLi4uXCJcblxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb21taXR0ZWVOYW1lLnRleHQgPSBjb21taXR0ZWU7XG5cbiAgICAgICAgY29tbWl0dGVlTGlzdC5lbXB0eSgpO1xuXG4gICAgICAgIGlmIChjb21taXR0ZWVMaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuICAgIFxuICAgICAgICAgICAgY29tbWl0dGVlTGlzdC5sb2FkKG5hdmlnYXRpb25Db250ZXh0LmNvbW1pdHRlZUlkKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHBhZ2VEYXRhO1xuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkJhY2tUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5nb0JhY2soKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydChlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uSXRlbVRhcChhcmdzKSB7XG4gICAgdmFyIHZpZXcgPSBhcmdzLnZpZXc7XG4gICAgdmFyIG1vZGVsID0gdmlldy5iaW5kaW5nQ29udGV4dDtcblxuICAgIGNvbnN0IG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgbW9kdWxlTmFtZTogXCJsZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2xlZ2lzbGF0b3ItcGFnZVwiLFxuICAgICAgICBjb250ZXh0OiBtb2RlbCxcbiAgICAgICAgY2xlYXJIaXN0b3J5OiBmYWxzZVxuICAgIH07XG5cbiAgICB0cnlcbiAgICB7XG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnRzLm9uTmF2aWdhdGluZ1RvID0gb25OYXZpZ2F0aW5nVG87XG5leHBvcnRzLm9uQmFja1RhcCA9IG9uQmFja1RhcDtcbmV4cG9ydHMub25JdGVtVGFwID0gb25JdGVtVGFwO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2NvbW1pdHRlZXMvY29tbWl0dGVlL2NvbW1pdHRlZS1wYWdlLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vY29tbWl0dGVlcy9jb21taXR0ZWUvY29tbWl0dGVlLXBhZ2UuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiXG5tb2R1bGUuZXhwb3J0cyA9IFwiPFBhZ2UgbmF2aWdhdGluZ1RvPVxcXCJvbk5hdmlnYXRpbmdUb1xcXCIgY2xhc3M9XFxcInBhZ2VcXFwiIHhtbG5zPVxcXCJodHRwOi8vc2NoZW1hcy5uYXRpdmVzY3JpcHQub3JnL3Rucy54c2RcXFwiID5cXG4gICAgPEFjdGlvbkJhciBjbGFzcz1cXFwiYWN0aW9uLWJhclxcXCI+XFxuICAgICAgICA8YW5kcm9pZD5cXG4gICAgICAgICAgICA8TmF2aWdhdGlvbkJ1dHRvbiBhbmRyb2lkLnN5c3RlbUljb249XFxcImljX21lbnVfYmFja1xcXCIgdGFwPVxcXCJvbkJhY2tUYXBcXFwiIC8+XFxuICAgICAgICA8L2FuZHJvaWQ+XFxuICAgIDwvQWN0aW9uQmFyPlxcblxcbiAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCJhdXRvLCAqXFxcIiBoZWlnaHQ9XFxcIjEwMCVcXFwiIHdpZHRoPVxcXCIxMDAlXFxcIj5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcInRvcFxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIiBjbGFzcz1cXFwidmlldy10aXRsZVxcXCI+XFxuICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJjb21taXR0ZWVOYW1lXFxcIiB0ZXh0PVxcXCJcXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgLz5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIxXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiPlxcbiAgICAgICAgICAgIDxMaXN0VmlldyBpdGVtcz1cXFwie3sgY29tbWl0dGVlTGlzdCB9fVxcXCIgaXRlbVRhcD1cXFwib25JdGVtVGFwXFxcIiBoZWlnaHQ9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgICAgICAgICA8TGlzdFZpZXcuaXRlbVRlbXBsYXRlPlxcbiAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIiosIGF1dG9cXFwiIHJvd3M9XFxcIipcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcIm1pZGRsZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cXFwie3sgZnVsbE5hbWUgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1tYWluLXRvcFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcImF1dG8sICpcXFwiIHJvd3M9XFxcIipcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwie3sgdGl0bGUgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1zdWJcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJ7eyBzaWRlIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViXFxcIiB2aXNpYmlsaXR5PVxcXCJ7eyBzaWRlLmxlbmd0aCA+IDAgPyAndmlzaWJsZScgOiAnY29sbGFwc2UnIH19XFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcIiYjeGYxMDU7XFxcIiBjbGFzcz1cXFwiZm4tbGlzdC12aWV3LWl0ZW1cXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJtaWRkbGVcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgPC9MaXN0Vmlldy5pdGVtVGVtcGxhdGU+XFxuICAgICAgICAgICAgPC9MaXN0Vmlldz5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8QWN0aXZpdHlJbmRpY2F0b3IgYnVzeT1cXFwie3sgaXNMb2FkaW5nIH19XFxcIiBhbmRyb2lkOmhlaWdodD1cXFwiMjUlXFxcIiBhbmRyb2lkOndpZHRoPVxcXCIyNSVcXFwiIGlvcy5hY3Rpdml0eUluZGljYXRvclZpZXdTdHlsZT1cXFwid2hpdGVMYXJnZVxcXCIgcm93U3Bhbj1cXFwiM1xcXCIgY29sU3Bhbj1cXFwiMVxcXCIgLz5cXG4gICAgPC9HcmlkTGF5b3V0PlxcbjwvUGFnZT5cXG5cIjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9jb21taXR0ZWVzL2NvbW1pdHRlZS9jb21taXR0ZWUtcGFnZS54bWxcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwibWFya3VwXCIsIHBhdGg6IFwiLi9jb21taXR0ZWVzL2NvbW1pdHRlZS9jb21taXR0ZWUtcGFnZS54bWxcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3Qgb2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgT2JzZXJ2YWJsZUFycmF5ID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZS1hcnJheVwiKS5PYnNlcnZhYmxlQXJyYXk7XG52YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxuZnVuY3Rpb24gQ29tbWl0dGVlVmlld01vZGVsKGl0ZW1zKSB7XG4gICAgY29uc3Qgdmlld01vZGVsID0gbmV3IE9ic2VydmFibGVBcnJheShpdGVtcyk7XG5cbiAgICB2aWV3TW9kZWwubG9hZCA9IGZ1bmN0aW9uKGNvbW1pdHRlZUlkKSB7XG4gICAgICAgIHJldHVybiBodHRwLnJlcXVlc3Qoe1xuICAgICAgICAgICAgdXJsOiBnbG9iYWwuYXBpQmFzZVNlcnZpY2VVcmwgKyBcImNvbW1pdHRlZW1lbWJlcnM/Y29tbWl0dGVlSWQ9XCIgKyBjb21taXR0ZWVJZCxcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiQXV0aG9yaXphdGlvblwiOiBnbG9iYWwudG9rZW4gfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmNvbnRlbnQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShyZXN1bHQpO1xuXG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24obGVnaXNsYXRvcikge1xuICAgICAgICAgICAgICAgIHZhciBzaWRlID0gbGVnaXNsYXRvci5TaWRlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNpZGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBzaWRlID0gXCIgKFwiICsgc2lkZSArIFwiKVwiO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgY29tbWl0dGVlSWQ6IGxlZ2lzbGF0b3IuQ29tbWl0dGVlSWQsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGxlZ2lzbGF0b3IuTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgc3ViY29tbWl0dGVlOiBsZWdpc2xhdG9yLlN1YmNvbW1pdHRlZSxcbiAgICAgICAgICAgICAgICAgICAgc2lkZTogc2lkZSxcbiAgICAgICAgICAgICAgICAgICAgcmFuazogbGVnaXNsYXRvci5SYW5rLFxuICAgICAgICAgICAgICAgICAgICBiaW9HdWlkZUlkOiBsZWdpc2xhdG9yLkJpb0d1aWRlSWQsXG4gICAgICAgICAgICAgICAgICAgIGxlZ2lzbGF0b3JJZDogbGVnaXNsYXRvci5MZWdpc2xhdG9ySWQsXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxOYW1lOiBsZWdpc2xhdG9yLkZ1bGxOYW1lLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogbGVnaXNsYXRvci5UaXRsZSxcbiAgICAgICAgICAgICAgICAgICAgb2ZmaWNlOiBsZWdpc2xhdG9yLk9mZmljZSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdGU6IGxlZ2lzbGF0b3IuU3RhdGUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlTmFtZTogbGVnaXNsYXRvci5TdGF0ZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHBob25lOiBsZWdpc2xhdG9yLlBob25lLFxuICAgICAgICAgICAgICAgICAgICB0ZXJtU3RhcnQ6IGxlZ2lzbGF0b3IuVGVybVN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICB0ZXJtRW5kOiBsZWdpc2xhdG9yLlRlcm1FbmQsXG4gICAgICAgICAgICAgICAgICAgIGNoYW1iZXI6IGxlZ2lzbGF0b3IuQ2hhbWJlcixcbiAgICAgICAgICAgICAgICAgICAgcGFydHk6IGxlZ2lzbGF0b3IuUGFydHksXG4gICAgICAgICAgICAgICAgICAgIHBhcnR5TmFtZTogbGVnaXNsYXRvci5QYXJ0eU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGJpbzogbGVnaXNsYXRvci5CaW9QbGFpblRleHRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmlld01vZGVsLmVtcHR5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHdoaWxlICh2aWV3TW9kZWwubGVuZ3RoKSB7XG4gICAgICAgICAgICB2aWV3TW9kZWwucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHJldHVybiB2aWV3TW9kZWw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ29tbWl0dGVlVmlld01vZGVsO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2NvbW1pdHRlZXMvY29tbWl0dGVlL2NvbW1pdHRlZS12aWV3LW1vZGVsLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vY29tbWl0dGVlcy9jb21taXR0ZWUvY29tbWl0dGVlLXZpZXctbW9kZWwuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3QgQ29tbWl0dGVlc1ZpZXdNb2RlbCA9IHJlcXVpcmUoXCIuL2NvbW1pdHRlZXMtdmlldy1tb2RlbFwiKTtcbmNvbnN0IHBsYXRmb3JtID0gcmVxdWlyZShcInBsYXRmb3JtXCIpO1xuY29uc3QgT2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgZnJhbWVNb2R1bGUgPSByZXF1aXJlKFwidWkvZnJhbWVcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xudmFyIHBhZ2U7XG52YXIgc2VhcmNoQmFyO1xudmFyIGNvbW1pdHRlZXNQYWdlU2l6ZSA9IDI1O1xudmFyIGNvbW1pdHRlZXNTZWFyY2hUZXh0ID0gXCJcIjtcbnZhciBjaGFtYmVySWQgPSAwO1xudmFyIGNvbW1pdHRlZXNTZWFyY2hTdWJtaXR0ZWQgPSBmYWxzZTtcblxudmFyIGNvbW1pdHRlZXNMaXN0ID0gbmV3IENvbW1pdHRlZXNWaWV3TW9kZWwoW10pO1xuXG52YXIgcGFnZURhdGEgPSBuZXcgT2JzZXJ2YWJsZU1vZHVsZS5mcm9tT2JqZWN0KHtcbiAgICBjb21taXR0ZWVzTGlzdDogY29tbWl0dGVlc0xpc3QsXG4gICAgaXNMb2FkaW5nOiBmYWxzZVxufSk7XG5cbmZ1bmN0aW9uIG9uTmF2aWdhdGluZ1RvKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBwYWdlID0gYXJncy5vYmplY3Q7XG4gICAgICAgIFxuICAgICAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiQ29tbWl0dGVlc1wiO1xuICAgIFxuICAgICAgICBpZiAoY29tbWl0dGVlc1NlYXJjaFRleHQgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHZhciBzZWFyY2hCYXIgPSBwYWdlLmdldFZpZXdCeUlkKFwic2VhcmNoQmFyXCIpO1xuXG4gICAgICAgICAgICBzZWFyY2hCYXIudGV4dCA9IGNvbW1pdHRlZXNTZWFyY2hUZXh0O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBTaW5jZSB0aGUgUGFnZSBjb250YWlucyBhIFNlZ21lbnRlZEJhcixcbiAgICAgICAgLy8gdGhlIHNlbGVjdGVkSW5kZXhDaGFuZ2VkIGV2ZW50IHdpbGwgcGVyZm9ybSB0aGUgaW5pdGlhbCBsb2FkIG9mIHRoZSBMaXN0Vmlldy5cbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25TZWxlY3RlZEluZGV4Q2hhbmdlZChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY2hhbWJlcklkID0gYXJncy5uZXdJbmRleDtcblxuICAgICAgICBjb21taXR0ZWVzTGlzdC5lbXB0eSgpO1xuXG4gICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuICAgICAgICBjb21taXR0ZWVzTGlzdC5sb2FkKGNoYW1iZXJJZCwgY29tbWl0dGVlc1NlYXJjaFRleHQsIDEsIGNvbW1pdHRlZXNQYWdlU2l6ZSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU2VhcmNoQmFyTG9hZGVkKGFyZ3MpXG57XG4gICAgc2VhcmNoQmFyID0gYXJncy5vYmplY3Q7XG5cbiAgICBpZiAocGxhdGZvcm0uaXNBbmRyb2lkKSB7XG4gICAgICAgIHNlYXJjaEJhci5hbmRyb2lkLmNsZWFyRm9jdXMoKTtcbiAgICB9IGVsc2UgaWYgKHBsYXRmb3JtLmlzSU9TKSB7XG4gICAgICAgIC8vIGlPUyBTdHlsaW5nXG4gICAgICAgIHNlYXJjaEJhci5pb3Muc2VhcmNoQmFyU3R5bGUgPSBVSVNlYXJjaEJhclN0eWxlLlVJU2VhcmNoQmFyU3R5bGVNaW5pbWFsO1xuICAgICAgICBzZWFyY2hCYXIuaW9zLnNob3dzQ2FuY2VsQnV0dG9uID0gdHJ1ZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU3VibWl0KGFyZ3MpXG57XG4gICAgc2VhcmNoQmFyID0gYXJncy5vYmplY3Q7XG5cbiAgICBjb21taXR0ZWVzU2VhcmNoVGV4dCA9IHNlYXJjaEJhci50ZXh0LnRyaW0oKTtcblxuICAgIGNvbW1pdHRlZXNMaXN0LmVtcHR5KCk7XG4gICAgXG4gICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuXG4gICAgY29tbWl0dGVlc0xpc3QubG9hZChjaGFtYmVySWQsIGNvbW1pdHRlZXNTZWFyY2hUZXh0LCAxLCBjb21taXR0ZWVzUGFnZVNpemUpLnRoZW4oZnVuY3Rpb24gKCl7XG4gICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG5cbiAgICAgICAgY29tbWl0dGVlc1NlYXJjaFN1Ym1pdHRlZCA9IHRydWU7XG4gICAgXG4gICAgICAgIHNlYXJjaEJhci5kaXNtaXNzU29mdElucHV0KCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIG9uQ2xlYXIoYXJncylcbntcbiAgICBzZWFyY2hCYXIudGV4dCA9IFwiXCI7XG4gICAgY29tbWl0dGVlc1NlYXJjaFRleHQgPSBcIlwiO1xuXG4gICAgaWYgKGNvbW1pdHRlZXNTZWFyY2hTdWJtaXR0ZWQpIHtcbiAgICAgICAgY29tbWl0dGVlc0xpc3QuZW1wdHkoKTtcbiAgICAgICAgXG4gICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuICAgICAgICBjb21taXR0ZWVzTGlzdC5sb2FkKGNoYW1iZXJJZCwgY29tbWl0dGVlc1NlYXJjaFRleHQsIDEsIGNvbW1pdHRlZXNQYWdlU2l6ZSkudGhlbihmdW5jdGlvbiAoKXtcbiAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIGNvbW1pdHRlZXNTZWFyY2hTdWJtaXR0ZWQgPSBmYWxzZTtcbiAgICAgICAgXG4gICAgICAgICAgICBzZWFyY2hCYXIuZGlzbWlzc1NvZnRJbnB1dCgpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uSXRlbVRhcChhcmdzKSB7XG4gICAgdHJ5XG4gICAge1xuICAgICAgICB2YXIgaW5kZXggPSBhcmdzLmluZGV4O1xuICAgICAgICB2YXIgY29tbWl0dGVlID0gY29tbWl0dGVlc0xpc3QuZ2V0SXRlbShpbmRleCk7XG4gICAgICAgIHZhciBjb21taXR0ZWVJZDtcbiAgICAgICAgdmFyIGNvbW1pdHRlZU5hbWU7XG5cbiAgICAgICAgaWYgKGNvbW1pdHRlZS5pc1N1YmNvbW1pdHRlZSA9PT0gXCJUcnVlXCIpIHtcbiAgICAgICAgICAgIGNvbW1pdHRlZUlkID0gY29tbWl0dGVlLnN1YmNvbW1pdHRlZUlkO1xuICAgICAgICAgICAgY29tbWl0dGVlTmFtZSA9IGNvbW1pdHRlZS5zdWJjb21taXR0ZWVOYW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29tbWl0dGVlSWQgPSBjb21taXR0ZWUuY29tbWl0dGVlSWQ7XG4gICAgICAgICAgICBjb21taXR0ZWVOYW1lID0gY29tbWl0dGVlLmNvbW1pdHRlZU5hbWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgICAgICBtb2R1bGVOYW1lOiBcImNvbW1pdHRlZXMvY29tbWl0dGVlL2NvbW1pdHRlZS1wYWdlXCIsXG4gICAgICAgICAgICBjb250ZXh0OiB7IFxuICAgICAgICAgICAgICAgIGNvbW1pdHRlZUlkOiBjb21taXR0ZWVJZCxcbiAgICAgICAgICAgICAgICBjb21taXR0ZWVOYW1lOiBjb21taXR0ZWVOYW1lXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xlYXJIaXN0b3J5OiBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkxvYWRNb3JlSXRlbXMoYXJncylcbntcbiAgICB2YXIgY29tbWl0dGVlc0xpc3RDb3VudCA9IGNvbW1pdHRlZXNMaXN0Lmxlbmd0aDtcbiAgICB2YXIgY29tbWl0dGVlc1BhZ2VOdW1iZXIgPSBNYXRoLmNlaWwoY29tbWl0dGVlc0xpc3RDb3VudCAvIGNvbW1pdHRlZXNQYWdlU2l6ZSkgKyAxO1xuICAgIHZhciBjb21taXR0ZWVzUmVtYWluZGVyID0gY29tbWl0dGVlc0xpc3RDb3VudCAlIGNvbW1pdHRlZXNQYWdlU2l6ZTtcblxuICAgIGlmIChjb21taXR0ZWVzUmVtYWluZGVyICE9PSAwICYmIGNvbW1pdHRlZXNSZW1haW5kZXIgPCBjb21taXR0ZWVzUGFnZVNpemUpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuXG4gICAgY29tbWl0dGVlc0xpc3QubG9hZChjaGFtYmVySWQsIGNvbW1pdHRlZXNTZWFyY2hUZXh0LCBjb21taXR0ZWVzUGFnZU51bWJlciwgY29tbWl0dGVlc1BhZ2VTaXplKS50aGVuKGZ1bmN0aW9uICgpe1xuICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuICAgIH0pO1xufVxuXG5leHBvcnRzLm9uTmF2aWdhdGluZ1RvID0gb25OYXZpZ2F0aW5nVG87XG5leHBvcnRzLm9uU2VsZWN0ZWRJbmRleENoYW5nZWQgPSBvblNlbGVjdGVkSW5kZXhDaGFuZ2VkO1xuZXhwb3J0cy5vblNlYXJjaEJhckxvYWRlZCA9IG9uU2VhcmNoQmFyTG9hZGVkO1xuZXhwb3J0cy5vblN1Ym1pdCA9IG9uU3VibWl0O1xuZXhwb3J0cy5vbkNsZWFyID0gb25DbGVhcjtcbmV4cG9ydHMub25JdGVtVGFwID0gb25JdGVtVGFwO1xuZXhwb3J0cy5vbkxvYWRNb3JlSXRlbXMgPSBvbkxvYWRNb3JlSXRlbXM7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vY29tbWl0dGVlcy9jb21taXR0ZWVzLXBhZ2UuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9jb21taXR0ZWVzL2NvbW1pdHRlZXMtcGFnZS5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJcbm1vZHVsZS5leHBvcnRzID0gXCI8UGFnZSBuYXZpZ2F0aW5nVG89XFxcIm9uTmF2aWdhdGluZ1RvXFxcIiBjbGFzcz1cXFwicGFnZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly9zY2hlbWFzLm5hdGl2ZXNjcmlwdC5vcmcvdG5zLnhzZFxcXCIgPlxcbiAgICA8QWN0aW9uQmFyIGNsYXNzPVxcXCJhY3Rpb24tYmFyXFxcIiAvPlxcblxcbiAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCJhdXRvLCBhdXRvLCAqXFxcIiBoZWlnaHQ9XFxcIjEwMCVcXFwiIHdpZHRoPVxcXCIxMDAlXFxcIj5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcInRvcFxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIj5cXG4gICAgICAgICAgICA8U2VhcmNoQmFyIGlkPVxcXCJzZWFyY2hCYXJcXFwiIGhpbnQ9XFxcIlNlYXJjaFxcXCIgdGV4dD1cXFwiXFxcIiBsb2FkZWQ9XFxcIm9uU2VhcmNoQmFyTG9hZGVkXFxcIiBzdWJtaXQ9XFxcIm9uU3VibWl0XFxcIiBjbGVhcj1cXFwib25DbGVhclxcXCIgLz5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIxXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCI+XFxuICAgICAgICAgICAgPFNlZ21lbnRlZEJhciBjbGFzcz1cXFwic2VnbWVudGVkLWJhclxcXCIgc2VsZWN0ZWRJbmRleENoYW5nZWQ9XFxcIm9uU2VsZWN0ZWRJbmRleENoYW5nZWRcXFwiPlxcbiAgICAgICAgICAgICAgICA8U2VnbWVudGVkQmFyLml0ZW1zPlxcbiAgICAgICAgICAgICAgICAgICAgPFNlZ21lbnRlZEJhckl0ZW0gY2xhc3M9XFxcInNlbGVjdGVkU2VnbWVudFxcXCIgdGl0bGU9XFxcIkFsbFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIDxTZWdtZW50ZWRCYXJJdGVtIHRpdGxlPVxcXCJIb3VzZVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIDxTZWdtZW50ZWRCYXJJdGVtIHRpdGxlPVxcXCJTZW5hdGVcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8U2VnbWVudGVkQmFySXRlbSB0aXRsZT1cXFwiSm9pbnRcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8U2VnbWVudGVkQmFySXRlbSB0aXRsZT1cXFwiQ2F1Y3VzXFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8L1NlZ21lbnRlZEJhci5pdGVtcz5cXG4gICAgICAgICAgICA8L1NlZ21lbnRlZEJhcj5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIyXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiPlxcbiAgICAgICAgICAgIDxMaXN0VmlldyBpdGVtcz1cXFwie3sgY29tbWl0dGVlc0xpc3QgfX1cXFwiIGl0ZW1UYXA9XFxcIm9uSXRlbVRhcFxcXCIgbG9hZE1vcmVJdGVtcz1cXFwib25Mb2FkTW9yZUl0ZW1zXFxcIiBoZWlnaHQ9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgICAgICAgICA8TGlzdFZpZXcuaXRlbVRlbXBsYXRlPlxcbiAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHdpZHRoPVxcXCIxMDAlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCIqXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJtaWRkbGVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcInt7IGlzU3ViY29tbWl0dGVlID09PSAnVHJ1ZScgPyBzdWJjb21taXR0ZWVOYW1lIDogY29tbWl0dGVlTmFtZSB9fVxcXCIgdGV4dFdyYXA9XFxcInRydWVcXFwiIFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVxcXCJ7eyBpc1N1YmNvbW1pdHRlZSA9PT0gJ1RydWUnID8gJ21hcmdpbi1sZWZ0OiAxNTsnIDogJ21hcmdpbi1sZWZ0OiAwOycgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1tYWluLXRvcFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcImF1dG8sICpcXFwiIHJvd3M9XFxcIipcXFwiIHZpc2liaWxpdHk9XFxcInt7IGZ1bGxOYW1lLmxlbmd0aCA+IDAgPyAndmlzaWJsZScgOiAnY29sbGFwc2UnIH19XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcInt7IHRpdGxlIH19XFxcIiBzdHlsZT1cXFwie3sgaXNTdWJjb21taXR0ZWUgPT09ICdUcnVlJyA/ICdtYXJnaW4tbGVmdDogMTU7JyA6ICdtYXJnaW4tbGVmdDogMDsnIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViLXRpdGxlXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwie3sgZnVsbE5hbWUgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1zdWJcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCJhdXRvLCAqXFxcIiByb3dzPVxcXCIqXFxcIiB2aXNpYmlsaXR5PVxcXCJ7eyBwaG9uZS5sZW5ndGggPiAwID8gJ3Zpc2libGUnIDogJ2NvbGxhcHNlJyB9fVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJQaG9uZTogXFxcIiBzdHlsZT1cXFwie3sgaXNTdWJjb21taXR0ZWUgPT09ICdUcnVlJyA/ICdtYXJnaW4tbGVmdDogMTU7JyA6ICdtYXJnaW4tbGVmdDogMDsnIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViLXRpdGxlXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwie3sgcGhvbmUgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1zdWJcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwiJiN4ZjEwNTtcXFwiIGNsYXNzPVxcXCJmbi1saXN0LXZpZXctaXRlbVxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcIm1pZGRsZVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICA8L0xpc3RWaWV3Lml0ZW1UZW1wbGF0ZT5cXG4gICAgICAgICAgICA8L0xpc3RWaWV3PlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgIDxBY3Rpdml0eUluZGljYXRvciBidXN5PVxcXCJ7eyBpc0xvYWRpbmcgfX1cXFwiIGFuZHJvaWQ6aGVpZ2h0PVxcXCIyNSVcXFwiIGFuZHJvaWQ6d2lkdGg9XFxcIjI1JVxcXCIgaW9zLmFjdGl2aXR5SW5kaWNhdG9yVmlld1N0eWxlPVxcXCJ3aGl0ZUxhcmdlXFxcIiByb3dTcGFuPVxcXCIzXFxcIiBjb2xTcGFuPVxcXCIxXFxcIiAvPlxcbiAgICA8L0dyaWRMYXlvdXQ+XFxuPC9QYWdlPlxcblwiOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2NvbW1pdHRlZXMvY29tbWl0dGVlcy1wYWdlLnhtbFwiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJtYXJrdXBcIiwgcGF0aDogXCIuL2NvbW1pdHRlZXMvY29tbWl0dGVlcy1wYWdlLnhtbFwiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBvYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBPYnNlcnZhYmxlQXJyYXkgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlLWFycmF5XCIpLk9ic2VydmFibGVBcnJheTtcbnZhciBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xuXG5mdW5jdGlvbiBDb21taXR0ZWVzVmlld01vZGVsKGl0ZW1zKSB7XG4gICAgY29uc3Qgdmlld01vZGVsID0gbmV3IE9ic2VydmFibGVBcnJheShpdGVtcyk7XG4gICAgXG4gICAgdmlld01vZGVsLmxvYWQgPSBmdW5jdGlvbihjaGFtYmVySWQsIGZpbHRlciwgcGFnZSwgcGFnZVNpemUpIHtcbiAgICAgICAgcmV0dXJuIGh0dHAucmVxdWVzdCh7XG4gICAgICAgICAgICB1cmw6IGdsb2JhbC5hcGlCYXNlU2VydmljZVVybCArIFwiY29tbWl0dGVlc2ZpbHRlcj9jaGFtYmVySWQ9XCIgKyBjaGFtYmVySWQgKyBcIiZmaWx0ZXI9XCIgKyBmaWx0ZXIucmVwbGFjZSgvIC9nLCBcIiUyMFwiKSArIFwiJnBhZ2U9XCIgKyBwYWdlICsgXCImcGFnZVNpemU9XCIgKyBwYWdlU2l6ZSxcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiQXV0aG9yaXphdGlvblwiOiBnbG9iYWwudG9rZW4gfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmNvbnRlbnQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShyZXN1bHQpO1xuXG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oY29tbWl0dGVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbW1pdHRlZS5GdWxsTmFtZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZnVsbE5hbWUgPSBjb21taXR0ZWUuRnVsbE5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aXRsZSA9IGNvbW1pdHRlZS5UaXRsZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZnVsbE5hbWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpdGxlLmluZGV4T2YoXCI7XCIpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlID0gdGl0bGUuc3Vic3RyKDAsIHRpdGxlLmluZGV4T2YoJzsnKSkgKyBcIjogXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbE5hbWUgPSBmdWxsTmFtZS5yZXBsYWNlKFwiO1wiLCBcIiwgXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSArPSBcIjogXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21taXR0ZWVJZDogY29tbWl0dGVlLkNvbW1pdHRlZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWl0dGVlTmFtZTogY29tbWl0dGVlLkNvbW1pdHRlZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRDb21taXR0ZWVJZDogY29tbWl0dGVlLlBhcmVudENvbW1pdHRlZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3ViY29tbWl0dGVlSWQ6IGNvbW1pdHRlZS5TdWJjb21taXR0ZWVJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YmNvbW1pdHRlZU5hbWU6IGNvbW1pdHRlZS5TdWJjb21taXR0ZWVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNTdWJjb21taXR0ZWU6IGNvbW1pdHRlZS5Jc1N1YmNvbW1pdHRlZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW1iZXJJZDogY29tbWl0dGVlLkNoYW1iZXJJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW1iZXI6IGNvbW1pdHRlZS5DaGFtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgb2ZmaWNlOiBjb21taXR0ZWUuT2ZmaWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmU6IGNvbW1pdHRlZS5QaG9uZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdlYnNpdGU6IGNvbW1pdHRlZS5XZWJzaXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVsbE5hbWU6IGZ1bGxOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmlld01vZGVsLmVtcHR5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHdoaWxlICh2aWV3TW9kZWwubGVuZ3RoKSB7XG4gICAgICAgICAgICB2aWV3TW9kZWwucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHJldHVybiB2aWV3TW9kZWw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ29tbWl0dGVlc1ZpZXdNb2RlbDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9jb21taXR0ZWVzL2NvbW1pdHRlZXMtdmlldy1tb2RlbC5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL2NvbW1pdHRlZXMvY29tbWl0dGVlcy12aWV3LW1vZGVsLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsInZhciBncmlkTGF5b3V0ID0gcmVxdWlyZShcInVpL2xheW91dHMvZ3JpZC1sYXlvdXRcIilcbnZhciBzdGFja0xheW91dCA9IHJlcXVpcmUoXCJ1aS9sYXlvdXRzL3N0YWNrLWxheW91dFwiKVxudmFyIExhYmVsID0gcmVxdWlyZShcInVpL2xhYmVsXCIpLkxhYmVsXG4vL3ZhciBkZXBlbmRlbmN5T2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJ1aS9jb3JlL2RlcGVuZGVuY3ktb2JzZXJ2YWJsZVwiKVxuLy92YXIgVmlldyA9IHJlcXVpcmUoXCJ1aS9jb3JlL3ZpZXdcIikuVmlld1xudmFyIGZyYW1lID0gcmVxdWlyZShcInVpL2ZyYW1lXCIpXG4vL3ZhciBwbGF0Zm9ybSA9IHJlcXVpcmUoXCJwbGF0Zm9ybVwiKVxudmFyIGNvbG9yID0gcmVxdWlyZShcImNvbG9yXCIpXG5cbnZhciBUYWJOYXZpZ2F0aW9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGFiTmF2aWdhdGlvbiwgX3N1cGVyKVxuICAgIGZ1bmN0aW9uIFRhYk5hdmlnYXRpb24oKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpXG5cbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBuZXcgY29sb3IuQ29sb3IoXCIjZmZmZmZmXCIpXG4gICAgICAgIHRoaXMubmF2RnJhbWUgPSBuZXcgZnJhbWUuRnJhbWUoKVxuICAgICAgICB0aGlzLl90YWJzID0gW11cbiAgICAgICAgXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXNcbiAgICAgICAgdGhpcy5vbignbG9hZGVkJywgZnVuY3Rpb24oYXJncyl7XG4gICAgICAgICAgICB2YXIgb2JqID0gYXJncy5vYmplY3RcbiAgICAgICAgICAgIGlmKG9iai5pZD09PSd0YWItbmF2aWdhdGlvbicpe1xuICAgICAgICAgICAgICByZXR1cm47ICAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5jcmVhdGVVaShvYmoudGFicylcbiAgICAgICAgICAgIF90aGlzLm5hdkZyYW1lLmlzTG9hZGVkID0gZmFsc2VcbiAgICAgICAgICAgIF90aGlzLm5hdkZyYW1lLm5hdmlnYXRlKG9iai50YWJzWzBdLnBhdGgpXG4gICAgICAgIH0pXG5cbiAgICB9XG5cbiAgICBUYWJOYXZpZ2F0aW9uLnByb3RvdHlwZS5jcmVhdGVVaSA9IGZ1bmN0aW9uIChpdGVtcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzXG4gICAgICAgIHZhciBudW1JdGVtcyA9IGl0ZW1zLmxlbmd0aFxuICAgICAgICB0aGlzLnJlbW92ZUNoaWxkcmVuKClcbiAgICAgICAgdGhpcy5pZCA9IFwidGFiLW5hdmlnYXRpb25cIiAgICAgICAgXG4gICAgICAgIHRoaXMuYWRkUm93KG5ldyBncmlkTGF5b3V0Lkl0ZW1TcGVjKDEsIGdyaWRMYXlvdXQuR3JpZFVuaXRUeXBlLnN0YXIpKVxuICAgICAgICB0aGlzLmFkZFJvdyhuZXcgZ3JpZExheW91dC5JdGVtU3BlYygxLCBncmlkTGF5b3V0LkdyaWRVbml0VHlwZS5hdXRvKSlcbiAgICAgICAgXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtSXRlbXM7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5hZGRDb2x1bW4obmV3IGdyaWRMYXlvdXQuSXRlbVNwZWMoMSwgZ3JpZExheW91dC5HcmlkVW5pdFR5cGUuc3RhcikpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm5hdkZyYW1lLmNsYXNzTmFtZSA9IFwibmF2aWdhdGlvbi1mcmFtZVwiXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5uYXZGcmFtZSlcbiAgICAgICAgZ3JpZExheW91dC5HcmlkTGF5b3V0LnNldENvbHVtbih0aGlzLm5hdkZyYW1lLCAwKVxuICAgICAgICBncmlkTGF5b3V0LkdyaWRMYXlvdXQuc2V0Um93KHRoaXMubmF2RnJhbWUsIDApXG4gICAgICAgIGdyaWRMYXlvdXQuR3JpZExheW91dC5zZXRDb2x1bW5TcGFuKHRoaXMubmF2RnJhbWUsIG51bUl0ZW1zKVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtSXRlbXM7IGkrKykge1xuICAgICAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudEl0ZW0gPSBpdGVtc1tpXVxuXG4gICAgICAgICAgICAgICAgdmFyIHRhYiA9IG5ldyBzdGFja0xheW91dC5TdGFja0xheW91dCgpXG4gICAgICAgICAgICAgICAgdGFiLmRpcmVjdGlvbiA9IFwidmVydGljYWxcIlxuICAgICAgICAgICAgICAgIGlmKGkgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0YWIuY2xhc3NOYW1lID0gXCJ0YWIgdGFiLXNlbGVjdGVkXCJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0YWIuY2xhc3NOYW1lID0gXCJ0YWJcIlxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRhYi5pZCA9IFwidGFiX1wiK2lcbiAgICAgICAgICAgICAgICB0YWIub24oXCJ0YXBcIiwgZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLm9uVGFiU2VsZWN0ZWQoYXJncywgY3VycmVudEl0ZW0pIFxuICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICB2YXIgaWNvbiA9IG5ldyBMYWJlbCgpXG4gICAgICAgICAgICAgICAgaWNvbi5jbGFzc05hbWUgPSAndGFiLWljb24nXG4gICAgICAgICAgICAgICAgLy9pY29uLnRleHQgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGN1cnJlbnRJdGVtLmljb25Db2RlKVxuICAgICAgICAgICAgICAgIGljb24udGV4dCA9IGN1cnJlbnRJdGVtLmljb25Db2RlXG4gICAgICAgICAgICAgICAgdGFiLmFkZENoaWxkKGljb24pXG5cbiAgICAgICAgICAgICAgICB2YXIgbGFiZWwgPSBuZXcgTGFiZWwoKVxuICAgICAgICAgICAgICAgIGxhYmVsLmNsYXNzTmFtZSA9ICd0YWItbGFiZWwnXG4gICAgICAgICAgICAgICAgbGFiZWwudGV4dCA9IGN1cnJlbnRJdGVtLmxhYmVsXG4gICAgICAgICAgICAgICAgdGFiLmFkZENoaWxkKGxhYmVsKVxuXG4gICAgICAgICAgICAgICAgX3RoaXMuX3RhYnMucHVzaCh0YWIpXG4gICAgICAgICAgICAgICAgX3RoaXMuYWRkQ2hpbGQodGFiKVxuICAgICAgICAgICAgICAgIGdyaWRMYXlvdXQuR3JpZExheW91dC5zZXRSb3codGFiLCAxKVxuICAgICAgICAgICAgICAgIGdyaWRMYXlvdXQuR3JpZExheW91dC5zZXRDb2x1bW4odGFiLCBpKVxuICAgICAgICAgICAgfSgpKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgVGFiTmF2aWdhdGlvbi5wcm90b3R5cGUuc2hvd1RhYiA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgdmFyIG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgICAgIG1vZHVsZU5hbWU6IGl0ZW0ucGF0aCxcbiAgICAgICAgICAgIGFuaW1hdGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGNsZWFySGlzdG9yeTogdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubmF2RnJhbWUubmF2aWdhdGUobmF2aWdhdGlvbkVudHJ5KVxuICAgIH1cblxuICAgIFRhYk5hdmlnYXRpb24ucHJvdG90eXBlLm9uVGFiU2VsZWN0ZWQgPSBmdW5jdGlvbiAoYXJncywgaXRlbSkge1xuICAgICAgICB2YXIgc2VsZWN0ZWRPYmogPSBhcmdzLm9iamVjdFxuICAgICAgICBpZiAoc2VsZWN0ZWRPYmouY2xhc3NOYW1lLmluZGV4T2YoXCJ0YWItc2VsZWN0ZWRcIikgPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGFicy5mb3JFYWNoKGZ1bmN0aW9uKHRhYil7XG4gICAgICAgICAgICB0YWIuY2xhc3NOYW1lID0gJ3RhYidcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGVjdGVkT2JqLmNsYXNzTmFtZSA9ICd0YWIgdGFiLXNlbGVjdGVkJ1xuICAgICAgICB0aGlzLnNob3dUYWIoaXRlbSlcbiAgICB9XG5cbiAgICByZXR1cm4gVGFiTmF2aWdhdGlvblxuXG59KGdyaWRMYXlvdXQuR3JpZExheW91dCkpXG5cbmV4cG9ydHMuVGFiTmF2aWdhdGlvbiA9IFRhYk5hdmlnYXRpb247IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vY29tcG9uZW50cy90YWItbmF2aWdhdGlvbi5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL2NvbXBvbmVudHMvdGFiLW5hdmlnYXRpb24uanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiLypcbkluIE5hdGl2ZVNjcmlwdCwgYSBmaWxlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBhbiBYTUwgZmlsZSBpcyBrbm93biBhc1xuYSBjb2RlLWJlaGluZCBmaWxlLiBUaGUgY29kZS1iZWhpbmQgaXMgYSBncmVhdCBwbGFjZSB0byBwbGFjZSB5b3VyIHZpZXdcbmxvZ2ljLCBhbmQgdG8gc2V0IHVwIHlvdXIgcGFnZeKAmXMgZGF0YSBiaW5kaW5nLlxuKi9cblxuLypcbk5hdGl2ZVNjcmlwdCBhZGhlcmVzIHRvIHRoZSBDb21tb25KUyBzcGVjaWZpY2F0aW9uIGZvciBkZWFsaW5nIHdpdGhcbkphdmFTY3JpcHQgbW9kdWxlcy4gVGhlIENvbW1vbkpTIHJlcXVpcmUoKSBmdW5jdGlvbiBpcyBob3cgeW91IGltcG9ydFxuSmF2YVNjcmlwdCBtb2R1bGVzIGRlZmluZWQgaW4gb3RoZXIgZmlsZXMuXG4qL1xuY29uc3QgSG9tZVZpZXdNb2RlbCA9IHJlcXVpcmUoXCIuL2hvbWUtdmlldy1tb2RlbFwiKTtcbi8vdmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxuY29uc3QgaG9tZVZpZXdNb2RlbCA9IG5ldyBIb21lVmlld01vZGVsKCk7XG52YXIgcGFnZTtcblxuZnVuY3Rpb24gb25OYXZpZ2F0aW5nVG8oYXJncykge1xuICAgIC8qXG4gICAgVGhpcyBnZXRzIGEgcmVmZXJlbmNlIHRoaXMgcGFnZeKAmXMgPFBhZ2U+IFVJIGNvbXBvbmVudC4gWW91IGNhblxuICAgIHZpZXcgdGhlIEFQSSByZWZlcmVuY2Ugb2YgdGhlIFBhZ2UgdG8gc2VlIHdoYXTigJlzIGF2YWlsYWJsZSBhdFxuICAgIGh0dHBzOi8vZG9jcy5uYXRpdmVzY3JpcHQub3JnL2FwaS1yZWZlcmVuY2UvY2xhc3Nlcy9fdWlfcGFnZV8ucGFnZS5odG1sXG4gICAgKi9cbiAgICAvL2NvbnN0IHBhZ2UgPSBhcmdzLm9iamVjdDtcbiAgICBwYWdlID0gYXJncy5vYmplY3Q7XG5cbiAgICAvKlxuICAgIEEgcGFnZeKAmXMgYmluZGluZ0NvbnRleHQgaXMgYW4gb2JqZWN0IHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gcGVyZm9ybVxuICAgIGRhdGEgYmluZGluZyBiZXR3ZWVuIFhNTCBtYXJrdXAgYW5kIEphdmFTY3JpcHQgY29kZS4gUHJvcGVydGllc1xuICAgIG9uIHRoZSBiaW5kaW5nQ29udGV4dCBjYW4gYmUgYWNjZXNzZWQgdXNpbmcgdGhlIHt7IH19IHN5bnRheCBpbiBYTUwuXG4gICAgSW4gdGhpcyBleGFtcGxlLCB0aGUge3sgbWVzc2FnZSB9fSBhbmQge3sgb25UYXAgfX0gYmluZGluZ3MgYXJlIHJlc29sdmVkXG4gICAgYWdhaW5zdCB0aGUgb2JqZWN0IHJldHVybmVkIGJ5IGNyZWF0ZVZpZXdNb2RlbCgpLlxuXG4gICAgWW91IGNhbiBsZWFybiBtb3JlIGFib3V0IGRhdGEgYmluZGluZyBpbiBOYXRpdmVTY3JpcHQgYXRcbiAgICBodHRwczovL2RvY3MubmF0aXZlc2NyaXB0Lm9yZy9jb3JlLWNvbmNlcHRzL2RhdGEtYmluZGluZy5cbiAgICAqL1xuICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBob21lVmlld01vZGVsO1xufVxuXG4vKiBmdW5jdGlvbiBvblRhYlZpZXdMb2FkZWQoYXJncykge1xuICAgIGNvbnN0IHRhYlZpZXcgPSBhcmdzLm9iamVjdDtcblxuICAgIHRhYlZpZXcuZWFjaENoaWxkKChjaGlsZCkgPT4ge1xuICAgICAgICBjaGlsZC5faW9zVmlld0NvbnRyb2xsZXIudGFiQmFySXRlbS50aXRsZVBvc2l0aW9uQWRqdXN0bWVudCA9IHtcbiAgICAgICAgICAgIGhvcml6b250YWw6IDAsXG4gICAgICAgICAgICB2ZXJ0aWNhbDogMFxuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIkxlZ2lzbGF0b3JzXCI7XG59ICovXG5cbi8qIGZ1bmN0aW9uIG9uVGFiVmlld1NlbGVjdGVkSW5kZXhDaGFuZ2VkKGFyZ3MpIHtcbiAgICB2YXIgdGFiVmlldyA9IGFyZ3Mub2JqZWN0O1xuICAgIHZhciBzZWxlY3RlZEluZGV4ID0gdGFiVmlldy5zZWxlY3RlZEluZGV4O1xuICAgICAgICBcbiAgICBpZiAoc2VsZWN0ZWRJbmRleCA9PT0gMCkgeyAvLyBMZWdpc2xhdG9yc1xuICAgICAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiTGVnaXNsYXRvcnNcIjtcbiAgICB9IGVsc2UgaWYgKHNlbGVjdGVkSW5kZXggPT09IDEpIHsgLy8gQ29tbWl0dGVlc1xuICAgICAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiQ29tbWl0dGVlc1wiO1xuICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWRJbmRleCA9PT0gMikgeyAvLyBNeSBNZWV0aW5nc1xuICAgICAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiTXkgTWVldGluZ3NcIjtcbiAgICB9IGVsc2UgeyAvLyBBc3NpZ25tZW50c1xuICAgICAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiQXNzaWdubWVudHNcIjtcbiAgICB9XG59ICovXG5cbi8qXG5FeHBvcnRpbmcgYSBmdW5jdGlvbiBpbiBhIE5hdGl2ZVNjcmlwdCBjb2RlLWJlaGluZCBmaWxlIG1ha2VzIGl0IGFjY2Vzc2libGVcbnRvIHRoZSBmaWxl4oCZcyBjb3JyZXNwb25kaW5nIFhNTCBmaWxlLiBJbiB0aGlzIGNhc2UsIGV4cG9ydGluZyB0aGUgb25OYXZpZ2F0aW5nVG9cbmZ1bmN0aW9uIGhlcmUgbWFrZXMgdGhlIG5hdmlnYXRpbmdUbz1cIm9uTmF2aWdhdGluZ1RvXCIgYmluZGluZyBpbiB0aGlzIHBhZ2XigJlzIFhNTFxuZmlsZSB3b3JrLlxuKi9cbmV4cG9ydHMub25OYXZpZ2F0aW5nVG8gPSBvbk5hdmlnYXRpbmdUbztcbi8vIGV4cG9ydHMub25UYWJWaWV3TG9hZGVkID0gb25UYWJWaWV3TG9hZGVkO1xuLy8gZXhwb3J0cy5vblRhYlZpZXdTZWxlY3RlZEluZGV4Q2hhbmdlZCA9IG9uVGFiVmlld1NlbGVjdGVkSW5kZXhDaGFuZ2VkO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2hvbWUvaG9tZS1wYWdlLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vaG9tZS9ob21lLXBhZ2UuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiXG5tb2R1bGUuZXhwb3J0cyA9IFwiPFBhZ2UgY2xhc3M9XFxcInBhZ2VcXFwiIG5hdmlnYXRpbmdUbz1cXFwib25OYXZpZ2F0aW5nVG9cXFwiIHhtbG5zPVxcXCJodHRwOi8vc2NoZW1hcy5uYXRpdmVzY3JpcHQub3JnL3Rucy54c2RcXFwiPlxcbiAgICA8QWN0aW9uQmFyIGNsYXNzPVxcXCJhY3Rpb24tYmFyXFxcIiAvPlxcblxcbiAgICA8R3JpZExheW91dD5cXG4gICAgICAgIDwhLS0gQWRkIHlvdXIgcGFnZSBjb250ZW50IGhlcmUgLS0+XFxuICAgIDwvR3JpZExheW91dD5cXG4gICAgPCEtLTxUYWJWaWV3IGlkPVxcXCJtYWluVGFic1xcXCIgbG9hZGVkPVxcXCJvblRhYlZpZXdMb2FkZWRcXFwiIHNlbGVjdGVkSW5kZXhDaGFuZ2VkPVxcXCJvblRhYlZpZXdTZWxlY3RlZEluZGV4Q2hhbmdlZFxcXCI+XFxuICAgICAgICA8VGFiVmlldy5pdGVtcz5cXG4gICAgICAgICAgICA8VGFiVmlld0l0ZW0gdGl0bGU9XFxcIkxlZ2lzbGF0b3JzXFxcIiBpY29uU291cmNlPVxcXCJyZXM6Ly9sZWdpc2xhdG9yLWljb25cXFwiIHhtbG5zOkxlZ2lzbGF0b3JzPVxcXCJob21lL2xlZ2lzbGF0b3JzXFxcIj5cXG4gICAgICAgICAgICAgICAgPFRhYlZpZXdJdGVtLnZpZXc+XFxuICAgICAgICAgICAgICAgICAgICA8TGVnaXNsYXRvcnM6bGVnaXNsYXRvcnMtcGFnZSAvPlxcbiAgICAgICAgICAgICAgICA8L1RhYlZpZXdJdGVtLnZpZXc+XFxuICAgICAgICAgICAgPC9UYWJWaWV3SXRlbT5cXG4gICAgICAgICAgICA8VGFiVmlld0l0ZW0gdGl0bGU9XFxcIkNvbW1pdHRlZXNcXFwiIGljb25Tb3VyY2U9XFxcInJlczovL2NvbW1pdHRlZS1pY29uXFxcIiB4bWxuczpDb21taXR0ZWVzPVxcXCJob21lL2NvbW1pdHRlZXNcXFwiPlxcbiAgICAgICAgICAgICAgICA8VGFiVmlld0l0ZW0udmlldz5cXG4gICAgICAgICAgICAgICAgICAgIDxDb21taXR0ZWVzOmNvbW1pdHRlZXMtcGFnZSAvPlxcbiAgICAgICAgICAgICAgICA8L1RhYlZpZXdJdGVtLnZpZXc+XFxuICAgICAgICAgICAgPC9UYWJWaWV3SXRlbT5cXG4gICAgICAgICAgICA8VGFiVmlld0l0ZW0gdGl0bGU9XFxcIk15IE1lZXRpbmdzXFxcIiBpY29uU291cmNlPVxcXCJyZXM6Ly9tZWV0aW5nLWljb25cXFwiPlxcbiAgICAgICAgICAgICAgICA8VGFiVmlld0l0ZW0udmlldz5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJNeSBNZWV0aW5nc1xcXCIgLz5cXG4gICAgICAgICAgICAgICAgPC9UYWJWaWV3SXRlbS52aWV3PlxcbiAgICAgICAgICAgIDwvVGFiVmlld0l0ZW0+XFxuICAgICAgICAgICAgPFRhYlZpZXdJdGVtIHRpdGxlPVxcXCJBc3NpZ25tZW50c1xcXCIgaWNvblNvdXJjZT1cXFwicmVzOi8vYXNzaWdubWVudC1pY29uXFxcIiB4bWxuczpBc3NpZ25tZW50cz1cXFwiaG9tZS9hc3NpZ25tZW50c1xcXCI+XFxuICAgICAgICAgICAgICAgIDxUYWJWaWV3SXRlbS52aWV3PlxcbiAgICAgICAgICAgICAgICAgICAgPEFzc2lnbm1lbnRzOmFzc2lnbm1lbnRzLXBhZ2UgLz5cXG4gICAgICAgICAgICAgICAgPC9UYWJWaWV3SXRlbS52aWV3PlxcbiAgICAgICAgICAgIDwvVGFiVmlld0l0ZW0+XFxuICAgICAgICA8L1RhYlZpZXcuaXRlbXM+XFxuICAgIDwvVGFiVmlldz4tLT5cXG48L1BhZ2U+XFxuXCI7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vaG9tZS9ob21lLXBhZ2UueG1sXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcIm1hcmt1cFwiLCBwYXRoOiBcIi4vaG9tZS9ob21lLXBhZ2UueG1sXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IE9ic2VydmFibGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpLk9ic2VydmFibGU7XG5cbmZ1bmN0aW9uIEhvbWVWaWV3TW9kZWwoKSB7XG4gICAgY29uc3Qgdmlld01vZGVsID0gbmV3IE9ic2VydmFibGUoKTtcblxuICAgIHJldHVybiB2aWV3TW9kZWw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gSG9tZVZpZXdNb2RlbDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9ob21lL2hvbWUtdmlldy1tb2RlbC5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL2hvbWUvaG9tZS12aWV3LW1vZGVsLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IG9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpO1xudmFyIGZyYW1lTW9kdWxlID0gcmVxdWlyZShcInVpL2ZyYW1lXCIpO1xuXG5mdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgY29uc3QgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuICAgIHZhciBuYXZpZ2F0aW9uQ29udGV4dCA9IHBhZ2UubmF2aWdhdGlvbkNvbnRleHQ7XG5cbiAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiQmlvXCI7XG5cbiAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gbmF2aWdhdGlvbkNvbnRleHQ7XG59XG5cbmZ1bmN0aW9uIG9uQmFja1RhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLmdvQmFjaygpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KGUpO1xuICAgIH1cbn1cblxuZXhwb3J0cy5vbk5hdmlnYXRpbmdUbyA9IG9uTmF2aWdhdGluZ1RvO1xuZXhwb3J0cy5vbkJhY2tUYXAgPSBvbkJhY2tUYXA7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9iaW8vYmlvLXBhZ2UuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2Jpby9iaW8tcGFnZS5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJcbm1vZHVsZS5leHBvcnRzID0gXCI8UGFnZSBuYXZpZ2F0aW5nVG89XFxcIm9uTmF2aWdhdGluZ1RvXFxcIiBjbGFzcz1cXFwicGFnZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly9zY2hlbWFzLm5hdGl2ZXNjcmlwdC5vcmcvdG5zLnhzZFxcXCIgPlxcbiAgICA8QWN0aW9uQmFyIGNsYXNzPVxcXCJhY3Rpb24tYmFyXFxcIj5cXG4gICAgICAgIDxhbmRyb2lkPlxcbiAgICAgICAgICAgIDxOYXZpZ2F0aW9uQnV0dG9uIGFuZHJvaWQuc3lzdGVtSWNvbj1cXFwiaWNfbWVudV9iYWNrXFxcIiB0YXA9XFxcIm9uQmFja1RhcFxcXCIgLz5cXG4gICAgICAgIDwvYW5kcm9pZD5cXG4gICAgPC9BY3Rpb25CYXI+XFxuXFxuICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcImF1dG8sIGF1dG8sICpcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiIGNsYXNzPVxcXCJ2aWV3LXRpdGxlXFxcIj5cXG4gICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImxlZ2lzbGF0b3JJZFxcXCIgdGV4dD1cXFwie3sgbGVnaXNsYXRvcklkIH19XFxcIiB2aXNpYmlsaXR5PVxcXCJjb2xsYXBzZWRcXFwiIC8+XFxuICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJsZWdpc2xhdG9yTmFtZVxcXCIgdGV4dD1cXFwie3sgZnVsbE5hbWUgfX1cXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgLz5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIxXFxcIiBjb2w9XFxcIjBcXFwiPlxcbiAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIiosIGF1dG9cXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJPZmZpY2VcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1sZWZ0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IG9mZmljZSB9fVxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwicmlnaHRcXFwiICBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tcmlnaHRcXFwiIC8+XFxuICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIiosIGF1dG9cXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJTdGF0ZVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwie3sgc3RhdGVOYW1lIH19XFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJyaWdodFxcXCIgIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1yaWdodFxcXCIgLz5cXG4gICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKiwgYXV0b1xcXCIgcm93cz1cXFwiYXV0b1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiPlxcbiAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIlBob25lXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbGVmdFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJ7eyBwaG9uZSB9fVxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwicmlnaHRcXFwiICBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tcmlnaHRcXFwiIC8+XFxuICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIiosIGF1dG9cXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJUZXJtIFN0YXJ0XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbGVmdFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJ7eyB0ZXJtU3RhcnQgfX1cXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcInJpZ2h0XFxcIiAgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIiAvPlxcbiAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiQ2hhbWJlclxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwie3sgY2hhbWJlciB9fVxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwicmlnaHRcXFwiICBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tcmlnaHRcXFwiIC8+XFxuICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIiosIGF1dG9cXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJQYXJ0eVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwie3sgcGFydHlOYW1lIH19XFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJyaWdodFxcXCIgIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1yaWdodFxcXCIgLz5cXG4gICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiYXV0b1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiPlxcbiAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIkJpb1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjJcXFwiIGNvbD1cXFwiMFxcXCI+XFxuICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiKlxcXCI+XFxuICAgICAgICAgICAgICAgIDwhLS0gPFNjcm9sbFZpZXcgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiPiAtLT5cXG4gICAgICAgICAgICAgICAgICAgIDxUZXh0VmlldyB0ZXh0PVxcXCJ7eyBiaW8gfX1cXFwiIGVkaXRhYmxlPVxcXCJmYWxzZVxcXCIgY2xhc3M9XFxcInNjcm9sbC12aWV3LWl0ZW1cXFwiIC8+XFxuICAgICAgICAgICAgICAgIDwhLS0gPC9TY3JvbGxWaWV3PiAtLT5cXG4gICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICA8L0dyaWRMYXlvdXQ+XFxuPC9QYWdlPlxcblwiOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvYmlvL2Jpby1wYWdlLnhtbFwiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJtYXJrdXBcIiwgcGF0aDogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvYmlvL2Jpby1wYWdlLnhtbFwiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBDb21taXR0ZWVzVmlld01vZGVsID0gcmVxdWlyZShcIi4vY29tbWl0dGVlcy12aWV3LW1vZGVsXCIpO1xuY29uc3Qgb2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgZnJhbWVNb2R1bGUgPSByZXF1aXJlKFwidWkvZnJhbWVcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xudmFyIHBhZ2U7XG5cbnZhciBjb21taXR0ZWVzTGlzdCA9IG5ldyBDb21taXR0ZWVzVmlld01vZGVsKFtdKTtcblxudmFyIHBhZ2VEYXRhID0gbmV3IG9ic2VydmFibGVNb2R1bGUuZnJvbU9iamVjdCh7XG4gICAgY29tbWl0dGVlc0xpc3Q6IGNvbW1pdHRlZXNMaXN0LFxuICAgIGlzTG9hZGluZzogZmFsc2Vcbn0pO1xuXG5mdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICBcbiAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIkNvbW1pdHRlZXNcIjtcblxuICAgICAgICB2YXIgbmF2aWdhdGlvbkNvbnRleHQgPSBwYWdlLm5hdmlnYXRpb25Db250ZXh0O1xuICAgICAgICB2YXIgbGVnaXNsYXRvcklkID0gcGFnZS5nZXRWaWV3QnlJZChcImxlZ2lzbGF0b3JJZFwiKTtcbiAgICAgICAgdmFyIGxlZ2lzbGF0b3JOYW1lID0gcGFnZS5nZXRWaWV3QnlJZChcImxlZ2lzbGF0b3JOYW1lXCIpO1xuICAgIFxuICAgICAgICBsZWdpc2xhdG9ySWQudGV4dCA9IG5hdmlnYXRpb25Db250ZXh0LmxlZ2lzbGF0b3JJZDtcbiAgICAgICAgbGVnaXNsYXRvck5hbWUudGV4dCA9IG5hdmlnYXRpb25Db250ZXh0LmZ1bGxOYW1lO1xuICAgIFxuICAgICAgICBjb21taXR0ZWVzTGlzdC5lbXB0eSgpO1xuICAgIFxuICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgdHJ1ZSk7XG4gICAgXG4gICAgICAgIGNvbW1pdHRlZXNMaXN0LmxvYWQobmF2aWdhdGlvbkNvbnRleHQubGVnaXNsYXRvcklkKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIFxuICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uQmFja1RhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLmdvQmFjaygpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KGUpO1xuICAgIH1cbn1cblxuZXhwb3J0cy5vbk5hdmlnYXRpbmdUbyA9IG9uTmF2aWdhdGluZ1RvO1xuZXhwb3J0cy5vbkJhY2tUYXAgPSBvbkJhY2tUYXA7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9jb21taXR0ZWVzL2NvbW1pdHRlZXMtcGFnZS5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvY29tbWl0dGVlcy9jb21taXR0ZWVzLXBhZ2UuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiXG5tb2R1bGUuZXhwb3J0cyA9IFwiPFBhZ2UgbmF2aWdhdGluZ1RvPVxcXCJvbk5hdmlnYXRpbmdUb1xcXCIgY2xhc3M9XFxcInBhZ2VcXFwiIHhtbG5zPVxcXCJodHRwOi8vc2NoZW1hcy5uYXRpdmVzY3JpcHQub3JnL3Rucy54c2RcXFwiID5cXG4gICAgPEFjdGlvbkJhciBjbGFzcz1cXFwiYWN0aW9uLWJhclxcXCI+XFxuICAgICAgICA8YW5kcm9pZD5cXG4gICAgICAgICAgICA8TmF2aWdhdGlvbkJ1dHRvbiBhbmRyb2lkLnN5c3RlbUljb249XFxcImljX21lbnVfYmFja1xcXCIgdGFwPVxcXCJvbkJhY2tUYXBcXFwiIC8+XFxuICAgICAgICA8L2FuZHJvaWQ+XFxuICAgIDwvQWN0aW9uQmFyPlxcblxcbiAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCJhdXRvLCAqXFxcIiBoZWlnaHQ9XFxcIjEwMCVcXFwiIHdpZHRoPVxcXCIxMDAlXFxcIj5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcInRvcFxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIiBjbGFzcz1cXFwidmlldy10aXRsZVxcXCI+XFxuICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJsZWdpc2xhdG9ySWRcXFwiIHRleHQ9XFxcIlxcXCIgdmlzaWJpbGl0eT1cXFwiY29sbGFwc2VkXFxcIiAvPlxcbiAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwibGVnaXNsYXRvck5hbWVcXFwiIHRleHQ9XFxcIlxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIiAvPlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjFcXFwiIGNvbD1cXFwiMFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcInRvcFxcXCI+XFxuICAgICAgICAgICAgPExpc3RWaWV3IGl0ZW1zPVxcXCJ7eyBjb21taXR0ZWVzTGlzdCB9fVxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIj5cXG4gICAgICAgICAgICAgICAgPExpc3RWaWV3Lml0ZW1UZW1wbGF0ZT5cXG4gICAgICAgICAgICAgICAgICAgIDxTdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCIqXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJtaWRkbGVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcInt7IG5hbWUgfX1cXFwiIHRleHRXcmFwPVxcXCJ0cnVlXFxcIiBzdHlsZT1cXFwie3sgc3ViY29tbWl0dGVlID09PSAnVHJ1ZScgPyAnbWFyZ2luLWxlZnQ6IDE1OycgOiAnbWFyZ2luLWxlZnQ6IDA7JyB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLW1haW4tdG9wXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcInt7IHRpdGxlIH19XFxcIiBzdHlsZT1cXFwie3sgc3ViY29tbWl0dGVlID09PSAnVHJ1ZScgPyAnbWFyZ2luLWxlZnQ6IDE1OycgOiAnbWFyZ2luLWxlZnQ6IDA7JyB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1YlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICA8L0xpc3RWaWV3Lml0ZW1UZW1wbGF0ZT5cXG4gICAgICAgICAgICA8L0xpc3RWaWV3PlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgIDxBY3Rpdml0eUluZGljYXRvciBidXN5PVxcXCJ7eyBpc0xvYWRpbmcgfX1cXFwiIGFuZHJvaWQ6aGVpZ2h0PVxcXCIyNSVcXFwiIGFuZHJvaWQ6d2lkdGg9XFxcIjI1JVxcXCIgaW9zLmFjdGl2aXR5SW5kaWNhdG9yVmlld1N0eWxlPVxcXCJ3aGl0ZUxhcmdlXFxcIiByb3dTcGFuPVxcXCIyXFxcIiBjb2xTcGFuPVxcXCIxXFxcIiAvPlxcbiAgICA8L0dyaWRMYXlvdXQ+XFxuPC9QYWdlPlxcblwiOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvY29tbWl0dGVlcy9jb21taXR0ZWVzLXBhZ2UueG1sXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcIm1hcmt1cFwiLCBwYXRoOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9jb21taXR0ZWVzL2NvbW1pdHRlZXMtcGFnZS54bWxcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3QgT2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgT2JzZXJ2YWJsZUFycmF5ID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZS1hcnJheVwiKS5PYnNlcnZhYmxlQXJyYXk7XG52YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxuZnVuY3Rpb24gQ29tbWl0dGVlc1ZpZXdNb2RlbChpdGVtcykge1xuICAgIGNvbnN0IHZpZXdNb2RlbCA9IG5ldyBPYnNlcnZhYmxlQXJyYXkoaXRlbXMpO1xuICAgIFxuICAgIHZpZXdNb2RlbC5sb2FkID0gZnVuY3Rpb24obGVnaXNsYXRvcklkKSB7XG4gICAgICAgIHJldHVybiBodHRwLnJlcXVlc3Qoe1xuICAgICAgICAgICAgdXJsOiBnbG9iYWwuYXBpQmFzZVNlcnZpY2VVcmwgKyBcImNvbW1pdHRlZXM/bGVnaXNsYXRvcklkPVwiICsgbGVnaXNsYXRvcklkLFxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiwgXCJBdXRob3JpemF0aW9uXCI6IGdsb2JhbC50b2tlbiB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzcG9uc2UuY29udGVudC50b1N0cmluZygpO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHJlc3VsdCk7XG5cbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihjb21taXR0ZWUpIHtcbiAgICAgICAgICAgICAgICB2aWV3TW9kZWwucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbW1pdHRlZUlkOiBjb21taXR0ZWUuQ29tbWl0dGVlSWQsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbW1pdHRlZS5OYW1lLFxuICAgICAgICAgICAgICAgICAgICBwaG9uZTogY29tbWl0dGVlLlBob25lLFxuICAgICAgICAgICAgICAgICAgICBjaGFtYmVySWQ6IGNvbW1pdHRlZS5DaGFtYmVySWQsXG4gICAgICAgICAgICAgICAgICAgIGNoYW1iZXI6IGNvbW1pdHRlZS5DaGFtYmVyLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRDb21taXR0ZWVJZDogY29tbWl0dGVlLlBhcmVudENvbW1pdHRlZUlkLFxuICAgICAgICAgICAgICAgICAgICBzdWJjb21taXR0ZWU6IGNvbW1pdHRlZS5TdWJjb21taXR0ZWUsXG4gICAgICAgICAgICAgICAgICAgIHJhbms6IGNvbW1pdHRlZS5SYW5rLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogY29tbWl0dGVlLlRpdGxlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZpZXdNb2RlbC5lbXB0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB3aGlsZSAodmlld01vZGVsLmxlbmd0aCkge1xuICAgICAgICAgICAgdmlld01vZGVsLnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gdmlld01vZGVsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENvbW1pdHRlZXNWaWV3TW9kZWw7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9jb21taXR0ZWVzL2NvbW1pdHRlZXMtdmlldy1tb2RlbC5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvY29tbWl0dGVlcy9jb21taXR0ZWVzLXZpZXctbW9kZWwuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3QgSW5pdGlhdGl2ZXRpZXJzVmlld01vZGVsID0gcmVxdWlyZShcIi4vaW5pdGlhdGl2ZXRpZXJzLXZpZXctbW9kZWxcIik7XG5jb25zdCBvYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBmcmFtZU1vZHVsZSA9IHJlcXVpcmUoXCJ1aS9mcmFtZVwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG52YXIgcGFnZTtcblxudmFyIGluaXRpYXRpdmVUaWVyc0xpc3QgPSBuZXcgSW5pdGlhdGl2ZXRpZXJzVmlld01vZGVsKFtdKTtcblxudmFyIHBhZ2VEYXRhID0gbmV3IG9ic2VydmFibGVNb2R1bGUuZnJvbU9iamVjdCh7XG4gICAgaW5pdGlhdGl2ZVRpZXJzTGlzdDogaW5pdGlhdGl2ZVRpZXJzTGlzdCxcbiAgICBpc0xvYWRpbmc6IGZhbHNlXG59KTtcblxuZnVuY3Rpb24gb25OYXZpZ2F0aW5nVG8oYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHBhZ2UgPSBhcmdzLm9iamVjdDtcbiAgICAgICAgXG4gICAgICAgIHBhZ2UuYWN0aW9uQmFyLnRpdGxlID0gXCJJbml0aWF0aXZlIFRpZXJzXCI7XG5cbiAgICAgICAgdmFyIG5hdmlnYXRpb25Db250ZXh0ID0gcGFnZS5uYXZpZ2F0aW9uQ29udGV4dDtcbiAgICAgICAgdmFyIGxlZ2lzbGF0b3JJZCA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJsZWdpc2xhdG9ySWRcIik7XG4gICAgICAgIHZhciBsZWdpc2xhdG9yTmFtZSA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJsZWdpc2xhdG9yTmFtZVwiKTtcbiAgICBcbiAgICAgICAgbGVnaXNsYXRvcklkLnRleHQgPSBuYXZpZ2F0aW9uQ29udGV4dC5sZWdpc2xhdG9ySWQ7XG4gICAgICAgIGxlZ2lzbGF0b3JOYW1lLnRleHQgPSBuYXZpZ2F0aW9uQ29udGV4dC5mdWxsTmFtZTtcbiAgICBcbiAgICAgICAgaW5pdGlhdGl2ZVRpZXJzTGlzdC5lbXB0eSgpO1xuICAgIFxuICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgdHJ1ZSk7XG4gICAgXG4gICAgICAgIGluaXRpYXRpdmVUaWVyc0xpc3QubG9hZChuYXZpZ2F0aW9uQ29udGV4dC5sZWdpc2xhdG9ySWQpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgXG4gICAgICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBwYWdlRGF0YTtcbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25CYWNrVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkuZ29CYWNrKCk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgfVxufVxuXG5leHBvcnRzLm9uTmF2aWdhdGluZ1RvID0gb25OYXZpZ2F0aW5nVG87XG5leHBvcnRzLm9uQmFja1RhcCA9IG9uQmFja1RhcDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2luaXRpYXRpdmV0aWVycy9pbml0aWF0aXZldGllcnMtcGFnZS5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvaW5pdGlhdGl2ZXRpZXJzL2luaXRpYXRpdmV0aWVycy1wYWdlLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxubW9kdWxlLmV4cG9ydHMgPSBcIjxQYWdlIG5hdmlnYXRpbmdUbz1cXFwib25OYXZpZ2F0aW5nVG9cXFwiIGNsYXNzPVxcXCJwYWdlXFxcIiB4bWxucz1cXFwiaHR0cDovL3NjaGVtYXMubmF0aXZlc2NyaXB0Lm9yZy90bnMueHNkXFxcIiA+XFxuICAgIDxBY3Rpb25CYXIgY2xhc3M9XFxcImFjdGlvbi1iYXJcXFwiPlxcbiAgICAgICAgPGFuZHJvaWQ+XFxuICAgICAgICAgICAgPE5hdmlnYXRpb25CdXR0b24gYW5kcm9pZC5zeXN0ZW1JY29uPVxcXCJpY19tZW51X2JhY2tcXFwiIHRhcD1cXFwib25CYWNrVGFwXFxcIiAvPlxcbiAgICAgICAgPC9hbmRyb2lkPlxcbiAgICA8L0FjdGlvbkJhcj5cXG5cXG4gICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiYXV0bywgYXV0bywgKlxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIiB3aWR0aD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgY2xhc3M9XFxcInZpZXctdGl0bGVcXFwiPlxcbiAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwibGVnaXNsYXRvcklkXFxcIiB0ZXh0PVxcXCJcXFwiIHZpc2liaWxpdHk9XFxcImNvbGxhcHNlZFxcXCIgLz5cXG4gICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImxlZ2lzbGF0b3JOYW1lXFxcIiB0ZXh0PVxcXCJcXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgLz5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIxXFxcIiBjb2w9XFxcIjBcXFwiPlxcbiAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIiosIGF1dG9cXFwiIHJvd3M9XFxcIipcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiSW5pdGlhdGl2ZVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLW1haW4tdG9wXFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcIlRpZXJcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1tYWluLXRvcFxcXCIgLz5cXG4gICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgPEJvcmRlciBib3JkZXJXaWR0aD1cXFwiMC4yNVxcXCIgYm9yZGVyQ29sb3I9XFxcIiMwMDAwMDBcXFwiIC8+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMlxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIiB3aWR0aD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICAgICAgPExpc3RWaWV3IGl0ZW1zPVxcXCJ7eyBpbml0aWF0aXZlVGllcnNMaXN0IH19XFxcIiBoZWlnaHQ9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgICAgICAgICA8TGlzdFZpZXcuaXRlbVRlbXBsYXRlPlxcbiAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIiosIGF1dG9cXFwiIHJvd3M9XFxcIipcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwie3sgaW5pdGlhdGl2ZSB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLW1haW4tdG9wXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IHRpZXIgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1tYWluLXRvcFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICA8L0xpc3RWaWV3Lml0ZW1UZW1wbGF0ZT5cXG4gICAgICAgICAgICA8L0xpc3RWaWV3PlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgIDxBY3Rpdml0eUluZGljYXRvciBidXN5PVxcXCJ7eyBpc0xvYWRpbmcgfX1cXFwiIGFuZHJvaWQ6aGVpZ2h0PVxcXCIyNSVcXFwiIGFuZHJvaWQ6d2lkdGg9XFxcIjI1JVxcXCIgaW9zLmFjdGl2aXR5SW5kaWNhdG9yVmlld1N0eWxlPVxcXCJ3aGl0ZUxhcmdlXFxcIiByb3dTcGFuPVxcXCIzXFxcIiBjb2xTcGFuPVxcXCIxXFxcIiAvPlxcbiAgICA8L0dyaWRMYXlvdXQ+XFxuPC9QYWdlPlxcblwiOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvaW5pdGlhdGl2ZXRpZXJzL2luaXRpYXRpdmV0aWVycy1wYWdlLnhtbFwiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJtYXJrdXBcIiwgcGF0aDogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvaW5pdGlhdGl2ZXRpZXJzL2luaXRpYXRpdmV0aWVycy1wYWdlLnhtbFwiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBvYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBPYnNlcnZhYmxlQXJyYXkgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlLWFycmF5XCIpLk9ic2VydmFibGVBcnJheTtcbnZhciBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xuXG5mdW5jdGlvbiBJbml0aWF0aXZldGllcnNWaWV3TW9kZWwoaXRlbXMpIHtcbiAgICBjb25zdCB2aWV3TW9kZWwgPSBuZXcgT2JzZXJ2YWJsZUFycmF5KGl0ZW1zKTtcblxuICAgIHZpZXdNb2RlbC5sb2FkID0gZnVuY3Rpb24obGVnaXNsYXRvcklkKSB7XG4gICAgICAgIHJldHVybiBodHRwLnJlcXVlc3Qoe1xuICAgICAgICAgICAgdXJsOiBnbG9iYWwuYXBpQmFzZVNlcnZpY2VVcmwgKyBcImluaXRpYXRpdmVzdGFuY2VzP2xlZ2lzbGF0b3JJZD1cIiArIGxlZ2lzbGF0b3JJZCxcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiQXV0aG9yaXphdGlvblwiOiBnbG9iYWwudG9rZW4gfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmNvbnRlbnQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShyZXN1bHQpO1xuXG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oaW5pdGlhdGl2ZSkge1xuICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhdGl2ZUlkOiBpbml0aWF0aXZlLkluaXRpYXRpdmVJZCxcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhdGl2ZTogaW5pdGlhdGl2ZS5Jbml0aWF0aXZlLFxuICAgICAgICAgICAgICAgICAgICBsZWdpc2xhdG9ySWQ6IGluaXRpYXRpdmUuTGVnaXNsYXRvcklkLFxuICAgICAgICAgICAgICAgICAgICBsZWdpc2xhdG9yOiBpbml0aWF0aXZlLkxlZ2lzbGF0b3IsXG4gICAgICAgICAgICAgICAgICAgIHRpZXI6IGluaXRpYXRpdmUuVGllcixcbiAgICAgICAgICAgICAgICAgICAgaXNzdWVTdGFuY2VJZDogaW5pdGlhdGl2ZS5Jc3N1ZVN0YW5jZUlkLFxuICAgICAgICAgICAgICAgICAgICBpc3N1ZVN0YW5jZTogaW5pdGlhdGl2ZS5Jc3N1ZVN0YW5jZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2aWV3TW9kZWwuZW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgd2hpbGUgKHZpZXdNb2RlbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZpZXdNb2RlbC5wb3AoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgcmV0dXJuIHZpZXdNb2RlbDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBJbml0aWF0aXZldGllcnNWaWV3TW9kZWw7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9pbml0aWF0aXZldGllcnMvaW5pdGlhdGl2ZXRpZXJzLXZpZXctbW9kZWwuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2luaXRpYXRpdmV0aWVycy9pbml0aWF0aXZldGllcnMtdmlldy1tb2RlbC5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBMZWdpc2xhdG9yVmlld01vZGVsID0gcmVxdWlyZShcIi4vbGVnaXNsYXRvci12aWV3LW1vZGVsXCIpO1xuY29uc3Qgb2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG4vLyBjb25zdCBDb2xvciA9IHJlcXVpcmUoXCJjb2xvclwiKS5Db2xvcjtcbnZhciBmcmFtZU1vZHVsZSA9IHJlcXVpcmUoXCJ1aS9mcmFtZVwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG52YXIgcGFnZTtcbnZhciBuYXZpZ2F0aW9uQ29udGV4dDtcblxudmFyIGxlZ2lzbGF0b3JMaXN0ID0gbmV3IExlZ2lzbGF0b3JWaWV3TW9kZWwoW10pO1xuXG52YXIgcGFnZURhdGEgPSBuZXcgb2JzZXJ2YWJsZU1vZHVsZS5mcm9tT2JqZWN0KHtcbiAgICBsZWdpc2xhdG9yTGlzdDogbGVnaXNsYXRvckxpc3QsXG4gICAgaXNMb2FkaW5nOiBmYWxzZVxufSk7XG5cbmZ1bmN0aW9uIG9uTmF2aWdhdGluZ1RvKGFyZ3MpIHtcbiAgICBwYWdlID0gYXJncy5vYmplY3Q7XG5cbiAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiTGVnaXNsYXRvclwiO1xuXG4gICAgLy8gaWYgKGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5pb3MpIHtcbiAgICAvLyAgICAgdmFyIG5hdmlnYXRpb25CYXIgPSBmcmFtZU1vZHVsZS50b3Btb3N0KCkuaW9zLmNvbnRyb2xsZXIubmF2aWdhdGlvbkJhcjtcblxuICAgIC8vICAgICAvL2RpYWxvZ3MuYWxlcnQobmF2aWdhdGlvbkJhci5pdGVtcyk7XG5cbiAgICAvLyAgICAgdHJ5IHtcbiAgICAvLyAgICAgICAgIG5hdmlnYXRpb25CYXIudGludENvbG9yID0gbmV3IENvbG9yKFwiIzAwN2FmZlwiKS5pb3M7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgY2F0Y2goZSlcbiAgICAvLyAgICAge1xuICAgIC8vICAgICAgICAgZGlhbG9ncy5hbGVydChlKTtcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIC8vIGlmIChwYWdlLmlvcylcbiAgICAvLyB7XG4gICAgLy8gICAgIHZhciBzZWxlY3RlZFZpZXdDb250cm9sbGVyID0gcGFnZS5pb3M7XG5cbiAgICAvLyAgICAgc2VsZWN0ZWRWaWV3Q29udHJvbGxlci5oaWRlc0JvdHRvbUJhcldoZW5QdXNoZWQgPSBmYWxzZTtcbiAgICAvLyB9XG5cbiAgICBuYXZpZ2F0aW9uQ29udGV4dCA9IHBhZ2UubmF2aWdhdGlvbkNvbnRleHQ7XG4gICAgdmFyIGxlZ2lzbGF0b3JJZCA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJsZWdpc2xhdG9ySWRcIik7XG4gICAgdmFyIGxlZ2lzbGF0b3JOYW1lID0gcGFnZS5nZXRWaWV3QnlJZChcImxlZ2lzbGF0b3JOYW1lXCIpO1xuICAgIFxuICAgIGxlZ2lzbGF0b3JJZC50ZXh0ID0gbmF2aWdhdGlvbkNvbnRleHQubGVnaXNsYXRvcklkO1xuICAgIGxlZ2lzbGF0b3JOYW1lLnRleHQgPSBuYXZpZ2F0aW9uQ29udGV4dC5mdWxsTmFtZTtcblxuICAgIGxlZ2lzbGF0b3JMaXN0LmVtcHR5KCk7XG4gICAgbGVnaXNsYXRvckxpc3QubG9hZChuYXZpZ2F0aW9uQ29udGV4dC5iaW9ndWlkZUlkKTtcblxuICAgIC8vZGlhbG9ncy5hbGVydChsZWdpc2xhdG9yTGlzdC5nZXRJdGVtKGxlZ2lzbGF0b3JMaXN0Lmxlbmd0aCAtIDEpLnRpdGxlKTtcbiAgICBcbiAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG59XG5cbmZ1bmN0aW9uIG9uQmFja1RhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLmdvQmFjaygpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KGUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25JdGVtVGFwKGFyZ3MpXG57XG4gICAgdHJ5XG4gICAge1xuICAgICAgICB2YXIgaW5kZXggPSBhcmdzLmluZGV4O1xuICAgICAgICB2YXIgaXRlbSA9IGxlZ2lzbGF0b3JMaXN0LmdldEl0ZW0oaW5kZXgpO1xuXG4gICAgICAgIG5hdmlnYXRpb25Db250ZXh0LnJlZmVyZW5jZSA9IFwibmF2XCI7XG4gICAgICAgIG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxUeXBlID0gXCJsZWdpc2xhdG9yXCI7XG4gICAgICAgIG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxJZCA9IG5hdmlnYXRpb25Db250ZXh0LmxlZ2lzbGF0b3JJZDtcblxuICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgICAgICBtb2R1bGVOYW1lOiBpdGVtLm5hdmlnYXRlVG8sXG4gICAgICAgICAgICBjb250ZXh0OiBuYXZpZ2F0aW9uQ29udGV4dCxcbiAgICAgICAgICAgIGNsZWFySGlzdG9yeTogZmFsc2VcbiAgICAgICAgfTtcblxuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkubmF2aWdhdGUobmF2aWdhdGlvbkVudHJ5KTtcbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0cy5vbk5hdmlnYXRpbmdUbyA9IG9uTmF2aWdhdGluZ1RvO1xuZXhwb3J0cy5vbkJhY2tUYXAgPSBvbkJhY2tUYXA7XG5leHBvcnRzLm9uSXRlbVRhcCA9IG9uSXRlbVRhcDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2xlZ2lzbGF0b3ItcGFnZS5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvbGVnaXNsYXRvci1wYWdlLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxubW9kdWxlLmV4cG9ydHMgPSBcIjxQYWdlIG5hdmlnYXRpbmdUbz1cXFwib25OYXZpZ2F0aW5nVG9cXFwiIGNsYXNzPVxcXCJwYWdlXFxcIiB4bWxucz1cXFwiaHR0cDovL3NjaGVtYXMubmF0aXZlc2NyaXB0Lm9yZy90bnMueHNkXFxcIiA+XFxuICAgIDxBY3Rpb25CYXIgY2xhc3M9XFxcImFjdGlvbi1iYXJcXFwiPlxcbiAgICAgICAgPGFuZHJvaWQ+XFxuICAgICAgICAgICAgPE5hdmlnYXRpb25CdXR0b24gYW5kcm9pZC5zeXN0ZW1JY29uPVxcXCJpY19tZW51X2JhY2tcXFwiIHRhcD1cXFwib25CYWNrVGFwXFxcIiAvPlxcbiAgICAgICAgPC9hbmRyb2lkPlxcbiAgICA8L0FjdGlvbkJhcj5cXG5cXG4gICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiYXV0bywgKlxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIiB3aWR0aD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgY2xhc3M9XFxcInZpZXctdGl0bGVcXFwiPlxcbiAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwibGVnaXNsYXRvcklkXFxcIiB0ZXh0PVxcXCJcXFwiIHZpc2liaWxpdHk9XFxcImNvbGxhcHNlZFxcXCIgLz5cXG4gICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImxlZ2lzbGF0b3JOYW1lXFxcIiB0ZXh0PVxcXCJcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgLz5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIxXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiIHdpZHRoPVxcXCIxMDAlXFxcIj5cXG4gICAgICAgICAgICA8TGlzdFZpZXcgaXRlbXM9XFxcInt7IGxlZ2lzbGF0b3JMaXN0IH19XFxcIiBpdGVtVGFwPVxcXCJvbkl0ZW1UYXBcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMaXN0Vmlldy5pdGVtVGVtcGxhdGU+XFxuICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKiwgYXV0b1xcXCIgcm93cz1cXFwiKlxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJ7eyB0aXRsZSB9fVxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcIm1pZGRsZVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLW1haW4tdG9wXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcIiYjeGYxMDU7XFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIiBjbGFzcz1cXFwiZm4tbGlzdC12aWV3LWl0ZW1cXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgPC9MaXN0Vmlldy5pdGVtVGVtcGxhdGU+XFxuICAgICAgICAgICAgPC9MaXN0Vmlldz5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgIDwvR3JpZExheW91dD5cXG48L1BhZ2U+XFxuXCI7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9sZWdpc2xhdG9yLXBhZ2UueG1sXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcIm1hcmt1cFwiLCBwYXRoOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9sZWdpc2xhdG9yLXBhZ2UueG1sXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IG9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpO1xudmFyIE9ic2VydmFibGVBcnJheSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGUtYXJyYXlcIikuT2JzZXJ2YWJsZUFycmF5O1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxuZnVuY3Rpb24gTGVnaXNsYXRvclZpZXdNb2RlbChpdGVtcykge1xuICAgIGNvbnN0IHZpZXdNb2RlbCA9IG5ldyBPYnNlcnZhYmxlQXJyYXkoaXRlbXMpO1xuXG4gICAgdmlld01vZGVsLmxvYWQgPSBmdW5jdGlvbihiaW9ndWlkZUlkKSB7XG4gICAgICAgIHZhciBkYXRhO1xuXG4gICAgICAgIGlmIChiaW9ndWlkZUlkID09PSBudWxsIHx8IGJpb2d1aWRlSWQgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIGRhdGEgPSBbXG4gICAgICAgICAgICAgICAge1widGl0bGVcIjogXCJNZWV0aW5nc1wiLCBcIm5hdmlnYXRlVG9cIjogXCJtZWV0aW5ncy9tZWV0aW5ncy1wYWdlXCJ9LFxuICAgICAgICAgICAgICAgIHtcInRpdGxlXCI6IFwiSW5pdGlhdGl2ZSBUaWVyc1wiLCBcIm5hdmlnYXRlVG9cIjogXCJsZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2luaXRpYXRpdmV0aWVycy9pbml0aWF0aXZldGllcnMtcGFnZVwifSxcbiAgICAgICAgICAgICAgICB7XCJ0aXRsZVwiOiBcIlN1cnZleXNcIiwgXCJuYXZpZ2F0ZVRvXCI6IFwibGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleXMtcGFnZVwifSxcbiAgICAgICAgICAgICAgICB7XCJ0aXRsZVwiOiBcIlJlbGF0aW9uc2hpcHNcIiwgXCJuYXZpZ2F0ZVRvXCI6IFwicHJvZmlsZXMvcHJvZmlsZXMtcGFnZVwifSxcbiAgICAgICAgICAgICAgICB7XCJ0aXRsZVwiOiBcIkNvbW1pdHRlZXNcIiwgXCJuYXZpZ2F0ZVRvXCI6IFwibGVnaXNsYXRvcnMvbGVnaXNsYXRvci9jb21taXR0ZWVzL2NvbW1pdHRlZXMtcGFnZVwifVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRhdGEgPSBbXG4gICAgICAgICAgICAgICAge1widGl0bGVcIjogXCJNZWV0aW5nc1wiLCBcIm5hdmlnYXRlVG9cIjogXCJtZWV0aW5ncy9tZWV0aW5ncy1wYWdlXCJ9LFxuICAgICAgICAgICAgICAgIHtcInRpdGxlXCI6IFwiSW5pdGlhdGl2ZSBUaWVyc1wiLCBcIm5hdmlnYXRlVG9cIjogXCJsZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2luaXRpYXRpdmV0aWVycy9pbml0aWF0aXZldGllcnMtcGFnZVwifSxcbiAgICAgICAgICAgICAgICB7XCJ0aXRsZVwiOiBcIlN1cnZleXNcIiwgXCJuYXZpZ2F0ZVRvXCI6IFwibGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleXMtcGFnZVwifSxcbiAgICAgICAgICAgICAgICB7XCJ0aXRsZVwiOiBcIlJlbGF0aW9uc2hpcHNcIiwgXCJuYXZpZ2F0ZVRvXCI6IFwicHJvZmlsZXMvcHJvZmlsZXMtcGFnZVwifSxcbiAgICAgICAgICAgICAgICB7XCJ0aXRsZVwiOiBcIkJpb1wiLCBcIm5hdmlnYXRlVG9cIjogXCJsZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2Jpby9iaW8tcGFnZVwifSxcbiAgICAgICAgICAgICAgICB7XCJ0aXRsZVwiOiBcIkNvbW1pdHRlZXNcIiwgXCJuYXZpZ2F0ZVRvXCI6IFwibGVnaXNsYXRvcnMvbGVnaXNsYXRvci9jb21taXR0ZWVzL2NvbW1pdHRlZXMtcGFnZVwifVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihkYXRhSXRlbSkge1xuICAgICAgICAgICAgdmlld01vZGVsLnB1c2goe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBkYXRhSXRlbS50aXRsZSxcbiAgICAgICAgICAgICAgICBuYXZpZ2F0ZVRvOiBkYXRhSXRlbS5uYXZpZ2F0ZVRvXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZpZXdNb2RlbC5lbXB0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB3aGlsZSAodmlld01vZGVsLmxlbmd0aCkge1xuICAgICAgICAgICAgdmlld01vZGVsLnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiB2aWV3TW9kZWw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTGVnaXNsYXRvclZpZXdNb2RlbDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL2xlZ2lzbGF0b3Itdmlldy1tb2RlbC5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvbGVnaXNsYXRvci12aWV3LW1vZGVsLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IFNlbGVjdFZpZXdNb2RlbCA9IHJlcXVpcmUoXCIuL3NlbGVjdC12aWV3LW1vZGVsXCIpO1xuY29uc3QgT2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xudmFyIGZyYW1lTW9kdWxlID0gcmVxdWlyZShcInVpL2ZyYW1lXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcbnZhciBwYWdlO1xudmFyIG5hdmlnYXRpb25Db250ZXh0O1xuXG52YXIgc2VsZWN0TGlzdCA9IG5ldyBTZWxlY3RWaWV3TW9kZWwoW10pO1xuXG52YXIgc3dpdGNoVGFwID0gZmFsc2U7XG5cbnZhciBwYWdlRGF0YSA9IG5ldyBPYnNlcnZhYmxlTW9kdWxlLmZyb21PYmplY3Qoe1xuICAgIGJvdW5kRGF0YTogbnVsbCxcbiAgICBzZWxlY3RMaXN0OiBzZWxlY3RMaXN0LFxuICAgIGlzTG9hZGluZzogZmFsc2Vcbn0pO1xuXG5mdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICBuYXZpZ2F0aW9uQ29udGV4dCA9IHBhZ2UubmF2aWdhdGlvbkNvbnRleHQ7XG4gICAgICAgIFxuICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEgPSBuYXZpZ2F0aW9uQ29udGV4dDtcbiAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLnVwZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgXG4gICAgICAgIHBhZ2UuYWN0aW9uQmFyLnRpdGxlID0gXCJTZWxlY3QgU3VydmV5KHMpXCI7XG5cbiAgICAgICAgc2VsZWN0TGlzdC5lbXB0eSgpO1xuXG4gICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuICAgICAgICBzZWxlY3RMaXN0LmxvYWQobmF2aWdhdGlvbkNvbnRleHQubWVldGluZ0lkKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBwYWdlRGF0YTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU3dpdGNoTG9hZGVkKGFyZ3MpIHtcbiAgICB2YXIgY2hlY2tlZFN3aXRjaCA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgY2hlY2tlZFN3aXRjaC5vbihcInRhcFwiLCBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIC8vIE5lY2Vzc2FyeSB0byBwcmV2ZW50IHRoZSBjaGVja2VkQ2hhbmdlIGV2ZW50IGZyb20gZmlyaW5nIG9uIHRoZSBzd2l0Y2ggd2hlbiB1c2VyIHNjcm9sbHMuXG4gICAgICAgIHN3aXRjaFRhcCA9IHRydWU7XG4gICAgfSk7XG5cbiAgICBjaGVja2VkU3dpdGNoLm9uKFwiY2hlY2tlZENoYW5nZVwiLCBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIGlmIChzd2l0Y2hUYXApIHtcbiAgICAgICAgICAgIHZhciBzdGFja0xheW91dCA9IGFyZ3Mub2JqZWN0LnBhcmVudDtcbiAgICAgICAgICAgIHZhciBpbmRleExhYmVsID0gc3RhY2tMYXlvdXQuZ2V0Vmlld0J5SWQoXCJpbmRleExhYmVsXCIpO1xuXG4gICAgICAgICAgICB2YXIgbW9kZWwgPSBzZWxlY3RMaXN0LmdldEl0ZW0oaW5kZXhMYWJlbC50ZXh0KTtcblxuICAgICAgICAgICAgbW9kZWwuY2hlY2tlZCA9IGFyZ3MudmFsdWU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGh0dHAucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgdXJsOiBnbG9iYWwuYXBpQmFzZVNlcnZpY2VVcmwgKyBcInVwZGF0ZW1lZXRpbmdzdXJ2ZXlcIixcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiQXV0aG9yaXphdGlvblwiOiBnbG9iYWwudG9rZW4gfSxcbiAgICAgICAgICAgICAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeShtb2RlbClcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgLy8gdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmNvbnRlbnQudG9KU09OKCk7XG5cbiAgICAgICAgICAgICAgICAvLyBkaWFsb2dzLmFsZXJ0KHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLnVwZGF0ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoVGFwID0gZmFsc2U7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBvbkJhY2tUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5nb0JhY2soKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydChlKTtcbiAgICB9XG59XG5cbmV4cG9ydHMub25OYXZpZ2F0aW5nVG8gPSBvbk5hdmlnYXRpbmdUbztcbmV4cG9ydHMub25Td2l0Y2hMb2FkZWQgPSBvblN3aXRjaExvYWRlZDtcbmV4cG9ydHMub25CYWNrVGFwID0gb25CYWNrVGFwO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zZWxlY3Qvc2VsZWN0LXBhZ2UuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc2VsZWN0L3NlbGVjdC1wYWdlLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxubW9kdWxlLmV4cG9ydHMgPSBcIjxQYWdlIG5hdmlnYXRpbmdUbz1cXFwib25OYXZpZ2F0aW5nVG9cXFwiIGNsYXNzPVxcXCJwYWdlXFxcIiB4bWxucz1cXFwiaHR0cDovL3NjaGVtYXMubmF0aXZlc2NyaXB0Lm9yZy90bnMueHNkXFxcIiA+XFxuICAgIDxBY3Rpb25CYXIgY2xhc3M9XFxcImFjdGlvbi1iYXJcXFwiPlxcbiAgICAgICAgPGFuZHJvaWQ+XFxuICAgICAgICAgICAgPE5hdmlnYXRpb25CdXR0b24gYW5kcm9pZC5zeXN0ZW1JY29uPVxcXCJpY19tZW51X2JhY2tcXFwiIHRhcD1cXFwib25CYWNrVGFwXFxcIiAvPlxcbiAgICAgICAgPC9hbmRyb2lkPlxcbiAgICA8L0FjdGlvbkJhcj5cXG5cXG4gICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiKlxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIiB3aWR0aD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIxXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiPlxcbiAgICAgICAgICAgIDxMaXN0VmlldyBpdGVtcz1cXFwie3sgc2VsZWN0TGlzdCB9fVxcXCIgaXRlbVRlbXBsYXRlU2VsZWN0b3I9XFxcIiRpbmRleFxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIj5cXG4gICAgICAgICAgICAgICAgPExpc3RWaWV3Lml0ZW1UZW1wbGF0ZT5cXG4gICAgICAgICAgICAgICAgICAgIDxTdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCIqXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJtaWRkbGVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcInt7IHN1cnZleSB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLW1haW4tdG9wXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiYXV0bywgKlxcXCIgcm93cz1cXFwiKlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJTZXNzaW9uIFllYXI6IFxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1Yi10aXRsZVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IHllYXIgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1zdWJcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCJhdXRvLCAqXFxcIiByb3dzPVxcXCIqXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIkNoYW1iZXIvQ2F1Y3VzOiBcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1zdWItdGl0bGVcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJ7eyBjaGFtYmVyIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJtaWRkbGVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN3aXRjaCBpZD1cXFwiY2hlY2tlZFN3aXRjaFxcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIGNoZWNrZWQ9XFxcInt7IGNoZWNrZWQgfX1cXFwiIFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRlZD1cXFwib25Td2l0Y2hMb2FkZWRcXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcInJpZ2h0XFxcIiBjbGFzcz1cXFwic3dpdGNoXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJpbmRleExhYmVsXFxcIiB0ZXh0PVxcXCJ7eyAkaW5kZXggfX1cXFwiIHZpc2liaWxpdHk9XFxcImNvbGxhcHNlXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgIDwvTGlzdFZpZXcuaXRlbVRlbXBsYXRlPlxcbiAgICAgICAgICAgIDwvTGlzdFZpZXc+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPEFjdGl2aXR5SW5kaWNhdG9yIGJ1c3k9XFxcInt7IGlzTG9hZGluZyB9fVxcXCIgYW5kcm9pZDpoZWlnaHQ9XFxcIjI1JVxcXCIgYW5kcm9pZDp3aWR0aD1cXFwiMjUlXFxcIiBpb3MuYWN0aXZpdHlJbmRpY2F0b3JWaWV3U3R5bGU9XFxcIndoaXRlTGFyZ2VcXFwiIHJvd1NwYW49XFxcIjFcXFwiIGNvbFNwYW49XFxcIjFcXFwiIC8+XFxuICAgIDwvR3JpZExheW91dD5cXG48L1BhZ2U+XFxuXCI7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3NlbGVjdC9zZWxlY3QtcGFnZS54bWxcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwibWFya3VwXCIsIHBhdGg6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc2VsZWN0L3NlbGVjdC1wYWdlLnhtbFwiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBPYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBPYnNlcnZhYmxlQXJyYXkgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlLWFycmF5XCIpLk9ic2VydmFibGVBcnJheTtcbnZhciBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xuXG5mdW5jdGlvbiBTZWxlY3RWaWV3TW9kZWwoaXRlbXMpIHtcbiAgICBjb25zdCB2aWV3TW9kZWwgPSBuZXcgT2JzZXJ2YWJsZUFycmF5KGl0ZW1zKTtcbiAgICBcbiAgICB2aWV3TW9kZWwubG9hZCA9IGZ1bmN0aW9uKG1lZXRpbmdJZCkge1xuICAgICAgICByZXR1cm4gaHR0cC5yZXF1ZXN0KHtcbiAgICAgICAgICAgIHVybDogZ2xvYmFsLmFwaUJhc2VTZXJ2aWNlVXJsICsgXCJtZWV0aW5nc3VydmV5cz9tZWV0aW5nSWQ9XCIgKyBtZWV0aW5nSWQsXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLCBcIkF1dGhvcml6YXRpb25cIjogZ2xvYmFsLnRva2VuIH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXNwb25zZS5jb250ZW50LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzdWx0KTtcblxuICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKHN1cnZleSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGVja2VkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3VydmV5LkNoZWNrZWQgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbWVldGluZ0lkOiBzdXJ2ZXkuTWVldGluZ0lkLFxuICAgICAgICAgICAgICAgICAgICBsZWdpc2xhdG9ySWQ6IHN1cnZleS5MZWdpc2xhdG9ySWQsXG4gICAgICAgICAgICAgICAgICAgIHN1cnZleUlkOiBzdXJ2ZXkuU3VydmV5SWQsXG4gICAgICAgICAgICAgICAgICAgIHN1cnZleTogc3VydmV5LlN1cnZleSxcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhdGl2ZUlkczogc3VydmV5LkluaXRpYXRpdmVJZHMsXG4gICAgICAgICAgICAgICAgICAgIGludGl0aWF0aXZlczogc3VydmV5LkluaXRpYXRpdmVzLFxuICAgICAgICAgICAgICAgICAgICB5ZWFyOiBzdXJ2ZXkuWWVhcixcbiAgICAgICAgICAgICAgICAgICAgY2hhbWJlcklkOiBzdXJ2ZXkuQ2hhbWJlcklkLFxuICAgICAgICAgICAgICAgICAgICBjaGFtYmVyOiBzdXJ2ZXkuQ2hhbWJlcixcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZDogc3VydmV5LkNoZWNrZWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmlld01vZGVsLmVtcHR5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHdoaWxlICh2aWV3TW9kZWwubGVuZ3RoKSB7XG4gICAgICAgICAgICB2aWV3TW9kZWwucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHJldHVybiB2aWV3TW9kZWw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gU2VsZWN0Vmlld01vZGVsO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zZWxlY3Qvc2VsZWN0LXZpZXctbW9kZWwuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc2VsZWN0L3NlbGVjdC12aWV3LW1vZGVsLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IFJlc3BvbnNlVmlld01vZGVsID0gcmVxdWlyZShcIi4vcmVzcG9uc2Utdmlldy1tb2RlbFwiKTtcbmNvbnN0IHBsYXRmb3JtID0gcmVxdWlyZShcInBsYXRmb3JtXCIpO1xuY29uc3QgT2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgT2JzZXJ2YWJsZUFycmF5ID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZS1hcnJheVwiKS5PYnNlcnZhYmxlQXJyYXk7XG52YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xudmFyIGZyYW1lTW9kdWxlID0gcmVxdWlyZShcInVpL2ZyYW1lXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxudmFyIHBhZ2U7XG52YXIgbmF2aWdhdGlvbkNvbnRleHQ7XG5cbnZhciByZXNwb25zZUxpc3QgPSBuZXcgUmVzcG9uc2VWaWV3TW9kZWwoW10pO1xudmFyIHJlc3BvbnNlSW5kZXggPSAwO1xuXG52YXIgcGFnZURhdGEgPSBuZXcgT2JzZXJ2YWJsZU1vZHVsZS5mcm9tT2JqZWN0KHtcbiAgICBib3VuZERhdGE6IG51bGwsXG4gICAgcmVzcG9uc2VJbmRleDogcmVzcG9uc2VJbmRleCxcbiAgICByZXNwb25zZUxpc3Q6IHJlc3BvbnNlTGlzdCxcbiAgICBpc0xvYWRpbmc6IGZhbHNlXG59KTtcblxuZnVuY3Rpb24gb25OYXZpZ2F0aW5nVG8oYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHBhZ2UgPSBhcmdzLm9iamVjdDtcblxuICAgICAgICBuYXZpZ2F0aW9uQ29udGV4dCA9IHBhZ2UubmF2aWdhdGlvbkNvbnRleHQ7XG5cbiAgICAgICAgdmFyIGxlZ2lzbGF0b3JJZCA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJsZWdpc2xhdG9ySWRcIik7XG4gICAgICAgIHZhciBsZWdpc2xhdG9yTmFtZSA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJsZWdpc2xhdG9yTmFtZVwiKTtcblxuICAgICAgICBsZWdpc2xhdG9ySWQudGV4dCA9IG5hdmlnYXRpb25Db250ZXh0LmxlZ2lzbGF0b3JJZDtcbiAgICAgICAgbGVnaXNsYXRvck5hbWUudGV4dCA9IG5hdmlnYXRpb25Db250ZXh0LmZ1bGxOYW1lO1xuICAgICAgICBcbiAgICAgICAgdmFyIHN1cnZleVRpdGxlID0gbmF2aWdhdGlvbkNvbnRleHQuYm91bmREYXRhLnN1cnZleTtcbiAgICAgICAgdmFyIG1heExlbmd0aCA9IDIwO1xuXG4gICAgICAgIGlmIChzdXJ2ZXlUaXRsZS5sZW5ndGggPiBtYXhMZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBtYXhMZW5ndGg7IGkgPiAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBzdXJ2ZXlUaXRsZS5pbmRleE9mKFwiIFwiLCBpKTtcblxuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbiA+IC0xICYmIHBvc2l0aW9uIDw9IG1heExlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBzdXJ2ZXlUaXRsZSA9IHN1cnZleVRpdGxlLnN1YnN0cigwLCBwb3NpdGlvbikgKyBcIi4uLlwiXG5cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBzdXJ2ZXlUaXRsZTtcblxuICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEgPSBuYXZpZ2F0aW9uQ29udGV4dC5ib3VuZERhdGE7XG4gICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5yZXN1bHQgPSBcIlwiO1xuXG4gICAgICAgIHJlc3BvbnNlTGlzdC5lbXB0eSgpO1xuXG4gICAgICAgIGlmIChyZXNwb25zZUxpc3QuSXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgdHJ1ZSk7XG4gICAgXG4gICAgICAgICAgICByZXNwb25zZUxpc3QubG9hZChwYWdlRGF0YS5ib3VuZERhdGEuc3VydmV5UXVlc3Rpb25JZCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VJbmRleCA9IDA7XG5cbiAgICAgICAgICAgICAgICBpZiAocGFnZURhdGEuYm91bmREYXRhLnJlc3BvbnNlSWQudG9TdHJpbmcoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnJlc3BvbnNlTGlzdCA9IHJlc3BvbnNlTGlzdDtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgaTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcmVzcG9uc2VMaXN0Lkxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWdlRGF0YS5yZXNwb25zZUxpc3QuTGlzdC5nZXRJdGVtKGkpLnJlc3BvbnNlSWQgPT09IHBhZ2VEYXRhLmJvdW5kRGF0YS5yZXNwb25zZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwYWdlRGF0YS5yZXNwb25zZUluZGV4ID0gcmVzcG9uc2VJbmRleDtcblxuICAgICAgICAgICAgICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBwYWdlRGF0YTtcblxuICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkxvYWRlZChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIHJlc3BvbnNlTGlzdFBpY2tlciA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJyZXNwb25zZUxpc3RQaWNrZXJcIik7XG4gICAgICAgIFxuICAgICAgICByZXNwb25zZUxpc3RQaWNrZXIub24oXCJzZWxlY3RlZEluZGV4Q2hhbmdlXCIsIGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciByZXNwb25zZUxhYmVsID0gcGFnZS5nZXRWaWV3QnlJZChcInJlc3BvbnNlTGFiZWxcIik7XG5cbiAgICAgICAgICAgIHJlc3BvbnNlTGFiZWwudGV4dCA9IHBhZ2VEYXRhLnJlc3BvbnNlTGlzdC5JdGVtcy5nZXRJdGVtKGFyZ3Mub2JqZWN0LnNlbGVjdGVkSW5kZXgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25CYWNrVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAocGxhdGZvcm0uaXNBbmRyb2lkKSB7XG4gICAgICAgICAgICB2YXIgY29tbWVudHMgPSBwYWdlLmdldFZpZXdCeUlkKFwiY29tbWVudHNcIik7XG5cbiAgICAgICAgICAgIGNvbW1lbnRzLmRpc21pc3NTb2Z0SW5wdXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5nb0JhY2soKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydChlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uR3JpZExheW91dFRhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHBsYXRmb3JtLmlzQW5kcm9pZCkge1xuICAgICAgICAgICAgdmFyIGNvbW1lbnRzID0gcGFnZS5nZXRWaWV3QnlJZChcImNvbW1lbnRzXCIpO1xuXG4gICAgICAgICAgICBjb21tZW50cy5kaXNtaXNzU29mdElucHV0KCk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydChlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU3RhY2tMYXlvdXRUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGlmIChwbGF0Zm9ybS5pc0FuZHJvaWQpIHtcbiAgICAgICAgICAgIHZhciBjb21tZW50cyA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJjb21tZW50c1wiKTtcblxuICAgICAgICAgICAgY29tbWVudHMuZGlzbWlzc1NvZnRJbnB1dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlc3BvbnNlTGlzdFBpY2tlckdyaWRMYXlvdXQgPSBwYWdlLmdldFZpZXdCeUlkKFwicmVzcG9uc2VMaXN0UGlja2VyR3JpZExheW91dFwiKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXNwb25zZUxpc3RQaWNrZXJHcmlkTGF5b3V0LnZpc2liaWxpdHkgPT09IFwiY29sbGFwc2VcIikge1xuICAgICAgICAgICAgcmVzcG9uc2VMaXN0UGlja2VyR3JpZExheW91dC52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG5cbiAgICAgICAgICAgIHBhZ2UuYWRkQ3NzKFwiI3Jlc3BvbnNlTGFiZWwge2NvbG9yOiAjY2MyZDMwO31cIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNwb25zZUxpc3RQaWNrZXJHcmlkTGF5b3V0LnZpc2liaWxpdHkgPSBcImNvbGxhcHNlXCI7XG5cbiAgICAgICAgICAgIHBhZ2UuYWRkQ3NzKFwiI3Jlc3BvbnNlTGFiZWwge2NvbG9yOiAjNjY2O31cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25TYXZlVGFwKGFyZ3MpIHtcbiAgICBpZiAocGxhdGZvcm0uaXNBbmRyb2lkKSB7XG4gICAgICAgIHZhciBjb21tZW50cyA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJjb21tZW50c1wiKTtcblxuICAgICAgICBjb21tZW50cy5kaXNtaXNzU29mdElucHV0KCk7XG4gICAgfVxuXG4gICAgdmFyIHJlc3BvbnNlTGlzdFBpY2tlciA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJyZXNwb25zZUxpc3RQaWNrZXJcIik7XG5cbiAgICBwYWdlRGF0YS5ib3VuZERhdGEucmVzcG9uc2VJZCA9IHBhZ2VEYXRhLnJlc3BvbnNlTGlzdC5MaXN0LmdldEl0ZW0ocmVzcG9uc2VMaXN0UGlja2VyLnNlbGVjdGVkSW5kZXgpLnJlc3BvbnNlSWQ7XG4gICAgcGFnZURhdGEuYm91bmREYXRhLnJlc3BvbnNlID0gcGFnZURhdGEucmVzcG9uc2VMaXN0Lkxpc3QuZ2V0SXRlbShyZXNwb25zZUxpc3RQaWNrZXIuc2VsZWN0ZWRJbmRleCkucmVzcG9uc2U7XG4gICAgXG4gICAgdmFyIHJlc3VsdDtcblxuICAgIGh0dHAucmVxdWVzdCh7XG4gICAgICAgIHVybDogZ2xvYmFsLmFwaUJhc2VTZXJ2aWNlVXJsICsgXCJ1cGRhdGVsZWdpc2xhdG9yc3VydmV5XCIsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiQXV0aG9yaXphdGlvblwiOiBnbG9iYWwudG9rZW4gfSxcbiAgICAgICAgY29udGVudDogSlNPTi5zdHJpbmdpZnkocGFnZURhdGEuYm91bmREYXRhKVxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5yZXN1bHQgPSBcIlVwZGF0ZVwiO1xuXG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5nb0JhY2soKTtcbiAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuZXhwb3J0cy5vbk5hdmlnYXRpbmdUbyA9IG9uTmF2aWdhdGluZ1RvO1xuZXhwb3J0cy5vbkxvYWRlZCA9IG9uTG9hZGVkO1xuZXhwb3J0cy5vbkJhY2tUYXAgPSBvbkJhY2tUYXA7XG5leHBvcnRzLm9uR3JpZExheW91dFRhcCA9IG9uR3JpZExheW91dFRhcDtcbmV4cG9ydHMub25TdGFja0xheW91dFRhcCA9IG9uU3RhY2tMYXlvdXRUYXA7XG5leHBvcnRzLm9uU2F2ZVRhcCA9IG9uU2F2ZVRhcDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5L3F1ZXN0aW9uL3F1ZXN0aW9uLXBhZ2UuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5L3F1ZXN0aW9uL3F1ZXN0aW9uLXBhZ2UuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiXG5tb2R1bGUuZXhwb3J0cyA9IFwiPFBhZ2UgbmF2aWdhdGluZ1RvPVxcXCJvbk5hdmlnYXRpbmdUb1xcXCIgbG9hZGVkPVxcXCJvbkxvYWRlZFxcXCIgY2xhc3M9XFxcInBhZ2VcXFwiIHhtbG5zPVxcXCJodHRwOi8vc2NoZW1hcy5uYXRpdmVzY3JpcHQub3JnL3Rucy54c2RcXFwiID5cXG4gICAgPEFjdGlvbkJhciBjbGFzcz1cXFwiYWN0aW9uLWJhclxcXCI+XFxuICAgICAgICA8YW5kcm9pZD5cXG4gICAgICAgICAgICA8TmF2aWdhdGlvbkJ1dHRvbiBhbmRyb2lkLnN5c3RlbUljb249XFxcImljX21lbnVfYmFja1xcXCIgdGFwPVxcXCJvbkJhY2tUYXBcXFwiIC8+XFxuICAgICAgICA8L2FuZHJvaWQ+XFxuICAgICAgICA8QWN0aW9uSXRlbSB0YXA9XFxcIm9uU2F2ZVRhcFxcXCIgaW9zLnN5c3RlbUljb249XFxcIjNcXFwiIGFuZHJvaWQuc3lzdGVtSWNvbj1cXFwiaWNfbWVudV9zYXZlXFxcIiBpb3MucG9zaXRpb249XFxcInJpZ2h0XFxcIiAvPlxcbiAgICA8L0FjdGlvbkJhcj5cXG5cXG4gICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiYXV0bywgKlxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIiB3aWR0aD1cXFwiMTAwJVxcXCIgdGFwPVxcXCJvbkdyaWRMYXlvdXRUYXBcXFwiPlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiIGNsYXNzPVxcXCJ2aWV3LXRpdGxlXFxcIiB2aXNpYmlsaXR5PVxcXCJ7eyBib3VuZERhdGEucmVsYXRpb25hbFR5cGUgPT09ICdsZWdpc2xhdG9yJyA/ICd2aXNpYmxlJyA6ICdjb2xsYXBzZScgfX1cXFwiPlxcbiAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwibGVnaXNsYXRvcklkXFxcIiB0ZXh0PVxcXCJcXFwiIHZpc2liaWxpdHk9XFxcImNvbGxhcHNlZFxcXCIgLz5cXG4gICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImxlZ2lzbGF0b3JOYW1lXFxcIiB0ZXh0PVxcXCJcXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgLz5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIxXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiPlxcbiAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJ7eyBib3VuZERhdGEuc3VydmV5UXVlc3Rpb24gfX1cXFwiIHRleHRXcmFwPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbGVmdFxcXCIgLz5cXG4gICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHRhcD1cXFwib25TdGFja0xheW91dFRhcFxcXCI+XFxuICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIiosIGF1dG9cXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiUmVzcG9uc2VcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1sZWZ0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJyZXNwb25zZUxhYmVsXFxcIiByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwie3sgYm91bmREYXRhLnJlc3BvbnNlIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tcmlnaHRcXFwiIC8+XFxuICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgIDxHcmlkTGF5b3V0IGlkPVxcXCJyZXNwb25zZUxpc3RQaWNrZXJHcmlkTGF5b3V0XFxcIiBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCIgdmlzaWJpbGl0eT1cXFwiY29sbGFwc2VcXFwiPlxcbiAgICAgICAgICAgICAgICA8TGlzdFBpY2tlciBpZD1cXFwicmVzcG9uc2VMaXN0UGlja2VyXFxcIiByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgaXRlbXM9XFxcInt7IHJlc3BvbnNlTGlzdC5JdGVtcyB9fVxcXCIgc2VsZWN0ZWRJbmRleD1cXFwie3sgcmVzcG9uc2VJbmRleCB9fVxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tcGlja2VyXFxcIj48L0xpc3RQaWNrZXI+XFxuICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIiosIGF1dG9cXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJGb2xsb3cgVXAgUmVxdWlyZWQ/XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbGVmdFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgPFN3aXRjaCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgY2hlY2tlZD1cXFwie3sgYm91bmREYXRhLmZvbGxvd1VwUmVxdWlyZWQgfX1cXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcInJpZ2h0XFxcIiBjbGFzcz1cXFwic3dpdGNoXFxcIiAvPlxcbiAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICA8IS0tIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJDb21tZW50cy9PYnNlcnZhdGlvbnNcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1sZWZ0XFxcIiAvPlxcbiAgICAgICAgICAgIDwvR3JpZExheW91dD4gLS0+XFxuICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiKlxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiPlxcbiAgICAgICAgICAgICAgICA8VGV4dFZpZXcgaWQ9XFxcImNvbW1lbnRzXFxcIiByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwie3sgYm91bmREYXRhLmNvbW1lbnRzIH19XFxcIiBoaW50PVxcXCJDb21tZW50cy9PYnNlcnZhdGlvbnNcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS10ZXh0dmlld1xcXCIgLz5cXG4gICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPEFjdGl2aXR5SW5kaWNhdG9yIGJ1c3k9XFxcInt7IGlzTG9hZGluZyB9fVxcXCIgYW5kcm9pZDpoZWlnaHQ9XFxcIjI1JVxcXCIgYW5kcm9pZDp3aWR0aD1cXFwiMjUlXFxcIiBpb3MuYWN0aXZpdHlJbmRpY2F0b3JWaWV3U3R5bGU9XFxcIndoaXRlTGFyZ2VcXFwiIHJvd1NwYW49XFxcIjJcXFwiIGNvbFNwYW49XFxcIjFcXFwiIC8+XFxuICAgIDwvR3JpZExheW91dD5cXG48L1BhZ2U+XFxuXCI7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9xdWVzdGlvbi9xdWVzdGlvbi1wYWdlLnhtbFwiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJtYXJrdXBcIiwgcGF0aDogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXkvcXVlc3Rpb24vcXVlc3Rpb24tcGFnZS54bWxcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3QgT2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIikuT2JzZXJ2YWJsZTtcbnZhciBPYnNlcnZhYmxlQXJyYXkgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlLWFycmF5XCIpLk9ic2VydmFibGVBcnJheTtcbnZhciBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xuXG5mdW5jdGlvbiBSZXNwb25zZVZpZXdNb2RlbCgpIHtcbiAgICBjb25zdCB2aWV3TW9kZWwgPSBuZXcgT2JzZXJ2YWJsZU1vZHVsZSgpO1xuICAgIHZpZXdNb2RlbC5JdGVtcyA9IG5ldyBPYnNlcnZhYmxlQXJyYXkoKTtcbiAgICB2aWV3TW9kZWwuTGlzdCA9IG5ldyBPYnNlcnZhYmxlQXJyYXkoKTtcblxuICAgIHZpZXdNb2RlbC5sb2FkID0gZnVuY3Rpb24oc3VydmV5UXVlc3Rpb25JZCkge1xuICAgICAgICByZXR1cm4gaHR0cC5yZXF1ZXN0KHtcbiAgICAgICAgICAgIHVybDogZ2xvYmFsLmFwaUJhc2VTZXJ2aWNlVXJsICsgXCJzdXJ2ZXlyZXNwb25zZXNldD9zdXJ2ZXlRdWVzdGlvbklkPVwiICsgc3VydmV5UXVlc3Rpb25JZCxcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiQXV0aG9yaXphdGlvblwiOiBnbG9iYWwudG9rZW4gfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmNvbnRlbnQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShyZXN1bHQpO1xuXG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB2aWV3TW9kZWwuSXRlbXMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuUmVzcG9uc2VcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgdmlld01vZGVsLkxpc3QucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlSWQ6IHJlc3BvbnNlLlJlc3BvbnNlSWQsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiByZXNwb25zZS5SZXNwb25zZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2aWV3TW9kZWwuZW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgd2hpbGUgKHZpZXdNb2RlbC5JdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZpZXdNb2RlbC5JdGVtcy5wb3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlICh2aWV3TW9kZWwuTGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZpZXdNb2RlbC5MaXN0LnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gdmlld01vZGVsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlc3BvbnNlVmlld01vZGVsOzsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5L3F1ZXN0aW9uL3Jlc3BvbnNlLXZpZXctbW9kZWwuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5L3F1ZXN0aW9uL3Jlc3BvbnNlLXZpZXctbW9kZWwuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3QgU3VydmV5Vmlld01vZGVsID0gcmVxdWlyZShcIi4vc3VydmV5LXZpZXctbW9kZWxcIik7XG5jb25zdCBPYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbmNvbnN0IGFwcE1vZHVsZSA9IHJlcXVpcmUoXCJhcHBsaWNhdGlvblwiKTtcbnZhciBmcmFtZU1vZHVsZSA9IHJlcXVpcmUoXCJ1aS9mcmFtZVwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG52YXIgcGFnZTtcbnZhciBtb2RlbDtcbnZhciBuYXZpZ2F0aW9uQ29udGV4dDtcblxudmFyIHN1cnZleUxpc3QgPSBuZXcgU3VydmV5Vmlld01vZGVsKFtdKTtcblxudmFyIHBhZ2VEYXRhID0gbmV3IE9ic2VydmFibGVNb2R1bGUuZnJvbU9iamVjdCh7XG4gICAgYm91bmREYXRhOiBudWxsLFxuICAgIHN1cnZleUxpc3Q6IHN1cnZleUxpc3QsXG4gICAgaXNMb2FkaW5nOiBmYWxzZVxufSk7XG5cbmZ1bmN0aW9uIG9uTmF2aWdhdGluZ1RvKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBwYWdlID0gYXJncy5vYmplY3Q7XG5cbiAgICAgICAgbmF2aWdhdGlvbkNvbnRleHQgPSBwYWdlLm5hdmlnYXRpb25Db250ZXh0O1xuXG4gICAgICAgIHZhciBzdXJ2ZXlUaXRsZSA9IG5hdmlnYXRpb25Db250ZXh0LnN1cnZleTtcbiAgICAgICAgdmFyIG1heExlbmd0aCA9IDIwO1xuXG4gICAgICAgIGlmIChzdXJ2ZXlUaXRsZS5sZW5ndGggPiBtYXhMZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBtYXhMZW5ndGg7IGkgPiAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBzdXJ2ZXlUaXRsZS5pbmRleE9mKFwiIFwiLCBpKTtcblxuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbiA+IC0xICYmIHBvc2l0aW9uIDw9IG1heExlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBzdXJ2ZXlUaXRsZSA9IHN1cnZleVRpdGxlLnN1YnN0cigwLCBwb3NpdGlvbikgKyBcIi4uLlwiXG5cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy9wYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiU3VydmV5XCI7XG4gICAgICAgIHBhZ2UuYWN0aW9uQmFyLnRpdGxlID0gc3VydmV5VGl0bGU7XG5cbiAgICAgICAgcGFnZURhdGEuYm91bmREYXRhID0gbmF2aWdhdGlvbkNvbnRleHQ7XG5cbiAgICAgICAgY29uc3QgYm9vbFRleHRDb252ZXJ0ZXIgPSAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBcIk5vXCI7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IFwiWWVzXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgYXBwTW9kdWxlLmdldFJlc291cmNlcygpLmJvb2xUZXh0Q29udmVydGVyID0gYm9vbFRleHRDb252ZXJ0ZXI7XG5cbiAgICAgICAgaWYgKGFyZ3MuaXNCYWNrTmF2aWdhdGlvbikge1xuICAgICAgICAgICAgaWYgKG1vZGVsLnJlc3VsdCA9PT0gXCJVcGRhdGVcIikge1xuICAgICAgICAgICAgICAgIHN1cnZleUxpc3QuZW1wdHkoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChzdXJ2ZXlMaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgdHJ1ZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgc3VydmV5TGlzdC5sb2FkKG5hdmlnYXRpb25Db250ZXh0LmxlZ2lzbGF0b3JJZCwgbmF2aWdhdGlvbkNvbnRleHQuc3VydmV5SWQpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHBhZ2VEYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmF2aWdhdGlvbkNvbnRleHQgPSBwYWdlLm5hdmlnYXRpb25Db250ZXh0O1xuXG4gICAgICAgICAgICB2YXIgbGVnaXNsYXRvcklkID0gcGFnZS5nZXRWaWV3QnlJZChcImxlZ2lzbGF0b3JJZFwiKTtcbiAgICAgICAgICAgIHZhciBsZWdpc2xhdG9yTmFtZSA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJsZWdpc2xhdG9yTmFtZVwiKTtcblxuICAgICAgICAgICAgbGVnaXNsYXRvcklkLnRleHQgPSBuYXZpZ2F0aW9uQ29udGV4dC5sZWdpc2xhdG9ySWQ7XG4gICAgICAgICAgICBsZWdpc2xhdG9yTmFtZS50ZXh0ID0gbmF2aWdhdGlvbkNvbnRleHQuZnVsbE5hbWU7XG5cbiAgICAgICAgICAgIHN1cnZleUxpc3QuZW1wdHkoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuICAgIFxuICAgICAgICAgICAgc3VydmV5TGlzdC5sb2FkKG5hdmlnYXRpb25Db250ZXh0LmxlZ2lzbGF0b3JJZCwgbmF2aWdhdGlvbkNvbnRleHQuc3VydmV5SWQpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25CYWNrVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkuZ29CYWNrKCk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkl0ZW1UYXAoYXJncykge1xuICAgIHRyeVxuICAgIHtcbiAgICAgICAgdmFyIGxlZ2lzbGF0b3JJZCA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJsZWdpc2xhdG9ySWRcIik7XG4gICAgICAgIHZhciBsZWdpc2xhdG9yTmFtZSA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJsZWdpc2xhdG9yTmFtZVwiKTtcbiAgICAgICAgdmFyIHZpZXcgPSBhcmdzLnZpZXc7XG5cbiAgICAgICAgbW9kZWwgPSB2aWV3LmJpbmRpbmdDb250ZXh0O1xuICAgICAgICBtb2RlbC5yZWxhdGlvbmFsVHlwZSA9IG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxUeXBlO1xuICAgICAgICBtb2RlbC5yZWxhdGlvbmFsSWQgPSBuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsSWQ7XG4gICAgICAgIC8vZGlhbG9ncy5hbGVydCh2aWV3LmJpbmRpbmdDb250ZXh0LnN1cnZleVF1ZXN0aW9uKTtcblxuICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgICAgICBtb2R1bGVOYW1lOiBcImxlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXkvcXVlc3Rpb24vcXVlc3Rpb24tcGFnZVwiLFxuICAgICAgICAgICAgY29udGV4dDogeyBcbiAgICAgICAgICAgICAgICBsZWdpc2xhdG9ySWQ6IGxlZ2lzbGF0b3JJZC50ZXh0LFxuICAgICAgICAgICAgICAgIGZ1bGxOYW1lOiBsZWdpc2xhdG9yTmFtZS50ZXh0LFxuICAgICAgICAgICAgICAgIGJvdW5kRGF0YTogbW9kZWxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbGVhckhpc3Rvcnk6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydHMub25OYXZpZ2F0aW5nVG8gPSBvbk5hdmlnYXRpbmdUbztcbmV4cG9ydHMub25CYWNrVGFwID0gb25CYWNrVGFwO1xuZXhwb3J0cy5vbkl0ZW1UYXAgPSBvbkl0ZW1UYXA7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9zdXJ2ZXktcGFnZS5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXkvc3VydmV5LXBhZ2UuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiXG5tb2R1bGUuZXhwb3J0cyA9IFwiPFBhZ2UgbmF2aWdhdGluZ1RvPVxcXCJvbk5hdmlnYXRpbmdUb1xcXCIgY2xhc3M9XFxcInBhZ2VcXFwiIHhtbG5zPVxcXCJodHRwOi8vc2NoZW1hcy5uYXRpdmVzY3JpcHQub3JnL3Rucy54c2RcXFwiID5cXG4gICAgPEFjdGlvbkJhciBjbGFzcz1cXFwiYWN0aW9uLWJhclxcXCI+XFxuICAgICAgICA8YW5kcm9pZD5cXG4gICAgICAgICAgICA8TmF2aWdhdGlvbkJ1dHRvbiBhbmRyb2lkLnN5c3RlbUljb249XFxcImljX21lbnVfYmFja1xcXCIgdGFwPVxcXCJvbkJhY2tUYXBcXFwiIC8+XFxuICAgICAgICA8L2FuZHJvaWQ+XFxuICAgIDwvQWN0aW9uQmFyPlxcblxcbiAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCJhdXRvLCAqXFxcIiBoZWlnaHQ9XFxcIjEwMCVcXFwiIHdpZHRoPVxcXCIxMDAlXFxcIj5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcInRvcFxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIiBjbGFzcz1cXFwidmlldy10aXRsZVxcXCIgdmlzaWJpbGl0eT1cXFwie3sgYm91bmREYXRhLnJlbGF0aW9uYWxUeXBlID09PSAnbGVnaXNsYXRvcicgPyAndmlzaWJsZScgOiAnY29sbGFwc2UnIH19XFxcIj5cXG4gICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImxlZ2lzbGF0b3JJZFxcXCIgdGV4dD1cXFwiXFxcIiB2aXNpYmlsaXR5PVxcXCJjb2xsYXBzZWRcXFwiIC8+XFxuICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJsZWdpc2xhdG9yTmFtZVxcXCIgdGV4dD1cXFwiXFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiIC8+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMVxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIj5cXG4gICAgICAgICAgICA8TGlzdFZpZXcgaXRlbXM9XFxcInt7IHN1cnZleUxpc3QgfX1cXFwiIGl0ZW1UYXA9XFxcIm9uSXRlbVRhcFxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIj5cXG4gICAgICAgICAgICAgICAgPExpc3RWaWV3Lml0ZW1UZW1wbGF0ZT5cXG4gICAgICAgICAgICAgICAgICAgIDxTdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCIqXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcInt7IHN1cnZleVF1ZXN0aW9uIH19XFxcIiB0ZXh0V3JhcD1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLW1haW4tdG9wXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcIlN1cnZleSBRdWVzdGlvbiBSZXNwb25zZVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1YlxcXCIgc3R5bGU9XFxcImZvbnQtc3R5bGU6IGl0YWxpYztcXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcImF1dG8sICpcXFwiIHJvd3M9XFxcIipcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiUmVzcG9uc2U6IFxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1Yi10aXRsZVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IHJlc3BvbnNlIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiYXV0bywgKlxcXCIgcm93cz1cXFwiKlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJGb2xsb3cgVXAgUmVxdWlyZWQ/IFxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1Yi10aXRsZVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IGZvbGxvd1VwUmVxdWlyZWQgfCBib29sVGV4dENvbnZlcnRlcigpIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IGRpcmVjdGlvbj1cXFwiaG9yaXpvbnRhbFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJDb21tZW50cy9PYnNlcnZhdGlvbnM6IFxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1Yi10aXRsZVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IGNvbW1lbnRzIH19XFxcIiB0ZXh0V3JhcD1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1YlxcXCIgdmlzaWJpbGl0eT1cXFwie3sgY29tbWVudHMgPT09IG51bGwgfHwgY29tbWVudHMubGVuZ3RoID09PSAwID8gJ2NvbGxhcHNlJyA6ICd2aXNpYmxlJyB9fVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwiJiN4ZjEwNTtcXFwiIGNsYXNzPVxcXCJmbi1saXN0LXZpZXctaXRlbVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICA8L0xpc3RWaWV3Lml0ZW1UZW1wbGF0ZT5cXG4gICAgICAgICAgICA8L0xpc3RWaWV3PlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgIDxBY3Rpdml0eUluZGljYXRvciBidXN5PVxcXCJ7eyBpc0xvYWRpbmcgfX1cXFwiIGFuZHJvaWQ6aGVpZ2h0PVxcXCIyNSVcXFwiIGFuZHJvaWQ6d2lkdGg9XFxcIjI1JVxcXCIgaW9zLmFjdGl2aXR5SW5kaWNhdG9yVmlld1N0eWxlPVxcXCJ3aGl0ZUxhcmdlXFxcIiByb3dTcGFuPVxcXCIyXFxcIiBjb2xTcGFuPVxcXCIxXFxcIiAvPlxcbiAgICA8L0dyaWRMYXlvdXQ+XFxuPC9QYWdlPlxcblwiOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXkvc3VydmV5LXBhZ2UueG1sXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcIm1hcmt1cFwiLCBwYXRoOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9zdXJ2ZXktcGFnZS54bWxcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3Qgb2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgT2JzZXJ2YWJsZUFycmF5ID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZS1hcnJheVwiKS5PYnNlcnZhYmxlQXJyYXk7XG52YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxuZnVuY3Rpb24gU3VydmV5Vmlld01vZGVsKGl0ZW1zKSB7XG4gICAgY29uc3Qgdmlld01vZGVsID0gbmV3IE9ic2VydmFibGVBcnJheShpdGVtcyk7XG5cbiAgICB2aWV3TW9kZWwubG9hZCA9IGZ1bmN0aW9uKGxlZ2lzbGF0b3JJZCwgc3VydmV5SWQpIHtcbiAgICAgICAgcmV0dXJuIGh0dHAucmVxdWVzdCh7XG4gICAgICAgICAgICB1cmw6IGdsb2JhbC5hcGlCYXNlU2VydmljZVVybCArIFwibGVnaXNsYXRvcnN1cnZleT9sZWdpc2xhdG9ySWQ9XCIgKyBsZWdpc2xhdG9ySWQgKyBcIiZzdXJ2ZXlJZD1cIiArIHN1cnZleUlkLFxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiwgXCJBdXRob3JpemF0aW9uXCI6IGdsb2JhbC50b2tlbiB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzcG9uc2UuY29udGVudC50b1N0cmluZygpO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHJlc3VsdCk7XG5cbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihzdXJ2ZXlRdWVzdGlvbikge1xuICAgICAgICAgICAgICAgIHZhciBmb2xsb3dVcFJlcXVpcmVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3VydmV5UXVlc3Rpb24uRm9sbG93VXBSZXF1aXJlZCA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9sbG93VXBSZXF1aXJlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmlld01vZGVsLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBsZWdpc2xhdG9ySWQ6IHN1cnZleVF1ZXN0aW9uLkxlZ2lzbGF0b3JJZCxcbiAgICAgICAgICAgICAgICAgICAgZnVsbE5hbWU6IHN1cnZleVF1ZXN0aW9uLkZ1bGxOYW1lLFxuICAgICAgICAgICAgICAgICAgICBzdXJ2ZXlJZDogc3VydmV5UXVlc3Rpb24uU3VydmV5SWQsXG4gICAgICAgICAgICAgICAgICAgIHN1cnZleTogc3VydmV5UXVlc3Rpb24uU3VydmV5LFxuICAgICAgICAgICAgICAgICAgICBzdXJ2ZXlRdWVzdGlvbklkOiBzdXJ2ZXlRdWVzdGlvbi5TdXJ2ZXlRdWVzdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICBzdXJ2ZXlRdWVzdGlvbjogc3VydmV5UXVlc3Rpb24uU3VydmV5UXVlc3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYXRpdmVJZHM6IHN1cnZleVF1ZXN0aW9uLkluaXRpYXRpdmVJZHMsXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYXRpdmVzOiBzdXJ2ZXlRdWVzdGlvbi5Jbml0aWF0aXZlcyxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VJZDogc3VydmV5UXVlc3Rpb24uUmVzcG9uc2VJZCxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2U6IHN1cnZleVF1ZXN0aW9uLlJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICBmb2xsb3dVcFJlcXVpcmVkOiBmb2xsb3dVcFJlcXVpcmVkLFxuICAgICAgICAgICAgICAgICAgICBjb21tZW50czogc3VydmV5UXVlc3Rpb24uQ29tbWVudHMsXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvcklkOiBzdXJ2ZXlRdWVzdGlvbi5FZGl0b3JJZCxcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yOiBzdXJ2ZXlRdWVzdGlvbi5FZGl0b3IsXG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkRGF0ZTogc3VydmV5UXVlc3Rpb24uTW9kaWZpZWREYXRlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZpZXdNb2RlbC5lbXB0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB3aGlsZSAodmlld01vZGVsLmxlbmd0aCkge1xuICAgICAgICAgICAgdmlld01vZGVsLnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gdmlld01vZGVsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFN1cnZleVZpZXdNb2RlbDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5L3N1cnZleS12aWV3LW1vZGVsLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleS9zdXJ2ZXktdmlldy1tb2RlbC5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBTdXJ2ZXlzVmlld01vZGVsID0gcmVxdWlyZShcIi4vc3VydmV5cy12aWV3LW1vZGVsXCIpO1xuY29uc3Qgb2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG5jb25zdCBhcHBNb2R1bGUgPSByZXF1aXJlKFwiYXBwbGljYXRpb25cIik7XG52YXIgZnJhbWVNb2R1bGUgPSByZXF1aXJlKFwidWkvZnJhbWVcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xudmFyIHBhZ2U7XG52YXIgbmF2aWdhdGlvbkNvbnRleHQ7XG5cbnZhciBzdXJ2ZXlzQWN0aXZlO1xuXG52YXIgc3VydmV5c0xpc3QgPSBuZXcgU3VydmV5c1ZpZXdNb2RlbChbXSk7XG5cbnZhciBwYWdlRGF0YSA9IG5ldyBvYnNlcnZhYmxlTW9kdWxlLmZyb21PYmplY3Qoe1xuICAgIGJvdW5kRGF0YTogbnVsbCxcbiAgICBzdXJ2ZXlzTGlzdDogc3VydmV5c0xpc3QsXG4gICAgaXNMb2FkaW5nOiBmYWxzZVxufSk7XG5cbmZ1bmN0aW9uIG9uTmF2aWdhdGluZ1RvKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBwYWdlID0gYXJncy5vYmplY3Q7XG5cbiAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIlN1cnZleXNcIjtcblxuICAgICAgICBuYXZpZ2F0aW9uQ29udGV4dCA9IHBhZ2UubmF2aWdhdGlvbkNvbnRleHQ7XG5cbiAgICAgICAgcGFnZURhdGEuYm91bmREYXRhID0gbmF2aWdhdGlvbkNvbnRleHQ7XG5cbiAgICAgICAgdmFyIGxlZ2lzbGF0b3JJZCA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJsZWdpc2xhdG9ySWRcIik7XG4gICAgICAgIHZhciBsZWdpc2xhdG9yTmFtZSA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJsZWdpc2xhdG9yTmFtZVwiKTtcblxuICAgICAgICBsZWdpc2xhdG9ySWQudGV4dCA9IG5hdmlnYXRpb25Db250ZXh0LmxlZ2lzbGF0b3JJZDtcbiAgICAgICAgbGVnaXNsYXRvck5hbWUudGV4dCA9IG5hdmlnYXRpb25Db250ZXh0LmZ1bGxOYW1lO1xuXG4gICAgICAgIGlmIChhcmdzLmlzQmFja05hdmlnYXRpb24pIHtcbiAgICAgICAgICAgIHN1cnZleXNMaXN0LmVtcHR5KCk7XG5cbiAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuICAgICAgICAgICAgc3VydmV5c0xpc3QubG9hZChuYXZpZ2F0aW9uQ29udGV4dC5sZWdpc2xhdG9ySWQsIG5hdmlnYXRpb25Db250ZXh0Lm1lZXRpbmdJZCwgc3VydmV5c0FjdGl2ZSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gU2luY2UgdGhlIFBhZ2UgY29udGFpbnMgYSBTZWdtZW50ZWRCYXIsXG4gICAgICAgICAgICAvLyB0aGUgc2VsZWN0ZWRJbmRleENoYW5nZWQgZXZlbnQgd2lsbCBwZXJmb3JtIHRoZSBpbml0aWFsIGxvYWQgb2YgdGhlIExpc3RWaWV3LlxuXG4gICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25TZWxlY3RlZEluZGV4Q2hhbmdlZChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKGFyZ3MubmV3SW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHN1cnZleXNBY3RpdmUgPSBcIllcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN1cnZleXNBY3RpdmUgPSBcIk5cIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cnZleXNMaXN0LmVtcHR5KCk7XG5cbiAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuXG4gICAgICAgIHN1cnZleXNMaXN0LmxvYWQobmF2aWdhdGlvbkNvbnRleHQubGVnaXNsYXRvcklkLCBuYXZpZ2F0aW9uQ29udGV4dC5tZWV0aW5nSWQsIHN1cnZleXNBY3RpdmUpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHBhZ2VEYXRhO1xuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkFkZFRhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLnJlbGF0aW9uYWxUeXBlID0gXCJtZWV0aW5nXCI7XG4gICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5yZWxhdGlvbmFsSWQgPSBwYWdlRGF0YS5ib3VuZERhdGEubWVldGluZ0lkO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICAgICAgbW9kdWxlTmFtZTogXCJsZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc2VsZWN0L3NlbGVjdC1wYWdlXCIsXG4gICAgICAgICAgICBjb250ZXh0OiBwYWdlRGF0YS5ib3VuZERhdGEsXG4gICAgICAgICAgICBjbGVhckhpc3Rvcnk6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uQmFja1RhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLmdvQmFjaygpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KGUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25JdGVtVGFwKGFyZ3MpIHtcbiAgICB0cnlcbiAgICB7XG4gICAgICAgIHZhciBsZWdpc2xhdG9ySWQgPSBwYWdlLmdldFZpZXdCeUlkKFwibGVnaXNsYXRvcklkXCIpO1xuICAgICAgICB2YXIgbGVnaXNsYXRvck5hbWUgPSBwYWdlLmdldFZpZXdCeUlkKFwibGVnaXNsYXRvck5hbWVcIik7XG4gICAgICAgIHZhciBpbmRleCA9IGFyZ3MuaW5kZXg7XG4gICAgICAgIHZhciBpdGVtID0gc3VydmV5c0xpc3QuZ2V0SXRlbShpbmRleCk7XG5cbiAgICAgICAgY29uc3QgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICAgICAgbW9kdWxlTmFtZTogXCJsZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5L3N1cnZleS1wYWdlXCIsXG4gICAgICAgICAgICBjb250ZXh0OiB7IFxuICAgICAgICAgICAgICAgIHN1cnZleUlkOiBpdGVtLnN1cnZleUlkLFxuICAgICAgICAgICAgICAgIHN1cnZleTogaXRlbS5zdXJ2ZXksXG4gICAgICAgICAgICAgICAgbGVnaXNsYXRvcklkOiBsZWdpc2xhdG9ySWQudGV4dCxcbiAgICAgICAgICAgICAgICBmdWxsTmFtZTogbGVnaXNsYXRvck5hbWUudGV4dCxcbiAgICAgICAgICAgICAgICByZWxhdGlvbmFsVHlwZTogbmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbFR5cGUsXG4gICAgICAgICAgICAgICAgcmVsYXRpb25hbElkOiBuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsSWRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbGVhckhpc3Rvcnk6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydHMub25OYXZpZ2F0aW5nVG8gPSBvbk5hdmlnYXRpbmdUbztcbmV4cG9ydHMub25TZWxlY3RlZEluZGV4Q2hhbmdlZCA9IG9uU2VsZWN0ZWRJbmRleENoYW5nZWQ7XG5leHBvcnRzLm9uQWRkVGFwID0gb25BZGRUYXA7XG5leHBvcnRzLm9uQmFja1RhcCA9IG9uQmFja1RhcDtcbmV4cG9ydHMub25JdGVtVGFwID0gb25JdGVtVGFwO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXlzLXBhZ2UuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5cy1wYWdlLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxubW9kdWxlLmV4cG9ydHMgPSBcIjxQYWdlIG5hdmlnYXRpbmdUbz1cXFwib25OYXZpZ2F0aW5nVG9cXFwiIGNsYXNzPVxcXCJwYWdlXFxcIiB4bWxucz1cXFwiaHR0cDovL3NjaGVtYXMubmF0aXZlc2NyaXB0Lm9yZy90bnMueHNkXFxcIiA+XFxuICAgIDxBY3Rpb25CYXIgY2xhc3M9XFxcImFjdGlvbi1iYXJcXFwiPlxcbiAgICAgICAgPGFuZHJvaWQ+XFxuICAgICAgICAgICAgPE5hdmlnYXRpb25CdXR0b24gYW5kcm9pZC5zeXN0ZW1JY29uPVxcXCJpY19tZW51X2JhY2tcXFwiIHRhcD1cXFwib25CYWNrVGFwXFxcIiAvPlxcbiAgICAgICAgPC9hbmRyb2lkPlxcbiAgICAgICAgPEFjdGlvbkl0ZW0gdGFwPVxcXCJvbkFkZFRhcFxcXCIgaW9zLnN5c3RlbUljb249XFxcIjRcXFwiIGFuZHJvaWQuc3lzdGVtSWNvbj1cXFwiaWNfbWVudV9hZGRcXFwiIGlvcy5wb3NpdGlvbj1cXFwicmlnaHRcXFwiIFxcbiAgICAgICAgICAgIHZpc2liaWxpdHk9XFxcInt7IGJvdW5kRGF0YS5yZWxhdGlvbmFsVHlwZSA9PT0gJ2xlZ2lzbGF0b3InID8gJ2NvbGxhcHNlJyA6ICd2aXNpYmxlJyB9fVxcXCIgLz5cXG4gICAgPC9BY3Rpb25CYXI+XFxuXFxuICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcImF1dG8sIGF1dG8sICpcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiIGNsYXNzPVxcXCJ2aWV3LXRpdGxlXFxcIiB2aXNpYmlsaXR5PVxcXCJ7eyBib3VuZERhdGEucmVsYXRpb25hbFR5cGUgPT09ICdsZWdpc2xhdG9yJyA/ICd2aXNpYmxlJyA6ICdjb2xsYXBzZScgfX1cXFwiPlxcbiAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwibGVnaXNsYXRvcklkXFxcIiB0ZXh0PVxcXCJcXFwiIHZpc2liaWxpdHk9XFxcImNvbGxhcHNlZFxcXCIgLz5cXG4gICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImxlZ2lzbGF0b3JOYW1lXFxcIiB0ZXh0PVxcXCJcXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgLz5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIxXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCI+XFxuICAgICAgICAgICAgPFNlZ21lbnRlZEJhciBjbGFzcz1cXFwic2VnbWVudGVkLWJhclxcXCIgc2VsZWN0ZWRJbmRleENoYW5nZWQ9XFxcIm9uU2VsZWN0ZWRJbmRleENoYW5nZWRcXFwiPlxcbiAgICAgICAgICAgICAgICA8U2VnbWVudGVkQmFyLml0ZW1zPlxcbiAgICAgICAgICAgICAgICAgICAgPFNlZ21lbnRlZEJhckl0ZW0gdGl0bGU9XFxcIkN1cnJlbnQgU3VydmV5c1xcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIDxTZWdtZW50ZWRCYXJJdGVtIHRpdGxlPVxcXCJBcmNoaXZlZCBTdXJ2ZXlzXFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8L1NlZ21lbnRlZEJhci5pdGVtcz5cXG4gICAgICAgICAgICA8L1NlZ21lbnRlZEJhcj5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIyXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiPlxcbiAgICAgICAgICAgIDxMaXN0VmlldyBpdGVtcz1cXFwie3sgc3VydmV5c0xpc3QgfX1cXFwiIGl0ZW1UYXA9XFxcIm9uSXRlbVRhcFxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIj5cXG4gICAgICAgICAgICAgICAgPExpc3RWaWV3Lml0ZW1UZW1wbGF0ZT5cXG4gICAgICAgICAgICAgICAgICAgIDxTdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCIqXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcInt7IHN1cnZleSB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLW1haW4tdG9wXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiYXV0bywgKlxcXCIgcm93cz1cXFwiKlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJJbml0aWF0aXZlKHMpOiBcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1zdWItdGl0bGVcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJ7eyBpbml0aWF0aXZlcyB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1YlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcImF1dG8sICpcXFwiIHJvd3M9XFxcIipcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiU2Vzc2lvbiBZZWFyOiBcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1zdWItdGl0bGVcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJ7eyB5ZWFyIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiYXV0bywgKlxcXCIgcm93cz1cXFwiKlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJDaGFtYmVyL0NhdWN1czogXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViLXRpdGxlXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwie3sgY2hhbWJlciB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1YlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJ7eyBxdWVzdGlvbkNvdW50IH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcIiYjeGYxMDU7XFxcIiBjbGFzcz1cXFwiZm4tbGlzdC12aWV3LWl0ZW1cXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgPC9MaXN0Vmlldy5pdGVtVGVtcGxhdGU+XFxuICAgICAgICAgICAgPC9MaXN0Vmlldz5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8QWN0aXZpdHlJbmRpY2F0b3IgYnVzeT1cXFwie3sgaXNMb2FkaW5nIH19XFxcIiBhbmRyb2lkOmhlaWdodD1cXFwiMjUlXFxcIiBhbmRyb2lkOndpZHRoPVxcXCIyNSVcXFwiIGlvcy5hY3Rpdml0eUluZGljYXRvclZpZXdTdHlsZT1cXFwid2hpdGVMYXJnZVxcXCIgcm93U3Bhbj1cXFwiM1xcXCIgY29sU3Bhbj1cXFwiMVxcXCIgLz5cXG4gICAgPC9HcmlkTGF5b3V0PlxcbjwvUGFnZT5cXG5cIjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5cy1wYWdlLnhtbFwiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJtYXJrdXBcIiwgcGF0aDogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXlzLXBhZ2UueG1sXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IG9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpO1xudmFyIE9ic2VydmFibGVBcnJheSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGUtYXJyYXlcIikuT2JzZXJ2YWJsZUFycmF5O1xudmFyIGh0dHAgPSByZXF1aXJlKFwiaHR0cFwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG5cbmZ1bmN0aW9uIFN1cnZleXNWaWV3TW9kZWwoaXRlbXMpIHtcbiAgICBjb25zdCB2aWV3TW9kZWwgPSBuZXcgT2JzZXJ2YWJsZUFycmF5KGl0ZW1zKTtcblxuICAgIHZpZXdNb2RlbC5sb2FkID0gZnVuY3Rpb24obGVnaXNsYXRvcklkLCBtZWV0aW5nSWQsIHN1cnZleXNBY3RpdmUpIHtcbiAgICAgICAgdmFyIHVybCA9IGdsb2JhbC5hcGlCYXNlU2VydmljZVVybCArIFwibGVnaXNsYXRvcnN1cnZleXM/bGVnaXNsYXRvcklkPVwiICsgbGVnaXNsYXRvcklkO1xuXG4gICAgICAgIGlmIChtZWV0aW5nSWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHVybCArPSBcIiZtZWV0aW5nSWQ9XCIgKyBtZWV0aW5nSWQ7XG4gICAgICAgIH1cblxuICAgICAgICB1cmwgKz0gXCImYWN0aXZlPVwiICsgc3VydmV5c0FjdGl2ZTtcblxuICAgICAgICByZXR1cm4gaHR0cC5yZXF1ZXN0KHtcbiAgICAgICAgICAgIHVybDogdXJsLCAvL2dsb2JhbC5hcGlCYXNlU2VydmljZVVybCArIFwibGVnaXNsYXRvcnN1cnZleXM/bGVnaXNsYXRvcklkPVwiICsgbGVnaXNsYXRvcklkICsgXCImYWN0aXZlPVwiICsgc3VydmV5c0FjdGl2ZSxcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiQXV0aG9yaXphdGlvblwiOiBnbG9iYWwudG9rZW4gfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmNvbnRlbnQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShyZXN1bHQpO1xuXG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oc3VydmV5KSB7XG4gICAgICAgICAgICAgICAgdmFyIHF1ZXN0aW9uQ291bnQgPSBcIihcIiArIHN1cnZleS5RdWVzdGlvbkNvdW50ICsgXCIgc3VydmV5IHF1ZXN0aW9ucylcIjtcblxuICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbGVnaXNsYXRvcklkOiBzdXJ2ZXkuTGVnaXNsYXRvcklkLFxuICAgICAgICAgICAgICAgICAgICBmdWxsTmFtZTogc3VydmV5LkZ1bGxOYW1lLFxuICAgICAgICAgICAgICAgICAgICBzdXJ2ZXlJZDogc3VydmV5LlN1cnZleUlkLFxuICAgICAgICAgICAgICAgICAgICBzdXJ2ZXk6IHN1cnZleS5TdXJ2ZXksXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYXRpdmVJZHM6IHN1cnZleS5Jbml0aWF0aXZlSWRzLFxuICAgICAgICAgICAgICAgICAgICBpbml0aWF0aXZlczogc3VydmV5LkluaXRpYXRpdmVzLFxuICAgICAgICAgICAgICAgICAgICB5ZWFyOiBzdXJ2ZXkuWWVhcixcbiAgICAgICAgICAgICAgICAgICAgY2hhbWJlcjogc3VydmV5LkNoYW1iZXIsXG4gICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uQ291bnQ6IHF1ZXN0aW9uQ291bnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmlld01vZGVsLmVtcHR5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHdoaWxlICh2aWV3TW9kZWwubGVuZ3RoKSB7XG4gICAgICAgICAgICB2aWV3TW9kZWwucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHJldHVybiB2aWV3TW9kZWw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gU3VydmV5c1ZpZXdNb2RlbDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9yL3N1cnZleXMvc3VydmV5cy12aWV3LW1vZGVsLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvci9zdXJ2ZXlzL3N1cnZleXMtdmlldy1tb2RlbC5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBMZWdpc2xhdG9yc1ZpZXdNb2RlbCA9IHJlcXVpcmUoXCIuL2xlZ2lzbGF0b3JzLXZpZXctbW9kZWxcIik7XG5jb25zdCBwbGF0Zm9ybSA9IHJlcXVpcmUoXCJwbGF0Zm9ybVwiKTtcbmNvbnN0IE9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpO1xudmFyIGdlc3R1cmVzID0gcmVxdWlyZShcInVpL2dlc3R1cmVzXCIpO1xudmFyIGZyYW1lTW9kdWxlID0gcmVxdWlyZShcInVpL2ZyYW1lXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxuY29uc3QgTUlOX1ggPSAtMTYwO1xuY29uc3QgTUFYX1ggPSAwO1xuY29uc3QgVEhSRVNIT0xEID0gMC4yNTtcblxudmFyIHN3aXBlT3BlbiA9IGZhbHNlO1xudmFyIHN3aXBlZEl0ZW07XG5cbnZhciBpc1Njcm9sbGluZyA9IGZhbHNlO1xudmFyIGlzU3dpcGluZyA9IGZhbHNlO1xuXG52YXIgcGFnZTtcbi8vIHZhciB2aWV3O1xudmFyIHNlYXJjaEJhcjtcbnZhciBsZWdpc2xhdG9yc1BhZ2VTaXplID0gMjU7XG52YXIgbGVnaXNsYXRvcnNTZWFyY2hUZXh0ID0gXCJcIjtcbnZhciBsZWdpc2xhdG9yc1NlYXJjaFN1Ym1pdHRlZCA9IGZhbHNlO1xuXG52YXIgbGVnaXNsYXRvcnNMaXN0ID0gbmV3IExlZ2lzbGF0b3JzVmlld01vZGVsKFtdKTtcblxudmFyIHBhZ2VEYXRhID0gbmV3IE9ic2VydmFibGVNb2R1bGUuZnJvbU9iamVjdCh7XG4gICAgbGVnaXNsYXRvcnNMaXN0OiBsZWdpc2xhdG9yc0xpc3QsXG4gICAgaXNMb2FkaW5nOiBmYWxzZVxufSk7XG5cbmZ1bmN0aW9uIG9uTmF2aWdhdGluZ1RvKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBwYWdlID0gYXJncy5vYmplY3Q7XG4gICAgICAgIFxuICAgICAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiTGVnaXNsYXRvcnNcIjtcblxuICAgICAgICBpZiAobGVnaXNsYXRvcnNTZWFyY2hUZXh0ICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB2YXIgc2VhcmNoQmFyID0gcGFnZS5nZXRWaWV3QnlJZChcInNlYXJjaEJhclwiKTtcblxuICAgICAgICAgICAgc2VhcmNoQmFyLnRleHQgPSBsZWdpc2xhdG9yc1NlYXJjaFRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChsZWdpc2xhdG9yc0xpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIGxlZ2lzbGF0b3JzTGlzdC5sb2FkKGxlZ2lzbGF0b3JzU2VhcmNoVGV4dCwgMSwgbGVnaXNsYXRvcnNQYWdlU2l6ZSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHBhZ2VEYXRhO1xuXG4gICAgICAgIC8vIHZhciBvYnNlcnZlclRhcCA9IHBhZ2Uub2JzZXJ2ZShnZXN0dXJlcy5HZXN0dXJlVHlwZXMudGFwLCBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAvLyAgICAgc2VhcmNoQmFyLmRpc21pc3NTb2Z0SW5wdXQoKTsgfSlcbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuLy8gZnVuY3Rpb24gb25WaWV3TG9hZGVkKGFyZ3MpIHtcbi8vICAgICB2aWV3ID0gYXJncy5vYmplY3Q7XG4vLyAgICAgcGFnZSA9IHZpZXcucGFnZTtcbiAgICBcbi8vICAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiTGVnaXNsYXRvcnNcIjtcblxuLy8gICAgIC8vbGVnaXNsYXRvcnNMaXN0LmVtcHR5KCk7XG4gICAgXG4vLyAgICAgaWYgKGxlZ2lzbGF0b3JzTGlzdC5sZW5ndGggPT09IDApIHtcbi8vICAgICAgICAgdmlld0RhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuXG4vLyAgICAgICAgIGxlZ2lzbGF0b3JzTGlzdC5sb2FkKGxlZ2lzbGF0b3JzU2VhcmNoVGV4dCwgMSwgbGVnaXNsYXRvcnNQYWdlU2l6ZSkudGhlbihmdW5jdGlvbiAoKSB7XG4vLyAgICAgICAgICAgICB2aWV3RGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuLy8gICAgICAgICB9KTtcblxuLy8gICAgICAgICB2aWV3LmJpbmRpbmdDb250ZXh0ID0gdmlld0RhdGE7XG4vLyAgICAgfVxuXG4vLyAgICAgLy8gdmFyIG9ic2VydmVyVGFwID0gcGFnZS5vYnNlcnZlKGdlc3R1cmVzLkdlc3R1cmVUeXBlcy50YXAsIGZ1bmN0aW9uIChhcmdzKSB7XG4vLyAgICAgLy8gICAgIHNlYXJjaEJhci5kaXNtaXNzU29mdElucHV0KCk7IH0pXG4vLyB9XG5cbi8vIGZ1bmN0aW9uIG9uVmlld1VubG9hZGVkKGFyZ3MpIHtcblxuLy8gfVxuXG5mdW5jdGlvbiBvblNlYXJjaEJhckxvYWRlZChhcmdzKSB7XG4gICAgc2VhcmNoQmFyID0gYXJncy5vYmplY3Q7XG5cbiAgICBpZiAocGxhdGZvcm0uaXNBbmRyb2lkKSB7XG4gICAgICAgIHNlYXJjaEJhci5hbmRyb2lkLmNsZWFyRm9jdXMoKTtcbiAgICB9IGVsc2UgaWYgKHBsYXRmb3JtLmlzSU9TKSB7XG4gICAgICAgIC8vIGlPUyBTdHlsaW5nXG4gICAgICAgIHNlYXJjaEJhci5pb3Muc2VhcmNoQmFyU3R5bGUgPSBVSVNlYXJjaEJhclN0eWxlLlVJU2VhcmNoQmFyU3R5bGVNaW5pbWFsO1xuICAgICAgICBzZWFyY2hCYXIuaW9zLnNob3dzQ2FuY2VsQnV0dG9uID0gdHJ1ZTtcbiAgICAgICAgLy9zZWFyY2hCYXIuaW9zLmFuaW1hdGVkID0gdHJ1ZTtcbiAgICAgICAgLy8gc2VhcmNoYmFyLmlvcy5zZXRTaG93c0NhbmNlbEJ1dHRvbkFuaW1hdGVkKHRydWUsIHRydWUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25TdWJtaXQoYXJncykge1xuICAgIHNlYXJjaEJhciA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgbGVnaXNsYXRvcnNTZWFyY2hUZXh0ID0gc2VhcmNoQmFyLnRleHQudHJpbSgpO1xuXG4gICAgbGVnaXNsYXRvcnNMaXN0LmVtcHR5KCk7XG4gICAgXG4gICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuXG4gICAgbGVnaXNsYXRvcnNMaXN0LmxvYWQobGVnaXNsYXRvcnNTZWFyY2hUZXh0LCAxLCBsZWdpc2xhdG9yc1BhZ2VTaXplKS50aGVuKGZ1bmN0aW9uICgpe1xuICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuXG4gICAgICAgIGxlZ2lzbGF0b3JzU2VhcmNoU3VibWl0dGVkID0gdHJ1ZTtcbiAgICBcbiAgICAgICAgc2VhcmNoQmFyLmRpc21pc3NTb2Z0SW5wdXQoKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gb25DbGVhcihhcmdzKSB7XG4gICAgc2VhcmNoQmFyLnRleHQgPSBcIlwiO1xuICAgIGxlZ2lzbGF0b3JzU2VhcmNoVGV4dCA9IFwiXCI7XG5cbiAgICBpZiAobGVnaXNsYXRvcnNTZWFyY2hTdWJtaXR0ZWQpIHtcbiAgICAgICAgbGVnaXNsYXRvcnNMaXN0LmVtcHR5KCk7XG4gICAgICAgIFxuICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgdHJ1ZSk7XG5cbiAgICAgICAgbGVnaXNsYXRvcnNMaXN0LmxvYWQobGVnaXNsYXRvcnNTZWFyY2hUZXh0LCAxLCBsZWdpc2xhdG9yc1BhZ2VTaXplKS50aGVuKGZ1bmN0aW9uICgpe1xuICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcblxuICAgICAgICAgICAgbGVnaXNsYXRvcnNTZWFyY2hTdWJtaXR0ZWQgPSBmYWxzZTtcbiAgICAgICAgXG4gICAgICAgICAgICBzZWFyY2hCYXIuZGlzbWlzc1NvZnRJbnB1dCgpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uSXRlbUxvYWRpbmcoYXJncykge1xuICAgIGlmIChwbGF0Zm9ybS5pc0lPUykge1xuICAgICAgICB2YXIgY2VsbCA9IGFyZ3MuaW9zO1xuXG4gICAgICAgIGNlbGwuc2VsZWN0aW9uU3R5bGUgPSBVSVRhYmxlVmlld0NlbGxTZWxlY3Rpb25TdHlsZS5VSVRhYmxlVmlld0NlbGxTZWxlY3Rpb25TdHlsZU5vbmU7XG4gICAgfVxufVxuXG4vLyBmdW5jdGlvbiBvbkJ1dHRvblRhcChhcmdzKSB7XG4vLyAgICAgc2VhcmNoQmFyLmlvcy5zaG93c0NhbmNlbEJ1dHRvbiA9ICFzZWFyY2hCYXIuaW9zLnNob3dzQ2FuY2VsQnV0dG9uO1xuLy8gfVxuXG5mdW5jdGlvbiBvbkl0ZW1UYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGlmIChwbGF0Zm9ybS5pc0lPUykge1xuICAgICAgICAgICAgaWYgKHN3aXBlT3Blbikge1xuICAgICAgICAgICAgICAgIHN3aXBlZEl0ZW0uYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZTogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDBcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHN3aXBlT3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgdmlldyA9IGFyZ3MudmlldztcbiAgICAgICAgICAgICAgICB2YXIgbW9kZWwgPSB2aWV3LmJpbmRpbmdDb250ZXh0O1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGVOYW1lOiBcImxlZ2lzbGF0b3JzL2xlZ2lzbGF0b3IvbGVnaXNsYXRvci1wYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IG1vZGVsLFxuICAgICAgICAgICAgICAgICAgICBjbGVhckhpc3Rvcnk6IGZhbHNlXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uTG9hZE1vcmVJdGVtcyhhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIGxlZ2lzbGF0b3JzTGlzdENvdW50ID0gbGVnaXNsYXRvcnNMaXN0Lmxlbmd0aDtcbiAgICAgICAgdmFyIGxlZ2lzbGF0b3JzUGFnZU51bWJlciA9IE1hdGguY2VpbChsZWdpc2xhdG9yc0xpc3RDb3VudCAvIGxlZ2lzbGF0b3JzUGFnZVNpemUpICsgMTtcbiAgICAgICAgdmFyIGxlZ2lzbGF0b3JzUmVtYWluZGVyID0gbGVnaXNsYXRvcnNMaXN0Q291bnQgJSBsZWdpc2xhdG9yc1BhZ2VTaXplO1xuXG4gICAgICAgIGlmIChsZWdpc2xhdG9yc1JlbWFpbmRlciAhPT0gMCAmJiBsZWdpc2xhdG9yc1JlbWFpbmRlciA8IGxlZ2lzbGF0b3JzUGFnZVNpemUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuICAgICAgICBsZWdpc2xhdG9yc0xpc3QubG9hZChsZWdpc2xhdG9yc1NlYXJjaFRleHQsIGxlZ2lzbGF0b3JzUGFnZU51bWJlciwgbGVnaXNsYXRvcnNQYWdlU2l6ZSkudGhlbihmdW5jdGlvbiAoKXtcbiAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uQWRkQ2xpY2soYXJncykge1xuICAgIHZhciB2aWV3ID0gYXJncy5vYmplY3Q7XG5cbiAgICB2YXIgbW9kZWwgPSB7XG4gICAgICAgIG1lZXRpbmdJZDogMCxcbiAgICAgICAgbWVldGluZ0RhdGU6IG5ldyBEYXRlKCksXG4gICAgICAgIHZlbnVlVHlwZUlkOiAxLFxuICAgICAgICB2ZW51ZVR5cGU6IFwiSW4gUGVyc29uXCIsXG4gICAgICAgIGF0dGVuZGVlVHlwZUlkOiAxLFxuICAgICAgICBhdHRlbmRlZVR5cGU6IFwiU3RhZmYgT25seVwiLFxuICAgICAgICBsb2JieWlzdElkOiBnbG9iYWwucGVyc29uSWQsXG4gICAgICAgIGxvYmJ5aXN0OiBudWxsLFxuICAgICAgICBsZWdpc2xhdG9ySWQ6IHZpZXcuYmluZGluZ0NvbnRleHQubGVnaXNsYXRvcklkLFxuICAgICAgICBmdWxsTmFtZTogdmlldy5iaW5kaW5nQ29udGV4dC5mdWxsTmFtZSxcbiAgICAgICAgbmFtZTogbnVsbCxcbiAgICAgICAgcGNpSW5pdGlhdGl2ZXM6IG51bGwsXG4gICAgICAgIHN1cnZleXM6IG51bGwsXG4gICAgICAgIHBjaUF0dGVuZGVlczogZ2xvYmFsLmN1cnJlbnRVc2VyLFxuICAgICAgICBwcmltYXJ5T2ZmaWNlQ29udGFjdDogbnVsbCxcbiAgICAgICAgbWVldGluZ0xvY2F0aW9uSWQ6IDIsXG4gICAgICAgIGxvY2F0aW9uOiBcIk1lZXRpbmcgaW4gRENcIixcbiAgICAgICAgbGVnaXNsYXRvclN0YWZmQXR0ZW5kZWVzOiBudWxsLFxuICAgICAgICBmb2xsb3dVcE5lZWRlZDogZmFsc2UsXG4gICAgICAgIGZvbGxvd1VwRGF0ZTogbnVsbCxcbiAgICAgICAgZm9sbG93VXBOb3RlczogbnVsbCxcbiAgICAgICAgY3JlYXRvcklkOiBnbG9iYWwucGVyc29uSWQsXG4gICAgICAgIG5vdGVzOiBudWxsLFxuICAgICAgICBpbml0aWF0aXZlSWQ6IG51bGwsXG4gICAgICAgIHN1cnZleUlkOiBudWxsLFxuICAgICAgICBhc3NpZ25tZW50SWQ6IG51bGxcbiAgICB9XG5cbiAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgIG1vZHVsZU5hbWU6IFwibWVldGluZ3MvbWVldGluZy9tZWV0aW5nLXBhZ2VcIixcbiAgICAgICAgY29udGV4dDogbW9kZWwsXG4gICAgICAgIGNsZWFySGlzdG9yeTogZmFsc2VcbiAgICB9O1xuXG4gICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG5cbiAgICBpZiAoc3dpcGVPcGVuKSB7XG4gICAgICAgIHN3aXBlZEl0ZW0uYW5pbWF0ZSh7XG4gICAgICAgICAgICB0cmFuc2xhdGU6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgZHVyYXRpb246IDIwMFxuICAgICAgICB9KTtcblxuICAgICAgICBzd2lwZU9wZW4gPSBmYWxzZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uVmlld0NsaWNrKGFyZ3MpIHtcbiAgICB2YXIgdmlldyA9IGFyZ3Mub2JqZWN0O1xuICAgIHZhciBtb2RlbCA9IHZpZXcuYmluZGluZ0NvbnRleHQ7XG5cbiAgICBtb2RlbC5yZWZlcmVuY2UgPSBcIm5hdlwiO1xuICAgIG1vZGVsLnJlbGF0aW9uYWxUeXBlID0gXCJsZWdpc2xhdG9yXCI7XG4gICAgbW9kZWwucmVsYXRpb25hbElkID0gdmlldy5iaW5kaW5nQ29udGV4dC5sZWdpc2xhdG9ySWQ7XG5cbiAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgIG1vZHVsZU5hbWU6IFwibWVldGluZ3MvbWVldGluZ3MtcGFnZVwiLFxuICAgICAgICBjb250ZXh0OiBtb2RlbCxcbiAgICAgICAgY2xlYXJIaXN0b3J5OiBmYWxzZVxuICAgIH07XG5cbiAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkubmF2aWdhdGUobmF2aWdhdGlvbkVudHJ5KTtcblxuICAgIGlmIChzd2lwZU9wZW4pIHtcbiAgICAgICAgc3dpcGVkSXRlbS5hbmltYXRlKHtcbiAgICAgICAgICAgIHRyYW5zbGF0ZTogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICBkdXJhdGlvbjogMjAwXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHN3aXBlT3BlbiA9IGZhbHNlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25MYXlvdXRMb2FkZWQoYXJncykge1xuICAgIHZhciBsYXlvdXQgPSBhcmdzLm9iamVjdDtcblxuICAgIGlmIChwbGF0Zm9ybS5pc0FuZHJvaWQpIHtcbiAgICAgICAgbGF5b3V0Lm9uKGdlc3R1cmVzLkdlc3R1cmVUeXBlcy50YXAsIGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHN3aXBlT3Blbikge1xuICAgICAgICAgICAgICAgICAgICBzd2lwZWRJdGVtLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBzd2lwZU9wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmlldyA9IGFyZ3MudmlldztcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGVsID0gdmlldy5iaW5kaW5nQ29udGV4dDtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZU5hbWU6IFwibGVnaXNsYXRvcnMvbGVnaXNsYXRvci9sZWdpc2xhdG9yLXBhZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IG1vZGVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJIaXN0b3J5OiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2goZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBsYXlvdXQub24oZ2VzdHVyZXMuR2VzdHVyZVR5cGVzLnBhbiwgZnVuY3Rpb24oYXJncykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGxheW91dCA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICAgICAgdmFyIHZpZXcgPSBhcmdzLnZpZXc7XG5cbiAgICAgICAgICAgIGlmIChzd2lwZU9wZW4gJiYgc3dpcGVkSXRlbSAhPT0gdW5kZWZpbmVkICYmIHN3aXBlZEl0ZW0gIT0gbGF5b3V0KSB7XG4gICAgICAgICAgICAgICAgc3dpcGVkSXRlbS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghaXNTY3JvbGxpbmcgJiYgIWlzU3dpcGluZykge1xuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhhcmdzLmRlbHRhWSkgPiBNYXRoLmFicyhhcmdzLmRlbHRhWCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNTY3JvbGxpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpc1N3aXBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGFyZ3MuZGVsdGFYKSA+IE1hdGguYWJzKGFyZ3MuZGVsdGFZKSkge1xuICAgICAgICAgICAgICAgICAgICBpc1Njcm9sbGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpc1N3aXBpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzU2Nyb2xsaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN3aXBlT3BlbiAmJiBzd2lwZWRJdGVtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpcGVkSXRlbS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZTogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3Muc3RhdGUgPT09IGdlc3R1cmVzLkdlc3R1cmVTdGF0ZVR5cGVzLmVuZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzU2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1N3aXBpbmcpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGVnaXNsYXRvcnNMaXN0VmlldyA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJsZWdpc2xhdG9yc0xpc3RWaWV3XCIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBsYXRmb3JtLmlzQW5kcm9pZCkge1xuICAgICAgICAgICAgICAgICAgICBsZWdpc2xhdG9yc0xpc3RWaWV3Lm5hdGl2ZVZpZXcucmVxdWVzdERpc2FsbG93SW50ZXJjZXB0VG91Y2hFdmVudCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBsYXRmb3JtLmlzSU9TKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZ2lzbGF0b3JzTGlzdFZpZXcuaW9zLnNjcm9sbEVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzd2lwZU9wZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN3aXBlZEl0ZW0gPSBsYXlvdXQ7XG5cbiAgICAgICAgICAgICAgICB2YXIgbmV3WCA9IGxheW91dC50cmFuc2xhdGVYICsgYXJncy5kZWx0YVg7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV3WCA+PSBNSU5fWCAmJiBuZXdYIDw9IE1BWF9YKSB7XG4gICAgICAgICAgICAgICAgICAgIGxheW91dC50cmFuc2xhdGVYID0gbmV3WDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3Muc3RhdGUgPT09IGdlc3R1cmVzLkdlc3R1cmVTdGF0ZVR5cGVzLmVuZGVkICYmICEobmV3WCA9PT0gTUlOX1ggfHwgbmV3WCA9PT0gTUFYX1gpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGluaXQgb3VyIGRlc3RpbmF0aW9uIFggY29vcmRpbmF0ZSB0byAwLCBpbiBjYXNlIG5laXRoZXIgVEhSRVNIT0xEIGhhcyBiZWVuIGhpdFxuICAgICAgICAgICAgICAgICAgICBsZXQgZGVzdFggPSAwO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdXNlciBoaXQgb3IgY3Jvc3NlZCB0aGUgVEhFU0hPTEQgZWl0aGVyIHdheSwgbGV0J3MgZmluaXNoIGluIHRoYXQgZGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdYIDw9IE1JTl9YICogVEhSRVNIT0xEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0WCA9IE1JTl9YO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5ld1ggPj0gTUFYX1ggKiBUSFJFU0hPTEQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RYID0gTUFYX1g7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGxheW91dC5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZTogeyB4OiBkZXN0WCwgeTogMCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocGxhdGZvcm0uaXNBbmRyb2lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWdpc2xhdG9yc0xpc3RWaWV3Lm5hdGl2ZVZpZXcucmVxdWVzdERpc2FsbG93SW50ZXJjZXB0VG91Y2hFdmVudChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxhdGZvcm0uaXNJT1MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZ2lzbGF0b3JzTGlzdFZpZXcuaW9zLnNjcm9sbEVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaXNTd2lwaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5leHBvcnRzLm9uTmF2aWdhdGluZ1RvID0gb25OYXZpZ2F0aW5nVG87XG4vLyBleHBvcnRzLm9uVmlld0xvYWRlZCA9IG9uVmlld0xvYWRlZDtcbi8vIGV4cG9ydHMub25WaWV3VW5sb2FkZWQgPSBvblZpZXdVbmxvYWRlZDtcbmV4cG9ydHMub25TZWFyY2hCYXJMb2FkZWQgPSBvblNlYXJjaEJhckxvYWRlZDtcbmV4cG9ydHMub25TdWJtaXQgPSBvblN1Ym1pdDtcbmV4cG9ydHMub25DbGVhciA9IG9uQ2xlYXI7XG4vLyBleHBvcnRzLm9uQnV0dG9uVGFwID0gb25CdXR0b25UYXA7XG5leHBvcnRzLm9uSXRlbUxvYWRpbmcgPSBvbkl0ZW1Mb2FkaW5nO1xuZXhwb3J0cy5vbkl0ZW1UYXAgPSBvbkl0ZW1UYXA7XG5leHBvcnRzLm9uTG9hZE1vcmVJdGVtcyA9IG9uTG9hZE1vcmVJdGVtcztcbmV4cG9ydHMub25MYXlvdXRMb2FkZWQgPSBvbkxheW91dExvYWRlZDtcbmV4cG9ydHMub25BZGRDbGljayA9IG9uQWRkQ2xpY2s7XG5leHBvcnRzLm9uVmlld0NsaWNrID0gb25WaWV3Q2xpY2s7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvcnMtcGFnZS5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3JzLXBhZ2UuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiXG5tb2R1bGUuZXhwb3J0cyA9IFwiPFBhZ2UgbmF2aWdhdGluZ1RvPVxcXCJvbk5hdmlnYXRpbmdUb1xcXCIgY2xhc3M9XFxcInBhZ2VcXFwiIHhtbG5zPVxcXCJodHRwOi8vc2NoZW1hcy5uYXRpdmVzY3JpcHQub3JnL3Rucy54c2RcXFwiID5cXG4gICAgPEFjdGlvbkJhciBjbGFzcz1cXFwiYWN0aW9uLWJhclxcXCIgLz5cXG4gICAgXFxuPCEtLSA8U3RhY2tMYXlvdXQgbG9hZGVkPVxcXCJvblZpZXdMb2FkZWRcXFwiIHVubG9hZGVkPVxcXCJvblZpZXdVbmxvYWRlZFxcXCI+IC0tPlxcbiAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCJhdXRvLCAqXFxcIiBoZWlnaHQ9XFxcIjEwMCVcXFwiIHdpZHRoPVxcXCIxMDAlXFxcIj5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcInRvcFxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIiBkaXJlY3Rpb249XFxcImhvcml6b250YWxcXFwiPlxcbiAgICAgICAgICAgIDxTZWFyY2hCYXIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIGlkPVxcXCJzZWFyY2hCYXJcXFwiIGhpbnQ9XFxcIlNlYXJjaFxcXCIgdGV4dD1cXFwiXFxcIiBsb2FkZWQ9XFxcIm9uU2VhcmNoQmFyTG9hZGVkXFxcIiBzdWJtaXQ9XFxcIm9uU3VibWl0XFxcIiBjbGVhcj1cXFwib25DbGVhclxcXCIgLz5cXG4gICAgICAgICAgICA8IS0tIDxCdXR0b24gdGFwPVxcXCJvbkJ1dHRvblRhcFxcXCIgdGV4dD1cXFwiVG9nZ2xlIENhbmNlbFxcXCIgLz4gLS0+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMVxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIj5cXG4gICAgICAgICAgICA8TGlzdFZpZXcgaWQ9XFxcImxlZ2lzbGF0b3JzTGlzdFZpZXdcXFwiIGl0ZW1zPVxcXCJ7eyBsZWdpc2xhdG9yc0xpc3QgfX1cXFwiIGl0ZW1Mb2FkaW5nPVxcXCJvbkl0ZW1Mb2FkaW5nXFxcIiBpdGVtVGFwPVxcXCJvbkl0ZW1UYXBcXFwiIGxvYWRNb3JlSXRlbXM9XFxcIm9uTG9hZE1vcmVJdGVtc1xcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIj5cXG4gICAgICAgICAgICAgICAgPExpc3RWaWV3Lml0ZW1UZW1wbGF0ZT5cXG4gICAgICAgICAgICAgICAgICAgIDxBYnNvbHV0ZUxheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0tIEJBQ0tHUk9VTkQ6IFN3aXBlIEFjdGlvbnMgLS0+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKiwgODAsIDgwXFxcIiByb3dzPVxcXCI1NFxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgY29sPVxcXCIwXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2w9XFxcIjFcXFwiIGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcIiosIGF1dG8sIGF1dG8sICpcXFwiIHRhcD1cXFwib25BZGRDbGlja1xcXCIgY2xhc3M9XFxcInN3aXBlLWljb25zIG9yYW5nZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjFcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiJiN4ZjA3MztcXFwiIGNsYXNzPVxcXCJ0YWItaWNvblxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjJcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiQWRkIE1lZXRpbmdcXFwiIGNsYXNzPVxcXCJ0YWItbGFiZWxcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIzXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2w9XFxcIjJcXFwiIGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcIiosIGF1dG8sIGF1dG8sICpcXFwiIHRhcD1cXFwib25WaWV3Q2xpY2tcXFwiIGNsYXNzPVxcXCJzd2lwZS1pY29ucyBibHVlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMVxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCImI3hmMmI1O1xcXCIgY2xhc3M9XFxcInRhYi1pY29uXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMlxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJNZWV0aW5nc1xcXCIgY2xhc3M9XFxcInRhYi1sYWJlbFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjNcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gRk9SRUdST1VORDogTGlzdCBWaWV3IEl0ZW0gRGV0YWlscyAtLT5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgbG9hZGVkPVxcXCJvbkxheW91dExvYWRlZFxcXCIgYmFja2dyb3VuZENvbG9yPVxcXCJ3aGl0ZVxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCIqXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW1cXFwiIGhlaWdodD1cXFwiNTRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJ7eyBjb21iaW5lZE5hbWUgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1tYWluLXRvcFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcIm1pZGRsZVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwiJiN4ZjEwNTtcXFwiIGNsYXNzPVxcXCJmbi1saXN0LXZpZXctaXRlbVxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcIm1pZGRsZVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICA8L0Fic29sdXRlTGF5b3V0PlxcbiAgICAgICAgICAgICAgICA8L0xpc3RWaWV3Lml0ZW1UZW1wbGF0ZT5cXG4gICAgICAgICAgICA8L0xpc3RWaWV3PlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgIDxBY3Rpdml0eUluZGljYXRvciBidXN5PVxcXCJ7eyBpc0xvYWRpbmcgfX1cXFwiIGFuZHJvaWQ6aGVpZ2h0PVxcXCIyNSVcXFwiIGFuZHJvaWQ6d2lkdGg9XFxcIjI1JVxcXCIgaW9zLmFjdGl2aXR5SW5kaWNhdG9yVmlld1N0eWxlPVxcXCJ3aGl0ZUxhcmdlXFxcIiByb3dTcGFuPVxcXCIyXFxcIiBjb2xTcGFuPVxcXCIxXFxcIiAvPlxcbiAgICA8L0dyaWRMYXlvdXQ+XFxuPCEtLSA8L1N0YWNrTGF5b3V0PiAtLT5cXG48L1BhZ2U+XFxuXCI7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbGVnaXNsYXRvcnMvbGVnaXNsYXRvcnMtcGFnZS54bWxcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwibWFya3VwXCIsIHBhdGg6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9ycy1wYWdlLnhtbFwiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBvYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBPYnNlcnZhYmxlQXJyYXkgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlLWFycmF5XCIpLk9ic2VydmFibGVBcnJheTtcbnZhciBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xuXG5mdW5jdGlvbiBMZWdpc2xhdG9yc1ZpZXdNb2RlbChpdGVtcykge1xuICAgIGNvbnN0IHZpZXdNb2RlbCA9IG5ldyBPYnNlcnZhYmxlQXJyYXkoaXRlbXMpO1xuICAgIFxuICAgIHZpZXdNb2RlbC5sb2FkID0gZnVuY3Rpb24oZmlsdGVyLCBwYWdlLCBwYWdlU2l6ZSkge1xuICAgICAgICByZXR1cm4gaHR0cC5yZXF1ZXN0KHtcbiAgICAgICAgICAgIHVybDogZ2xvYmFsLmFwaUJhc2VTZXJ2aWNlVXJsICsgXCJsZWdpc2xhdG9yZmlsdGVyP2ZpbHRlcj1cIiArIGZpbHRlci5yZXBsYWNlKC8gL2csIFwiJTIwXCIpICsgXCImcGFnZT1cIiArIHBhZ2UgKyBcIiZwYWdlU2l6ZT1cIiArIHBhZ2VTaXplLFxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiwgXCJBdXRob3JpemF0aW9uXCI6IGdsb2JhbC50b2tlbiB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzcG9uc2UuY29udGVudC50b1N0cmluZygpO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHJlc3VsdCk7XG5cbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihsZWdpc2xhdG9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxlZ2lzbGF0b3IuTGVnaXNsYXRvcklkICE9PSBudWxsICYmIGxlZ2lzbGF0b3IuTGVnaXNsYXRvcklkICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZ2lzbGF0b3JJZDogbGVnaXNsYXRvci5MZWdpc2xhdG9ySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBiaW9ndWlkZUlkOiBsZWdpc2xhdG9yLkJpb2d1aWRlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBiaXJ0aGRhdGU6IGxlZ2lzbGF0b3IuQmlydGhkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbWJlcjogbGVnaXNsYXRvci5DaGFtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVsbE5hbWU6IGxlZ2lzbGF0b3IuRnVsbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXN0cmljdDogbGVnaXNsYXRvci5EaXN0cmljdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhY2Vib29rSWQ6IGxlZ2lzbGF0b3IuRmFjZWJvb2tJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZheDogbGVnaXNsYXRvci5GYXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21iaW5lZE5hbWU6IGxlZ2lzbGF0b3IuTGFzdE5hbWUgKyBcIiwgXCIgKyBsZWdpc2xhdG9yLkZpcnN0TmFtZSArIFwiIFwiICsgbGVnaXNsYXRvci5NaWRkbGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3ROYW1lOiBsZWdpc2xhdG9yLkZpcnN0TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3ROYW1lOiBsZWdpc2xhdG9yLkxhc3ROYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWlkZGxlTmFtZTogbGVnaXNsYXRvci5NaWRkbGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZGVyOiBsZWdpc2xhdG9yLkdlbmRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluT2ZmaWNlOiBsZWdpc2xhdG9yLkluT2ZmaWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb2ZmaWNlOiBsZWdpc2xhdG9yLk9mZmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnR5OiBsZWdpc2xhdG9yLlBhcnR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFydHlOYW1lOiBsZWdpc2xhdG9yLlBhcnR5TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBob25lOiBsZWdpc2xhdG9yLlBob25lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6IGxlZ2lzbGF0b3IuU3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZU5hbWU6IGxlZ2lzbGF0b3IuU3RhdGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVSYW5rOiBsZWdpc2xhdG9yLlN0YXRlUmFuayxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlcm1TdGFydDogbGVnaXNsYXRvci5UZXJtU3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXJtRW5kOiBsZWdpc2xhdG9yLlRlcm1FbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogbGVnaXNsYXRvci5UaXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlTmFtZTogbGVnaXNsYXRvci5UaXRsZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0d2l0dGVySWQ6IGxlZ2lzbGF0b3IuVHdpdHRlcklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2Vic2l0ZTogbGVnaXNsYXRvci5XZWJzaXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgeW91VHViZVVybDogbGVnaXNsYXRvci5Zb3VUdWJlVXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmlvOiBsZWdpc2xhdG9yLkJpb1BsYWluVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVXJsOiBsZWdpc2xhdG9yLlBpY3R1cmVVcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogbGVnaXNsYXRvci5EZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZpZXdNb2RlbC5lbXB0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB3aGlsZSAodmlld01vZGVsLmxlbmd0aCkge1xuICAgICAgICAgICAgdmlld01vZGVsLnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gdmlld01vZGVsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IExlZ2lzbGF0b3JzVmlld01vZGVsO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2xlZ2lzbGF0b3JzL2xlZ2lzbGF0b3JzLXZpZXctbW9kZWwuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9sZWdpc2xhdG9ycy9sZWdpc2xhdG9ycy12aWV3LW1vZGVsLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IExvZ2luVmlld01vZGVsID0gcmVxdWlyZShcIi4vbG9naW4tdmlldy1tb2RlbFwiKTtcbmNvbnN0IHBsYXRmb3JtTW9kdWxlID0gcmVxdWlyZShcInBsYXRmb3JtXCIpO1xuY29uc3Qgb2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG5jb25zdCBhcHBTZXR0aW5ncyA9IHJlcXVpcmUoXCJhcHBsaWNhdGlvbi1zZXR0aW5nc1wiKTtcbmNvbnN0IGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcbnZhciB1dGlsc01vZHVsZSA9IHJlcXVpcmUoXCJ0bnMtY29yZS1tb2R1bGVzL3V0aWxzL3V0aWxzXCIpO1xuY29uc3QgZmluZ2VycHJpbnRBdXRoUGx1Z2luID0gcmVxdWlyZShcIm5hdGl2ZXNjcmlwdC1maW5nZXJwcmludC1hdXRoXCIpO1xudmFyIGZpbmdlcnByaW50QXV0aCA9IG5ldyBmaW5nZXJwcmludEF1dGhQbHVnaW4uRmluZ2VycHJpbnRBdXRoKCk7XG52YXIgdmlldyA9IHJlcXVpcmUoXCJ1aS9jb3JlL3ZpZXdcIik7XG52YXIgb3JpZW50YXRpb24gPSByZXF1aXJlKCdAcHJvcGx1Z2lucy9uYXRpdmVzY3JpcHQtb3JpZW50YXRpb24nKTtcbnZhciBwYWdlO1xudmFyIGxvZ2luVmlld01vZGVsO1xudmFyIGVtYWlsO1xudmFyIHBhc3N3b3JkO1xudmFyIHJlbWVtYmVyTWU7XG5cbmZ1bmN0aW9uIG9uTmF2aWdhdGluZ1RvKGFyZ3MpIHtcbiAgICBvcmllbnRhdGlvbi5kaXNhYmxlUm90YXRpb24oKTtcbiAgICAvLyBwYWdlID0gYXJncy5vYmplY3Q7XG5cbiAgICAvLyBsb2dpblZpZXdNb2RlbCA9IG5ldyBMb2dpblZpZXdNb2RlbCgpO1xuXG4gICAgLy8gbG9naW5WaWV3TW9kZWwuZW1haWwgPSBhcHBTZXR0aW5ncy5nZXRTdHJpbmcoXCJlbWFpbFwiLCBcIlwiKTtcbiAgICAvLyBsb2dpblZpZXdNb2RlbC5wYXNzd29yZCA9IGFwcFNldHRpbmdzLmdldFN0cmluZyhcInBhc3N3b3JkXCIsIFwiXCIpO1xuICAgIC8vIGxvZ2luVmlld01vZGVsLnJlbWVtYmVyTWUgPSBhcHBTZXR0aW5ncy5nZXRCb29sZWFuKFwicmVtZW1iZXJNZVwiLCBmYWxzZSk7XG4gICAgLy8gbG9naW5WaWV3TW9kZWwudXNlVG91Y2hJZCA9IGFwcFNldHRpbmdzLmdldEJvb2xlYW4oXCJ1c2VUb3VjaElkXCIsIGZhbHNlKTtcblxuICAgIC8vIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBsb2dpblZpZXdNb2RlbDtcbn1cblxuZnVuY3Rpb24gb25Mb2FkZWQoYXJncylcbntcbiAgICBwYWdlID0gYXJncy5vYmplY3Q7XG5cbiAgICAvLyBlbWFpbCA9IHZpZXcuZ2V0Vmlld0J5SWQocGFnZSwgXCJlbWFpbFwiKTtcbiAgICAvLyBwYXNzd29yZCA9IHZpZXcuZ2V0Vmlld0J5SWQocGFnZSwgXCJwYXNzd29yZFwiKTtcbiAgICAvLyByZW1lbWJlck1lID0gdmlldy5nZXRWaWV3QnlJZChwYWdlLCBcInJlbWVtYmVyTWVcIik7XG5cbiAgICBsb2dpblZpZXdNb2RlbCA9IG5ldyBMb2dpblZpZXdNb2RlbCgpO1xuXG4gICAgbG9naW5WaWV3TW9kZWwuZW1haWwgPSBhcHBTZXR0aW5ncy5nZXRTdHJpbmcoXCJlbWFpbFwiLCBcIlwiKTtcbiAgICBsb2dpblZpZXdNb2RlbC5wYXNzd29yZCA9IGFwcFNldHRpbmdzLmdldFN0cmluZyhcInBhc3N3b3JkXCIsIFwiXCIpO1xuICAgIGxvZ2luVmlld01vZGVsLnJlbWVtYmVyTWUgPSBhcHBTZXR0aW5ncy5nZXRCb29sZWFuKFwicmVtZW1iZXJNZVwiLCBmYWxzZSk7XG4gICAgbG9naW5WaWV3TW9kZWwudXNlVG91Y2hJZCA9IGFwcFNldHRpbmdzLmdldEJvb2xlYW4oXCJ1c2VUb3VjaElkXCIsIGZhbHNlKTtcblxuICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBsb2dpblZpZXdNb2RlbDtcbn1cblxuZnVuY3Rpb24gb25OYXZpZ2F0ZWRUbyhhcmdzKVxue1xuICAgIHRyeSB7XG4gICAgICAgIGlmIChwbGF0Zm9ybU1vZHVsZS5pc0lPUykge1xuICAgICAgICAgICAgaWYgKGxvZ2luVmlld01vZGVsLnVzZVRvdWNoSWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmluZ2VycHJpbnRBdXRoLmF2YWlsYWJsZSgpLnRoZW4oXG4gICAgICAgICAgICAgICAgICAgIGZpbmdlcnByaW50QXV0aC52ZXJpZnlGaW5nZXJwcmludCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTG9nIG9uIHRvIHZpZXcgbGVnaXNsYXRvciBpbmZvcm1hdGlvbicgLy8gb3B0aW9uYWwsIHNob3duIGluIHRoZSBmaW5nZXJwcmludCBkaWFsb2cgKGRlZmF1bHQ6ICdTY2FuIHlvdXIgZmluZ2VyJykuXG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oXG4gICAgICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmluZGluZ0NvbnRleHQgPSBwYWdlLmJpbmRpbmdDb250ZXh0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmluZGluZ0NvbnRleHQuc2lnbkluKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIGVycm9yLmNvZGUgPT09IC0zLCB0aGUgdXNlciBwcmVzc2VkIHRoZSBidXR0b24gbGFiZWxlZCB3aXRoIHlvdXIgZmFsbGJhY2tNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbG9ncy5hbGVydChcIkZpbmdlcnByaW50IE5PVCBPSy4gRXJyb3IgY29kZTogXCIgKyBlcnJvci5jb2RlICsgXCIuIEVycm9yIG1lc3NhZ2U6IFwiICsgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25TaWduaW5CdXR0b25UYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGxldCBidXR0b24gPSBhcmdzLm9iamVjdDtcblxuICAgICAgICBlbWFpbCA9IGJ1dHRvbi5wYWdlLmdldFZpZXdCeUlkKFwiZW1haWxcIik7XG4gICAgICAgIHBhc3N3b3JkID0gYnV0dG9uLnBhZ2UuZ2V0Vmlld0J5SWQoXCJwYXNzd29yZFwiKTtcbiAgICAgICAgcmVtZW1iZXJNZSA9IGJ1dHRvbi5wYWdlLmdldFZpZXdCeUlkKFwicmVtZW1iZXJNZVwiKTtcblxuICAgICAgICBhcHBTZXR0aW5ncy5zZXRCb29sZWFuKFwicmVtZW1iZXJNZVwiLCByZW1lbWJlck1lLmNoZWNrZWQpO1xuXG4gICAgICAgIGlmIChyZW1lbWJlck1lLmNoZWNrZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFwcFNldHRpbmdzLnNldFN0cmluZyhcImVtYWlsXCIsIGVtYWlsLnRleHQpO1xuICAgICAgICAgICAgYXBwU2V0dGluZ3Muc2V0U3RyaW5nKFwicGFzc3dvcmRcIiwgcGFzc3dvcmQudGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBhcHBTZXR0aW5ncy5zZXRCb29sZWFuKFwidXNlVG91Y2hJZFwiLCBmYWxzZSk7XG4gICAgICAgICAgICBhcHBTZXR0aW5ncy5zZXRTdHJpbmcoXCJlbWFpbFwiLCBcIlwiKTtcbiAgICAgICAgICAgIGFwcFNldHRpbmdzLnNldFN0cmluZyhcInBhc3N3b3JkXCIsIFwiXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNjYW5UeXBlO1xuXG4gICAgICAgIGZpbmdlcnByaW50QXV0aC5hdmFpbGFibGUoKS50aGVuKChyZXN1bHQpID0+IFxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAocmVzdWx0LnRvdWNoKSB7XG4gICAgICAgICAgICAgICAgc2NhblR5cGUgPSBcInRvdWNoXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2NhblR5cGUgPSBcImZhY2VcIlxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsb2dpblZpZXdNb2RlbC5zaWduSW4oc2NhblR5cGUpO1xuICAgICAgICB9KS5jYXRjaCgoZSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgc2NhblR5cGUgPSBudWxsO1xuXG4gICAgICAgICAgICBsb2dpblZpZXdNb2RlbC5zaWduSW4oc2NhblR5cGUpO1xuICAgICAgICB9KTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkZvcmdvdFBhc3N3b3JkVGFwKCkge1xuICAgIHV0aWxzTW9kdWxlLm9wZW5VcmwoXCJodHRwczovL3d3dy5wY2lhYS5uZXQvcGNpd2Vic2l0ZS9BY2NvdW50cy9mb3Jnb3RwYXNzd29yZC5hc3B4XCIpXG59XG5cbmV4cG9ydHMub25OYXZpZ2F0aW5nVG8gPSBvbk5hdmlnYXRpbmdUbztcbmV4cG9ydHMub25Mb2FkZWQgPSBvbkxvYWRlZDtcbmV4cG9ydHMub25OYXZpZ2F0ZWRUbyA9IG9uTmF2aWdhdGVkVG87XG5leHBvcnRzLm9uU2lnbmluQnV0dG9uVGFwID0gb25TaWduaW5CdXR0b25UYXA7XG5leHBvcnRzLm9uRm9yZ290UGFzc3dvcmRUYXAgPSBvbkZvcmdvdFBhc3N3b3JkVGFwO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL2xvZ2luL2xvZ2luLXBhZ2UuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9sb2dpbi9sb2dpbi1wYWdlLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxubW9kdWxlLmV4cG9ydHMgPSBcIjxQYWdlIGNsYXNzPVxcXCJwYWdlXFxcIiBuYXZpZ2F0aW5nVG89XFxcIm9uTmF2aWdhdGluZ1RvXFxcIiBsb2FkZWQ9XFxcIm9uTG9hZGVkXFxcIiBuYXZpZ2F0ZWRUbz1cXFwib25OYXZpZ2F0ZWRUb1xcXCIgeG1sbnM9XFxcImh0dHA6Ly9zY2hlbWFzLm5hdGl2ZXNjcmlwdC5vcmcvdG5zLnhzZFxcXCIgc3R5bGU9XFxcIm1hcmdpbi10b3A6IDA7XFxcIj5cXG4gICAgPFNjcm9sbFZpZXcgY2xhc3M9XFxcImxvZ2luLWJhY2tncm91bmRcXFwiPlxcbiAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiKiwgYXV0bywgYXV0bywgYXV0bywgYXV0bywgYXV0b1xcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIiB3aWR0aD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiPlxcbiAgICAgICAgICAgICAgICA8SW1hZ2Ugc3JjPVxcXCJyZXM6Ly9sb2dpblxcXCIgYW5kcm9pZDpzdHJldGNoPVxcXCJhc3BlY3RGaWxsXFxcIiBpb3M6c3RyZXRjaD1cXFwibm9uZVxcXCI+PC9JbWFnZT5cXG4gICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjFcXFwiIGNvbD1cXFwiMFxcXCIgb3JpZW50YXRpb249XFxcInZlcnRpY2FsXFxcIiBiYWNrZ3JvdW5kQ29sb3I9XFxcIiNlZWVcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJib3R0b21cXFwiIG1hcmdpbj1cXFwiMCAxMCAwIDEwXFxcIiBib3JkZXJSYWRpdXM9XFxcIjVcXFwiPlxcbiAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgb3JpZW50YXRpb249XFxcImhvcml6b250YWxcXFwiIGNsYXNzPVxcXCJsb2dpbi1maWVsZFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgd2lkdGg9XFxcIjEwJVxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlIHNyYz1cXFwicmVzOi8vZW1haWxcXFwiIGFuZHJvaWQ6c3RyZXRjaD1cXFwiYXNwZWN0RmlsbFxcXCIgaW9zOnN0cmV0Y2g9XFxcIm5vbmVcXFwiPjwvSW1hZ2U+XFxuICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHdpZHRoPVxcXCI5MCVcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgaWQ9XFxcImVtYWlsXFxcIiBoaW50PVxcXCJFbWFpbFxcXCIga2V5Ym9hcmRUeXBlPVxcXCJlbWFpbFxcXCIgYXV0b2NvcnJlY3Q9XFxcImZhbHNlXFxcIiBhdXRvY2FwaXRhbGl6YXRpb249XFxcIm5vbmVcXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ9XFxcInt7IGVtYWlsIH19XFxcIiB3aWR0aD1cXFwiMTAwJVxcXCIgdGV4dEFsaWdubWVudD1cXFwibGVmdFxcXCI+PC9UZXh0RmllbGQ+XFxuICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMlxcXCIgY29sPVxcXCIwXFxcIiBvcmllbnRhdGlvbj1cXFwidmVydGljYWxcXFwiIGJhY2tncm91bmRDb2xvcj1cXFwiI2VlZVxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcImJvdHRvbVxcXCIgbWFyZ2luPVxcXCI1IDEwIDAgMTBcXFwiIGJvcmRlclJhZGl1cz1cXFwiNVxcXCI+XFxuICAgICAgICAgICAgICAgIDxTdGFja0xheW91dCBvcmllbnRhdGlvbj1cXFwiaG9yaXpvbnRhbFxcXCIgY2xhc3M9XFxcImxvZ2luLWZpZWxkXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxTdGFja0xheW91dCB3aWR0aD1cXFwiMTAlXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8SW1hZ2Ugc3JjPVxcXCJyZXM6Ly9wYXNzd29yZFxcXCIgYW5kcm9pZDpzdHJldGNoPVxcXCJhc3BlY3RGaWxsXFxcIiBpb3M6c3RyZXRjaD1cXFwibm9uZVxcXCI+PC9JbWFnZT5cXG4gICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgd2lkdGg9XFxcIjkwJVxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBpZD1cXFwicGFzc3dvcmRcXFwiIGhpbnQ9XFxcIlBhc3N3b3JkXFxcIiBzZWN1cmU9XFxcInRydWVcXFwiIGF1dG9jb3JyZWN0PVxcXCJmYWxzZVxcXCIgYXV0b2NhcGl0YWxpemF0aW9uPVxcXCJub25lXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0PVxcXCJ7eyBwYXNzd29yZCB9fVxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiIHRleHRBbGlnbm1lbnQ9XFxcImxlZnRcXFwiPjwvVGV4dEZpZWxkPlxcbiAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjNcXFwiIGNvbD1cXFwiMFxcXCIgb3JpZW50YXRpb249XFxcInZlcnRpY2FsXFxcIiBiYWNrZ3JvdW5kQ29sb3I9XFxcIiNlZWVcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJib3R0b21cXFwiIG1hcmdpbj1cXFwiNSAxMCAwIDEwXFxcIiBib3JkZXJSYWRpdXM9XFxcIjVcXFwiPlxcbiAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgb3JpZW50YXRpb249XFxcImhvcml6b250YWxcXFwiIGNsYXNzPVxcXCJsb2dpbi1maWVsZC1zd2l0Y2hcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHdpZHRoPVxcXCI0MCVcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJSZW1lbWJlciBNZVxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwibGVmdFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgd2lkdGg9XFxcIjYwJVxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPFN3aXRjaCBpZD1cXFwicmVtZW1iZXJNZVxcXCIgY2hlY2tlZD1cXFwie3sgcmVtZW1iZXJNZSB9fVxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwicmlnaHRcXFwiIGNsYXNzPVxcXCJzd2l0Y2hcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiNFxcXCIgY29sPVxcXCIwXFxcIiBvcmllbnRhdGlvbj1cXFwidmVydGljYWxcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiIG1hcmdpbj1cXFwiMCAxMCAwIDEwXFxcIj5cXG4gICAgICAgICAgICAgICAgPEJ1dHRvbiBjbGFzcz1cXFwibG9naW4tYnV0dG9uXFxcIiB0ZXh0PVxcXCJTaWduIEluXFxcIiB0YXA9XFxcIm9uU2lnbmluQnV0dG9uVGFwXFxcIj48L0J1dHRvbj5cXG4gICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjVcXFwiIGNvbD1cXFwiMFxcXCIgb3JpZW50YXRpb249XFxcInZlcnRpY2FsXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIiBtYXJnaW49XFxcIjUgMTAgMzAgMTBcXFwiPlxcbiAgICAgICAgICAgICAgICA8QnV0dG9uIGNsYXNzPVxcXCJmb3Jnb3QtYnV0dG9uXFxcIiB0ZXh0PVxcXCJGb3Jnb3QgUGFzc3dvcmQ/XFxcIiB0YXA9XFxcIm9uRm9yZ290UGFzc3dvcmRUYXBcXFwiPjwvQnV0dG9uPlxcbiAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgPCEtLSA8TGFiZWwgY2xhc3M9XFxcIm0tdC0xMCBtLWItMTAgbS1sLTE1IG0tci0xNVxcXCIgdGV4dD1cXFwiRm9yZ290IHBhc3N3b3JkP1xcXCIgdGFwPVxcXCJvbkZvcmdvdFBhc3N3b3JkVGFwXFxcIj48L0xhYmVsPiAtLT5cXG4gICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgPC9TY3JvbGxWaWV3PlxcbjwvUGFnZT5cIjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9sb2dpbi9sb2dpbi1wYWdlLnhtbFwiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJtYXJrdXBcIiwgcGF0aDogXCIuL2xvZ2luL2xvZ2luLXBhZ2UueG1sXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IHBsYXRmb3JtTW9kdWxlID0gcmVxdWlyZShcInBsYXRmb3JtXCIpO1xuY29uc3Qgb2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgZnJhbWVNb2R1bGUgPSByZXF1aXJlKFwidWkvZnJhbWVcIik7XG52YXIgYXBwU2V0dGluZ3MgPSByZXF1aXJlKFwiYXBwbGljYXRpb24tc2V0dGluZ3NcIik7XG52YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxuZnVuY3Rpb24gTG9naW5WaWV3TW9kZWwoKSB7XG4gICAgY29uc3Qgdmlld01vZGVsID0gb2JzZXJ2YWJsZU1vZHVsZS5mcm9tT2JqZWN0KHtcbiAgICAgICAgZW1haWw6IFwiXCIsXG4gICAgICAgIHBhc3N3b3JkOiBcIlwiLFxuICAgICAgICByZW1lbWJlck1lOiBmYWxzZSxcbiAgICAgICAgdXNlVG91Y2hJZDogZmFsc2UsXG5cbiAgICAgICAgc2lnbkluOiBmdW5jdGlvbihzY2FuVHlwZSkge1xuICAgICAgICAgICAgY29uc3QgZW1haWwgPSB0aGlzLmVtYWlsO1xuICAgICAgICAgICAgY29uc3QgcGFzc3dvcmQgPSB0aGlzLnBhc3N3b3JkO1xuXG4gICAgICAgICAgICAvLyBkaWFsb2dzLmFsZXJ0KGdsb2JhbC50b2tlbiArIFwiXFxuaXNQY2k6IFwiICsgZ2xvYmFsLmlzUGNpICsgXCJcXG5pc0NvbmdyZXNzQWRtaW46IFwiICsgZ2xvYmFsLmlzQ29uZ3Jlc3NBZG1pbiArIFxuICAgICAgICAgICAgLy8gICAgIFwiXFxuaXNDb25ncmVzc1VzZXI6IFwiICsgZ2xvYmFsLmlzQ29uZ3Jlc3NVc2VyICsgXCJcXG5pc0NvbmdyZXNzRXh0ZXJuYWxVc2VyOiBcIiArIGdsb2JhbC5pc0NvbmdyZXNzRXh0ZXJuYWxVc2VyICsgXG4gICAgICAgICAgICAvLyAgICAgXCJcXG5wZXJzb25JZDogXCIgKyBnbG9iYWwucGVyc29uSWQgKyBcIlxcbmNvbXBhbnlJZDogXCIgKyBnbG9iYWwuY29tcGFueUlkICsgXCJcXG5jdXJyZW50VXNlcjogXCIgKyBnbG9iYWwuY3VycmVudFVzZXIpO1xuXG4gICAgICAgICAgICBodHRwLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgIHVybDogZ2xvYmFsLmFwaUxvZ2luVXJsLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KHsgRW1haWxBZGRyZXNzOiBlbWFpbCwgUGFzc3dvcmQ6IHBhc3N3b3JkLCBTY29wZTogZ2xvYmFsLnNjb3BlIH0pXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXNwb25zZS5jb250ZW50LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHJlc3VsdCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5BY2Nlc3NUb2tlbiAhPT0gdW5kZWZpbmVkICYmIGRhdGEuQWNjZXNzVG9rZW4gIT09IG51bGwpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBnbG9iYWwudG9rZW4gPSBkYXRhLkFjY2Vzc1Rva2VuO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBjaUV2ZXJ5b25lUG9zaXRpb24gPSBnbG9iYWwudG9rZW4udG9Mb3dlckNhc2UoKS5pbmRleE9mKFwicGNpLmV2ZXJ5b25lXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwY2lFdmVyeW9uZVBvc2l0aW9uID4gMClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsLmlzUGNpID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb25ncmVzc1VzZXJQb3NpdGlvbiA9IGdsb2JhbC50b2tlbi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJjb25ncmVzcyt1c2VyXCIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29uZ3Jlc3NFeHRlcm5hbFVzZXJQb3NpdGlvbiA9IGdsb2JhbC50b2tlbi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJjb25ncmVzcytleHRlcm5hbCt1c2VyXCIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29uZ3Jlc3NBZG1pblBvc2l0aW9uID0gZ2xvYmFsLnRva2VuLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImNvbmdyZXNzK2FkbWluXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25ncmVzc0FkbWluUG9zaXRpb24gPiAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWwuaXNDb25ncmVzc0FkbWluID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjb25ncmVzc1VzZXJQb3NpdGlvbiA+IDApXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbC5pc0NvbmdyZXNzVXNlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY29uZ3Jlc3NFeHRlcm5hbFVzZXJQb3NpdGlvbiA+IDApXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbC5pc0NvbmdyZXNzRXh0ZXJuYWxVc2VyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChnbG9iYWwuaXNDb25ncmVzc0FkbWluIHx8IGdsb2JhbC5pc0NvbmdyZXNzVXNlciB8fCBnbG9iYWwuaXNDb25ncmVzc0V4dGVybmFsVXNlcilcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBlcnNvbklkUG9zaXRpb24gPSB0b2tlbi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCImcGVyc29uaWQ9XCIpICsgMTA7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlyc3ROYW1lUG9zaXRpb24gPSB0b2tlbi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCImZmlyc3RuYW1lPVwiKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsLnBlcnNvbklkID0gdG9rZW4uc2xpY2UocGVyc29uSWRQb3NpdGlvbiwgZmlyc3ROYW1lUG9zaXRpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZnVsbE5hbWVQb3NpdGlvbiA9IHRva2VuLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIiZmdWxsbmFtZT1cIikgKyAxMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdHJlZXRBZGRyZXNzMVBvc2l0aW9uID0gdG9rZW4udG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiJnN0cmVldGFkZHJlc3MxPVwiKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsLmN1cnJlbnRVc2VyID0gZGVjb2RlVVJJQ29tcG9uZW50KHRva2VuLnNsaWNlKGZ1bGxOYW1lUG9zaXRpb24sIHN0cmVldEFkZHJlc3MxUG9zaXRpb24pKS5yZXBsYWNlKFwiK1wiLCBcIiBcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21wYW55SWRQb3NpdGlvbiA9IHRva2VuLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIiZjb21wYW55aWQ9XCIpICsgMTE7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVwdElkUG9zaXRpb24gPSB0b2tlbi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCImZGVwdGlkPVwiKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsLmNvbXBhbnlJZCA9IHRva2VuLnNsaWNlKGNvbXBhbnlJZFBvc2l0aW9uLCBkZXB0SWRQb3NpdGlvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVOYW1lOiBcIm1haW4tcGFnZVwiLCAvLyBcImhvbWUvaG9tZS1wYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJIaXN0b3J5OiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXNlVG91Y2hJZCA9IGFwcFNldHRpbmdzLmdldEJvb2xlYW4oXCJ1c2VUb3VjaElkXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZW1lbWJlck1lID0gYXBwU2V0dGluZ3MuZ2V0Qm9vbGVhbihcInJlbWVtYmVyTWVcIiwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHVzZVRvdWNoSWQgPT09IHVuZGVmaW5lZCB8fCB1c2VUb3VjaElkID09PSBudWxsIHx8IHVzZVRvdWNoSWQgPT09IGZhbHNlKSAmJiBzY2FuVHlwZSA9PT0gXCJ0b3VjaFwiICYmIHJlbWVtYmVyTWUgJiYgcGxhdGZvcm1Nb2R1bGUuaXNJT1MpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbG9ncy5jb25maXJtKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJUb3VjaCBJRCBmb3IgXFxcIkxlZ0NvblxcXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiV291bGQgeW91IGxpa2UgdG8gdXNlIHRoZSBmaW5nZXJwcmludCBzY2FubmVyIHRvIGxvZyBvbiBpbiB0aGUgZnV0dXJlP1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIlllc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogXCJOb1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBTZXR0aW5ncy5zZXRCb29sZWFuKFwidXNlVG91Y2hJZFwiLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaChlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBTZXR0aW5ncy5zZXRCb29sZWFuKFwidXNlVG91Y2hJZFwiLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2goZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgodXNlVG91Y2hJZCA9PT0gdW5kZWZpbmVkIHx8IHVzZVRvdWNoSWQgPT09IG51bGwgfHwgdXNlVG91Y2hJZCA9PT0gZmFsc2UpICYmIHNjYW5UeXBlID09PSBcImZhY2VcIiAmJiByZW1lbWJlck1lICYmIHBsYXRmb3JtTW9kdWxlLmlzSU9TKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcFNldHRpbmdzLnNldEJvb2xlYW4oXCJ1c2VUb3VjaElkXCIsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoKGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KFwiVW5hdXRob3JpemVkIHVzZXIgYWNjb3VudC5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdW5kZWZpbmVkIG9yIG51bGwgZGF0YS5BY2Nlc3NUb2tlbiByZXR1cm5lZC4gIFxuICAgICAgICAgICAgICAgICAgICAvLyBVc3VhbGx5IHRoZSByZXN1bHQgb2YgaW52YWxpZCB1c2VyIG5hbWUgYW5kIHBhc3N3b3JkLlxuICAgICAgICAgICAgICAgICAgICAvL2RpYWxvZ3MuYWxlcnQoXCJOdWxsIGFjY2VzcyB0b2tlbiByZXR1cm5lZC5cIik7XG4gICAgICAgICAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoXCJJbnZhbGlkIGVtYWlsIGFkZHJlc3Mgb3IgcGFzc3dvcmQuXCIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB2aWV3TW9kZWw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTG9naW5WaWV3TW9kZWw7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbG9naW4vbG9naW4tdmlldy1tb2RlbC5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL2xvZ2luL2xvZ2luLXZpZXctbW9kZWwuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3QgYXBwbGljYXRpb24gPSByZXF1aXJlKFwiYXBwbGljYXRpb25cIik7XG52YXIgZnJhbWUgPSByZXF1aXJlKFwidWkvZnJhbWVcIik7XG52YXIgZ3JpZExheW91dCA9IHJlcXVpcmUoXCJ1aS9sYXlvdXRzL2dyaWQtbGF5b3V0XCIpO1xudmFyIHN0YWNrTGF5b3V0ID0gcmVxdWlyZShcInVpL2xheW91dHMvc3RhY2stbGF5b3V0XCIpXG52YXIgTGFiZWwgPSByZXF1aXJlKFwidWkvbGFiZWxcIikuTGFiZWw7XG52YXIgb3JpZW50YXRpb24gPSByZXF1aXJlKCdAcHJvcGx1Z2lucy9uYXRpdmVzY3JpcHQtb3JpZW50YXRpb24nKTtcblxudmFyIHBhZ2U7XG5cbmZ1bmN0aW9uIG9uTmF2aWdhdGluZ1RvKGFyZ3MpIHtcbiAgICBvcmllbnRhdGlvbi5lbmFibGVSb3RhdGlvbigpO1xuICAgIHBhZ2UgPSBhcmdzLm9iamVjdDtcbiAgICBwYWdlLl90YWJzID0gW107XG5cbiAgICBwYWdlLnRhYkl0ZW1zID0gW1xuICAgICAgICB7IHBhdGg6IFwibGVnaXNsYXRvcnMvbGVnaXNsYXRvcnMtcGFnZVwiLCBpY29uQ29kZTogXCJcXHVmMTljXCIsIGxhYmVsOiBcIkxlZ2lzbGF0b3JzXCIgfSxcbiAgICAgICAgeyBwYXRoOiBcImNvbW1pdHRlZXMvY29tbWl0dGVlcy1wYWdlXCIsIGljb25Db2RlOiBcIlxcdWYwYzBcIiwgbGFiZWw6IFwiQ29tbWl0dGVlc1wiIH0sXG4gICAgICAgIHsgcGF0aDogXCJtZWV0aW5ncy9tZWV0aW5ncy1wYWdlXCIsIGljb25Db2RlOiBcIlxcdWYyYjVcIiwgbGFiZWw6IFwiTXkgTWVldGluZ3NcIiB9LFxuICAgICAgICB7IHBhdGg6IFwiYXNzaWdubWVudHMvYXNzaWdubWVudHMtcGFnZVwiLCBpY29uQ29kZTogXCJcXHVmMDNhXCIsIGxhYmVsOiBcIkFzc2lnbm1lbnRzXCIgfVxuICAgIF07XG5cbiAgICB2YXIgbnVtSXRlbXMgPSBwYWdlLnRhYkl0ZW1zLmxlbmd0aDtcblxuICAgIHZhciBuZXdHcmlkID0gbmV3IGdyaWRMYXlvdXQuR3JpZExheW91dCgpO1xuXG4gICAgbmV3R3JpZC5pZCA9IFwidGFiLW5hdmlnYXRpb25cIjtcblxuICAgIG5ld0dyaWQuYWRkUm93KG5ldyBncmlkTGF5b3V0Lkl0ZW1TcGVjKDEsIFwic3RhclwiKSk7XG4gICAgbmV3R3JpZC5hZGRSb3cobmV3IGdyaWRMYXlvdXQuSXRlbVNwZWMoMSwgXCJhdXRvXCIpKTtcbiAgICBcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUl0ZW1zOyBpKyspIHtcbiAgICAgICAgbmV3R3JpZC5hZGRDb2x1bW4obmV3IGdyaWRMYXlvdXQuSXRlbVNwZWMoMSwgXCJzdGFyXCIpKTtcbiAgICB9XG4gICAgXG4gICAgdmFyIGZyYW1lSG9sZGVyID0gbmV3IHN0YWNrTGF5b3V0LlN0YWNrTGF5b3V0KCk7XG4gICAgXG4gICAgcGFnZS5uYXZGcmFtZSA9IG5ldyBmcmFtZS5GcmFtZSgpO1xuXG4gICAgcGFnZS5uYXZGcmFtZS5pZCA9IFwibmF2aWdhdGlvbi1mcmFtZVwiO1xuICAgIHBhZ2UubmF2RnJhbWUuY2xhc3NOYW1lID0gXCJuYXZpZ2F0aW9uLWZyYW1lXCI7XG5cbiAgICBmcmFtZUhvbGRlci5hZGRDaGlsZChwYWdlLm5hdkZyYW1lKTtcblxuICAgIG5ld0dyaWQuYWRkQ2hpbGQoZnJhbWVIb2xkZXIpO1xuXG4gICAgZ3JpZExheW91dC5HcmlkTGF5b3V0LnNldENvbHVtbihmcmFtZUhvbGRlciwgMCk7XG4gICAgZ3JpZExheW91dC5HcmlkTGF5b3V0LnNldFJvdyhmcmFtZUhvbGRlciwgMCk7XG4gICAgZ3JpZExheW91dC5HcmlkTGF5b3V0LnNldENvbHVtblNwYW4oZnJhbWVIb2xkZXIsIG51bUl0ZW1zKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtSXRlbXM7IGkrKykge1xuICAgICAgICB2YXIgY3VycmVudEl0ZW0gPSBwYWdlLnRhYkl0ZW1zW2ldO1xuICAgICAgICB2YXIgdGFiID0gbmV3IHN0YWNrTGF5b3V0LlN0YWNrTGF5b3V0KCk7XG5cbiAgICAgICAgdGFiLmRpcmVjdGlvbiA9IFwidmVydGljYWxcIjtcblxuICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgdGFiLmNsYXNzTmFtZSA9IFwidGFiIHRhYi1zZWxlY3RlZFwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFiLmNsYXNzTmFtZSA9IFwidGFiXCI7XG4gICAgICAgIH1cblxuICAgICAgICB0YWIuaWQgPSBcInRhYl9cIiArIGk7XG4gICAgICAgIFxuICAgICAgICB0YWIub24oXCJ0YXBcIiwgZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiBvblRhYlNlbGVjdGVkKGFyZ3MsIGN1cnJlbnRJdGVtKTtcbiAgICAgICAgfSlcblxuICAgICAgICB2YXIgaWNvbiA9IG5ldyBMYWJlbCgpO1xuXG4gICAgICAgIGljb24uY2xhc3NOYW1lID0gJ3RhYi1pY29uJztcblxuICAgICAgICAvL2ljb24udGV4dCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY3VycmVudEl0ZW0uaWNvbkNvZGUpXG4gICAgICAgIGljb24udGV4dCA9IGN1cnJlbnRJdGVtLmljb25Db2RlO1xuICAgICAgICB0YWIuYWRkQ2hpbGQoaWNvbik7XG5cbiAgICAgICAgdmFyIGxhYmVsID0gbmV3IExhYmVsKCk7XG5cbiAgICAgICAgbGFiZWwuY2xhc3NOYW1lID0gJ3RhYi1sYWJlbCc7XG4gICAgICAgIGxhYmVsLnRleHQgPSBjdXJyZW50SXRlbS5sYWJlbDtcbiAgICAgICAgdGFiLmFkZENoaWxkKGxhYmVsKTtcblxuICAgICAgICBwYWdlLl90YWJzLnB1c2godGFiKTtcbiAgICAgICAgbmV3R3JpZC5hZGRDaGlsZCh0YWIpO1xuXG4gICAgICAgIGdyaWRMYXlvdXQuR3JpZExheW91dC5zZXRSb3codGFiLCAxKTtcbiAgICAgICAgZ3JpZExheW91dC5HcmlkTGF5b3V0LnNldENvbHVtbih0YWIsIGkpO1xuICAgIH1cblxuICAgIHBhZ2UuY29udGVudCA9IG5ld0dyaWQ7XG5cbiAgICBjb25zdCBkYXRlQ29udmVydGVyID0gKHZhbHVlLCBmb3JtYXQpID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IGZvcm1hdDtcblxuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vcmVzdWx0ID0gXCJcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGRheSA9IHZhbHVlLmdldERhdGUoKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKFwiRERcIiwgZGF5IDwgMTAgPyBgMCR7ZGF5fWAgOiBkYXkpO1xuICAgICAgICAgICAgY29uc3QgbW9udGggPSB2YWx1ZS5nZXRNb250aCgpICsgMTtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKFwiTU1cIiwgbW9udGggPCAxMCA/IGAwJHttb250aH1gIDogbW9udGgpO1xuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoXCJZWVlZXCIsIHZhbHVlLmdldEZ1bGxZZWFyKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgYXBwbGljYXRpb24uZ2V0UmVzb3VyY2VzKCkuZGF0ZUNvbnZlcnRlciA9IGRhdGVDb252ZXJ0ZXI7XG4gICAgYXBwbGljYXRpb24uZ2V0UmVzb3VyY2VzKCkuZGF0ZUZvcm1hdCA9IFwiTU0vREQvWVlZWVwiO1xuXG4gICAgdmFyIG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgbW9kdWxlTmFtZTogcGFnZS50YWJJdGVtc1swXS5wYXRoLFxuICAgICAgICBjb250ZXh0OiB7XG4gICAgICAgICAgICByZWZlcmVuY2U6IFwidGFiXCJcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJIaXN0b3J5OiB0cnVlXG4gICAgfVxuXG4gICAgcGFnZS5uYXZGcmFtZS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgIC8vcGFnZS5uYXZGcmFtZS5uYXZpZ2F0ZShwYWdlLnRhYkl0ZW1zWzBdLnBhdGgpO1xufVxuXG5mdW5jdGlvbiBvblRhYlNlbGVjdGVkKGFyZ3MpIHtcbiAgICB2YXIgc2VsZWN0ZWRUYWIgPSBhcmdzLm9iamVjdDtcbiAgICB2YXIgaW5kZXggPSBzZWxlY3RlZFRhYi5pZC5zdWJzdHJpbmcoc2VsZWN0ZWRUYWIuaWQuaW5kZXhPZihcInRhYl9cIikgKyA0KTtcblxuICAgIGlmIChzZWxlY3RlZFRhYi5jbGFzc05hbWUuaW5kZXhPZihcInRhYi1zZWxlY3RlZFwiKSA+IC0xKSB7XG4gICAgICAgIHZhciBjdXJyZW50RnJhbWUgPSBwYWdlLmdldFZpZXdCeUlkKFwibmF2aWdhdGlvbi1mcmFtZVwiKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChwYWdlLnRhYkl0ZW1zW2luZGV4XS5sYWJlbCA9PT0gY3VycmVudEZyYW1lLmN1cnJlbnRQYWdlLmFjdGlvbkJhci50aXRsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGFnZS5fdGFicy5mb3JFYWNoKGZ1bmN0aW9uKHRhYikge1xuICAgICAgICB0YWIuY2xhc3NOYW1lID0gJ3RhYic7XG4gICAgfSk7XG5cbiAgICBzZWxlY3RlZFRhYi5jbGFzc05hbWUgPSAndGFiIHRhYi1zZWxlY3RlZCc7XG5cbiAgICBzaG93VGFiKHBhZ2UudGFiSXRlbXNbaW5kZXhdKTtcbn1cblxuZnVuY3Rpb24gc2hvd1RhYih0YWJJdGVtKSB7XG4gICAgdmFyIG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgbW9kdWxlTmFtZTogdGFiSXRlbS5wYXRoLFxuICAgICAgICBjb250ZXh0OiB7XG4gICAgICAgICAgICByZWZlcmVuY2U6IFwidGFiXCJcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJIaXN0b3J5OiB0cnVlXG4gICAgfVxuXG4gICAgcGFnZS5uYXZGcmFtZS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpXG59XG5cbmV4cG9ydHMub25OYXZpZ2F0aW5nVG8gPSBvbk5hdmlnYXRpbmdUbztcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9tYWluLXBhZ2UuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9tYWluLXBhZ2UuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiXG5tb2R1bGUuZXhwb3J0cyA9IFwiPFBhZ2UgeG1sbnM9XFxcImh0dHA6Ly9zY2hlbWFzLm5hdGl2ZXNjcmlwdC5vcmcvdG5zLnhzZFxcXCIgYmFja2dyb3VuZFNwYW5VbmRlclN0YXR1c0Jhcj1cXFwidHJ1ZVxcXCIgYWN0aW9uQmFySGlkZGVuPVxcXCJ0cnVlXFxcIiBuYXZpZ2F0aW5nVG89XFxcIm9uTmF2aWdhdGluZ1RvXFxcIj5cXG48L1BhZ2U+XFxuXCI7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbWFpbi1wYWdlLnhtbFwiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJtYXJrdXBcIiwgcGF0aDogXCIuL21haW4tcGFnZS54bWxcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3QgQXR0ZW5kZWVUeXBlVmlld01vZGVsID0gcmVxdWlyZShcIi4vYXR0ZW5kZWV0eXBlLXZpZXctbW9kZWxcIik7XG5jb25zdCBPYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBmcmFtZU1vZHVsZSA9IHJlcXVpcmUoXCJ1aS9mcmFtZVwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG5cbnZhciBwYWdlO1xudmFyIG5hdmlnYXRpb25Db250ZXh0O1xudmFyIGF0dGVuZGVlVHlwZUxpc3QgPSBuZXcgQXR0ZW5kZWVUeXBlVmlld01vZGVsKFtdKTtcblxudmFyIGF0dGVuZGVlVHlwZUluZGV4ID0gMDtcblxudmFyIHBhZ2VEYXRhID0gbmV3IE9ic2VydmFibGVNb2R1bGUuZnJvbU9iamVjdCh7XG4gICAgYm91bmREYXRhOiBudWxsLFxuICAgIGF0dGVuZGVlVHlwZUluZGV4OiBhdHRlbmRlZVR5cGVJbmRleCxcbiAgICBhdHRlbmRlZVR5cGVMaXN0OiBudWxsLFxuICAgIGlzTG9hZGluZzogZmFsc2Vcbn0pO1xuXG5mdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiQ29uZy4gT2ZmaWNlIEF0dGVuZGVlc1wiO1xuXG4gICAgICAgIG5hdmlnYXRpb25Db250ZXh0ID0gcGFnZS5uYXZpZ2F0aW9uQ29udGV4dDtcblxuICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEgPSBuYXZpZ2F0aW9uQ29udGV4dDtcblxuICAgICAgICBpZiAoZ2xvYmFsLmF0dGVuZGVlVHlwZUxpc3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuXG4gICAgICAgICAgICBhdHRlbmRlZVR5cGVMaXN0LmxvYWQoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBnbG9iYWwuYXR0ZW5kZWVUeXBlTGlzdCA9IGF0dGVuZGVlVHlwZUxpc3Q7XG5cbiAgICAgICAgICAgICAgICBwYWdlRGF0YS5hdHRlbmRlZVR5cGVMaXN0ID0gZ2xvYmFsLmF0dGVuZGVlVHlwZUxpc3Q7XG5cbiAgICAgICAgICAgICAgICBhdHRlbmRlZVR5cGVJbmRleCA9IDA7XG5cbiAgICAgICAgICAgICAgICBpZiAocGFnZURhdGEuYm91bmREYXRhLmF0dGVuZGVlVHlwZUlkICE9PSBudWxsICYmIHBhZ2VEYXRhLmJvdW5kRGF0YS5hdHRlbmRlZVR5cGVJZC50b1N0cmluZygpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhZ2VEYXRhLmF0dGVuZGVlVHlwZUxpc3QuTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLmF0dGVuZGVlVHlwZUxpc3QuTGlzdC5nZXRJdGVtKGkpLmF0dGVuZGVlVHlwZUlkID09PSBwYWdlRGF0YS5ib3VuZERhdGEuYXR0ZW5kZWVUeXBlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRlbmRlZVR5cGVJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwYWdlRGF0YS5hdHRlbmRlZVR5cGVJbmRleCA9IGF0dGVuZGVlVHlwZUluZGV4O1xuXG4gICAgICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBwYWdlRGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFnZURhdGEuYXR0ZW5kZWVUeXBlTGlzdCA9IGdsb2JhbC5hdHRlbmRlZVR5cGVMaXN0O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBhdHRlbmRlZVR5cGVJbmRleCA9IDA7XG5cbiAgICAgICAgICAgIGlmIChwYWdlRGF0YS5ib3VuZERhdGEuYXR0ZW5kZWVUeXBlSWQgIT09IG51bGwgJiYgcGFnZURhdGEuYm91bmREYXRhLmF0dGVuZGVlVHlwZUlkLnRvU3RyaW5nKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciBpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhZ2VEYXRhLmF0dGVuZGVlVHlwZUxpc3QuTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFnZURhdGEuYXR0ZW5kZWVUeXBlTGlzdC5MaXN0LmdldEl0ZW0oaSkuYXR0ZW5kZWVUeXBlSWQgPT09IHBhZ2VEYXRhLmJvdW5kRGF0YS5hdHRlbmRlZVR5cGVJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXR0ZW5kZWVUeXBlSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYWdlRGF0YS5hdHRlbmRlZVR5cGVJbmRleCA9IGF0dGVuZGVlVHlwZUluZGV4O1xuXG4gICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkxvYWRlZChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIGF0dGVuZGVlVHlwZUxpc3RQaWNrZXIgPSBwYWdlLmdldFZpZXdCeUlkKFwiYXR0ZW5kZWVUeXBlTGlzdFBpY2tlclwiKTtcbiAgICAgICAgXG4gICAgICAgIGF0dGVuZGVlVHlwZUxpc3RQaWNrZXIub24oXCJzZWxlY3RlZEluZGV4Q2hhbmdlXCIsIGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBhdHRlbmRlZVR5cGVJdGVtID0gcGFnZURhdGEuYXR0ZW5kZWVUeXBlTGlzdC5MaXN0LmdldEl0ZW0oYXJncy5vYmplY3Quc2VsZWN0ZWRJbmRleCk7XG4gICAgICAgICAgICAvL2RpYWxvZ3MuYWxlcnQoYXR0ZW5kZWVUeXBlSXRlbS5hdHRlbmRlZVR5cGVJZCArIFwiOiBcIiArIGF0dGVuZGVlVHlwZUl0ZW0uYXR0ZW5kZWVUeXBlKTtcbiAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5hdHRlbmRlZVR5cGVJZCA9IGF0dGVuZGVlVHlwZUl0ZW0uYXR0ZW5kZWVUeXBlSWQ7XG4gICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEuYXR0ZW5kZWVUeXBlID0gYXR0ZW5kZWVUeXBlSXRlbS5hdHRlbmRlZVR5cGU7XG4gICAgICAgIH0pO1xuXG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25CYWNrVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkuZ29CYWNrKCk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgfVxufVxuXG5leHBvcnRzLm9uTmF2aWdhdGluZ1RvID0gb25OYXZpZ2F0aW5nVG87XG5leHBvcnRzLm9uTG9hZGVkID0gb25Mb2FkZWQ7XG5leHBvcnRzLm9uQmFja1RhcCA9IG9uQmFja1RhcDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9tZWV0aW5ncy9tZWV0aW5nL2F0dGVuZGVldHlwZS9hdHRlbmRlZXR5cGUtcGFnZS5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL21lZXRpbmdzL21lZXRpbmcvYXR0ZW5kZWV0eXBlL2F0dGVuZGVldHlwZS1wYWdlLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxubW9kdWxlLmV4cG9ydHMgPSBcIjxQYWdlIG5hdmlnYXRpbmdUbz1cXFwib25OYXZpZ2F0aW5nVG9cXFwiIGxvYWRlZD1cXFwib25Mb2FkZWRcXFwiIGNsYXNzPVxcXCJwYWdlXFxcIiB4bWxucz1cXFwiaHR0cDovL3NjaGVtYXMubmF0aXZlc2NyaXB0Lm9yZy90bnMueHNkXFxcIiA+XFxuICAgIDxBY3Rpb25CYXIgY2xhc3M9XFxcImFjdGlvbi1iYXJcXFwiPlxcbiAgICAgICAgPGFuZHJvaWQ+XFxuICAgICAgICAgICAgPE5hdmlnYXRpb25CdXR0b24gYW5kcm9pZC5zeXN0ZW1JY29uPVxcXCJpY19tZW51X2JhY2tcXFwiIHRhcD1cXFwib25CYWNrVGFwXFxcIiAvPlxcbiAgICAgICAgPC9hbmRyb2lkPlxcbiAgICA8L0FjdGlvbkJhcj5cXG5cXG4gICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiYXV0bywgYXV0bywgKlxcXCI+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctc2VjdGlvbi1oZWFkZXJcXFwiPjwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8R3JpZExheW91dCByb3c9XFxcIjFcXFwiIGNvbD1cXFwiMFxcXCIgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiYXV0b1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiPlxcbiAgICAgICAgICAgIDxMaXN0UGlja2VyIGlkPVxcXCJhdHRlbmRlZVR5cGVMaXN0UGlja2VyXFxcIiByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgaXRlbXM9XFxcInt7IGF0dGVuZGVlVHlwZUxpc3QuSXRlbXMgfX1cXFwiIHNlbGVjdGVkSW5kZXg9XFxcInt7IGF0dGVuZGVlVHlwZUluZGV4IH19XFxcIiBcXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tcGlja2VyXFxcIj48L0xpc3RQaWNrZXI+XFxuICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIyXFxcIiBjb2w9XFxcIjBcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1zZWN0aW9uLWhlYWRlclxcXCI+PC9TdGFja0xheW91dD5cXG4gICAgICAgIDxBY3Rpdml0eUluZGljYXRvciBidXN5PVxcXCJ7eyBpc0xvYWRpbmcgfX1cXFwiIGFuZHJvaWQ6aGVpZ2h0PVxcXCIyNSVcXFwiIGFuZHJvaWQ6d2lkdGg9XFxcIjI1JVxcXCIgaW9zLmFjdGl2aXR5SW5kaWNhdG9yVmlld1N0eWxlPVxcXCJ3aGl0ZUxhcmdlXFxcIiByb3dTcGFuPVxcXCIzXFxcIiBjb2xTcGFuPVxcXCIxXFxcIiAvPlxcbiAgICA8L0dyaWRMYXlvdXQ+XFxuPC9QYWdlPlxcblwiOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL21lZXRpbmdzL21lZXRpbmcvYXR0ZW5kZWV0eXBlL2F0dGVuZGVldHlwZS1wYWdlLnhtbFwiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJtYXJrdXBcIiwgcGF0aDogXCIuL21lZXRpbmdzL21lZXRpbmcvYXR0ZW5kZWV0eXBlL2F0dGVuZGVldHlwZS1wYWdlLnhtbFwiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBPYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKS5PYnNlcnZhYmxlO1xudmFyIE9ic2VydmFibGVBcnJheSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGUtYXJyYXlcIikuT2JzZXJ2YWJsZUFycmF5O1xudmFyIGh0dHAgPSByZXF1aXJlKFwiaHR0cFwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG5cbmZ1bmN0aW9uIEF0dGVuZGVlVHlwZVZpZXdNb2RlbCgpIHtcbiAgICBjb25zdCB2aWV3TW9kZWwgPSBuZXcgT2JzZXJ2YWJsZU1vZHVsZSgpO1xuICAgIHZpZXdNb2RlbC5JdGVtcyA9IG5ldyBPYnNlcnZhYmxlQXJyYXkoKTtcbiAgICB2aWV3TW9kZWwuTGlzdCA9IG5ldyBPYnNlcnZhYmxlQXJyYXkoKTtcblxuICAgIHZpZXdNb2RlbC5sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBodHRwLnJlcXVlc3Qoe1xuICAgICAgICAgICAgdXJsOiBnbG9iYWwuYXBpQmFzZVNlcnZpY2VVcmwgKyBcIm1lZXRpbmdhdHRlbmRlZXR5cGVzXCIsXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLCBcIkF1dGhvcml6YXRpb25cIjogZ2xvYmFsLnRva2VuIH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXNwb25zZS5jb250ZW50LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzdWx0KTtcblxuICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGF0dGVuZGVlVHlwZSkge1xuICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5JdGVtcy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICBhdHRlbmRlZVR5cGUuVHlwZVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICB2aWV3TW9kZWwuTGlzdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgYXR0ZW5kZWVUeXBlSWQ6IGF0dGVuZGVlVHlwZS5BdHRlbmRlZVR5cGVJZCxcbiAgICAgICAgICAgICAgICAgICAgYXR0ZW5kZWVUeXBlOiBhdHRlbmRlZVR5cGUuVHlwZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2aWV3TW9kZWwuZW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgd2hpbGUgKHZpZXdNb2RlbC5JdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZpZXdNb2RlbC5JdGVtcy5wb3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlICh2aWV3TW9kZWwuTGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZpZXdNb2RlbC5MaXN0LnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gdmlld01vZGVsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEF0dGVuZGVlVHlwZVZpZXdNb2RlbDs7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbWVldGluZ3MvbWVldGluZy9hdHRlbmRlZXR5cGUvYXR0ZW5kZWV0eXBlLXZpZXctbW9kZWwuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL2F0dGVuZGVldHlwZS9hdHRlbmRlZXR5cGUtdmlldy1tb2RlbC5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBwbGF0Zm9ybSA9IHJlcXVpcmUoXCJwbGF0Zm9ybVwiKTtcbnZhciBmcmFtZU1vZHVsZSA9IHJlcXVpcmUoXCJ1aS9mcmFtZVwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG5cbnZhciBwYWdlO1xudmFyIG5hdmlnYXRpb25Db250ZXh0O1xuXG5mdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiRm9sbG93IFVwXCI7XG5cbiAgICAgICAgbmF2aWdhdGlvbkNvbnRleHQgPSBwYWdlLm5hdmlnYXRpb25Db250ZXh0O1xuXG4gICAgICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBuYXZpZ2F0aW9uQ29udGV4dDtcblxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uTG9hZGVkKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgZm9sbG93VXBEYXRlRGF0ZVBpY2tlciA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJmb2xsb3dVcERhdGVEYXRlUGlja2VyXCIpO1xuXG4gICAgICAgIGZvbGxvd1VwRGF0ZURhdGVQaWNrZXIub24oXCJkYXRlQ2hhbmdlXCIsIGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBmb2xsb3dVcERhdGVMYWJlbCA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJmb2xsb3dVcERhdGVMYWJlbFwiKTtcblxuICAgICAgICAgICAgZm9sbG93VXBEYXRlTGFiZWwudGV4dCA9IGRhdGVDb252ZXJ0ZXIoYXJncy52YWx1ZSwgXCJNTS9ERC9ZWVlZXCIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25CYWNrVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBkaXNtaXNzS2V5Ym9hcmQoKVxuXG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5nb0JhY2soKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydChlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uR3JpZExheW91dFRhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgZGlzbWlzc0tleWJvYXJkKClcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydChlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU3dpdGNoTG9hZGVkKGFyZ3MpIHtcbiAgICB2YXIgY2hlY2tlZFN3aXRjaCA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgY2hlY2tlZFN3aXRjaC5vbihcImNoZWNrZWRDaGFuZ2VcIiwgZnVuY3Rpb24oYXJncykge1xuICAgICAgICBkaXNtaXNzS2V5Ym9hcmQoKVxuXG4gICAgICAgIHZhciBkZXRhaWxzTGFiZWwgPSBwYWdlLmdldFZpZXdCeUlkKFwiZGV0YWlsc0xhYmVsXCIpO1xuICAgICAgICB2YXIgZm9sbG93VXBEZXRhaWxzU3RhY2tMYXlvdXQgPSBwYWdlLmdldFZpZXdCeUlkKFwiZm9sbG93VXBEZXRhaWxzU3RhY2tMYXlvdXRcIik7XG4gICAgICAgIHZhciBmb2xsb3dVcERhdGVEYXRlUGlja2VyR3JpZExheW91dCA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJmb2xsb3dVcERhdGVEYXRlUGlja2VyR3JpZExheW91dFwiKTtcblxuICAgICAgICBpZiAoYXJncy52YWx1ZSkge1xuICAgICAgICAgICAgZGV0YWlsc0xhYmVsLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgICAgICAgIGZvbGxvd1VwRGV0YWlsc1N0YWNrTGF5b3V0LnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRldGFpbHNMYWJlbC52aXNpYmlsaXR5ID0gXCJjb2xsYXBzZVwiO1xuICAgICAgICAgICAgZm9sbG93VXBEZXRhaWxzU3RhY2tMYXlvdXQudmlzaWJpbGl0eSA9IFwiY29sbGFwc2VcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvbGxvd1VwRGF0ZURhdGVQaWNrZXJHcmlkTGF5b3V0LnZpc2liaWxpdHkgPSBcImNvbGxhcHNlXCI7XG5cbiAgICAgICAgcGFnZS5hZGRDc3MoXCIjZm9sbG93VXBEYXRlTGFiZWwge2NvbG9yOiAjNjY2O31cIik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIG9uVGV4dFZpZXdGb2N1cyhhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIGZvbGxvd1VwRGF0ZURhdGVQaWNrZXJHcmlkTGF5b3V0ID0gcGFnZS5nZXRWaWV3QnlJZChcImZvbGxvd1VwRGF0ZURhdGVQaWNrZXJHcmlkTGF5b3V0XCIpO1xuXG4gICAgICAgIGZvbGxvd1VwRGF0ZURhdGVQaWNrZXJHcmlkTGF5b3V0LnZpc2liaWxpdHkgPSBcImNvbGxhcHNlXCI7XG5cbiAgICAgICAgcGFnZS5hZGRDc3MoXCIjZm9sbG93VXBEYXRlTGFiZWwge2NvbG9yOiAjNjY2O31cIik7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25TdGFja0xheW91dEZvbGxvd1VwRGF0ZVRhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgZGlzbWlzc0tleWJvYXJkKClcblxuICAgICAgICB2YXIgZm9sbG93VXBEYXRlRGF0ZVBpY2tlckdyaWRMYXlvdXQgPSBwYWdlLmdldFZpZXdCeUlkKFwiZm9sbG93VXBEYXRlRGF0ZVBpY2tlckdyaWRMYXlvdXRcIik7XG4gICAgICAgIFxuICAgICAgICBpZiAoZm9sbG93VXBEYXRlRGF0ZVBpY2tlckdyaWRMYXlvdXQudmlzaWJpbGl0eSA9PT0gXCJjb2xsYXBzZVwiKSB7XG4gICAgICAgICAgICBmb2xsb3dVcERhdGVEYXRlUGlja2VyR3JpZExheW91dC52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG5cbiAgICAgICAgICAgIHBhZ2UuYWRkQ3NzKFwiI2ZvbGxvd1VwRGF0ZUxhYmVsIHtjb2xvcjogI2NjMmQzMDt9XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9sbG93VXBEYXRlRGF0ZVBpY2tlckdyaWRMYXlvdXQudmlzaWJpbGl0eSA9IFwiY29sbGFwc2VcIjtcblxuICAgICAgICAgICAgcGFnZS5hZGRDc3MoXCIjZm9sbG93VXBEYXRlTGFiZWwge2NvbG9yOiAjNjY2O31cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGF0ZUNvbnZlcnRlcih2YWx1ZSwgZm9ybWF0KSB7XG4gICAgbGV0IHJlc3VsdCA9IGZvcm1hdDtcblxuICAgIGNvbnN0IGRheSA9IHZhbHVlLmdldERhdGUoKTtcblxuICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKFwiRERcIiwgZGF5IDwgMTAgPyBgMCR7ZGF5fWAgOiBkYXkpO1xuXG4gICAgY29uc3QgbW9udGggPSB2YWx1ZS5nZXRNb250aCgpICsgMTtcblxuICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKFwiTU1cIiwgbW9udGggPCAxMCA/IGAwJHttb250aH1gIDogbW9udGgpO1xuICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKFwiWVlZWVwiLCB2YWx1ZS5nZXRGdWxsWWVhcigpKTtcblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGRpc21pc3NLZXlib2FyZCgpIHtcbiAgICBpZiAocGxhdGZvcm0uaXNBbmRyb2lkKSB7XG4gICAgICAgIHZhciBmb2xsb3dVcE5vdGVzID0gcGFnZS5nZXRWaWV3QnlJZChcImZvbGxvd1VwTm90ZXNcIik7XG5cbiAgICAgICAgZm9sbG93VXBOb3Rlcy5kaXNtaXNzU29mdElucHV0KCk7XG4gICAgfVxufVxuXG5leHBvcnRzLm9uTmF2aWdhdGluZ1RvID0gb25OYXZpZ2F0aW5nVG87XG5leHBvcnRzLm9uTG9hZGVkID0gb25Mb2FkZWQ7XG5leHBvcnRzLm9uQmFja1RhcCA9IG9uQmFja1RhcDtcbmV4cG9ydHMub25HcmlkTGF5b3V0VGFwID0gb25HcmlkTGF5b3V0VGFwO1xuZXhwb3J0cy5vblN3aXRjaExvYWRlZCA9IG9uU3dpdGNoTG9hZGVkO1xuZXhwb3J0cy5vblRleHRWaWV3Rm9jdXMgPSBvblRleHRWaWV3Rm9jdXM7XG5leHBvcnRzLm9uU3RhY2tMYXlvdXRGb2xsb3dVcERhdGVUYXAgPSBvblN0YWNrTGF5b3V0Rm9sbG93VXBEYXRlVGFwO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL21lZXRpbmdzL21lZXRpbmcvZm9sbG93dXAvZm9sbG93dXAtcGFnZS5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL21lZXRpbmdzL21lZXRpbmcvZm9sbG93dXAvZm9sbG93dXAtcGFnZS5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJcbm1vZHVsZS5leHBvcnRzID0gXCI8UGFnZSBuYXZpZ2F0aW5nVG89XFxcIm9uTmF2aWdhdGluZ1RvXFxcIiBsb2FkZWQ9XFxcIm9uTG9hZGVkXFxcIiBjbGFzcz1cXFwicGFnZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly9zY2hlbWFzLm5hdGl2ZXNjcmlwdC5vcmcvdG5zLnhzZFxcXCIgPlxcbiAgICA8QWN0aW9uQmFyIGNsYXNzPVxcXCJhY3Rpb24tYmFyXFxcIj5cXG4gICAgICAgIDxhbmRyb2lkPlxcbiAgICAgICAgICAgIDxOYXZpZ2F0aW9uQnV0dG9uIGFuZHJvaWQuc3lzdGVtSWNvbj1cXFwiaWNfbWVudV9iYWNrXFxcIiB0YXA9XFxcIm9uQmFja1RhcFxcXCIgLz5cXG4gICAgICAgIDwvYW5kcm9pZD5cXG4gICAgPC9BY3Rpb25CYXI+XFxuXFxuICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcImF1dG8sIGF1dG8sICpcXFwiIHRhcD1cXFwib25HcmlkTGF5b3V0VGFwXFxcIj5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1zZWN0aW9uLWhlYWRlclxcXCI+PC9TdGFja0xheW91dD5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjFcXFwiIGNvbD1cXFwiMFxcXCI+XFxuICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKiwgYXV0b1xcXCIgcm93cz1cXFwiYXV0b1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm0tYm90dG9tXFxcIj5cXG4gICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJGb2xsb3cgVXAgTmVlZGVkP1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgICAgIDxTd2l0Y2ggcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIGNoZWNrZWQ9XFxcInt7IGZvbGxvd1VwTmVlZGVkIH19XFxcIiBsb2FkZWQ9XFxcIm9uU3dpdGNoTG9hZGVkXFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJyaWdodFxcXCIgY2xhc3M9XFxcInN3aXRjaFxcXCIgLz5cXG4gICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMlxcXCIgY29sPVxcXCIwXFxcIiBzdHlsZT1cXFwiYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcXFwiPlxcbiAgICAgICAgICAgIDxTdGFja0xheW91dCB2ZXJ0aWNhbEFsaWdubWVudD1cXFwiYm90dG9tXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LXNlY3Rpb24taGVhZGVyLW5vLWJvcmRlclxcXCI+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwiZGV0YWlsc0xhYmVsXFxcIiB0ZXh0PVxcXCJERVRBSUxTXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwiYm90dG9tXFxcIiB2aXNpYmlsaXR5PVxcXCJ7eyBmb2xsb3dVcE5lZWRlZCA9PT0gJ3RydWUnIHx8IGZvbGxvd1VwTmVlZGVkID09PSB0cnVlID8gJ3Zpc2libGUnIDogJ2NvbGxhcHNlJyB9fVxcXCIgLz5cXG4gICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgIDxTdGFja0xheW91dCBpZD1cXFwiZm9sbG93VXBEZXRhaWxzU3RhY2tMYXlvdXRcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctc2VjdGlvbi1kZXRhaWxcXFwiIHZpc2liaWxpdHk9XFxcInt7IGZvbGxvd1VwTmVlZGVkID09PSAndHJ1ZScgfHwgZm9sbG93VXBOZWVkZWQgPT09IHRydWUgPyAndmlzaWJsZScgOiAnY29sbGFwc2UnIH19XFxcIj5cXG4gICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHRhcD1cXFwib25TdGFja0xheW91dEZvbGxvd1VwRGF0ZVRhcFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJGb2xsb3cgVXAgQ29tcGxldGVkXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbGVmdFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImZvbGxvd1VwRGF0ZUxhYmVsXFxcIiByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwie3sgZm9sbG93VXBEYXRlIHwgZGF0ZUNvbnZlcnRlcihkYXRlRm9ybWF0KSB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICA8R3JpZExheW91dCBpZD1cXFwiZm9sbG93VXBEYXRlRGF0ZVBpY2tlckdyaWRMYXlvdXRcXFwiIGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIiB2aXNpYmlsaXR5PVxcXCJjb2xsYXBzZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlciBpZD1cXFwiZm9sbG93VXBEYXRlRGF0ZVBpY2tlclxcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIGRhdGU9XFxcInt7IGZvbGxvd1VwRGF0ZSB9fVxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tcmlnaHRcXFwiPjwvRGF0ZVBpY2tlcj5cXG4gICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCIqXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybS1ib3R0b21cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPFRleHRWaWV3IGlkPVxcXCJmb2xsb3dVcE5vdGVzXFxcIiByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwie3sgZm9sbG93VXBOb3RlcyB9fVxcXCIgZm9jdXM9XFxcIm9uVGV4dFZpZXdGb2N1c1xcXCIgaGludD1cXFwiRm9sbG93IFVwIE5vdGVzXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tdGV4dHZpZXdcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICA8L0dyaWRMYXlvdXQ+XFxuPC9QYWdlPlxcblwiOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL21lZXRpbmdzL21lZXRpbmcvZm9sbG93dXAvZm9sbG93dXAtcGFnZS54bWxcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwibWFya3VwXCIsIHBhdGg6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL2ZvbGxvd3VwL2ZvbGxvd3VwLXBhZ2UueG1sXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IEluaXRpYXRpdmVzVmlld01vZGVsID0gcmVxdWlyZShcIi4vaW5pdGlhdGl2ZXMtdmlldy1tb2RlbFwiKTtcbmNvbnN0IE9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpO1xudmFyIGh0dHAgPSByZXF1aXJlKFwiaHR0cFwiKTtcbnZhciBmcmFtZU1vZHVsZSA9IHJlcXVpcmUoXCJ1aS9mcmFtZVwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG52YXIgcGFnZTtcbnZhciBuYXZpZ2F0aW9uQ29udGV4dDtcblxudmFyIGluaXRpYXRpdmVzTGlzdCA9IG5ldyBJbml0aWF0aXZlc1ZpZXdNb2RlbChbXSk7XG5cbnZhciBzd2l0Y2hUYXAgPSBmYWxzZTtcblxudmFyIHBhZ2VEYXRhID0gbmV3IE9ic2VydmFibGVNb2R1bGUuZnJvbU9iamVjdCh7XG4gICAgYm91bmREYXRhOiBudWxsLFxuICAgIGluaXRpYXRpdmVzTGlzdDogaW5pdGlhdGl2ZXNMaXN0LFxuICAgIGlzTG9hZGluZzogZmFsc2Vcbn0pO1xuXG5mdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICBuYXZpZ2F0aW9uQ29udGV4dCA9IHBhZ2UubmF2aWdhdGlvbkNvbnRleHQ7XG5cbiAgICAgICAgcGFnZURhdGEuYm91bmREYXRhID0gbmF2aWdhdGlvbkNvbnRleHQ7XG4gICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS51cGRhdGVkID0gZmFsc2U7XG4gICAgICAgIFxuICAgICAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiU2VsZWN0IEluaXRpYXRpdmUocylcIjtcblxuICAgICAgICBpbml0aWF0aXZlc0xpc3QuZW1wdHkoKTtcblxuICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgdHJ1ZSk7XG5cbiAgICAgICAgaW5pdGlhdGl2ZXNMaXN0LmxvYWQobmF2aWdhdGlvbkNvbnRleHQubWVldGluZ0lkKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBwYWdlRGF0YTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU3dpdGNoTG9hZGVkKGFyZ3MpIHtcbiAgICB2YXIgY2hlY2tlZFN3aXRjaCA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgY2hlY2tlZFN3aXRjaC5vbihcInRhcFwiLCBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIC8vIE5lY2Vzc2FyeSB0byBwcmV2ZW50IHRoZSBjaGVja2VkQ2hhbmdlIGV2ZW50IGZyb20gZmlyaW5nIG9uIHRoZSBzd2l0Y2ggd2hlbiB1c2VyIHNjcm9sbHMuXG4gICAgICAgIHN3aXRjaFRhcCA9IHRydWU7XG4gICAgfSk7XG5cbiAgICBjaGVja2VkU3dpdGNoLm9uKFwiY2hlY2tlZENoYW5nZVwiLCBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIGlmIChzd2l0Y2hUYXApIHtcbiAgICAgICAgICAgIHZhciBzdGFja0xheW91dCA9IGFyZ3Mub2JqZWN0LnBhcmVudDtcbiAgICAgICAgICAgIHZhciBpbmRleExhYmVsID0gc3RhY2tMYXlvdXQuZ2V0Vmlld0J5SWQoXCJpbmRleExhYmVsXCIpO1xuXG4gICAgICAgICAgICB2YXIgbW9kZWwgPSBpbml0aWF0aXZlc0xpc3QuZ2V0SXRlbShpbmRleExhYmVsLnRleHQpO1xuXG4gICAgICAgICAgICBtb2RlbC5jaGVja2VkID0gYXJncy52YWx1ZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaHR0cC5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICB1cmw6IGdsb2JhbC5hcGlCYXNlU2VydmljZVVybCArIFwidXBkYXRlbWVldGluZ2luaXRpYXRpdmVcIixcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiQXV0aG9yaXphdGlvblwiOiBnbG9iYWwudG9rZW4gfSxcbiAgICAgICAgICAgICAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeShtb2RlbClcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgLy8gdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmNvbnRlbnQudG9KU09OKCk7XG5cbiAgICAgICAgICAgICAgICAvLyBkaWFsb2dzLmFsZXJ0KHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLnVwZGF0ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoVGFwID0gZmFsc2U7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBvbkJhY2tUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5nb0JhY2soKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydChlKTtcbiAgICB9XG59XG5cbmV4cG9ydHMub25OYXZpZ2F0aW5nVG8gPSBvbk5hdmlnYXRpbmdUbztcbmV4cG9ydHMub25Td2l0Y2hMb2FkZWQgPSBvblN3aXRjaExvYWRlZDtcbmV4cG9ydHMub25CYWNrVGFwID0gb25CYWNrVGFwO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL21lZXRpbmdzL21lZXRpbmcvaW5pdGlhdGl2ZXMvaW5pdGlhdGl2ZXMtcGFnZS5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL21lZXRpbmdzL21lZXRpbmcvaW5pdGlhdGl2ZXMvaW5pdGlhdGl2ZXMtcGFnZS5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJcbm1vZHVsZS5leHBvcnRzID0gXCI8UGFnZSBuYXZpZ2F0aW5nVG89XFxcIm9uTmF2aWdhdGluZ1RvXFxcIiBjbGFzcz1cXFwicGFnZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly9zY2hlbWFzLm5hdGl2ZXNjcmlwdC5vcmcvdG5zLnhzZFxcXCIgPlxcbiAgICA8QWN0aW9uQmFyIGNsYXNzPVxcXCJhY3Rpb24tYmFyXFxcIj5cXG4gICAgICAgIDxhbmRyb2lkPlxcbiAgICAgICAgICAgIDxOYXZpZ2F0aW9uQnV0dG9uIGFuZHJvaWQuc3lzdGVtSWNvbj1cXFwiaWNfbWVudV9iYWNrXFxcIiB0YXA9XFxcIm9uQmFja1RhcFxcXCIgLz5cXG4gICAgICAgIDwvYW5kcm9pZD5cXG4gICAgPC9BY3Rpb25CYXI+XFxuXFxuICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcIipcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMVxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIj5cXG4gICAgICAgICAgICA8TGlzdFZpZXcgaXRlbXM9XFxcInt7IGluaXRpYXRpdmVzTGlzdCB9fVxcXCIgaXRlbVRlbXBsYXRlU2VsZWN0b3I9XFxcIiRpbmRleFxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIj5cXG4gICAgICAgICAgICAgICAgPExpc3RWaWV3Lml0ZW1UZW1wbGF0ZT5cXG4gICAgICAgICAgICAgICAgICAgIDxTdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCIqXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJtaWRkbGVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcInt7IGluaXRpYXRpdmUgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1tYWluLXRvcFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTd2l0Y2ggaWQ9XFxcImNoZWNrZWRTd2l0Y2hcXFwiIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiBjaGVja2VkPVxcXCJ7eyBjaGVja2VkIH19XFxcIiBcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkZWQ9XFxcIm9uU3dpdGNoTG9hZGVkXFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJyaWdodFxcXCIgY2xhc3M9XFxcInN3aXRjaFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwiaW5kZXhMYWJlbFxcXCIgdGV4dD1cXFwie3sgJGluZGV4IH19XFxcIiB2aXNpYmlsaXR5PVxcXCJjb2xsYXBzZVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICA8L0xpc3RWaWV3Lml0ZW1UZW1wbGF0ZT5cXG4gICAgICAgICAgICA8L0xpc3RWaWV3PlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgIDxBY3Rpdml0eUluZGljYXRvciBidXN5PVxcXCJ7eyBpc0xvYWRpbmcgfX1cXFwiIGFuZHJvaWQ6aGVpZ2h0PVxcXCIyNSVcXFwiIGFuZHJvaWQ6d2lkdGg9XFxcIjI1JVxcXCIgaW9zLmFjdGl2aXR5SW5kaWNhdG9yVmlld1N0eWxlPVxcXCJ3aGl0ZUxhcmdlXFxcIiByb3dTcGFuPVxcXCIxXFxcIiBjb2xTcGFuPVxcXCIxXFxcIiAvPlxcbiAgICA8L0dyaWRMYXlvdXQ+XFxuPC9QYWdlPlxcblwiOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL21lZXRpbmdzL21lZXRpbmcvaW5pdGlhdGl2ZXMvaW5pdGlhdGl2ZXMtcGFnZS54bWxcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwibWFya3VwXCIsIHBhdGg6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL2luaXRpYXRpdmVzL2luaXRpYXRpdmVzLXBhZ2UueG1sXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IE9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpO1xudmFyIE9ic2VydmFibGVBcnJheSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGUtYXJyYXlcIikuT2JzZXJ2YWJsZUFycmF5O1xudmFyIGh0dHAgPSByZXF1aXJlKFwiaHR0cFwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG5cbmZ1bmN0aW9uIEluaXRpYXRpdmVzVmlld01vZGVsKGl0ZW1zKSB7XG4gICAgY29uc3Qgdmlld01vZGVsID0gbmV3IE9ic2VydmFibGVBcnJheShpdGVtcyk7XG4gICAgXG4gICAgdmlld01vZGVsLmxvYWQgPSBmdW5jdGlvbihtZWV0aW5nSWQpIHtcbiAgICAgICAgcmV0dXJuIGh0dHAucmVxdWVzdCh7XG4gICAgICAgICAgICB1cmw6IGdsb2JhbC5hcGlCYXNlU2VydmljZVVybCArIFwibWVldGluZ2luaXRpYXRpdmVzP21lZXRpbmdJZD1cIiArIG1lZXRpbmdJZCxcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiQXV0aG9yaXphdGlvblwiOiBnbG9iYWwudG9rZW4gfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmNvbnRlbnQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShyZXN1bHQpO1xuXG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oaW5pdGlhdGl2ZSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGVja2VkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5pdGlhdGl2ZS5DaGVja2VkID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2aWV3TW9kZWwucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG1lZXRpbmdJZDogaW5pdGlhdGl2ZS5NZWV0aW5nSWQsXG4gICAgICAgICAgICAgICAgICAgIGxlZ2lzbGF0b3JJZDogaW5pdGlhdGl2ZS5MZWdpc2xhdG9ySWQsXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYXRpdmVJZDogaW5pdGlhdGl2ZS5Jbml0aWF0aXZlSWQsXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYXRpdmU6IGluaXRpYXRpdmUuSW5pdGlhdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZDogaW5pdGlhdGl2ZS5DaGVja2VkXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZpZXdNb2RlbC5lbXB0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB3aGlsZSAodmlld01vZGVsLmxlbmd0aCkge1xuICAgICAgICAgICAgdmlld01vZGVsLnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gdmlld01vZGVsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEluaXRpYXRpdmVzVmlld01vZGVsO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL21lZXRpbmdzL21lZXRpbmcvaW5pdGlhdGl2ZXMvaW5pdGlhdGl2ZXMtdmlldy1tb2RlbC5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL21lZXRpbmdzL21lZXRpbmcvaW5pdGlhdGl2ZXMvaW5pdGlhdGl2ZXMtdmlldy1tb2RlbC5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBNZWV0aW5nVmlld01vZGVsID0gcmVxdWlyZShcIi4vbWVldGluZy12aWV3LW1vZGVsXCIpO1xuY29uc3QgcGxhdGZvcm0gPSByZXF1aXJlKFwicGxhdGZvcm1cIik7XG5jb25zdCBPYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBPYnNlcnZhYmxlQXJyYXkgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlLWFycmF5XCIpLk9ic2VydmFibGVBcnJheTtcbmNvbnN0IGFwcE1vZHVsZSA9IHJlcXVpcmUoXCJhcHBsaWNhdGlvblwiKTtcbnZhciBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG52YXIgZnJhbWVNb2R1bGUgPSByZXF1aXJlKFwidWkvZnJhbWVcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xuXG52YXIgcGFnZTtcbnZhciBuYXZpZ2F0aW9uQ29udGV4dDtcblxuLy8gdmFyIHBhZ2VEYXRhID0gbmV3IE9ic2VydmFibGVNb2R1bGUuZnJvbU9iamVjdCh7XG4vLyAgICAgYm91bmREYXRhOiBudWxsXG4vLyB9KTtcblxudmFyIHBhZ2VEYXRhID0gbmV3IE9ic2VydmFibGVNb2R1bGUuT2JzZXJ2YWJsZSgpO1xuXG5mdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgICAgIHZhciBvZmZlcmVkVG9NZW1iZXJzTGFiZWwgPSBwYWdlLmdldFZpZXdCeUlkKFwib2ZmZXJlZFRvTWVtYmVyc0xhYmVsXCIpO1xuICAgICAgICB2YXIgZm9sbG93VXBUaXRsZSA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJmb2xsb3dVcFRpdGxlXCIpO1xuICAgICAgICB2YXIgZm9sbG93VXBMYWJlbCA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJmb2xsb3dVcExhYmVsXCIpO1xuXG4gICAgICAgIGNvbnN0IGxpbWl0VGV4dCA9ICh0ZXh0LCBsaW1pdCkgPT4ge1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHRleHQ7XG5cbiAgICAgICAgICAgIGlmIChyZXN1bHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IGxpbWl0KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBsaW1pdDsgaSA+IDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gcmVzdWx0LmluZGV4T2YoXCIgXCIsIGkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPiAtMSAmJiBwb3NpdGlvbiA8PSBsaW1pdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zdWJzdHIoMCwgcG9zaXRpb24pICsgXCIuLi5cIlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgYXBwTW9kdWxlLmdldFJlc291cmNlcygpLmxpbWl0VGV4dCA9IGxpbWl0VGV4dDtcblxuICAgICAgICBpZiAoYXJncy5pc0JhY2tOYXZpZ2F0aW9uKSB7XG4gICAgICAgICAgICB2YXIgdmVudWVUeXBlTGFiZWwgPSBwYWdlLmdldFZpZXdCeUlkKFwidmVudWVUeXBlTGFiZWxcIik7XG4gICAgICAgICAgICB2YXIgbm90ZXNMYWJlbCA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJub3Rlc0xhYmVsXCIpO1xuICAgICAgICAgICAgdmFyIGxlZ2lzbGF0b3JMYWJlbCA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJsZWdpc2xhdG9yTGFiZWxcIik7XG4gICAgICAgICAgICB2YXIgYXR0ZW5kZWVUeXBlTGFiZWwgPSBwYWdlLmdldFZpZXdCeUlkKFwiYXR0ZW5kZWVUeXBlTGFiZWxcIik7XG4gICAgICAgICAgICB2YXIgbWVldGluZ0xvY2F0aW9uTGFiZWwgPSBwYWdlLmdldFZpZXdCeUlkKFwibWVldGluZ0xvY2F0aW9uTGFiZWxcIik7XG4gICAgICAgICAgICB2YXIgc3RhZmZBdHRlbmRlZXNMYWJlbCA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJzdGFmZkF0dGVuZGVlc0xhYmVsXCIpO1xuXG4gICAgICAgICAgICB2ZW51ZVR5cGVMYWJlbC50ZXh0ID0gcGFnZURhdGEudmVudWVUeXBlO1xuXG4gICAgICAgICAgICBpZiAocGFnZURhdGEub2ZmZXJlZFRvTWVtYmVycyA9PT0gdHJ1ZSB8fCBwYWdlRGF0YS5vZmZlcmVkVG9NZW1iZXJzID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgICAgIG9mZmVyZWRUb01lbWJlcnNMYWJlbC50ZXh0ID0gXCJZZXNcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2ZmZXJlZFRvTWVtYmVyc0xhYmVsLnRleHQgPSBcIk5vXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5vdGVzTGFiZWwudGV4dCA9IGxpbWl0VGV4dChwYWdlRGF0YS5ub3RlcywgMzApO1xuICAgICAgICAgICAgbGVnaXNsYXRvckxhYmVsLnRleHQgPSBwYWdlRGF0YS5mdWxsTmFtZTtcbiAgICAgICAgICAgIGF0dGVuZGVlVHlwZUxhYmVsLnRleHQgPSBwYWdlRGF0YS5hdHRlbmRlZVR5cGU7XG4gICAgICAgICAgICBtZWV0aW5nTG9jYXRpb25MYWJlbC50ZXh0ID0gcGFnZURhdGEubG9jYXRpb247XG4gICAgICAgICAgICBzdGFmZkF0dGVuZGVlc0xhYmVsLnRleHQgPSBsaW1pdFRleHQocGFnZURhdGEubGVnaXNsYXRvclN0YWZmQXR0ZW5kZWVzLCAyMCk7XG5cbiAgICAgICAgICAgIGlmIChwYWdlRGF0YS5mb2xsb3dVcE5lZWRlZCA9PT0gdHJ1ZSB8fCBwYWdlRGF0YS5mb2xsb3dVcE5lZWRlZCA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFnZURhdGEuZm9sbG93VXBEYXRlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvbGxvd1VwVGl0bGUudGV4dCA9IFwiRm9sbG93IFVwIE5lZWRlZD9cIjtcbiAgICAgICAgICAgICAgICAgICAgZm9sbG93VXBMYWJlbC50ZXh0ID0gXCJZZXNcIjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmb2xsb3dVcFRpdGxlLnRleHQgPSBcIkZvbGxvdyBVcCBEYXRlXCI7XG4gICAgICAgICAgICAgICAgICAgIGZvbGxvd1VwTGFiZWwudGV4dCA9IGRhdGVDb252ZXJ0ZXIocGFnZURhdGEuZm9sbG93VXBEYXRlLCBcIk1NL0REL1lZWVlcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb2xsb3dVcFRpdGxlLnRleHQgPSBcIkZvbGxvdyBVcCBOZWVkZWQ/XCI7XG4gICAgICAgICAgICAgICAgZm9sbG93VXBMYWJlbC50ZXh0ID0gXCJOb1wiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGFnZURhdGEudXBkYXRlZCkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50TWVldGluZyA9IG5ldyBNZWV0aW5nVmlld01vZGVsKCk7XG5cbiAgICAgICAgICAgICAgICBjdXJyZW50TWVldGluZy5sb2FkKHBhZ2VEYXRhLm1lZXRpbmdJZCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbml0aWF0aXZlc0xhYmVsID0gcGFnZS5nZXRWaWV3QnlJZChcImluaXRpYXRpdmVzTGFiZWxcIik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdXJ2ZXlzTGFiZWwgPSBwYWdlLmdldFZpZXdCeUlkKFwic3VydmV5c0xhYmVsXCIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGNpQXR0ZW5kZWVzTGFiZWwgPSBwYWdlLmdldFZpZXdCeUlkKFwicGNpQXR0ZW5kZWVzTGFiZWxcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEucGNpSW5pdGlhdGl2ZXMgPSBjdXJyZW50TWVldGluZy5wY2lJbml0aWF0aXZlcztcbiAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEuc3VydmV5cyA9IGN1cnJlbnRNZWV0aW5nLnN1cnZleXM7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnBjaUF0dGVuZGVlcyA9IGN1cnJlbnRNZWV0aW5nLnBjaUF0dGVuZGVlcztcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYXRpdmVzTGFiZWwudGV4dCA9IGxpbWl0VGV4dChwYWdlRGF0YS5wY2lJbml0aWF0aXZlcywgMjUpO1xuICAgICAgICAgICAgICAgICAgICBzdXJ2ZXlzTGFiZWwudGV4dCA9IGxpbWl0VGV4dChwYWdlRGF0YS5zdXJ2ZXlzLCAyNSk7XG4gICAgICAgICAgICAgICAgICAgIHBjaUF0dGVuZGVlc0xhYmVsLnRleHQgPSBsaW1pdFRleHQocGFnZURhdGEucGNpQXR0ZW5kZWVzLCAyNSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEudXBkYXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuYXZpZ2F0aW9uQ29udGV4dCA9IHBhZ2UubmF2aWdhdGlvbkNvbnRleHQ7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHBhZ2VEYXRhID0gbmF2aWdhdGlvbkNvbnRleHQ7XG4gICAgICAgICAgICBwYWdlRGF0YS5yZXN1bHQgPSBcIlwiO1xuXG4gICAgICAgICAgICBpZiAocGFnZURhdGEubWVldGluZ0lkID09PSBudWxsIHx8IHBhZ2VEYXRhLm1lZXRpbmdJZCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHBhZ2UuYWN0aW9uQmFyLnRpdGxlID0gXCJBZGQgTWVldGluZ1wiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiRWRpdCBNZWV0aW5nXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwYWdlRGF0YS5vZmZlcmVkVG9NZW1iZXJzID09PSB0cnVlIHx8IHBhZ2VEYXRhLm9mZmVyZWRUb01lbWJlcnMgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgICAgb2ZmZXJlZFRvTWVtYmVyc0xhYmVsLnRleHQgPSBcIlllc1wiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvZmZlcmVkVG9NZW1iZXJzTGFiZWwudGV4dCA9IFwiTm9cIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLmZvbGxvd1VwTmVlZGVkID09PSB0cnVlIHx8IHBhZ2VEYXRhLmZvbGxvd1VwTmVlZGVkID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgICAgIGlmIChwYWdlRGF0YS5mb2xsb3dVcERhdGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9sbG93VXBUaXRsZS50ZXh0ID0gXCJGb2xsb3cgVXAgTmVlZGVkP1wiO1xuICAgICAgICAgICAgICAgICAgICBmb2xsb3dVcExhYmVsLnRleHQgPSBcIlllc1wiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvbGxvd1VwVGl0bGUudGV4dCA9IFwiRm9sbG93IFVwIENvbXBsZXRlZFwiO1xuICAgICAgICAgICAgICAgICAgICBmb2xsb3dVcExhYmVsLnRleHQgPSBkYXRlQ29udmVydGVyKHBhZ2VEYXRhLmZvbGxvd1VwRGF0ZSwgXCJNTS9ERC9ZWVlZXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9sbG93VXBUaXRsZS50ZXh0ID0gXCJGb2xsb3cgVXAgTmVlZGVkP1wiO1xuICAgICAgICAgICAgICAgIGZvbGxvd1VwTGFiZWwudGV4dCA9IFwiTm9cIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHBhZ2VEYXRhO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uTG9hZGVkKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgbWVldGluZ0RhdGVEYXRlUGlja2VyID0gcGFnZS5nZXRWaWV3QnlJZChcIm1lZXRpbmdEYXRlRGF0ZVBpY2tlclwiKTtcbiAgICAgICAgXG4gICAgICAgIG1lZXRpbmdEYXRlRGF0ZVBpY2tlci5vbihcImRhdGVDaGFuZ2VcIiwgZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgICAgdmFyIG1lZXRpbmdEYXRlTGFiZWwgPSBwYWdlLmdldFZpZXdCeUlkKFwibWVldGluZ0RhdGVMYWJlbFwiKTtcblxuICAgICAgICAgICAgbWVldGluZ0RhdGVMYWJlbC50ZXh0ID0gZGF0ZUNvbnZlcnRlcihhcmdzLnZhbHVlLCBcIk1NL0REL1lZWVlcIik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblN0YWNrTGF5b3V0TWVldGluZ0RhdGVUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBtZWV0aW5nRGF0ZUdyaWRMYXlvdXQgPSBwYWdlLmdldFZpZXdCeUlkKFwibWVldGluZ0RhdGVHcmlkTGF5b3V0XCIpO1xuICAgICAgICBcbiAgICAgICAgaWYgKG1lZXRpbmdEYXRlR3JpZExheW91dC52aXNpYmlsaXR5ID09PSBcImNvbGxhcHNlXCIpIHtcbiAgICAgICAgICAgIG1lZXRpbmdEYXRlR3JpZExheW91dC52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG5cbiAgICAgICAgICAgIHBhZ2UuYWRkQ3NzKFwiI21lZXRpbmdEYXRlTGFiZWwge2NvbG9yOiAjY2MyZDMwO31cIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZWV0aW5nRGF0ZUdyaWRMYXlvdXQudmlzaWJpbGl0eSA9IFwiY29sbGFwc2VcIjtcblxuICAgICAgICAgICAgcGFnZS5hZGRDc3MoXCIjbWVldGluZ0RhdGVMYWJlbCB7Y29sb3I6ICM2NjY7fVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblN0YWNrTGF5b3V0VmVudWVUeXBlVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBjb2xsYXBzZU1lZXRpbmdEYXRlKCk7XG5cbiAgICAgICAgY29uc3QgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICAgICAgbW9kdWxlTmFtZTogXCJtZWV0aW5ncy9tZWV0aW5nL3ZlbnVldHlwZS92ZW51ZXR5cGUtcGFnZVwiLFxuICAgICAgICAgICAgY29udGV4dDogcGFnZURhdGEsXG4gICAgICAgICAgICBjbGVhckhpc3Rvcnk6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU3RhY2tMYXlvdXRPZmZlcmVkVG9NZW1iZXJzVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBjb2xsYXBzZU1lZXRpbmdEYXRlKCk7XG5cbiAgICAgICAgY29uc3QgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICAgICAgbW9kdWxlTmFtZTogXCJtZWV0aW5ncy9tZWV0aW5nL29mZmVyZWR0b21lbWJlcnMvb2ZmZXJlZHRvbWVtYmVycy1wYWdlXCIsXG4gICAgICAgICAgICBjb250ZXh0OiBwYWdlRGF0YSxcbiAgICAgICAgICAgIGNsZWFySGlzdG9yeTogZmFsc2VcbiAgICAgICAgfTtcblxuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkubmF2aWdhdGUobmF2aWdhdGlvbkVudHJ5KTtcbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25TdGFja0xheW91dE5vdGVzVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBjb2xsYXBzZU1lZXRpbmdEYXRlKCk7XG5cbiAgICAgICAgY29uc3QgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICAgICAgbW9kdWxlTmFtZTogXCJtZWV0aW5ncy9tZWV0aW5nL25vdGVzL25vdGVzLXBhZ2VcIixcbiAgICAgICAgICAgIGNvbnRleHQ6IHBhZ2VEYXRhLFxuICAgICAgICAgICAgY2xlYXJIaXN0b3J5OiBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblN0YWNrTGF5b3V0Rm9sbG93VXBUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbGxhcHNlTWVldGluZ0RhdGUoKTtcblxuICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgICAgICBtb2R1bGVOYW1lOiBcIm1lZXRpbmdzL21lZXRpbmcvZm9sbG93dXAvZm9sbG93dXAtcGFnZVwiLFxuICAgICAgICAgICAgY29udGV4dDogcGFnZURhdGEsXG4gICAgICAgICAgICBjbGVhckhpc3Rvcnk6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU3RhY2tMYXlvdXRJbml0aWF0aXZlc1RhcChhcmdzKSB7XG4gICAgdHJ5XG4gICAge1xuICAgICAgICBjb2xsYXBzZU1lZXRpbmdEYXRlKCk7XG5cbiAgICAgICAgaWYgKHBhZ2VEYXRhLm1lZXRpbmdJZCA9PT0gbnVsbCB8fCBwYWdlRGF0YS5tZWV0aW5nSWQgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChwbGF0Zm9ybS5pc0FuZHJvaWQpIHtcbiAgICAgICAgICAgICAgICBkaWFsb2dzLmNvbmZpcm0oe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJTYXZlXCIsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQSBuZXcgbWVldGluZyBtdXN0IGJlIHNhdmVkIHByaW9yIHRvIGFkZGluZyBhbiBpbml0aWF0aXZlLiBXb3VsZCB5b3UgbGlrZSB0byBzYXZlIHRoaXMgbWVldGluZz9cIixcbiAgICAgICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIlllc1wiLFxuICAgICAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBcIk5vXCJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZU1lZXRpbmcoXCJtZWV0aW5ncy9tZWV0aW5nL2luaXRpYXRpdmVzL2luaXRpYXRpdmVzLXBhZ2VcIiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBsYXRmb3JtLmlzSU9TKSB7XG4gICAgICAgICAgICAgICAgZGlhbG9ncy5hY3Rpb24oe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkEgbmV3IG1lZXRpbmcgbXVzdCBiZSBzYXZlZCBwcmlvciB0byBhZGRpbmcgYW4gaW5pdGlhdGl2ZS4gV291bGQgeW91IGxpa2UgdG8gc2F2ZSB0aGlzIG1lZXRpbmc/XCIsXG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IFwiQ2FuY2VsXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcIlNhdmVcIl1cbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gXCJTYXZlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVNZWV0aW5nKFwibWVldGluZ3MvbWVldGluZy9pbml0aWF0aXZlcy9pbml0aWF0aXZlcy1wYWdlXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFnZURhdGEucmVsYXRpb25hbFR5cGUgPSBcIm1lZXRpbmdcIjtcbiAgICAgICAgICAgIHBhZ2VEYXRhLnJlbGF0aW9uYWxJZCA9IHBhZ2VEYXRhLm1lZXRpbmdJZDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICAgICAgICAgIG1vZHVsZU5hbWU6IFwibWVldGluZ3MvbWVldGluZy9pbml0aWF0aXZlcy9pbml0aWF0aXZlcy1wYWdlXCIsXG4gICAgICAgICAgICAgICAgY29udGV4dDogcGFnZURhdGEsXG4gICAgICAgICAgICAgICAgY2xlYXJIaXN0b3J5OiBmYWxzZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25TdGFja0xheW91dFN1cnZleXNUYXAoYXJncykge1xuICAgIHRyeVxuICAgIHtcbiAgICAgICAgY29sbGFwc2VNZWV0aW5nRGF0ZSgpO1xuXG4gICAgICAgIGlmIChwYWdlRGF0YS5tZWV0aW5nSWQgPT09IG51bGwgfHwgcGFnZURhdGEubWVldGluZ0lkID09PSAwKSB7XG4gICAgICAgICAgICBpZiAocGxhdGZvcm0uaXNBbmRyb2lkKSB7XG4gICAgICAgICAgICAgICAgZGlhbG9ncy5jb25maXJtKHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiU2F2ZVwiLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkEgbmV3IG1lZXRpbmcgbXVzdCBiZSBzYXZlZCBwcmlvciB0byBhZGRpbmcgYSBzdXJ2ZXkuIFdvdWxkIHlvdSBsaWtlIHRvIHNhdmUgdGhpcyBtZWV0aW5nP1wiLFxuICAgICAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiWWVzXCIsXG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IFwiTm9cIlxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzYXZlTWVldGluZyhcImxlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXlzLXBhZ2VcIiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBsYXRmb3JtLmlzSU9TKSB7XG4gICAgICAgICAgICAgICAgZGlhbG9ncy5hY3Rpb24oe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkEgbmV3IG1lZXRpbmcgbXVzdCBiZSBzYXZlZCBwcmlvciB0byBhZGRpbmcgYSBzdXJ2ZXkuIFdvdWxkIHlvdSBsaWtlIHRvIHNhdmUgdGhpcyBtZWV0aW5nP1wiLFxuICAgICAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBcIkNhbmNlbFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXCJTYXZlXCJdXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IFwiU2F2ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzYXZlTWVldGluZyhcImxlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXlzLXBhZ2VcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhZ2VEYXRhLnJlbGF0aW9uYWxUeXBlID0gXCJtZWV0aW5nXCI7XG4gICAgICAgICAgICBwYWdlRGF0YS5yZWxhdGlvbmFsSWQgPSBwYWdlRGF0YS5tZWV0aW5nSWQ7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgICAgICAgICBtb2R1bGVOYW1lOiBcImxlZ2lzbGF0b3JzL2xlZ2lzbGF0b3Ivc3VydmV5cy9zdXJ2ZXlzLXBhZ2VcIixcbiAgICAgICAgICAgICAgICBjb250ZXh0OiBwYWdlRGF0YSxcbiAgICAgICAgICAgICAgICBjbGVhckhpc3Rvcnk6IGZhbHNlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkubmF2aWdhdGUobmF2aWdhdGlvbkVudHJ5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblN0YWNrTGF5b3V0TGVnaXNsYXRvclRhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29sbGFwc2VNZWV0aW5nRGF0ZSgpO1xuXG4gICAgICAgIGNvbnN0IG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgICAgIG1vZHVsZU5hbWU6IFwibWVldGluZ3MvbWVldGluZy9sZWdpc2xhdG9yL2xlZ2lzbGF0b3ItcGFnZVwiLFxuICAgICAgICAgICAgY29udGV4dDogcGFnZURhdGEsXG4gICAgICAgICAgICBjbGVhckhpc3Rvcnk6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU3RhY2tMYXlvdXRBdHRlbmRlZVR5cGVUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbGxhcHNlTWVldGluZ0RhdGUoKTtcblxuICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgICAgICBtb2R1bGVOYW1lOiBcIm1lZXRpbmdzL21lZXRpbmcvYXR0ZW5kZWV0eXBlL2F0dGVuZGVldHlwZS1wYWdlXCIsXG4gICAgICAgICAgICBjb250ZXh0OiBwYWdlRGF0YSxcbiAgICAgICAgICAgIGNsZWFySGlzdG9yeTogZmFsc2VcbiAgICAgICAgfTtcblxuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkubmF2aWdhdGUobmF2aWdhdGlvbkVudHJ5KTtcbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25TdGFja0xheW91dE1lZXRpbmdMb2NhdGlvblRhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29sbGFwc2VNZWV0aW5nRGF0ZSgpO1xuXG4gICAgICAgIGNvbnN0IG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgICAgIG1vZHVsZU5hbWU6IFwibWVldGluZ3MvbWVldGluZy9tZWV0aW5nbG9jYXRpb24vbWVldGluZ2xvY2F0aW9uLXBhZ2VcIixcbiAgICAgICAgICAgIGNvbnRleHQ6IHBhZ2VEYXRhLFxuICAgICAgICAgICAgY2xlYXJIaXN0b3J5OiBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblN0YWNrTGF5b3V0UGNpQXR0ZW5kZWVzVGFwKGFyZ3MpIHtcbiAgICB0cnlcbiAgICB7XG4gICAgICAgIGNvbGxhcHNlTWVldGluZ0RhdGUoKTtcblxuICAgICAgICBpZiAocGFnZURhdGEubWVldGluZ0lkID09PSBudWxsIHx8IHBhZ2VEYXRhLm1lZXRpbmdJZCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHBsYXRmb3JtLmlzQW5kcm9pZCkge1xuICAgICAgICAgICAgICAgIGRpYWxvZ3MuY29uZmlybSh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIlNhdmVcIixcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJBIG5ldyBtZWV0aW5nIG11c3QgYmUgc2F2ZWQgcHJpb3IgdG8gYWRkaW5nIFBDSSBhdHRlbmRlZXMuIFdvdWxkIHlvdSBsaWtlIHRvIHNhdmUgdGhpcyBtZWV0aW5nP1wiLFxuICAgICAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiWWVzXCIsXG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IFwiTm9cIlxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzYXZlTWVldGluZyhcInByb2ZpbGVzL3Byb2ZpbGVzLXBhZ2VcIiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBsYXRmb3JtLmlzSU9TKSB7XG4gICAgICAgICAgICAgICAgZGlhbG9ncy5hY3Rpb24oe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkEgbmV3IG1lZXRpbmcgbXVzdCBiZSBzYXZlZCBwcmlvciB0byBhZGRpbmcgUENJIGF0dGVuZGVlcy4gV291bGQgeW91IGxpa2UgdG8gc2F2ZSB0aGlzIG1lZXRpbmc/XCIsXG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IFwiQ2FuY2VsXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbnM6IFtcIlNhdmVcIl1cbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gXCJTYXZlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVNZWV0aW5nKFwicHJvZmlsZXMvcHJvZmlsZXMtcGFnZVwiLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFnZURhdGEucmVsYXRpb25hbFR5cGUgPSBcIm1lZXRpbmdcIjtcbiAgICAgICAgICAgIHBhZ2VEYXRhLnJlbGF0aW9uYWxJZCA9IHBhZ2VEYXRhLm1lZXRpbmdJZDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICAgICAgICAgIG1vZHVsZU5hbWU6IFwicHJvZmlsZXMvcHJvZmlsZXMtcGFnZVwiLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6IHBhZ2VEYXRhLFxuICAgICAgICAgICAgICAgIGNsZWFySGlzdG9yeTogZmFsc2VcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU3RhY2tMYXlvdXRTdGFmZkF0dGVuZGVlc1RhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29sbGFwc2VNZWV0aW5nRGF0ZSgpO1xuXG4gICAgICAgIGNvbnN0IG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgICAgIG1vZHVsZU5hbWU6IFwibWVldGluZ3MvbWVldGluZy9zdGFmZmF0dGVuZGVlcy9zdGFmZmF0dGVuZGVlcy1wYWdlXCIsXG4gICAgICAgICAgICBjb250ZXh0OiBwYWdlRGF0YSxcbiAgICAgICAgICAgIGNsZWFySGlzdG9yeTogZmFsc2VcbiAgICAgICAgfTtcblxuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkubmF2aWdhdGUobmF2aWdhdGlvbkVudHJ5KTtcbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25CYWNrVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkuZ29CYWNrKCk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblNhdmVUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbGxhcHNlTWVldGluZ0RhdGUoKTtcblxuICAgICAgICBzYXZlTWVldGluZyhudWxsLCBmYWxzZSk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2F2ZU1lZXRpbmcobW9kdWxlTmFtZSwgaXNBdHRlbmRlZXMpIHtcbiAgICB2YXIgaXNBZGQgPSBmYWxzZTtcblxuICAgIGlmIChwYWdlRGF0YS5tZWV0aW5nSWQgPT09IG51bGwgfHwgcGFnZURhdGEubWVldGluZ0lkID09PSAwKSB7XG4gICAgICAgIGlzQWRkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBodHRwLnJlcXVlc3Qoe1xuICAgICAgICB1cmw6IGdsb2JhbC5hcGlCYXNlU2VydmljZVVybCArIFwiaW5zZXJ0dXBkYXRlbWVldGluZ1wiLFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLCBcIkF1dGhvcml6YXRpb25cIjogZ2xvYmFsLnRva2VuIH0sXG4gICAgICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KHBhZ2VEYXRhKVxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZXNwb25zZS5jb250ZW50LnRvU3RyaW5nKCk7XG4gICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShyZXN1bHQpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGRhdGEuTWVldGluZ0lkICE9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoaXNBZGQpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFnZURhdGEuYXNzaWdubWVudElkICE9PSBudWxsICYmIHBhZ2VEYXRhLmFzc2lnbm1lbnRJZCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBnbG9iYWwucmVmcmVzaEFzc2lnbm1lbnRzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtb2R1bGVOYW1lID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcGFnZURhdGEubWVldGluZ0lkID0gZGF0YS5NZWV0aW5nSWQ7XG5cbiAgICAgICAgICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkuZ29CYWNrKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhZ2VEYXRhLm1lZXRpbmdJZCA9IGRhdGEuTWVldGluZ0lkO1xuXG4gICAgICAgICAgICAgICAgLy9pZiAoaXNBdHRlbmRlZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEucmVsYXRpb25hbFR5cGUgPSBcIm1lZXRpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEucmVsYXRpb25hbElkID0gcGFnZURhdGEubWVldGluZ0lkOyBcbiAgICAgICAgICAgICAgICAvL31cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZU5hbWU6IG1vZHVsZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHBhZ2VEYXRhLFxuICAgICAgICAgICAgICAgICAgICBjbGVhckhpc3Rvcnk6IGZhbHNlXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGlhbG9ncy5hbGVydChcIlRoZXJlIHdhcyBhbiBlcnJvciBzYXZpbmcgdGhlIG1lZXRpbmcuXCIpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBkYXRlQ29udmVydGVyKHZhbHVlLCBmb3JtYXQpIHtcbiAgICBsZXQgcmVzdWx0ID0gZm9ybWF0O1xuXG4gICAgY29uc3QgZGF5ID0gdmFsdWUuZ2V0RGF0ZSgpO1xuXG4gICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoXCJERFwiLCBkYXkgPCAxMCA/IGAwJHtkYXl9YCA6IGRheSk7XG5cbiAgICBjb25zdCBtb250aCA9IHZhbHVlLmdldE1vbnRoKCkgKyAxO1xuXG4gICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoXCJNTVwiLCBtb250aCA8IDEwID8gYDAke21vbnRofWAgOiBtb250aCk7XG4gICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoXCJZWVlZXCIsIHZhbHVlLmdldEZ1bGxZZWFyKCkpO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmZ1bmN0aW9uIGNvbGxhcHNlTWVldGluZ0RhdGUoKSB7XG4gICAgdmFyIG1lZXRpbmdEYXRlR3JpZExheW91dCA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJtZWV0aW5nRGF0ZUdyaWRMYXlvdXRcIik7XG5cbiAgICBtZWV0aW5nRGF0ZUdyaWRMYXlvdXQudmlzaWJpbGl0eSA9IFwiY29sbGFwc2VcIjtcblxuICAgIHBhZ2UuYWRkQ3NzKFwiI21lZXRpbmdEYXRlTGFiZWwge2NvbG9yOiAjNjY2O31cIik7XG59XG5cbmV4cG9ydHMub25OYXZpZ2F0aW5nVG8gPSBvbk5hdmlnYXRpbmdUbztcbmV4cG9ydHMub25Mb2FkZWQgPSBvbkxvYWRlZDtcbmV4cG9ydHMub25TdGFja0xheW91dE1lZXRpbmdEYXRlVGFwID0gb25TdGFja0xheW91dE1lZXRpbmdEYXRlVGFwO1xuZXhwb3J0cy5vblN0YWNrTGF5b3V0VmVudWVUeXBlVGFwID0gb25TdGFja0xheW91dFZlbnVlVHlwZVRhcDtcbmV4cG9ydHMub25TdGFja0xheW91dE9mZmVyZWRUb01lbWJlcnNUYXAgPSBvblN0YWNrTGF5b3V0T2ZmZXJlZFRvTWVtYmVyc1RhcDtcbmV4cG9ydHMub25TdGFja0xheW91dE5vdGVzVGFwID0gb25TdGFja0xheW91dE5vdGVzVGFwO1xuZXhwb3J0cy5vblN0YWNrTGF5b3V0Rm9sbG93VXBUYXAgPSBvblN0YWNrTGF5b3V0Rm9sbG93VXBUYXA7XG5leHBvcnRzLm9uU3RhY2tMYXlvdXRJbml0aWF0aXZlc1RhcCA9IG9uU3RhY2tMYXlvdXRJbml0aWF0aXZlc1RhcDtcbmV4cG9ydHMub25TdGFja0xheW91dFN1cnZleXNUYXAgPSBvblN0YWNrTGF5b3V0U3VydmV5c1RhcDtcbmV4cG9ydHMub25TdGFja0xheW91dExlZ2lzbGF0b3JUYXAgPSBvblN0YWNrTGF5b3V0TGVnaXNsYXRvclRhcDtcbmV4cG9ydHMub25TdGFja0xheW91dEF0dGVuZGVlVHlwZVRhcCA9IG9uU3RhY2tMYXlvdXRBdHRlbmRlZVR5cGVUYXA7XG5leHBvcnRzLm9uU3RhY2tMYXlvdXRNZWV0aW5nTG9jYXRpb25UYXAgPSBvblN0YWNrTGF5b3V0TWVldGluZ0xvY2F0aW9uVGFwO1xuZXhwb3J0cy5vblN0YWNrTGF5b3V0UGNpQXR0ZW5kZWVzVGFwID0gb25TdGFja0xheW91dFBjaUF0dGVuZGVlc1RhcDtcbmV4cG9ydHMub25TdGFja0xheW91dFN0YWZmQXR0ZW5kZWVzVGFwID0gb25TdGFja0xheW91dFN0YWZmQXR0ZW5kZWVzVGFwO1xuZXhwb3J0cy5vbkJhY2tUYXAgPSBvbkJhY2tUYXA7XG5leHBvcnRzLm9uU2F2ZVRhcCA9IG9uU2F2ZVRhcDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmctcGFnZS5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL21lZXRpbmdzL21lZXRpbmcvbWVldGluZy1wYWdlLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxubW9kdWxlLmV4cG9ydHMgPSBcIjxQYWdlIG5hdmlnYXRpbmdUbz1cXFwib25OYXZpZ2F0aW5nVG9cXFwiIGxvYWRlZD1cXFwib25Mb2FkZWRcXFwiIGNsYXNzPVxcXCJwYWdlXFxcIiB4bWxucz1cXFwiaHR0cDovL3NjaGVtYXMubmF0aXZlc2NyaXB0Lm9yZy90bnMueHNkXFxcIiA+XFxuICAgIDxBY3Rpb25CYXIgY2xhc3M9XFxcImFjdGlvbi1iYXJcXFwiPlxcbiAgICAgICAgPGFuZHJvaWQ+XFxuICAgICAgICAgICAgPE5hdmlnYXRpb25CdXR0b24gYW5kcm9pZC5zeXN0ZW1JY29uPVxcXCJpY19tZW51X2JhY2tcXFwiIHRhcD1cXFwib25CYWNrVGFwXFxcIiAvPlxcbiAgICAgICAgPC9hbmRyb2lkPlxcbiAgICAgICAgPEFjdGlvbkl0ZW0gdGFwPVxcXCJvblNhdmVUYXBcXFwiIGlvcy5zeXN0ZW1JY29uPVxcXCIzXFxcIiBhbmRyb2lkLnN5c3RlbUljb249XFxcImljX21lbnVfc2F2ZVxcXCIgaW9zLnBvc2l0aW9uPVxcXCJyaWdodFxcXCIgLz5cXG4gICAgPC9BY3Rpb25CYXI+XFxuXFxuICAgIDxTY3JvbGxWaWV3PlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiPlxcbiAgICAgICAgICAgIDxTdGFja0xheW91dCB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LXNlY3Rpb24tYmxhbmtcXFwiPlxcbiAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cXFwiXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwiYm90dG9tXFxcIiAvPlxcbiAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHZlcnRpY2FsQWxpZ25tZW50PVxcXCJib3R0b21cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctc2VjdGlvbi1oZWFkZXJcXFwiPlxcbiAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cXFwiTUVFVElORyBJTkZPUk1BVElPTlxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcImJvdHRvbVxcXCIgLz5cXG4gICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgIDxTdGFja0xheW91dCB0YXA9XFxcIm9uU3RhY2tMYXlvdXRNZWV0aW5nRGF0ZVRhcFxcXCI+XFxuICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIiosIGF1dG9cXFwiIHJvd3M9XFxcIipcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiTWVldGluZyBEYXRlXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbGVmdFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwibWVldGluZ0RhdGVMYWJlbFxcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IG1lZXRpbmdEYXRlIHwgZGF0ZUNvbnZlcnRlcihkYXRlRm9ybWF0KSB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICA8R3JpZExheW91dCBpZD1cXFwibWVldGluZ0RhdGVHcmlkTGF5b3V0XFxcIiBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCIgdmlzaWJpbGl0eT1cXFwiY29sbGFwc2VcXFwiPlxcbiAgICAgICAgICAgICAgICA8RGF0ZVBpY2tlciBpZD1cXFwibWVldGluZ0RhdGVEYXRlUGlja2VyXFxcIiByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgZGF0ZT1cXFwie3sgbWVldGluZ0RhdGUgfX1cXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXBpY2tlclxcXCI+PC9EYXRlUGlja2VyPlxcbiAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICA8U3RhY2tMYXlvdXQgdGFwPVxcXCJvblN0YWNrTGF5b3V0VmVudWVUeXBlVGFwXFxcIj5cXG4gICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiYXV0bywgKiwgYXV0b1xcXCIgcm93cz1cXFwiYXV0b1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJWZW51ZVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaWQ9XFxcInZlbnVlVHlwZUxhYmVsXFxcIiByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwie3sgdmVudWVUeXBlIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tcmlnaHRcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjJcXFwiIHRleHQ9XFxcIiYjeGYxMDU7XFxcIiBjbGFzcz1cXFwiZm4tbGlzdC12aWV3LWl0ZW1cXFwiIC8+XFxuICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgIDxTdGFja0xheW91dCB0YXA9XFxcIm9uU3RhY2tMYXlvdXRPZmZlcmVkVG9NZW1iZXJzVGFwXFxcIj5cXG4gICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiYXV0bywgKiwgYXV0b1xcXCIgcm93cz1cXFwiYXV0b1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJPZmZlcmVkIHRvIEFQQ0lBIE1lbWJlcnM/XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbGVmdFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwib2ZmZXJlZFRvTWVtYmVyc0xhYmVsXFxcIiByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwiXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tcmlnaHRcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjJcXFwiIHRleHQ9XFxcIiYjeGYxMDU7XFxcIiBjbGFzcz1cXFwiZm4tbGlzdC12aWV3LWl0ZW1cXFwiIC8+XFxuICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgIDxTdGFja0xheW91dCB0YXA9XFxcIm9uU3RhY2tMYXlvdXROb3Rlc1RhcFxcXCI+XFxuICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcImF1dG8sICosIGF1dG9cXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtLWJvdHRvbVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIk5vdGVzXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbGVmdFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwibm90ZXNMYWJlbFxcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IG5vdGVzIHwgbGltaXRUZXh0KDMwKSB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIyXFxcIiB0ZXh0PVxcXCImI3hmMTA1O1xcXCIgY2xhc3M9XFxcImZuLWxpc3Qtdmlldy1pdGVtXFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICA8IS0tIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcIipcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtLWJvdHRvbVxcXCI+XFxuICAgICAgICAgICAgICAgIDxUZXh0VmlldyByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwie3sgbm90ZXMgfX1cXFwiIGhpbnQ9XFxcIk5vdGVzXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tcmlnaHRcXFwiIC8+XFxuICAgICAgICAgICAgPC9HcmlkTGF5b3V0PiAtLT5cXG4gICAgICAgICAgICA8U3RhY2tMYXlvdXQgdmVydGljYWxBbGlnbm1lbnQ9XFxcImJvdHRvbVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1zZWN0aW9uLWhlYWRlclxcXCI+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJGT0xMT1cgVVAgSU5GT1JNQVRJT05cXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJib3R0b21cXFwiIC8+XFxuICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICA8U3RhY2tMYXlvdXQgdGFwPVxcXCJvblN0YWNrTGF5b3V0Rm9sbG93VXBUYXBcXFwiPlxcbiAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCJhdXRvLCAqLCBhdXRvXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybS1ib3R0b21cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJmb2xsb3dVcFRpdGxlXFxcIiByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbGVmdFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwiZm9sbG93VXBMYWJlbFxcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcIlxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIyXFxcIiB0ZXh0PVxcXCImI3hmMTA1O1xcXCIgY2xhc3M9XFxcImZuLWxpc3Qtdmlldy1pdGVtXFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICA8U3RhY2tMYXlvdXQgdmVydGljYWxBbGlnbm1lbnQ9XFxcImJvdHRvbVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1zZWN0aW9uLWhlYWRlclxcXCI+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJSRUxBVEVEIElORk9STUFUSU9OXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwiYm90dG9tXFxcIiAvPlxcbiAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHRhcD1cXFwib25TdGFja0xheW91dEluaXRpYXRpdmVzVGFwXFxcIj5cXG4gICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiYXV0bywgKiwgYXV0b1xcXCIgcm93cz1cXFwiKlxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJJbml0aWF0aXZlc1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImluaXRpYXRpdmVzTGFiZWxcXFwiIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJ7eyBwY2lJbml0aWF0aXZlcyB8IGxpbWl0VGV4dCgyNSkgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1yaWdodFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMlxcXCIgdGV4dD1cXFwiJiN4ZjEwNTtcXFwiIGNsYXNzPVxcXCJmbi1saXN0LXZpZXctaXRlbVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHRhcD1cXFwib25TdGFja0xheW91dFN1cnZleXNUYXBcXFwiPlxcbiAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCJhdXRvLCAqLCBhdXRvXFxcIiByb3dzPVxcXCIqXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybS1ib3R0b21cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJTdXJ2ZXlzXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbGVmdFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwic3VydmV5c0xhYmVsXFxcIiByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwie3sgc3VydmV5cyB8IGxpbWl0VGV4dCgyNSkgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1yaWdodFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMlxcXCIgdGV4dD1cXFwiJiN4ZjEwNTtcXFwiIGNsYXNzPVxcXCJmbi1saXN0LXZpZXctaXRlbVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHZlcnRpY2FsQWxpZ25tZW50PVxcXCJib3R0b21cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctc2VjdGlvbi1oZWFkZXJcXFwiPlxcbiAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cXFwiQVRURU5ERUUgSU5GT1JNQVRJT05cXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJib3R0b21cXFwiIC8+XFxuICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICA8IS0tIDxTdGFja0xheW91dCB0YXA9XFxcIm9uU3RhY2tMYXlvdXRMZWdpc2xhdG9yVGFwXFxcIj4gLS0+XFxuICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIiosIGF1dG9cXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiTGVnaXNsYXRvclxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJtaWRkbGVcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImxlZ2lzbGF0b3JMYWJlbFxcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IGZ1bGxOYW1lIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tcmlnaHRcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8IS0tIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMlxcXCIgdGV4dD1cXFwiJiN4ZjEwNTtcXFwiIGNsYXNzPVxcXCJmbi1saXN0LXZpZXctaXRlbVxcXCIgLz4gLS0+XFxuICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICA8IS0tIDwvU3RhY2tMYXlvdXQ+IC0tPlxcbiAgICAgICAgICAgIDxTdGFja0xheW91dCB0YXA9XFxcIm9uU3RhY2tMYXlvdXRBdHRlbmRlZVR5cGVUYXBcXFwiPlxcbiAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCJhdXRvLCAqLCBhdXRvXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIkNvbmcuIE9mZmljZSBBdHRlbmRlZXNcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1sZWZ0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJhdHRlbmRlZVR5cGVMYWJlbFxcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IGF0dGVuZGVlVHlwZSB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIyXFxcIiB0ZXh0PVxcXCImI3hmMTA1O1xcXCIgY2xhc3M9XFxcImZuLWxpc3Qtdmlldy1pdGVtXFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICA8U3RhY2tMYXlvdXQgdGFwPVxcXCJvblN0YWNrTGF5b3V0TWVldGluZ0xvY2F0aW9uVGFwXFxcIj5cXG4gICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiYXV0bywgKiwgYXV0b1xcXCIgcm93cz1cXFwiYXV0b1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJUeXBlXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbGVmdFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwibWVldGluZ0xvY2F0aW9uTGFiZWxcXFwiIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJ7eyBsb2NhdGlvbiB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIyXFxcIiB0ZXh0PVxcXCImI3hmMTA1O1xcXCIgY2xhc3M9XFxcImZuLWxpc3Qtdmlldy1pdGVtXFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICA8U3RhY2tMYXlvdXQgdGFwPVxcXCJvblN0YWNrTGF5b3V0UGNpQXR0ZW5kZWVzVGFwXFxcIj5cXG4gICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiYXV0bywgKiwgYXV0b1xcXCIgcm93cz1cXFwiKlxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJBUENJQSBBdHRlbmRlZXNcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1sZWZ0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJwY2lBdHRlbmRlZXNMYWJlbFxcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcInt7IHBjaUF0dGVuZGVlcyB8IGxpbWl0VGV4dCgyNSkgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1yaWdodFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMlxcXCIgdGV4dD1cXFwiJiN4ZjEwNTtcXFwiIGNsYXNzPVxcXCJmbi1saXN0LXZpZXctaXRlbVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHRhcD1cXFwib25TdGFja0xheW91dFN0YWZmQXR0ZW5kZWVzVGFwXFxcIj5cXG4gICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiYXV0bywgKiwgYXV0b1xcXCIgcm93cz1cXFwiYXV0b1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJDb25nLiBTdGFmZiBBdHRlbmRlZXNcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1sZWZ0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJzdGFmZkF0dGVuZGVlc0xhYmVsXFxcIiByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwie3sgbGVnaXNsYXRvclN0YWZmQXR0ZW5kZWVzIHwgbGltaXRUZXh0KDIwKSB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIyXFxcIiB0ZXh0PVxcXCImI3hmMTA1O1xcXCIgY2xhc3M9XFxcImZuLWxpc3Qtdmlldy1pdGVtXFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICA8IS0tIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcIipcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtLWJvdHRvbVxcXCI+XFxuICAgICAgICAgICAgICAgIDxUZXh0VmlldyByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwie3sgbGVnaXNsYXRvclN0YWZmQXR0ZW5kZWVzIH19XFxcIiBoaW50PVxcXCJDb25ncmVzc2lvbmFsIFN0YWZmIEF0dGVuZGVlc1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIiAvPlxcbiAgICAgICAgICAgIDwvR3JpZExheW91dD4gLS0+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICA8L1Njcm9sbFZpZXc+XFxuPC9QYWdlPlxcblwiOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL21lZXRpbmdzL21lZXRpbmcvbWVldGluZy1wYWdlLnhtbFwiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJtYXJrdXBcIiwgcGF0aDogXCIuL21lZXRpbmdzL21lZXRpbmcvbWVldGluZy1wYWdlLnhtbFwiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBPYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xuXG5mdW5jdGlvbiBNZWV0aW5nVmlld01vZGVsKCkge1xuICAgIGNvbnN0IHZpZXdNb2RlbCA9IE9ic2VydmFibGVNb2R1bGUuZnJvbU9iamVjdCh7XG4gICAgICAgIG1lZXRpbmdJZDogbnVsbCxcbiAgICAgICAgbWVldGluZ0RhdGU6IG51bGwsXG4gICAgICAgIHZlbnVlVHlwZUlkOiBudWxsLFxuICAgICAgICB2ZW51ZVR5cGU6IG51bGwsXG4gICAgICAgIGF0dGVuZGVlVHlwZUlkOiBudWxsLFxuICAgICAgICBhdHRlbmRlZVR5cGU6IG51bGwsXG4gICAgICAgIGxvYmJ5aXN0SWQ6IG51bGwsXG4gICAgICAgIGxvYmJ5aXN0OiBudWxsLFxuICAgICAgICBsZWdpc2xhdG9ySWQ6IG51bGwsXG4gICAgICAgIGZ1bGxOYW1lOiBudWxsLFxuICAgICAgICBuYW1lOiBudWxsLFxuICAgICAgICBwY2lJbml0aWF0aXZlczogbnVsbCxcbiAgICAgICAgc3VydmV5czogbnVsbCxcbiAgICAgICAgcGNpQXR0ZW5kZWVzOiBudWxsLFxuICAgICAgICBwcmltYXJ5T2ZmaWNlQ29udGFjdDogbnVsbCxcbiAgICAgICAgbWVldGluZ0xvY2F0aW9uSWQ6IG51bGwsXG4gICAgICAgIGxvY2F0aW9uOiBudWxsLFxuICAgICAgICBsZWdpc2xhdG9yU3RhZmZBdHRlbmRlZXM6IG51bGwsXG4gICAgICAgIGZvbGxvd1VwTmVlZGVkOiBudWxsLFxuICAgICAgICBmb2xsb3dVcERhdGU6IG51bGwsXG4gICAgICAgIGZvbGxvd1VwTm90ZXM6IG51bGwsXG4gICAgICAgIGNyZWF0b3JJZDogbnVsbCxcbiAgICAgICAgbm90ZXM6IG51bGwsXG4gICAgICAgIGluaXRpYXRpdmVJZDogbnVsbCxcbiAgICAgICAgc3VydmV5SWQ6IG51bGwsXG4gICAgICAgIGFzc2lnbm1lbnRJZDogbnVsbCxcblxuICAgICAgICBsb2FkOiBmdW5jdGlvbihtZWV0aW5nSWQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGh0dHAucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogZ2xvYmFsLmFwaUJhc2VTZXJ2aWNlVXJsICsgXCJtZWV0aW5nP21lZXRpbmdJZD1cIiArIG1lZXRpbmdJZCxcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLCBcIkF1dGhvcml6YXRpb25cIjogZ2xvYmFsLnRva2VuIH1cbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzcG9uc2UuY29udGVudC50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lZXRpbmdEYXRlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZm9sbG93VXBEYXRlO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbWVldGluZ0RhdGUgPSBuZXcgRGF0ZShwYXJzZUludChkYXRhLk1lZXRpbmdEYXRlLnN1YnN0cmluZyhkYXRhLk1lZXRpbmdEYXRlLmluZGV4T2YoXCIvRGF0ZShcIikgKyA2LCBkYXRhLk1lZXRpbmdEYXRlLmluZGV4T2YoXCIpL1wiKSkpKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5Gb2xsb3dVcERhdGUgPT09IG51bGwgfHwgZGF0YS5Gb2xsb3dVcERhdGUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb2xsb3dVcERhdGUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9sbG93VXBEYXRlID0gbmV3IERhdGUocGFyc2VJbnQoZGF0YS5Gb2xsb3dVcERhdGUuc3Vic3RyaW5nKGRhdGEuRm9sbG93VXBEYXRlLmluZGV4T2YoXCIvRGF0ZShcIikgKyA2LCBkYXRhLkZvbGxvd1VwRGF0ZS5pbmRleE9mKFwiKS9cIikpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwubWVldGluZ0lkID0gZGF0YS5NZWV0aW5nSWQsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5tZWV0aW5nRGF0ZSA9IG1lZXRpbmdEYXRlLFxuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwudmVudWVUeXBlSWQgPSBkYXRhLlZlbnVlVHlwZUlkLFxuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwudmVudWVUeXBlID0gZGF0YS5WZW51ZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5hdHRlbmRlZVR5cGVJZCA9IGRhdGEuQXR0ZW5kZWVUeXBlSWQsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5hdHRlbmRlZVR5cGUgPSBkYXRhLkF0dGVuZGVlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgdmlld01vZGVsLmxvYmJ5aXN0SWQgPSBkYXRhLkxvYmJ5aXN0SWQsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5sb2JieWlzdCA9IGRhdGEuTG9iYnlpc3QsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5sZWdpc2xhdG9ySWQgPSBkYXRhLkxlZ2lzbGF0b3JJZCxcbiAgICAgICAgICAgICAgICAgICAgdmlld01vZGVsLmZ1bGxOYW1lID0gZGF0YS5GdWxsTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmlld01vZGVsLm5hbWUgPSBkYXRhLk5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5wY2lJbml0aWF0aXZlcyA9IGRhdGEuUGNpSW5pdGlhdGl2ZXMsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5zdXJ2ZXlzID0gZGF0YS5TdXJ2ZXlzLFxuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwucGNpQXR0ZW5kZWVzID0gZGF0YS5QY2lBdHRlbmRlZXMsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5wcmltYXJ5T2ZmaWNlQ29udGFjdCA9IGRhdGEuUHJpbWFyeU9mZmljZUNvbnRhY3QsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5tZWV0aW5nTG9jYXRpb25JZCA9IGRhdGEuTWVldGluZ0xvY2F0aW9uSWQsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5sb2NhdGlvbiA9IGRhdGEuTG9jYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5sZWdpc2xhdG9yU3RhZmZBdHRlbmRlZXMgPSBkYXRhLkxlZ2lzbGF0b3JTdGFmZkF0dGVuZGVlcyxcbiAgICAgICAgICAgICAgICAgICAgdmlld01vZGVsLmZvbGxvd1VwTmVlZGVkID0gZGF0YS5Gb2xsb3dVcE5lZWRlZCxcbiAgICAgICAgICAgICAgICAgICAgdmlld01vZGVsLmZvbGxvd1VwRGF0ZSA9IGZvbGxvd1VwRGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgdmlld01vZGVsLmZvbGxvd1VwTm90ZXMgPSBkYXRhLkZvbGxvd1VwTm90ZXMsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5jcmVhdG9ySWQgPSBkYXRhLkNyZWF0b3JJZCxcbiAgICAgICAgICAgICAgICAgICAgdmlld01vZGVsLm5vdGVzID0gZGF0YS5Ob3RlcyxcbiAgICAgICAgICAgICAgICAgICAgdmlld01vZGVsLmluaXRpYXRpdmVJZCA9IGRhdGEuSW5pdGlhdGl2ZUlkLFxuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwuc3VydmV5SWQgPSBkYXRhLlN1cnZleUlkLFxuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwuYXNzaWdubWVudElkID0gZGF0YS5Bc3NpZ25tZW50SWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShcIlNVQ0NFU1NcIik7XG5cbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICByZWplY3QoXCJGQUlMVVJFXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHZpZXdNb2RlbDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBNZWV0aW5nVmlld01vZGVsO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL21lZXRpbmdzL21lZXRpbmcvbWVldGluZy12aWV3LW1vZGVsLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vbWVldGluZ3MvbWVldGluZy9tZWV0aW5nLXZpZXctbW9kZWwuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3QgTWVldGluZ0xvY2F0aW9uVmlld01vZGVsID0gcmVxdWlyZShcIi4vbWVldGluZ2xvY2F0aW9uLXZpZXctbW9kZWxcIik7XG5jb25zdCBPYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBmcmFtZU1vZHVsZSA9IHJlcXVpcmUoXCJ1aS9mcmFtZVwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG5cbnZhciBwYWdlO1xudmFyIG5hdmlnYXRpb25Db250ZXh0O1xudmFyIG1lZXRpbmdMb2NhdGlvbkxpc3QgPSBuZXcgTWVldGluZ0xvY2F0aW9uVmlld01vZGVsKFtdKTtcblxudmFyIG1lZXRpbmdMb2NhdGlvbkluZGV4ID0gMDtcblxudmFyIHBhZ2VEYXRhID0gbmV3IE9ic2VydmFibGVNb2R1bGUuZnJvbU9iamVjdCh7XG4gICAgYm91bmREYXRhOiBudWxsLFxuICAgIG1lZXRpbmdMb2NhdGlvbkluZGV4OiBtZWV0aW5nTG9jYXRpb25JbmRleCxcbiAgICBtZWV0aW5nTG9jYXRpb25MaXN0OiBudWxsLFxuICAgIGlzTG9hZGluZzogZmFsc2Vcbn0pO1xuXG5mdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiVHlwZVwiO1xuXG4gICAgICAgIG5hdmlnYXRpb25Db250ZXh0ID0gcGFnZS5uYXZpZ2F0aW9uQ29udGV4dDtcblxuICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEgPSBuYXZpZ2F0aW9uQ29udGV4dDtcblxuICAgICAgICBpZiAoZ2xvYmFsLm1lZXRpbmdMb2NhdGlvbkxpc3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuXG4gICAgICAgICAgICBtZWV0aW5nTG9jYXRpb25MaXN0LmxvYWQoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBnbG9iYWwubWVldGluZ0xvY2F0aW9uTGlzdCA9IG1lZXRpbmdMb2NhdGlvbkxpc3Q7XG5cbiAgICAgICAgICAgICAgICBwYWdlRGF0YS5tZWV0aW5nTG9jYXRpb25MaXN0ID0gZ2xvYmFsLm1lZXRpbmdMb2NhdGlvbkxpc3Q7XG5cbiAgICAgICAgICAgICAgICBtZWV0aW5nTG9jYXRpb25JbmRleCA9IDA7XG5cbiAgICAgICAgICAgICAgICBpZiAocGFnZURhdGEuYm91bmREYXRhLm1lZXRpbmdMb2NhdGlvbklkICE9PSBudWxsICYmIHBhZ2VEYXRhLmJvdW5kRGF0YS5tZWV0aW5nTG9jYXRpb25JZC50b1N0cmluZygpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhZ2VEYXRhLm1lZXRpbmdMb2NhdGlvbkxpc3QuTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLm1lZXRpbmdMb2NhdGlvbkxpc3QuTGlzdC5nZXRJdGVtKGkpLm1lZXRpbmdMb2NhdGlvbklkID09PSBwYWdlRGF0YS5ib3VuZERhdGEubWVldGluZ0xvY2F0aW9uSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZWV0aW5nTG9jYXRpb25JbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwYWdlRGF0YS5tZWV0aW5nTG9jYXRpb25JbmRleCA9IG1lZXRpbmdMb2NhdGlvbkluZGV4O1xuXG4gICAgICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBwYWdlRGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFnZURhdGEubWVldGluZ0xvY2F0aW9uTGlzdCA9IGdsb2JhbC5tZWV0aW5nTG9jYXRpb25MaXN0O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBtZWV0aW5nTG9jYXRpb25JbmRleCA9IDA7XG5cbiAgICAgICAgICAgIGlmIChwYWdlRGF0YS5ib3VuZERhdGEubWVldGluZ0xvY2F0aW9uSWQgIT09IG51bGwgJiYgcGFnZURhdGEuYm91bmREYXRhLm1lZXRpbmdMb2NhdGlvbklkLnRvU3RyaW5nKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciBpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhZ2VEYXRhLm1lZXRpbmdMb2NhdGlvbkxpc3QuTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFnZURhdGEubWVldGluZ0xvY2F0aW9uTGlzdC5MaXN0LmdldEl0ZW0oaSkubWVldGluZ0xvY2F0aW9uSWQgPT09IHBhZ2VEYXRhLmJvdW5kRGF0YS5tZWV0aW5nTG9jYXRpb25JZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVldGluZ0xvY2F0aW9uSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYWdlRGF0YS5tZWV0aW5nTG9jYXRpb25JbmRleCA9IG1lZXRpbmdMb2NhdGlvbkluZGV4O1xuXG4gICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkxvYWRlZChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIG1lZXRpbmdMb2NhdGlvbkxpc3RQaWNrZXIgPSBwYWdlLmdldFZpZXdCeUlkKFwibWVldGluZ0xvY2F0aW9uTGlzdFBpY2tlclwiKTtcbiAgICAgICAgXG4gICAgICAgIG1lZXRpbmdMb2NhdGlvbkxpc3RQaWNrZXIub24oXCJzZWxlY3RlZEluZGV4Q2hhbmdlXCIsIGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBtZWV0aW5nTG9jYXRpb25JdGVtID0gcGFnZURhdGEubWVldGluZ0xvY2F0aW9uTGlzdC5MaXN0LmdldEl0ZW0oYXJncy5vYmplY3Quc2VsZWN0ZWRJbmRleCk7XG4gICAgICAgICAgICAvL2RpYWxvZ3MuYWxlcnQobWVldGluZ0xvY2F0aW9uSXRlbS5tZWV0aW5nTG9jYXRpb25JZCArIFwiOiBcIiArIG1lZXRpbmdMb2NhdGlvbkl0ZW0ubWVldGluZ0xvY2F0aW9uKTtcbiAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5tZWV0aW5nTG9jYXRpb25JZCA9IG1lZXRpbmdMb2NhdGlvbkl0ZW0ubWVldGluZ0xvY2F0aW9uSWQ7XG4gICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEubG9jYXRpb24gPSBtZWV0aW5nTG9jYXRpb25JdGVtLm1lZXRpbmdMb2NhdGlvbjtcbiAgICAgICAgfSk7XG5cbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkJhY2tUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5nb0JhY2soKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydChlKTtcbiAgICB9XG59XG5cbmV4cG9ydHMub25OYXZpZ2F0aW5nVG8gPSBvbk5hdmlnYXRpbmdUbztcbmV4cG9ydHMub25Mb2FkZWQgPSBvbkxvYWRlZDtcbmV4cG9ydHMub25CYWNrVGFwID0gb25CYWNrVGFwO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL21lZXRpbmdzL21lZXRpbmcvbWVldGluZ2xvY2F0aW9uL21lZXRpbmdsb2NhdGlvbi1wYWdlLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vbWVldGluZ3MvbWVldGluZy9tZWV0aW5nbG9jYXRpb24vbWVldGluZ2xvY2F0aW9uLXBhZ2UuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiXG5tb2R1bGUuZXhwb3J0cyA9IFwiPFBhZ2UgbmF2aWdhdGluZ1RvPVxcXCJvbk5hdmlnYXRpbmdUb1xcXCIgbG9hZGVkPVxcXCJvbkxvYWRlZFxcXCIgY2xhc3M9XFxcInBhZ2VcXFwiIHhtbG5zPVxcXCJodHRwOi8vc2NoZW1hcy5uYXRpdmVzY3JpcHQub3JnL3Rucy54c2RcXFwiID5cXG4gICAgPEFjdGlvbkJhciBjbGFzcz1cXFwiYWN0aW9uLWJhclxcXCI+XFxuICAgICAgICA8YW5kcm9pZD5cXG4gICAgICAgICAgICA8TmF2aWdhdGlvbkJ1dHRvbiBhbmRyb2lkLnN5c3RlbUljb249XFxcImljX21lbnVfYmFja1xcXCIgdGFwPVxcXCJvbkJhY2tUYXBcXFwiIC8+XFxuICAgICAgICA8L2FuZHJvaWQ+XFxuICAgIDwvQWN0aW9uQmFyPlxcblxcbiAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCJhdXRvLCBhdXRvLCAqXFxcIj5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1zZWN0aW9uLWhlYWRlclxcXCI+PC9TdGFja0xheW91dD5cXG4gICAgICAgIDxHcmlkTGF5b3V0IHJvdz1cXFwiMVxcXCIgY29sPVxcXCIwXFxcIiBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCI+XFxuICAgICAgICAgICAgPExpc3RQaWNrZXIgaWQ9XFxcIm1lZXRpbmdMb2NhdGlvbkxpc3RQaWNrZXJcXFwiIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiBpdGVtcz1cXFwie3sgbWVldGluZ0xvY2F0aW9uTGlzdC5JdGVtcyB9fVxcXCIgc2VsZWN0ZWRJbmRleD1cXFwie3sgbWVldGluZ0xvY2F0aW9uSW5kZXggfX1cXFwiIFxcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1waWNrZXJcXFwiPjwvTGlzdFBpY2tlcj5cXG4gICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjJcXFwiIGNvbD1cXFwiMFxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LXNlY3Rpb24taGVhZGVyXFxcIj48L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPEFjdGl2aXR5SW5kaWNhdG9yIGJ1c3k9XFxcInt7IGlzTG9hZGluZyB9fVxcXCIgYW5kcm9pZDpoZWlnaHQ9XFxcIjI1JVxcXCIgYW5kcm9pZDp3aWR0aD1cXFwiMjUlXFxcIiBpb3MuYWN0aXZpdHlJbmRpY2F0b3JWaWV3U3R5bGU9XFxcIndoaXRlTGFyZ2VcXFwiIHJvd1NwYW49XFxcIjNcXFwiIGNvbFNwYW49XFxcIjFcXFwiIC8+XFxuICAgIDwvR3JpZExheW91dD5cXG48L1BhZ2U+XFxuXCI7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbWVldGluZ3MvbWVldGluZy9tZWV0aW5nbG9jYXRpb24vbWVldGluZ2xvY2F0aW9uLXBhZ2UueG1sXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcIm1hcmt1cFwiLCBwYXRoOiBcIi4vbWVldGluZ3MvbWVldGluZy9tZWV0aW5nbG9jYXRpb24vbWVldGluZ2xvY2F0aW9uLXBhZ2UueG1sXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IE9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpLk9ic2VydmFibGU7XG52YXIgT2JzZXJ2YWJsZUFycmF5ID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZS1hcnJheVwiKS5PYnNlcnZhYmxlQXJyYXk7XG52YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxuZnVuY3Rpb24gTWVldGluZ0xvY2F0aW9uVmlld01vZGVsKCkge1xuICAgIGNvbnN0IHZpZXdNb2RlbCA9IG5ldyBPYnNlcnZhYmxlTW9kdWxlKCk7XG4gICAgdmlld01vZGVsLkl0ZW1zID0gbmV3IE9ic2VydmFibGVBcnJheSgpO1xuICAgIHZpZXdNb2RlbC5MaXN0ID0gbmV3IE9ic2VydmFibGVBcnJheSgpO1xuXG4gICAgdmlld01vZGVsLmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGh0dHAucmVxdWVzdCh7XG4gICAgICAgICAgICB1cmw6IGdsb2JhbC5hcGlCYXNlU2VydmljZVVybCArIFwibWVldGluZ2xvY2F0aW9uc1wiLFxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiwgXCJBdXRob3JpemF0aW9uXCI6IGdsb2JhbC50b2tlbiB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzcG9uc2UuY29udGVudC50b1N0cmluZygpO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHJlc3VsdCk7XG5cbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihtZWV0aW5nTG9jYXRpb24pIHtcbiAgICAgICAgICAgICAgICB2aWV3TW9kZWwuSXRlbXMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgbWVldGluZ0xvY2F0aW9uLkxvY2F0aW9uXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5MaXN0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBtZWV0aW5nTG9jYXRpb25JZDogbWVldGluZ0xvY2F0aW9uLk1lZXRpbmdMb2NhdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICBtZWV0aW5nTG9jYXRpb246IG1lZXRpbmdMb2NhdGlvbi5Mb2NhdGlvblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2aWV3TW9kZWwuZW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgd2hpbGUgKHZpZXdNb2RlbC5JdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZpZXdNb2RlbC5JdGVtcy5wb3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlICh2aWV3TW9kZWwuTGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZpZXdNb2RlbC5MaXN0LnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gdmlld01vZGVsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE1lZXRpbmdMb2NhdGlvblZpZXdNb2RlbDs7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vbWVldGluZ3MvbWVldGluZy9tZWV0aW5nbG9jYXRpb24vbWVldGluZ2xvY2F0aW9uLXZpZXctbW9kZWwuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL21lZXRpbmdsb2NhdGlvbi9tZWV0aW5nbG9jYXRpb24tdmlldy1tb2RlbC5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBwbGF0Zm9ybSA9IHJlcXVpcmUoXCJwbGF0Zm9ybVwiKTtcbnZhciBmcmFtZU1vZHVsZSA9IHJlcXVpcmUoXCJ1aS9mcmFtZVwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG5cbnZhciBwYWdlO1xudmFyIG5hdmlnYXRpb25Db250ZXh0O1xuXG5mdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiTm90ZXNcIjtcblxuICAgICAgICBuYXZpZ2F0aW9uQ29udGV4dCA9IHBhZ2UubmF2aWdhdGlvbkNvbnRleHQ7XG5cbiAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IG5hdmlnYXRpb25Db250ZXh0O1xuXG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25CYWNrVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBkaXNtaXNzS2V5Ym9hcmQoKVxuXG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5nb0JhY2soKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydChlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uR3JpZExheW91dFRhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgZGlzbWlzc0tleWJvYXJkKClcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydChlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpc21pc3NLZXlib2FyZCgpIHtcbiAgICBpZiAocGxhdGZvcm0uaXNBbmRyb2lkKSB7XG4gICAgICAgIHZhciBub3RlcyA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJub3Rlc1wiKTtcblxuICAgICAgICBub3Rlcy5kaXNtaXNzU29mdElucHV0KCk7XG4gICAgfVxufVxuXG5leHBvcnRzLm9uTmF2aWdhdGluZ1RvID0gb25OYXZpZ2F0aW5nVG87XG5leHBvcnRzLm9uQmFja1RhcCA9IG9uQmFja1RhcDtcbmV4cG9ydHMub25HcmlkTGF5b3V0VGFwID0gb25HcmlkTGF5b3V0VGFwO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL21lZXRpbmdzL21lZXRpbmcvbm90ZXMvbm90ZXMtcGFnZS5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL21lZXRpbmdzL21lZXRpbmcvbm90ZXMvbm90ZXMtcGFnZS5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJcbm1vZHVsZS5leHBvcnRzID0gXCI8UGFnZSBuYXZpZ2F0aW5nVG89XFxcIm9uTmF2aWdhdGluZ1RvXFxcIiBjbGFzcz1cXFwicGFnZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly9zY2hlbWFzLm5hdGl2ZXNjcmlwdC5vcmcvdG5zLnhzZFxcXCIgPlxcbiAgICA8QWN0aW9uQmFyIGNsYXNzPVxcXCJhY3Rpb24tYmFyXFxcIj5cXG4gICAgICAgIDxhbmRyb2lkPlxcbiAgICAgICAgICAgIDxOYXZpZ2F0aW9uQnV0dG9uIGFuZHJvaWQuc3lzdGVtSWNvbj1cXFwiaWNfbWVudV9iYWNrXFxcIiB0YXA9XFxcIm9uQmFja1RhcFxcXCIgLz5cXG4gICAgICAgIDwvYW5kcm9pZD5cXG4gICAgPC9BY3Rpb25CYXI+XFxuXFxuICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcIipcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIiB0YXA9XFxcIm9uR3JpZExheW91dFRhcFxcXCI+XFxuICAgICAgICA8VGV4dFZpZXcgaWQ9XFxcIm5vdGVzXFxcIiByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwie3sgbm90ZXMgfX1cXFwiIGhpbnQ9XFxcIk5vdGVzXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tdGV4dHZpZXdcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCIgLz5cXG4gICAgPC9HcmlkTGF5b3V0PlxcbjwvUGFnZT5cXG5cIjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9tZWV0aW5ncy9tZWV0aW5nL25vdGVzL25vdGVzLXBhZ2UueG1sXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcIm1hcmt1cFwiLCBwYXRoOiBcIi4vbWVldGluZ3MvbWVldGluZy9ub3Rlcy9ub3Rlcy1wYWdlLnhtbFwiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBwbGF0Zm9ybSA9IHJlcXVpcmUoXCJwbGF0Zm9ybVwiKTtcbnZhciBmcmFtZU1vZHVsZSA9IHJlcXVpcmUoXCJ1aS9mcmFtZVwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG5cbnZhciBwYWdlO1xudmFyIG5hdmlnYXRpb25Db250ZXh0O1xuXG5mdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiQVBDSUEgTWVtYmVyc1wiO1xuXG4gICAgICAgIG5hdmlnYXRpb25Db250ZXh0ID0gcGFnZS5uYXZpZ2F0aW9uQ29udGV4dDtcblxuICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gbmF2aWdhdGlvbkNvbnRleHQ7XG5cbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkJhY2tUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5nb0JhY2soKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydChlKTtcbiAgICB9XG59XG5cbmV4cG9ydHMub25OYXZpZ2F0aW5nVG8gPSBvbk5hdmlnYXRpbmdUbztcbmV4cG9ydHMub25CYWNrVGFwID0gb25CYWNrVGFwO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL21lZXRpbmdzL21lZXRpbmcvb2ZmZXJlZHRvbWVtYmVycy9vZmZlcmVkdG9tZW1iZXJzLXBhZ2UuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL29mZmVyZWR0b21lbWJlcnMvb2ZmZXJlZHRvbWVtYmVycy1wYWdlLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxubW9kdWxlLmV4cG9ydHMgPSBcIjxQYWdlIG5hdmlnYXRpbmdUbz1cXFwib25OYXZpZ2F0aW5nVG9cXFwiIGNsYXNzPVxcXCJwYWdlXFxcIiB4bWxucz1cXFwiaHR0cDovL3NjaGVtYXMubmF0aXZlc2NyaXB0Lm9yZy90bnMueHNkXFxcIiA+XFxuICAgIDxBY3Rpb25CYXIgY2xhc3M9XFxcImFjdGlvbi1iYXJcXFwiPlxcbiAgICAgICAgPGFuZHJvaWQ+XFxuICAgICAgICAgICAgPE5hdmlnYXRpb25CdXR0b24gYW5kcm9pZC5zeXN0ZW1JY29uPVxcXCJpY19tZW51X2JhY2tcXFwiIHRhcD1cXFwib25CYWNrVGFwXFxcIiAvPlxcbiAgICAgICAgPC9hbmRyb2lkPlxcbiAgICA8L0FjdGlvbkJhcj5cXG5cXG4gICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiYXV0bywgYXV0bywgKlxcXCI+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctc2VjdGlvbi1oZWFkZXJcXFwiPjwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIxXFxcIiBjb2w9XFxcIjBcXFwiPlxcbiAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIiosIGF1dG9cXFwiIHJvd3M9XFxcImF1dG9cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtLWJvdHRvbVxcXCI+XFxuICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiT2ZmZXJlZCB0byBBUENJQSBNZW1iZXJzP1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgICAgIDxTd2l0Y2ggcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIGNoZWNrZWQ9XFxcInt7IG9mZmVyZWRUb01lbWJlcnMgfX1cXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcInJpZ2h0XFxcIiBjbGFzcz1cXFwic3dpdGNoXFxcIiAvPlxcbiAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIyXFxcIiBjb2w9XFxcIjBcXFwiIHN0eWxlPVxcXCJiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xcXCI+PC9TdGFja0xheW91dD5cXG4gICAgPC9HcmlkTGF5b3V0PlxcbjwvUGFnZT5cXG5cIjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9tZWV0aW5ncy9tZWV0aW5nL29mZmVyZWR0b21lbWJlcnMvb2ZmZXJlZHRvbWVtYmVycy1wYWdlLnhtbFwiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJtYXJrdXBcIiwgcGF0aDogXCIuL21lZXRpbmdzL21lZXRpbmcvb2ZmZXJlZHRvbWVtYmVycy9vZmZlcmVkdG9tZW1iZXJzLXBhZ2UueG1sXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IHBsYXRmb3JtID0gcmVxdWlyZShcInBsYXRmb3JtXCIpO1xudmFyIGZyYW1lTW9kdWxlID0gcmVxdWlyZShcInVpL2ZyYW1lXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxudmFyIHBhZ2U7XG52YXIgbmF2aWdhdGlvbkNvbnRleHQ7XG5cbmZ1bmN0aW9uIG9uTmF2aWdhdGluZ1RvKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBwYWdlID0gYXJncy5vYmplY3Q7XG4gICAgICAgIHBhZ2UuYWN0aW9uQmFyLnRpdGxlID0gXCJDb25nLiBTdGFmZiBBdHRlbmRlZXNcIjtcblxuICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZS5uYXZpZ2F0aW9uQ29udGV4dDtcblxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uQmFja1RhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgZGlzbWlzc0tleWJvYXJkKClcblxuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkuZ29CYWNrKCk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkdyaWRMYXlvdXRUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGRpc21pc3NLZXlib2FyZCgpXG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkaXNtaXNzS2V5Ym9hcmQoKSB7XG4gICAgaWYgKHBsYXRmb3JtLmlzQW5kcm9pZCkge1xuICAgICAgICB2YXIgbGVnaXNsYXRvclN0YWZmQXR0ZW5kZWVzID0gcGFnZS5nZXRWaWV3QnlJZChcImxlZ2lzbGF0b3JTdGFmZkF0dGVuZGVlc1wiKTtcblxuICAgICAgICBsZWdpc2xhdG9yU3RhZmZBdHRlbmRlZXMuZGlzbWlzc1NvZnRJbnB1dCgpO1xuICAgIH1cbn1cblxuZXhwb3J0cy5vbk5hdmlnYXRpbmdUbyA9IG9uTmF2aWdhdGluZ1RvO1xuZXhwb3J0cy5vbkJhY2tUYXAgPSBvbkJhY2tUYXA7XG5leHBvcnRzLm9uR3JpZExheW91dFRhcCA9IG9uR3JpZExheW91dFRhcDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9tZWV0aW5ncy9tZWV0aW5nL3N0YWZmYXR0ZW5kZWVzL3N0YWZmYXR0ZW5kZWVzLXBhZ2UuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL3N0YWZmYXR0ZW5kZWVzL3N0YWZmYXR0ZW5kZWVzLXBhZ2UuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiXG5tb2R1bGUuZXhwb3J0cyA9IFwiPFBhZ2UgbmF2aWdhdGluZ1RvPVxcXCJvbk5hdmlnYXRpbmdUb1xcXCIgY2xhc3M9XFxcInBhZ2VcXFwiIHhtbG5zPVxcXCJodHRwOi8vc2NoZW1hcy5uYXRpdmVzY3JpcHQub3JnL3Rucy54c2RcXFwiID5cXG4gICAgPEFjdGlvbkJhciBjbGFzcz1cXFwiYWN0aW9uLWJhclxcXCI+XFxuICAgICAgICA8YW5kcm9pZD5cXG4gICAgICAgICAgICA8TmF2aWdhdGlvbkJ1dHRvbiBhbmRyb2lkLnN5c3RlbUljb249XFxcImljX21lbnVfYmFja1xcXCIgdGFwPVxcXCJvbkJhY2tUYXBcXFwiIC8+XFxuICAgICAgICA8L2FuZHJvaWQ+XFxuICAgIDwvQWN0aW9uQmFyPlxcblxcbiAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCIqXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCIgdGFwPVxcXCJvbkdyaWRMYXlvdXRUYXBcXFwiPlxcbiAgICAgICAgPFRleHRWaWV3IGlkPVxcXCJsZWdpc2xhdG9yU3RhZmZBdHRlbmRlZXNcXFwiIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJ7eyBsZWdpc2xhdG9yU3RhZmZBdHRlbmRlZXMgfX1cXFwiIGhpbnQ9XFxcIkNvbmdyZXNzaW9uYWwgU3RhZmYgQXR0ZW5kZWVzXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tdGV4dHZpZXdcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCIgLz5cXG4gICAgPC9HcmlkTGF5b3V0PlxcbjwvUGFnZT5cXG5cIjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9tZWV0aW5ncy9tZWV0aW5nL3N0YWZmYXR0ZW5kZWVzL3N0YWZmYXR0ZW5kZWVzLXBhZ2UueG1sXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcIm1hcmt1cFwiLCBwYXRoOiBcIi4vbWVldGluZ3MvbWVldGluZy9zdGFmZmF0dGVuZGVlcy9zdGFmZmF0dGVuZGVlcy1wYWdlLnhtbFwiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBWZW51ZVR5cGVWaWV3TW9kZWwgPSByZXF1aXJlKFwiLi92ZW51ZXR5cGUtdmlldy1tb2RlbFwiKTtcbmNvbnN0IE9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpO1xudmFyIGZyYW1lTW9kdWxlID0gcmVxdWlyZShcInVpL2ZyYW1lXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxudmFyIHBhZ2U7XG52YXIgbmF2aWdhdGlvbkNvbnRleHQ7XG52YXIgdmVudWVUeXBlTGlzdCA9IG5ldyBWZW51ZVR5cGVWaWV3TW9kZWwoW10pO1xuXG52YXIgdmVudWVUeXBlSW5kZXggPSAwO1xuXG52YXIgcGFnZURhdGEgPSBuZXcgT2JzZXJ2YWJsZU1vZHVsZS5mcm9tT2JqZWN0KHtcbiAgICBib3VuZERhdGE6IG51bGwsXG4gICAgdmVudWVUeXBlSW5kZXg6IHZlbnVlVHlwZUluZGV4LFxuICAgIHZlbnVlVHlwZUxpc3Q6IG51bGwsXG4gICAgaXNMb2FkaW5nOiBmYWxzZVxufSk7XG5cbmZ1bmN0aW9uIG9uTmF2aWdhdGluZ1RvKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBwYWdlID0gYXJncy5vYmplY3Q7XG4gICAgICAgIHBhZ2UuYWN0aW9uQmFyLnRpdGxlID0gXCJWZW51ZVwiO1xuXG4gICAgICAgIG5hdmlnYXRpb25Db250ZXh0ID0gcGFnZS5uYXZpZ2F0aW9uQ29udGV4dDtcblxuICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEgPSBuYXZpZ2F0aW9uQ29udGV4dDtcblxuICAgICAgICBpZiAoZ2xvYmFsLnZlbnVlVHlwZUxpc3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuXG4gICAgICAgICAgICB2ZW51ZVR5cGVMaXN0LmxvYWQoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBnbG9iYWwudmVudWVUeXBlTGlzdCA9IHZlbnVlVHlwZUxpc3Q7XG5cbiAgICAgICAgICAgICAgICBwYWdlRGF0YS52ZW51ZVR5cGVMaXN0ID0gZ2xvYmFsLnZlbnVlVHlwZUxpc3Q7XG5cbiAgICAgICAgICAgICAgICB2ZW51ZVR5cGVJbmRleCA9IDA7XG5cbiAgICAgICAgICAgICAgICBpZiAocGFnZURhdGEuYm91bmREYXRhLnZlbnVlVHlwZUlkICE9PSBudWxsICYmIHBhZ2VEYXRhLmJvdW5kRGF0YS52ZW51ZVR5cGVJZC50b1N0cmluZygpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhZ2VEYXRhLnZlbnVlVHlwZUxpc3QuTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLnZlbnVlVHlwZUxpc3QuTGlzdC5nZXRJdGVtKGkpLnZlbnVlVHlwZUlkID09PSBwYWdlRGF0YS5ib3VuZERhdGEudmVudWVUeXBlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZW51ZVR5cGVJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwYWdlRGF0YS52ZW51ZVR5cGVJbmRleCA9IHZlbnVlVHlwZUluZGV4O1xuXG4gICAgICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBwYWdlRGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFnZURhdGEudmVudWVUeXBlTGlzdCA9IGdsb2JhbC52ZW51ZVR5cGVMaXN0O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2ZW51ZVR5cGVJbmRleCA9IDA7XG5cbiAgICAgICAgICAgIGlmIChwYWdlRGF0YS5ib3VuZERhdGEudmVudWVUeXBlSWQgIT09IG51bGwgJiYgcGFnZURhdGEuYm91bmREYXRhLnZlbnVlVHlwZUlkLnRvU3RyaW5nKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciBpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhZ2VEYXRhLnZlbnVlVHlwZUxpc3QuTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFnZURhdGEudmVudWVUeXBlTGlzdC5MaXN0LmdldEl0ZW0oaSkudmVudWVUeXBlSWQgPT09IHBhZ2VEYXRhLmJvdW5kRGF0YS52ZW51ZVR5cGVJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVudWVUeXBlSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYWdlRGF0YS52ZW51ZVR5cGVJbmRleCA9IHZlbnVlVHlwZUluZGV4O1xuXG4gICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkxvYWRlZChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIHZlbnVlVHlwZUxpc3RQaWNrZXIgPSBwYWdlLmdldFZpZXdCeUlkKFwidmVudWVUeXBlTGlzdFBpY2tlclwiKTtcbiAgICAgICAgXG4gICAgICAgIHZlbnVlVHlwZUxpc3RQaWNrZXIub24oXCJzZWxlY3RlZEluZGV4Q2hhbmdlXCIsIGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciB2ZW51ZVR5cGVJdGVtID0gcGFnZURhdGEudmVudWVUeXBlTGlzdC5MaXN0LmdldEl0ZW0oYXJncy5vYmplY3Quc2VsZWN0ZWRJbmRleCk7XG4gICAgICAgICAgICAvL2RpYWxvZ3MuYWxlcnQodmVudWVUeXBlSXRlbS52ZW51ZVR5cGVJZCArIFwiOiBcIiArIHZlbnVlVHlwZUl0ZW0udmVudWVUeXBlKTtcbiAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS52ZW51ZVR5cGVJZCA9IHZlbnVlVHlwZUl0ZW0udmVudWVUeXBlSWQ7XG4gICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEudmVudWVUeXBlID0gdmVudWVUeXBlSXRlbS52ZW51ZVR5cGU7XG4gICAgICAgIH0pO1xuXG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25CYWNrVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkuZ29CYWNrKCk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgfVxufVxuXG5leHBvcnRzLm9uTmF2aWdhdGluZ1RvID0gb25OYXZpZ2F0aW5nVG87XG5leHBvcnRzLm9uTG9hZGVkID0gb25Mb2FkZWQ7XG5leHBvcnRzLm9uQmFja1RhcCA9IG9uQmFja1RhcDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9tZWV0aW5ncy9tZWV0aW5nL3ZlbnVldHlwZS92ZW51ZXR5cGUtcGFnZS5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL21lZXRpbmdzL21lZXRpbmcvdmVudWV0eXBlL3ZlbnVldHlwZS1wYWdlLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxubW9kdWxlLmV4cG9ydHMgPSBcIjxQYWdlIG5hdmlnYXRpbmdUbz1cXFwib25OYXZpZ2F0aW5nVG9cXFwiIGxvYWRlZD1cXFwib25Mb2FkZWRcXFwiIGNsYXNzPVxcXCJwYWdlXFxcIiB4bWxucz1cXFwiaHR0cDovL3NjaGVtYXMubmF0aXZlc2NyaXB0Lm9yZy90bnMueHNkXFxcIiA+XFxuICAgIDxBY3Rpb25CYXIgY2xhc3M9XFxcImFjdGlvbi1iYXJcXFwiPlxcbiAgICAgICAgPGFuZHJvaWQ+XFxuICAgICAgICAgICAgPE5hdmlnYXRpb25CdXR0b24gYW5kcm9pZC5zeXN0ZW1JY29uPVxcXCJpY19tZW51X2JhY2tcXFwiIHRhcD1cXFwib25CYWNrVGFwXFxcIiAvPlxcbiAgICAgICAgPC9hbmRyb2lkPlxcbiAgICA8L0FjdGlvbkJhcj5cXG5cXG4gICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiYXV0bywgYXV0bywgKlxcXCI+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctc2VjdGlvbi1oZWFkZXJcXFwiPjwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8R3JpZExheW91dCByb3c9XFxcIjFcXFwiIGNvbD1cXFwiMFxcXCIgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiYXV0b1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiPlxcbiAgICAgICAgICAgIDxMaXN0UGlja2VyIGlkPVxcXCJ2ZW51ZVR5cGVMaXN0UGlja2VyXFxcIiByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgaXRlbXM9XFxcInt7IHZlbnVlVHlwZUxpc3QuSXRlbXMgfX1cXFwiIHNlbGVjdGVkSW5kZXg9XFxcInt7IHZlbnVlVHlwZUluZGV4IH19XFxcIiBcXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tcGlja2VyXFxcIiB3aWR0aD1cXFwiMTAwJVxcXCI+PC9MaXN0UGlja2VyPlxcbiAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMlxcXCIgY29sPVxcXCIwXFxcIiBoZWlnaHQ9XFxcIjEwMCVcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctc2VjdGlvbi1oZWFkZXJcXFwiPjwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8QWN0aXZpdHlJbmRpY2F0b3IgYnVzeT1cXFwie3sgaXNMb2FkaW5nIH19XFxcIiBhbmRyb2lkOmhlaWdodD1cXFwiMjUlXFxcIiBhbmRyb2lkOndpZHRoPVxcXCIyNSVcXFwiIGlvcy5hY3Rpdml0eUluZGljYXRvclZpZXdTdHlsZT1cXFwid2hpdGVMYXJnZVxcXCIgcm93U3Bhbj1cXFwiM1xcXCIgY29sU3Bhbj1cXFwiMVxcXCIgLz5cXG4gICAgPC9HcmlkTGF5b3V0PlxcbjwvUGFnZT5cXG5cIjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9tZWV0aW5ncy9tZWV0aW5nL3ZlbnVldHlwZS92ZW51ZXR5cGUtcGFnZS54bWxcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwibWFya3VwXCIsIHBhdGg6IFwiLi9tZWV0aW5ncy9tZWV0aW5nL3ZlbnVldHlwZS92ZW51ZXR5cGUtcGFnZS54bWxcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3QgT2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIikuT2JzZXJ2YWJsZTtcbnZhciBPYnNlcnZhYmxlQXJyYXkgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlLWFycmF5XCIpLk9ic2VydmFibGVBcnJheTtcbnZhciBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xuXG5mdW5jdGlvbiBWZW51ZVR5cGVWaWV3TW9kZWwoKSB7XG4gICAgY29uc3Qgdmlld01vZGVsID0gbmV3IE9ic2VydmFibGVNb2R1bGUoKTtcbiAgICB2aWV3TW9kZWwuSXRlbXMgPSBuZXcgT2JzZXJ2YWJsZUFycmF5KCk7XG4gICAgdmlld01vZGVsLkxpc3QgPSBuZXcgT2JzZXJ2YWJsZUFycmF5KCk7XG5cbiAgICB2aWV3TW9kZWwubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaHR0cC5yZXF1ZXN0KHtcbiAgICAgICAgICAgIHVybDogZ2xvYmFsLmFwaUJhc2VTZXJ2aWNlVXJsICsgXCJtZWV0aW5ndmVudWV0eXBlc1wiLFxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiwgXCJBdXRob3JpemF0aW9uXCI6IGdsb2JhbC50b2tlbiB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzcG9uc2UuY29udGVudC50b1N0cmluZygpO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHJlc3VsdCk7XG5cbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbih2ZW51ZVR5cGUpIHtcbiAgICAgICAgICAgICAgICB2aWV3TW9kZWwuSXRlbXMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgdmVudWVUeXBlLlZlbnVlVHlwZVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICB2aWV3TW9kZWwuTGlzdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdmVudWVUeXBlSWQ6IHZlbnVlVHlwZS5WZW51ZVR5cGVJZCxcbiAgICAgICAgICAgICAgICAgICAgdmVudWVUeXBlOiB2ZW51ZVR5cGUuVmVudWVUeXBlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZpZXdNb2RlbC5lbXB0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB3aGlsZSAodmlld01vZGVsLkl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgdmlld01vZGVsLkl0ZW1zLnBvcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKHZpZXdNb2RlbC5MaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgdmlld01vZGVsLkxpc3QucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHJldHVybiB2aWV3TW9kZWw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gVmVudWVUeXBlVmlld01vZGVsOzsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9tZWV0aW5ncy9tZWV0aW5nL3ZlbnVldHlwZS92ZW51ZXR5cGUtdmlldy1tb2RlbC5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL21lZXRpbmdzL21lZXRpbmcvdmVudWV0eXBlL3ZlbnVldHlwZS12aWV3LW1vZGVsLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IE1lZXRpbmdzVmlld01vZGVsID0gcmVxdWlyZShcIi4vbWVldGluZ3Mtdmlldy1tb2RlbFwiKTtcbi8vIGNvbnN0IExlZ2lzbGF0b3JWaWV3TW9kZWwgPSByZXF1aXJlKFwiLi9tZWV0aW5nL2xlZ2lzbGF0b3IvbGVnaXNsYXRvci12aWV3LW1vZGVsXCIpO1xuY29uc3QgcGxhdGZvcm0gPSByZXF1aXJlKFwicGxhdGZvcm1cIik7XG5jb25zdCBPYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBnZXN0dXJlcyA9IHJlcXVpcmUoXCJ1aS9nZXN0dXJlc1wiKTtcbnZhciBmcmFtZU1vZHVsZSA9IHJlcXVpcmUoXCJ1aS9mcmFtZVwiKTtcbnZhciBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xuXG5jb25zdCBNSU5fWCA9IC04MDtcbmNvbnN0IE1BWF9YID0gMDtcbmNvbnN0IFRIUkVTSE9MRCA9IDAuNTtcblxudmFyIHN3aXBlT3BlbiA9IGZhbHNlO1xudmFyIHN3aXBlZEl0ZW07XG5cbnZhciBpc1Njcm9sbGluZyA9IGZhbHNlO1xudmFyIGlzU3dpcGluZyA9IGZhbHNlO1xuXG52YXIgcGFnZTtcbnZhciBuYXZpZ2F0aW9uQ29udGV4dDtcblxudmFyIG1lZXRpbmdzTGlzdCA9IG5ldyBNZWV0aW5nc1ZpZXdNb2RlbChbXSk7XG4vLyB2YXIgbGVnaXNsYXRvckxpc3QgPSBuZXcgTGVnaXNsYXRvclZpZXdNb2RlbChbXSk7XG5cbnZhciBwYWdlRGF0YSA9IG5ldyBPYnNlcnZhYmxlTW9kdWxlLmZyb21PYmplY3Qoe1xuICAgIG1lZXRpbmdzTGlzdDogbWVldGluZ3NMaXN0LFxuICAgIHJlZmVyZW5jZTogXCJ0YWJcIixcbiAgICByZWNlbnRNZWV0aW5nczogXCJZXCIsXG4gICAgaXNMb2FkaW5nOiBmYWxzZVxufSk7XG5cbmZ1bmN0aW9uIG9uTmF2aWdhdGluZ1RvKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBwYWdlID0gYXJncy5vYmplY3Q7XG5cbiAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIk1lZXRpbmdzXCI7XG4gICAgICAgIFxuICAgICAgICBuYXZpZ2F0aW9uQ29udGV4dCA9IHBhZ2UubmF2aWdhdGlvbkNvbnRleHQ7XG5cbiAgICAgICAgaWYgKG5hdmlnYXRpb25Db250ZXh0LnJlZmVyZW5jZSA9PT0gXCJ0YWJcIikge1xuICAgICAgICAgICAgcGFnZURhdGEucmVmZXJlbmNlID0gXCJ0YWJcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhZ2VEYXRhLnJlZmVyZW5jZSA9IFwibmF2XCI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXJncy5pc0JhY2tOYXZpZ2F0aW9uKSB7XG4gICAgICAgICAgICBtZWV0aW5nc0xpc3QuZW1wdHkoKTtcblxuICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuXG4gICAgICAgICAgICBtZWV0aW5nc0xpc3QubG9hZChwYWdlRGF0YS5yZWZlcmVuY2UsIG5hdmlnYXRpb25Db250ZXh0LmxlZ2lzbGF0b3JJZCwgcGFnZURhdGEucmVjZW50TWVldGluZ3MpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFNpbmNlIHRoZSBQYWdlIGNvbnRhaW5zIGEgU2VnbWVudGVkQmFyLFxuICAgICAgICAgICAgLy8gdGhlIHNlbGVjdGVkSW5kZXhDaGFuZ2VkIGV2ZW50IHdpbGwgcGVyZm9ybSB0aGUgaW5pdGlhbCBsb2FkIG9mIHRoZSBMaXN0Vmlldy5cbiAgICAgICAgICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBwYWdlRGF0YTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblNlbGVjdGVkSW5kZXhDaGFuZ2VkKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAoYXJncy5uZXdJbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgcGFnZURhdGEucmVjZW50TWVldGluZ3MgPSBcIllcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhZ2VEYXRhLnJlY2VudE1lZXRpbmdzID0gXCJOXCI7XG4gICAgICAgIH1cblxuICAgICAgICBtZWV0aW5nc0xpc3QuZW1wdHkoKTtcblxuICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgdHJ1ZSk7XG5cbiAgICAgICAgbWVldGluZ3NMaXN0LmxvYWQocGFnZURhdGEucmVmZXJlbmNlLCBuYXZpZ2F0aW9uQ29udGV4dC5sZWdpc2xhdG9ySWQsIHBhZ2VEYXRhLnJlY2VudE1lZXRpbmdzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIE5FRUQgVEhFIEZPTExPV0lORyBDT01NRU5URUQgQ09ERSBPTkNFIFdFIEFMTE9XIFRIRSBMRUdJU0xBVE9SIEZJRUxEIFRPIEJFIEVESVRBQkxFLlxuICAgICAgICAgICAgLy8gaWYgKGdsb2JhbC5sZWdpc2xhdG9yTGlzdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyAgICAgbGVnaXNsYXRvckxpc3QubG9hZCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gICAgICAgICBnbG9iYWwubGVnaXNsYXRvckxpc3QgPSBsZWdpc2xhdG9yTGlzdDtcblxuICAgICAgICAgICAgLy8gICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuXG4gICAgICAgICAgICAvLyAgICAgICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBwYWdlRGF0YTtcbiAgICAgICAgICAgIC8vICAgICB9KTtcbiAgICAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBwYWdlRGF0YTtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uSXRlbUxvYWRpbmcoYXJncykge1xuICAgIGlmIChwbGF0Zm9ybS5pc0lPUykge1xuICAgICAgICB2YXIgY2VsbCA9IGFyZ3MuaW9zO1xuXG4gICAgICAgIGNlbGwuc2VsZWN0aW9uU3R5bGUgPSBVSVRhYmxlVmlld0NlbGxTZWxlY3Rpb25TdHlsZS5VSVRhYmxlVmlld0NlbGxTZWxlY3Rpb25TdHlsZU5vbmU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkJhY2tUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5nb0JhY2soKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydChlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uQWRkVGFwKGFyZ3MpIHtcbiAgICB0cnlcbiAgICB7XG4gICAgICAgIHZhciBtb2RlbCA9IHtcbiAgICAgICAgICAgIG1lZXRpbmdJZDogMCxcbiAgICAgICAgICAgIG1lZXRpbmdEYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgdmVudWVUeXBlSWQ6IDEsXG4gICAgICAgICAgICB2ZW51ZVR5cGU6IFwiSW4gUGVyc29uXCIsXG4gICAgICAgICAgICBhdHRlbmRlZVR5cGVJZDogMSxcbiAgICAgICAgICAgIGF0dGVuZGVlVHlwZTogXCJTdGFmZiBPbmx5XCIsXG4gICAgICAgICAgICBsb2JieWlzdElkOiBnbG9iYWwucGVyc29uSWQsXG4gICAgICAgICAgICBsb2JieWlzdDogbnVsbCxcbiAgICAgICAgICAgIGxlZ2lzbGF0b3JJZDogbmF2aWdhdGlvbkNvbnRleHQubGVnaXNsYXRvcklkLFxuICAgICAgICAgICAgZnVsbE5hbWU6IG5hdmlnYXRpb25Db250ZXh0LmZ1bGxOYW1lLFxuICAgICAgICAgICAgbmFtZTogbnVsbCxcbiAgICAgICAgICAgIHBjaUluaXRpYXRpdmVzOiBudWxsLFxuICAgICAgICAgICAgc3VydmV5czogbnVsbCxcbiAgICAgICAgICAgIHBjaUF0dGVuZGVlczogZ2xvYmFsLmN1cnJlbnRVc2VyLFxuICAgICAgICAgICAgcHJpbWFyeU9mZmljZUNvbnRhY3Q6IG51bGwsXG4gICAgICAgICAgICBtZWV0aW5nTG9jYXRpb25JZDogMixcbiAgICAgICAgICAgIGxvY2F0aW9uOiBcIk1lZXRpbmcgaW4gRENcIixcbiAgICAgICAgICAgIGxlZ2lzbGF0b3JTdGFmZkF0dGVuZGVlczogbnVsbCxcbiAgICAgICAgICAgIGZvbGxvd1VwTmVlZGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGZvbGxvd1VwRGF0ZTogbnVsbCxcbiAgICAgICAgICAgIGZvbGxvd1VwTm90ZXM6IG51bGwsXG4gICAgICAgICAgICBjcmVhdG9ySWQ6IGdsb2JhbC5wZXJzb25JZCxcbiAgICAgICAgICAgIG5vdGVzOiBudWxsLFxuICAgICAgICAgICAgaW5pdGlhdGl2ZUlkOiBudWxsLFxuICAgICAgICAgICAgc3VydmV5SWQ6IG51bGwsXG4gICAgICAgICAgICBhc3NpZ25tZW50SWQ6IG51bGxcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgICAgIG1vZHVsZU5hbWU6IFwibWVldGluZ3MvbWVldGluZy9tZWV0aW5nLXBhZ2VcIixcbiAgICAgICAgICAgIGNvbnRleHQ6IG1vZGVsLFxuICAgICAgICAgICAgY2xlYXJIaXN0b3J5OiBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkl0ZW1UYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGlmIChwbGF0Zm9ybS5pc0lPUykge1xuICAgICAgICAgICAgaWYgKHN3aXBlT3Blbikge1xuICAgICAgICAgICAgICAgIHN3aXBlZEl0ZW0uYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZTogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDBcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHN3aXBlT3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgdmlldyA9IGFyZ3MudmlldztcblxuICAgICAgICAgICAgICAgIG1vZGVsID0gdmlldy5iaW5kaW5nQ29udGV4dDtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlTmFtZTogXCJtZWV0aW5ncy9tZWV0aW5nL21lZXRpbmctcGFnZVwiLFxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiBtb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJIaXN0b3J5OiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBmcmFtZU1vZHVsZS50b3Btb3N0KCkubmF2aWdhdGUobmF2aWdhdGlvbkVudHJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkRlbGV0ZUNsaWNrKGFyZ3MpIHtcbiAgICBpZiAocGxhdGZvcm0uaXNBbmRyb2lkKSB7XG4gICAgICAgIGRpYWxvZ3MuY29uZmlybSh7XG4gICAgICAgICAgICB0aXRsZTogXCJEZWxldGVcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiTWVldGluZyB3aWxsIGJlIGRlbGV0ZWQuIERlbGV0ZT9cIixcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJZZXNcIixcbiAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IFwiTm9cIlxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmlldyA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgICAgICAgICAgICAgaHR0cC5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBnbG9iYWwuYXBpQmFzZVNlcnZpY2VVcmwgKyBcImRlbGV0ZW1lZXRpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiwgXCJBdXRob3JpemF0aW9uXCI6IGdsb2JhbC50b2tlbiB9LFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeSh2aWV3LmJpbmRpbmdDb250ZXh0KVxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lZXRpbmdzTGlzdC5lbXB0eSgpO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbWVldGluZ3NMaXN0LmxvYWQocGFnZURhdGEucmVmZXJlbmNlLCBuYXZpZ2F0aW9uQ29udGV4dC5sZWdpc2xhdG9ySWQsIHBhZ2VEYXRhLnJlY2VudE1lZXRpbmdzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChwbGF0Zm9ybS5pc0lPUykge1xuICAgICAgICBkaWFsb2dzLmFjdGlvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIldvdWxkIHlvdSBsaWtlIHRvIGRlbGV0ZSB0aGlzIG1lZXRpbmc/XCIsXG4gICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBcIkNhbmNlbFwiLFxuICAgICAgICAgICAgYWN0aW9uczogW1wiRGVsZXRlXCJdXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gXCJEZWxldGVcIikge1xuICAgICAgICAgICAgICAgIHZhciB2aWV3ID0gYXJncy5vYmplY3Q7XG5cbiAgICAgICAgICAgICAgICBodHRwLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IGdsb2JhbC5hcGlCYXNlU2VydmljZVVybCArIFwiZGVsZXRlbWVldGluZ1wiLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLCBcIkF1dGhvcml6YXRpb25cIjogZ2xvYmFsLnRva2VuIH0sXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KHZpZXcuYmluZGluZ0NvbnRleHQpXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVldGluZ3NMaXN0LmVtcHR5KCk7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgdHJ1ZSk7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBtZWV0aW5nc0xpc3QubG9hZChwYWdlRGF0YS5yZWZlcmVuY2UsIG5hdmlnYXRpb25Db250ZXh0LmxlZ2lzbGF0b3JJZCwgcGFnZURhdGEucmVjZW50TWVldGluZ3MpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBwYWdlRGF0YTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoc3dpcGVPcGVuKSB7XG4gICAgICAgIHN3aXBlZEl0ZW0uYW5pbWF0ZSh7XG4gICAgICAgICAgICB0cmFuc2xhdGU6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgZHVyYXRpb246IDIwMFxuICAgICAgICB9KTtcblxuICAgICAgICBzd2lwZU9wZW4gPSBmYWxzZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uTGF5b3V0TG9hZGVkKGFyZ3MpIHtcbiAgICB2YXIgbGF5b3V0ID0gYXJncy5vYmplY3Q7XG5cbiAgICBpZiAocGxhdGZvcm0uaXNBbmRyb2lkKSB7XG4gICAgICAgIGxheW91dC5vbihnZXN0dXJlcy5HZXN0dXJlVHlwZXMudGFwLCBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChzd2lwZU9wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpcGVkSXRlbS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZTogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICBzd2lwZU9wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmlldyA9IGFyZ3MudmlldztcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwgPSB2aWV3LmJpbmRpbmdDb250ZXh0O1xuICAgIFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVOYW1lOiBcIm1lZXRpbmdzL21lZXRpbmcvbWVldGluZy1wYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiBtb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySGlzdG9yeTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2goZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBsYXlvdXQub24oZ2VzdHVyZXMuR2VzdHVyZVR5cGVzLnBhbiwgZnVuY3Rpb24oYXJncykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGxheW91dCA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICAgICAgdmFyIHZpZXcgPSBhcmdzLnZpZXc7XG5cbiAgICAgICAgICAgIGlmIChzd2lwZU9wZW4gJiYgc3dpcGVkSXRlbSAhPT0gdW5kZWZpbmVkICYmIHN3aXBlZEl0ZW0gIT0gbGF5b3V0KSB7XG4gICAgICAgICAgICAgICAgc3dpcGVkSXRlbS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghaXNTY3JvbGxpbmcgJiYgIWlzU3dpcGluZykge1xuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhhcmdzLmRlbHRhWSkgPiBNYXRoLmFicyhhcmdzLmRlbHRhWCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNTY3JvbGxpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpc1N3aXBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGFyZ3MuZGVsdGFYKSA+IE1hdGguYWJzKGFyZ3MuZGVsdGFZKSkge1xuICAgICAgICAgICAgICAgICAgICBpc1Njcm9sbGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpc1N3aXBpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzU2Nyb2xsaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN3aXBlT3BlbiAmJiBzd2lwZWRJdGVtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpcGVkSXRlbS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZTogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3Muc3RhdGUgPT09IGdlc3R1cmVzLkdlc3R1cmVTdGF0ZVR5cGVzLmVuZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzU2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1N3aXBpbmcpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWVldGluZ3NMaXN0VmlldyA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJtZWV0aW5nc0xpc3RWaWV3XCIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBsYXRmb3JtLmlzQW5kcm9pZCkge1xuICAgICAgICAgICAgICAgICAgICBtZWV0aW5nc0xpc3RWaWV3Lm5hdGl2ZVZpZXcucmVxdWVzdERpc2FsbG93SW50ZXJjZXB0VG91Y2hFdmVudCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBsYXRmb3JtLmlzSU9TKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lZXRpbmdzTGlzdFZpZXcuaW9zLnNjcm9sbEVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzd2lwZU9wZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN3aXBlZEl0ZW0gPSBsYXlvdXQ7XG5cbiAgICAgICAgICAgICAgICB2YXIgbmV3WCA9IGxheW91dC50cmFuc2xhdGVYICsgYXJncy5kZWx0YVg7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV3WCA+PSBNSU5fWCAmJiBuZXdYIDw9IE1BWF9YKSB7XG4gICAgICAgICAgICAgICAgICAgIGxheW91dC50cmFuc2xhdGVYID0gbmV3WDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3Muc3RhdGUgPT09IGdlc3R1cmVzLkdlc3R1cmVTdGF0ZVR5cGVzLmVuZGVkICYmICEobmV3WCA9PT0gTUlOX1ggfHwgbmV3WCA9PT0gTUFYX1gpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGluaXQgb3VyIGRlc3RpbmF0aW9uIFggY29vcmRpbmF0ZSB0byAwLCBpbiBjYXNlIG5laXRoZXIgVEhSRVNIT0xEIGhhcyBiZWVuIGhpdFxuICAgICAgICAgICAgICAgICAgICBsZXQgZGVzdFggPSAwO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdXNlciBoaXQgb3IgY3Jvc3NlZCB0aGUgVEhFU0hPTEQgZWl0aGVyIHdheSwgbGV0J3MgZmluaXNoIGluIHRoYXQgZGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdYIDw9IE1JTl9YICogVEhSRVNIT0xEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0WCA9IE1JTl9YO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5ld1ggPj0gTUFYX1ggKiBUSFJFU0hPTEQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RYID0gTUFYX1g7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGxheW91dC5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZTogeyB4OiBkZXN0WCwgeTogMCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocGxhdGZvcm0uaXNBbmRyb2lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZWV0aW5nc0xpc3RWaWV3Lm5hdGl2ZVZpZXcucmVxdWVzdERpc2FsbG93SW50ZXJjZXB0VG91Y2hFdmVudChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxhdGZvcm0uaXNJT1MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lZXRpbmdzTGlzdFZpZXcuaW9zLnNjcm9sbEVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaXNTd2lwaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5leHBvcnRzLm9uTmF2aWdhdGluZ1RvID0gb25OYXZpZ2F0aW5nVG87XG5leHBvcnRzLm9uU2VsZWN0ZWRJbmRleENoYW5nZWQgPSBvblNlbGVjdGVkSW5kZXhDaGFuZ2VkO1xuZXhwb3J0cy5vbkl0ZW1Mb2FkaW5nID0gb25JdGVtTG9hZGluZztcbmV4cG9ydHMub25CYWNrVGFwID0gb25CYWNrVGFwO1xuZXhwb3J0cy5vbkFkZFRhcCA9IG9uQWRkVGFwO1xuZXhwb3J0cy5vbkl0ZW1UYXAgPSBvbkl0ZW1UYXA7XG5leHBvcnRzLm9uTGF5b3V0TG9hZGVkID0gb25MYXlvdXRMb2FkZWQ7XG5leHBvcnRzLm9uRGVsZXRlQ2xpY2sgPSBvbkRlbGV0ZUNsaWNrO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL21lZXRpbmdzL21lZXRpbmdzLXBhZ2UuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9tZWV0aW5ncy9tZWV0aW5ncy1wYWdlLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxubW9kdWxlLmV4cG9ydHMgPSBcIjxQYWdlIG5hdmlnYXRpbmdUbz1cXFwib25OYXZpZ2F0aW5nVG9cXFwiIGNsYXNzPVxcXCJwYWdlXFxcIiB4bWxucz1cXFwiaHR0cDovL3NjaGVtYXMubmF0aXZlc2NyaXB0Lm9yZy90bnMueHNkXFxcIiA+XFxuICAgIDxBY3Rpb25CYXIgY2xhc3M9XFxcImFjdGlvbi1iYXJcXFwiPlxcbiAgICAgICAgPGFuZHJvaWQ+XFxuICAgICAgICAgICAgPE5hdmlnYXRpb25CdXR0b24gYW5kcm9pZC5zeXN0ZW1JY29uPVxcXCJpY19tZW51X2JhY2tcXFwiIHRhcD1cXFwib25CYWNrVGFwXFxcIiB2aXNpYmlsaXR5PVxcXCJ7eyByZWZlcmVuY2UgPT09ICd0YWInID8gJ2NvbGxhcHNlJyA6ICd2aXNpYmxlJyB9fVxcXCIgLz5cXG4gICAgICAgIDwvYW5kcm9pZD5cXG4gICAgICAgIDxBY3Rpb25JdGVtIHRhcD1cXFwib25BZGRUYXBcXFwiIGlvcy5zeXN0ZW1JY29uPVxcXCI0XFxcIiBhbmRyb2lkLnN5c3RlbUljb249XFxcImljX21lbnVfYWRkXFxcIiBpb3MucG9zaXRpb249XFxcInJpZ2h0XFxcIiBcXG4gICAgICAgICAgICB2aXNpYmlsaXR5PVxcXCJ7eyByZWZlcmVuY2UgPT09ICd0YWInID8gJ2NvbGxhcHNlJyA6ICd2aXNpYmxlJyB9fVxcXCIgLz5cXG4gICAgPC9BY3Rpb25CYXI+XFxuXFxuICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcImF1dG8sICpcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiPlxcbiAgICAgICAgICAgIDxTZWdtZW50ZWRCYXIgY2xhc3M9XFxcInNlZ21lbnRlZC1iYXJcXFwiIHNlbGVjdGVkSW5kZXhDaGFuZ2VkPVxcXCJvblNlbGVjdGVkSW5kZXhDaGFuZ2VkXFxcIj5cXG4gICAgICAgICAgICAgICAgPFNlZ21lbnRlZEJhci5pdGVtcz5cXG4gICAgICAgICAgICAgICAgICAgIDxTZWdtZW50ZWRCYXJJdGVtIHRpdGxlPVxcXCJSZWNlbnQgTWVldGluZ3NcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8U2VnbWVudGVkQmFySXRlbSB0aXRsZT1cXFwiQWxsIE1lZXRpbmdzXFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8L1NlZ21lbnRlZEJhci5pdGVtcz5cXG4gICAgICAgICAgICA8L1NlZ21lbnRlZEJhcj5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIxXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiPlxcbiAgICAgICAgICAgIDxMaXN0VmlldyBpZD1cXFwibWVldGluZ3NMaXN0Vmlld1xcXCIgaXRlbXM9XFxcInt7IG1lZXRpbmdzTGlzdCB9fVxcXCIgaXRlbUxvYWRpbmc9XFxcIm9uSXRlbUxvYWRpbmdcXFwiIGl0ZW1UYXA9XFxcIm9uSXRlbVRhcFxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIj5cXG4gICAgICAgICAgICAgICAgPExpc3RWaWV3Lml0ZW1UZW1wbGF0ZT5cXG4gICAgICAgICAgICAgICAgICAgIDxBYnNvbHV0ZUxheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0tIEJBQ0tHUk9VTkQ6IFN3aXBlIEFjdGlvbnMgLS0+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKiwgODBcXFwiIHdpZHRoPVxcXCIxMDAlXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmRyb2lkOnJvd3M9XFxcInt7IHBjaUluaXRpYXRpdmVzLmxlbmd0aCA+IDAgJmFtcDsmYW1wOyBsZWdpc2xhdG9yU3RhZmZBdHRlbmRlZXMubGVuZ3RoID4gMCA/ICc4OScgOiBwY2lJbml0aWF0aXZlcy5sZW5ndGggPiAwIHx8IGxlZ2lzbGF0b3JTdGFmZkF0dGVuZGVlcy5sZW5ndGggPiAwID8gJzcwJyA6ICc1MScgfX1cXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlvczpyb3dzPVxcXCJ7eyBwY2lJbml0aWF0aXZlcy5sZW5ndGggPiAwICZhbXA7JmFtcDsgbGVnaXNsYXRvclN0YWZmQXR0ZW5kZWVzLmxlbmd0aCA+IDAgPyAnOTgnIDogcGNpSW5pdGlhdGl2ZXMubGVuZ3RoID4gMCB8fCBsZWdpc2xhdG9yU3RhZmZBdHRlbmRlZXMubGVuZ3RoID4gMCA/ICc3OCcgOiAnNTgnIH19XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIGNvbD1cXFwiMFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sPVxcXCIxXFxcIiBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCIqLCBhdXRvLCBhdXRvLCAqXFxcIiB0YXA9XFxcIm9uRGVsZXRlQ2xpY2tcXFwiIGNsYXNzPVxcXCJzd2lwZS1pY29ucyByZWRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIxXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIiYjeGYxZjg7XFxcIiBjbGFzcz1cXFwidGFiLWljb25cXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIyXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIkRlbGV0ZVxcXCIgY2xhc3M9XFxcInRhYi1sYWJlbFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjNcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gRk9SRUdST1VORDogTGlzdCBWaWV3IEl0ZW0gRGV0YWlscyAtLT5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgbG9hZGVkPVxcXCJvbkxheW91dExvYWRlZFxcXCIgYmFja2dyb3VuZENvbG9yPVxcXCJ3aGl0ZVxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCIqXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cXFwie3sgbmFtZSB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLW1haW4tdG9wXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJ7eyBtZWV0aW5nRGF0ZSB8IGRhdGVDb252ZXJ0ZXIoZGF0ZUZvcm1hdCkgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1tYWluXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJ7eyAnd2l0aCAnICsgbGVnaXNsYXRvclN0YWZmQXR0ZW5kZWVzIH19XFxcIiB2aXNpYmlsaXR5PVxcXCJ7eyBsZWdpc2xhdG9yU3RhZmZBdHRlbmRlZXMubGVuZ3RoID4gMCA/ICd2aXNpYmxlJyA6ICdjb2xsYXBzZScgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1zdWJcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcInt7ICdvbiAnICsgcGNpSW5pdGlhdGl2ZXMgfX1cXFwiIHZpc2liaWxpdHk9XFxcInt7IHBjaUluaXRpYXRpdmVzLmxlbmd0aCA+IDAgPyAndmlzaWJsZScgOiAnY29sbGFwc2UnIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwiJiN4ZjEwNTtcXFwiIGNsYXNzPVxcXCJmbi1saXN0LXZpZXctaXRlbVxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcIm1pZGRsZVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICA8L0Fic29sdXRlTGF5b3V0PlxcbiAgICAgICAgICAgICAgICA8L0xpc3RWaWV3Lml0ZW1UZW1wbGF0ZT5cXG4gICAgICAgICAgICA8L0xpc3RWaWV3PlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgIDxBY3Rpdml0eUluZGljYXRvciBidXN5PVxcXCJ7eyBpc0xvYWRpbmcgfX1cXFwiIGFuZHJvaWQ6aGVpZ2h0PVxcXCIyNSVcXFwiIGFuZHJvaWQ6d2lkdGg9XFxcIjI1JVxcXCIgaW9zLmFjdGl2aXR5SW5kaWNhdG9yVmlld1N0eWxlPVxcXCJ3aGl0ZUxhcmdlXFxcIiByb3dTcGFuPVxcXCIyXFxcIiBjb2xTcGFuPVxcXCIxXFxcIiAvPlxcbiAgICA8L0dyaWRMYXlvdXQ+XFxuPC9QYWdlPlxcblwiOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL21lZXRpbmdzL21lZXRpbmdzLXBhZ2UueG1sXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcIm1hcmt1cFwiLCBwYXRoOiBcIi4vbWVldGluZ3MvbWVldGluZ3MtcGFnZS54bWxcIiB9KTtcbiAgICB9KTtcbn0gIiwiY29uc3Qgb2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgT2JzZXJ2YWJsZUFycmF5ID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZS1hcnJheVwiKS5PYnNlcnZhYmxlQXJyYXk7XG52YXIgZnJhbWVNb2R1bGUgPSByZXF1aXJlKFwidWkvZnJhbWVcIik7XG52YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxuZnVuY3Rpb24gTWVldGluZ3NWaWV3TW9kZWwoaXRlbXMpIHtcbiAgICBjb25zdCB2aWV3TW9kZWwgPSBuZXcgT2JzZXJ2YWJsZUFycmF5KGl0ZW1zKTtcblxuICAgIHZpZXdNb2RlbC5sb2FkID0gZnVuY3Rpb24ocmVmZXJlbmNlLCBsZWdpc2xhdG9ySWQsIHJlY2VudE1lZXRpbmdzKSB7XG4gICAgICAgIHZhciByZXF1ZXN0VXJsO1xuXG4gICAgICAgIGlmIChyZWZlcmVuY2UgPT09IFwidGFiXCIpIHtcbiAgICAgICAgICAgIHJlcXVlc3RVcmwgPSBnbG9iYWwuYXBpQmFzZVNlcnZpY2VVcmwgKyBcIm1lZXRpbmdzP3BlcnNvbklkPVwiICsgZ2xvYmFsLnBlcnNvbklkICsgXCImcmVjZW50TWVldGluZ3M9XCIgKyByZWNlbnRNZWV0aW5ncztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChnbG9iYWwuaXNQY2kpIHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0VXJsID0gZ2xvYmFsLmFwaUJhc2VTZXJ2aWNlVXJsICsgXCJtZWV0aW5ncz9sZWdpc2xhdG9ySWQ9XCIgKyBsZWdpc2xhdG9ySWQgKyBcIiZyZWNlbnRNZWV0aW5ncz1cIiArIHJlY2VudE1lZXRpbmdzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0VXJsID0gZ2xvYmFsLmFwaUJhc2VTZXJ2aWNlVXJsICsgXCJtZWV0aW5ncz9wZXJzb25JZD1cIiArIGdsb2JhbC5wZXJzb25JZCArIFwiJmxlZ2lzbGF0b3JJZD1cIiArIGxlZ2lzbGF0b3JJZCArIFwiJnJlY2VudE1lZXRpbmdzPVwiICsgcmVjZW50TWVldGluZ3M7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaHR0cC5yZXF1ZXN0KHtcbiAgICAgICAgICAgIHVybDogcmVxdWVzdFVybCxcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiQXV0aG9yaXphdGlvblwiOiBnbG9iYWwudG9rZW4gfSAvLyxcbiAgICAgICAgICAgIC8vY29udGVudDogSlNPTi5zdHJpbmdpZnkoeyBmaWx0ZXI6IFwiXCIsIHBhZ2U6IFwiMVwiLCBwYWdlU2l6ZTogXCIyMFwiIH0pXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzcG9uc2UuY29udGVudC50b1N0cmluZygpO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHJlc3VsdCk7XG5cbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihtZWV0aW5nKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1lZXRpbmdEYXRlO1xuICAgICAgICAgICAgICAgIC8vIHZhciBsZWdpc2xhdG9yU3RhZmZBdHRlbmRlZXMgPSBtZWV0aW5nLkxlZ2lzbGF0b3JTdGFmZkF0dGVuZGVlcztcbiAgICAgICAgICAgICAgICB2YXIgcGNpSW5pdGlhdGl2ZXMgPSBtZWV0aW5nLlBjaUluaXRpYXRpdmVzO1xuICAgICAgICAgICAgICAgIHZhciBmb2xsb3dVcERhdGU7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgbWVldGluZ0RhdGUgPSBuZXcgRGF0ZShwYXJzZUludChtZWV0aW5nLk1lZXRpbmdEYXRlLnN1YnN0cmluZyhtZWV0aW5nLk1lZXRpbmdEYXRlLmluZGV4T2YoXCIvRGF0ZShcIikgKyA2LCBtZWV0aW5nLk1lZXRpbmdEYXRlLmluZGV4T2YoXCIpL1wiKSkpKTtcblxuICAgICAgICAgICAgICAgIC8vIGlmIChsZWdpc2xhdG9yU3RhZmZBdHRlbmRlZXMubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gICAgIGxlZ2lzbGF0b3JTdGFmZkF0dGVuZGVlcyA9IFwid2l0aCBcIiArIGxlZ2lzbGF0b3JTdGFmZkF0dGVuZGVlcztcbiAgICAgICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgICAgICBpZiAocGNpSW5pdGlhdGl2ZXMubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHBjaUluaXRpYXRpdmVzID0gXCJvbiBcIiArIHBjaUluaXRpYXRpdmVzXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG1lZXRpbmcuRm9sbG93VXBEYXRlID09PSBudWxsIHx8IG1lZXRpbmcuRm9sbG93VXBEYXRlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBmb2xsb3dVcERhdGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvbGxvd1VwRGF0ZSA9IG5ldyBEYXRlKHBhcnNlSW50KG1lZXRpbmcuRm9sbG93VXBEYXRlLnN1YnN0cmluZyhtZWV0aW5nLkZvbGxvd1VwRGF0ZS5pbmRleE9mKFwiL0RhdGUoXCIpICsgNiwgbWVldGluZy5Gb2xsb3dVcERhdGUuaW5kZXhPZihcIikvXCIpKSkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbWVldGluZ0lkOiBtZWV0aW5nLk1lZXRpbmdJZCxcbiAgICAgICAgICAgICAgICAgICAgbWVldGluZ0RhdGU6IG1lZXRpbmdEYXRlLFxuICAgICAgICAgICAgICAgICAgICB2ZW51ZVR5cGVJZDogbWVldGluZy5WZW51ZVR5cGVJZCxcbiAgICAgICAgICAgICAgICAgICAgdmVudWVUeXBlOiBtZWV0aW5nLlZlbnVlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgb2ZmZXJlZFRvTWVtYmVyczogbWVldGluZy5PZmZlcmVkVG9NZW1iZXJzLFxuICAgICAgICAgICAgICAgICAgICBhdHRlbmRlZVR5cGVJZDogbWVldGluZy5BdHRlbmRlZVR5cGVJZCxcbiAgICAgICAgICAgICAgICAgICAgYXR0ZW5kZWVUeXBlOiBtZWV0aW5nLkF0dGVuZGVlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgbG9iYnlpc3RJZDogbWVldGluZy5Mb2JieWlzdElkLFxuICAgICAgICAgICAgICAgICAgICBsb2JieWlzdDogbWVldGluZy5Mb2JieWlzdCxcbiAgICAgICAgICAgICAgICAgICAgbGVnaXNsYXRvcklkOiBtZWV0aW5nLkxlZ2lzbGF0b3JJZCxcbiAgICAgICAgICAgICAgICAgICAgZnVsbE5hbWU6IG1lZXRpbmcuRnVsbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG1lZXRpbmcuTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgcGNpSW5pdGlhdGl2ZXM6IG1lZXRpbmcuUGNpSW5pdGlhdGl2ZXMsXG4gICAgICAgICAgICAgICAgICAgIHN1cnZleXM6IG1lZXRpbmcuU3VydmV5cyxcbiAgICAgICAgICAgICAgICAgICAgcGNpQXR0ZW5kZWVzOiBtZWV0aW5nLlBjaUF0dGVuZGVlcyxcbiAgICAgICAgICAgICAgICAgICAgcHJpbWFyeU9mZmljZUNvbnRhY3Q6IG1lZXRpbmcuUHJpbWFyeU9mZmljZUNvbnRhY3QsXG4gICAgICAgICAgICAgICAgICAgIG1lZXRpbmdMb2NhdGlvbklkOiBtZWV0aW5nLk1lZXRpbmdMb2NhdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogbWVldGluZy5Mb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgbGVnaXNsYXRvclN0YWZmQXR0ZW5kZWVzOiBtZWV0aW5nLkxlZ2lzbGF0b3JTdGFmZkF0dGVuZGVlcyxcbiAgICAgICAgICAgICAgICAgICAgZm9sbG93VXBOZWVkZWQ6IG1lZXRpbmcuRm9sbG93VXBOZWVkZWQsXG4gICAgICAgICAgICAgICAgICAgIGZvbGxvd1VwRGF0ZTogZm9sbG93VXBEYXRlLFxuICAgICAgICAgICAgICAgICAgICBmb2xsb3dVcE5vdGVzOiBtZWV0aW5nLkZvbGxvd1VwTm90ZXMsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0b3JJZDogbWVldGluZy5DcmVhdG9ySWQsXG4gICAgICAgICAgICAgICAgICAgIG5vdGVzOiBtZWV0aW5nLk5vdGVzLFxuICAgICAgICAgICAgICAgICAgICBpbml0aWF0aXZlSWQ6IG1lZXRpbmcuSW5pdGlhdGl2ZUlkLFxuICAgICAgICAgICAgICAgICAgICBzdXJ2ZXlJZDogbWVldGluZy5TdXJ2ZXlJZCxcbiAgICAgICAgICAgICAgICAgICAgYXNzaWdubWVudElkOiBtZWV0aW5nLkFzc2lnbm1lbnRJZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2aWV3TW9kZWwuZW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgd2hpbGUgKHZpZXdNb2RlbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZpZXdNb2RlbC5wb3AoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgcmV0dXJuIHZpZXdNb2RlbDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBNZWV0aW5nc1ZpZXdNb2RlbDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9tZWV0aW5ncy9tZWV0aW5ncy12aWV3LW1vZGVsLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vbWVldGluZ3MvbWVldGluZ3Mtdmlldy1tb2RlbC5qc1wiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBPYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKS5PYnNlcnZhYmxlO1xudmFyIE9ic2VydmFibGVBcnJheSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGUtYXJyYXlcIikuT2JzZXJ2YWJsZUFycmF5O1xudmFyIGh0dHAgPSByZXF1aXJlKFwiaHR0cFwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG5cbmZ1bmN0aW9uIEZhbWlsaWFyaXR5TGV2ZWxWaWV3TW9kZWwoKSB7XG4gICAgY29uc3Qgdmlld01vZGVsID0gbmV3IE9ic2VydmFibGVNb2R1bGUoKTtcbiAgICB2aWV3TW9kZWwuSXRlbXMgPSBuZXcgT2JzZXJ2YWJsZUFycmF5KCk7XG4gICAgdmlld01vZGVsLkxpc3QgPSBuZXcgT2JzZXJ2YWJsZUFycmF5KCk7XG5cbiAgICB2aWV3TW9kZWwubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaHR0cC5yZXF1ZXN0KHtcbiAgICAgICAgICAgIHVybDogZ2xvYmFsLmFwaUJhc2VTZXJ2aWNlVXJsICsgXCJmYW1pbGlhcml0eWxldmVsc1wiLFxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiwgXCJBdXRob3JpemF0aW9uXCI6IGdsb2JhbC50b2tlbiB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzcG9uc2UuY29udGVudC50b1N0cmluZygpO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHJlc3VsdCk7XG5cbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihmYW1pbGlhcml0eUxldmVsKSB7XG4gICAgICAgICAgICAgICAgdmlld01vZGVsLkl0ZW1zLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIGZhbWlsaWFyaXR5TGV2ZWwuTGV2ZWxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgdmlld01vZGVsLkxpc3QucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGZhbWlsaWFyaXR5TGV2ZWxJZDogZmFtaWxpYXJpdHlMZXZlbC5GYW1pbGlhcml0eUxldmVsSWQsXG4gICAgICAgICAgICAgICAgICAgIGZhbWlsaWFyaXR5TGV2ZWw6IGZhbWlsaWFyaXR5TGV2ZWwuTGV2ZWxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmlld01vZGVsLmVtcHR5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHdoaWxlICh2aWV3TW9kZWwuSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2aWV3TW9kZWwuSXRlbXMucG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAodmlld01vZGVsLkxpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICB2aWV3TW9kZWwuTGlzdC5wb3AoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgcmV0dXJuIHZpZXdNb2RlbDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBGYW1pbGlhcml0eUxldmVsVmlld01vZGVsOzsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9wcm9maWxlcy9wcm9maWxlL2ZhbWlsaWFyaXR5bGV2ZWwtdmlldy1tb2RlbC5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL3Byb2ZpbGVzL3Byb2ZpbGUvZmFtaWxpYXJpdHlsZXZlbC12aWV3LW1vZGVsLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IFJlbGF0aW9uc2hpcFR5cGVWaWV3TW9kZWwgPSByZXF1aXJlKFwiLi9yZWxhdGlvbnNoaXB0eXBlLXZpZXctbW9kZWxcIik7XG5jb25zdCBGYW1pbGlhcml0eUxldmVsVmlld01vZGVsID0gcmVxdWlyZShcIi4vZmFtaWxpYXJpdHlsZXZlbC12aWV3LW1vZGVsXCIpO1xuY29uc3QgcGxhdGZvcm0gPSByZXF1aXJlKFwicGxhdGZvcm1cIik7XG5jb25zdCBPYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBPYnNlcnZhYmxlQXJyYXkgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlLWFycmF5XCIpLk9ic2VydmFibGVBcnJheTtcbnZhciBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG52YXIgZnJhbWVNb2R1bGUgPSByZXF1aXJlKFwidWkvZnJhbWVcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xudmFyIGVtYWlsID0gcmVxdWlyZShcIm5hdGl2ZXNjcmlwdC1lbWFpbFwiKTtcbnZhciBwaG9uZSA9IHJlcXVpcmUoXCJuYXRpdmVzY3JpcHQtcGhvbmVcIik7XG5cbnZhciBwYWdlO1xudmFyIG5hdmlnYXRpb25Db250ZXh0O1xuXG52YXIgcmVsYXRpb25zaGlwTGlzdCA9IG5ldyBSZWxhdGlvbnNoaXBUeXBlVmlld01vZGVsKFtdKTtcbnZhciBmYW1pbGlhcml0eUxpc3QgPSBuZXcgRmFtaWxpYXJpdHlMZXZlbFZpZXdNb2RlbChbXSk7XG5cbnZhciByZWxhdGlvbnNoaXBJbmRleCA9IDA7XG52YXIgZmFtaWxpYXJpdHlJbmRleCA9IDA7XG5cbnZhciBwYWdlRGF0YSA9IG5ldyBPYnNlcnZhYmxlTW9kdWxlLmZyb21PYmplY3Qoe1xuICAgIGJvdW5kRGF0YTogbnVsbCxcbiAgICByZWxhdGlvbnNoaXBJbmRleDogcmVsYXRpb25zaGlwSW5kZXgsXG4gICAgcmVsYXRpb25zaGlwTGlzdDogbnVsbCxcbiAgICBmYW1pbGlhcml0eUluZGV4OiBmYW1pbGlhcml0eUluZGV4LFxuICAgIGZhbWlsaWFyaXR5TGlzdDogbnVsbCxcbiAgICBpc0xvYWRpbmc6IGZhbHNlXG59KTtcblxuZnVuY3Rpb24gb25OYXZpZ2F0aW5nVG8oYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHBhZ2UgPSBhcmdzLm9iamVjdDtcblxuICAgICAgICBuYXZpZ2F0aW9uQ29udGV4dCA9IHBhZ2UubmF2aWdhdGlvbkNvbnRleHQ7XG5cbiAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIlByb2ZpbGVcIjtcblxuICAgICAgICBpZiAoYXJncy5pc0JhY2tOYXZpZ2F0aW9uKSB7XG4gICAgICAgICAgICB2YXIgcGVyc29uRGV0YWlscyA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJwZXJzb25EZXRhaWxzXCIpO1xuICAgICAgICAgICAgdmFyIGZ1bGxOYW1lTGFiZWwgPSBwYWdlLmdldFZpZXdCeUlkKFwiZnVsbE5hbWVMYWJlbFwiKTtcbiAgICAgICAgICAgIHZhciBjb21wYW55TGFiZWwgPSBwYWdlLmdldFZpZXdCeUlkKFwiY29tcGFueUxhYmVsXCIpO1xuICAgICAgICAgICAgdmFyIHRpdGxlTGFiZWwgPSBwYWdlLmdldFZpZXdCeUlkKFwidGl0bGVMYWJlbFwiKTtcbiAgICAgICAgICAgIHZhciBlbWFpbEFkZHJlc3NCdXR0b24gPSBwYWdlLmdldFZpZXdCeUlkKFwiZW1haWxBZGRyZXNzQnV0dG9uXCIpO1xuICAgICAgICAgICAgdmFyIHdvcmtQaG9uZUJ1dHRvbiA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJ3b3JrUGhvbmVCdXR0b25cIik7XG4gICAgICAgICAgICB2YXIgc2VsZWN0UGVyc29uID0gcGFnZS5nZXRWaWV3QnlJZChcInNlbGVjdFBlcnNvblwiKTtcbiAgICAgICAgICAgIHZhciByaWdodEFycm93ID0gcGFnZS5nZXRWaWV3QnlJZChcInJpZ2h0QXJyb3dcIik7XG5cbiAgICAgICAgICAgIGlmIChwYWdlRGF0YS5ib3VuZERhdGEucGVyc29uSWQgIT09IG51bGwgJiYgcGFnZURhdGEuYm91bmREYXRhLnBlcnNvbklkICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgZnVsbE5hbWVMYWJlbC50ZXh0ID0gcGFnZURhdGEuYm91bmREYXRhLmZ1bGxOYW1lO1xuICAgICAgICAgICAgICAgIGNvbXBhbnlMYWJlbC50ZXh0ID0gcGFnZURhdGEuYm91bmREYXRhLmNvbXBhbnk7XG4gICAgICAgICAgICAgICAgdGl0bGVMYWJlbC50ZXh0ID0gcGFnZURhdGEuYm91bmREYXRhLnRpdGxlO1xuICAgICAgICAgICAgICAgIGVtYWlsQWRkcmVzc0J1dHRvbi50ZXh0ID0gcGFnZURhdGEuYm91bmREYXRhLmVtYWlsQWRkcmVzcztcbiAgICAgICAgICAgICAgICB3b3JrUGhvbmVCdXR0b24udGV4dCA9IHBhZ2VEYXRhLmJvdW5kRGF0YS53b3JrUGhvbmU7XG5cbiAgICAgICAgICAgICAgICBwZXJzb25EZXRhaWxzLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgICAgICAgICAgICBzZWxlY3RQZXJzb24udmlzaWJpbGl0eSA9IFwiY29sbGFwc2VcIjtcbiAgICAgICAgICAgICAgICByaWdodEFycm93LnZpc2liaWxpdHkgPSBcImNvbGxhcHNlXCI7XG5cbiAgICAgICAgICAgICAgICBpZiAocGFnZURhdGEuYm91bmREYXRhLmVtYWlsQWRkcmVzcyAhPT0gbnVsbCAmJiBwYWdlRGF0YS5ib3VuZERhdGEuZW1haWxBZGRyZXNzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZW1haWxBZGRyZXNzQnV0dG9uLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocGFnZURhdGEuYm91bmREYXRhLndvcmtQaG9uZSAhPT0gbnVsbCAmJiBwYWdlRGF0YS5ib3VuZERhdGEud29ya1Bob25lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgd29ya1Bob25lQnV0dG9uLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YSA9IG5hdmlnYXRpb25Db250ZXh0LmJvdW5kRGF0YTtcbiAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5yZXN1bHQgPSBcIlwiO1xuXG4gICAgICAgICAgICBpZiAoZ2xvYmFsLnJlbGF0aW9uc2hpcExpc3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIHJlbGF0aW9uc2hpcExpc3QubG9hZCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBnbG9iYWwucmVsYXRpb25zaGlwTGlzdCA9IHJlbGF0aW9uc2hpcExpc3Q7XG5cbiAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEucmVsYXRpb25zaGlwTGlzdCA9IGdsb2JhbC5yZWxhdGlvbnNoaXBMaXN0O1xuXG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uc2hpcEluZGV4ID0gMDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocGFnZURhdGEuYm91bmREYXRhLnJlbGF0aW9uc2hpcFR5cGVJZCAhPT0gbnVsbCAmJiBwYWdlRGF0YS5ib3VuZERhdGEucmVsYXRpb25zaGlwVHlwZUlkLnRvU3RyaW5nKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWdlRGF0YS5yZWxhdGlvbnNoaXBMaXN0Lkxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFnZURhdGEucmVsYXRpb25zaGlwTGlzdC5MaXN0LmdldEl0ZW0oaSkucmVsYXRpb25zaGlwVHlwZUlkID09PSBwYWdlRGF0YS5ib3VuZERhdGEucmVsYXRpb25zaGlwVHlwZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uc2hpcEluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBwYWdlRGF0YS5yZWxhdGlvbnNoaXBJbmRleCA9IHJlbGF0aW9uc2hpcEluZGV4O1xuICAgICAgICAgICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEucmVsYXRpb25zaGlwVHlwZUlkID0gcGFnZURhdGEucmVsYXRpb25zaGlwTGlzdC5MaXN0LmdldEl0ZW0ocmVsYXRpb25zaGlwSW5kZXgpLnJlbGF0aW9uc2hpcFR5cGVJZDtcbiAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLnJlbGF0aW9uc2hpcFR5cGUgPSBwYWdlRGF0YS5yZWxhdGlvbnNoaXBMaXN0Lkxpc3QuZ2V0SXRlbShyZWxhdGlvbnNoaXBJbmRleCkucmVsYXRpb25zaGlwVHlwZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZ2xvYmFsLmZhbWlsaWFyaXR5TGlzdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYW1pbGlhcml0eUxpc3QubG9hZCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbC5mYW1pbGlhcml0eUxpc3QgPSBmYW1pbGlhcml0eUxpc3Q7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlRGF0YS5mYW1pbGlhcml0eUxpc3QgPSBnbG9iYWwuZmFtaWxpYXJpdHlMaXN0O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFtaWxpYXJpdHlJbmRleCA9IDA7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFnZURhdGEuYm91bmREYXRhLmZhbWlsaWFyaXR5TGV2ZWxJZCAhPT0gbnVsbCAmJiBwYWdlRGF0YS5ib3VuZERhdGEuZmFtaWxpYXJpdHlMZXZlbElkLnRvU3RyaW5nKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgajtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgcGFnZURhdGEuZmFtaWxpYXJpdHlMaXN0Lkxpc3QubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWdlRGF0YS5mYW1pbGlhcml0eUxpc3QuTGlzdC5nZXRJdGVtKGopLmZhbWlsaWFyaXR5TGV2ZWxJZCA9PT0gcGFnZURhdGEuYm91bmREYXRhLmZhbWlsaWFyaXR5TGV2ZWxJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbWlsaWFyaXR5SW5kZXggPSBqO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEuZmFtaWxpYXJpdHlJbmRleCA9IGZhbWlsaWFyaXR5SW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLmZhbWlsaWFyaXR5TGV2ZWxJZCA9IHBhZ2VEYXRhLmZhbWlsaWFyaXR5TGlzdC5MaXN0LmdldEl0ZW0oZmFtaWxpYXJpdHlJbmRleCkuZmFtaWxpYXJpdHlMZXZlbElkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5mYW1pbGlhcml0eUxldmVsID0gcGFnZURhdGEuZmFtaWxpYXJpdHlMaXN0Lkxpc3QuZ2V0SXRlbShmYW1pbGlhcml0eUluZGV4KS5mYW1pbGlhcml0eUxldmVsO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBwYWdlRGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEuZmFtaWxpYXJpdHlMaXN0ID0gZ2xvYmFsLmZhbWlsaWFyaXR5TGlzdDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFtaWxpYXJpdHlJbmRleCA9IDA7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLmJvdW5kRGF0YS5mYW1pbGlhcml0eUxldmVsSWQgIT09IG51bGwgJiYgcGFnZURhdGEuYm91bmREYXRhLmZhbWlsaWFyaXR5TGV2ZWxJZC50b1N0cmluZygpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgajtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHBhZ2VEYXRhLmZhbWlsaWFyaXR5TGlzdC5MaXN0Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWdlRGF0YS5mYW1pbGlhcml0eUxpc3QuTGlzdC5nZXRJdGVtKGopLmZhbWlsaWFyaXR5TGV2ZWxJZCA9PT0gcGFnZURhdGEuYm91bmREYXRhLmZhbWlsaWFyaXR5TGV2ZWxJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFtaWxpYXJpdHlJbmRleCA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VEYXRhLmZhbWlsaWFyaXR5SW5kZXggPSBmYW1pbGlhcml0eUluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLmZhbWlsaWFyaXR5TGV2ZWxJZCA9IHBhZ2VEYXRhLmZhbWlsaWFyaXR5TGlzdC5MaXN0LmdldEl0ZW0oZmFtaWxpYXJpdHlJbmRleCkuZmFtaWxpYXJpdHlMZXZlbElkO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLmZhbWlsaWFyaXR5TGV2ZWwgPSBwYWdlRGF0YS5mYW1pbGlhcml0eUxpc3QuTGlzdC5nZXRJdGVtKGZhbWlsaWFyaXR5SW5kZXgpLmZhbWlsaWFyaXR5TGV2ZWw7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFnZURhdGEucmVsYXRpb25zaGlwTGlzdCA9IGdsb2JhbC5yZWxhdGlvbnNoaXBMaXN0O1xuXG4gICAgICAgICAgICAgICAgcmVsYXRpb25zaGlwSW5kZXggPSAwO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLmJvdW5kRGF0YS5yZWxhdGlvbnNoaXBUeXBlSWQgIT09IG51bGwgJiYgcGFnZURhdGEuYm91bmREYXRhLnJlbGF0aW9uc2hpcFR5cGVJZC50b1N0cmluZygpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhZ2VEYXRhLnJlbGF0aW9uc2hpcExpc3QuTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLnJlbGF0aW9uc2hpcExpc3QuTGlzdC5nZXRJdGVtKGkpLnJlbGF0aW9uc2hpcFR5cGVJZCA9PT0gcGFnZURhdGEuYm91bmREYXRhLnJlbGF0aW9uc2hpcFR5cGVJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uc2hpcEluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnJlbGF0aW9uc2hpcEluZGV4ID0gcmVsYXRpb25zaGlwSW5kZXg7XG4gICAgICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLnJlbGF0aW9uc2hpcFR5cGVJZCA9IHBhZ2VEYXRhLnJlbGF0aW9uc2hpcExpc3QuTGlzdC5nZXRJdGVtKHJlbGF0aW9uc2hpcEluZGV4KS5yZWxhdGlvbnNoaXBUeXBlSWQ7XG4gICAgICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLnJlbGF0aW9uc2hpcFR5cGUgPSBwYWdlRGF0YS5yZWxhdGlvbnNoaXBMaXN0Lkxpc3QuZ2V0SXRlbShyZWxhdGlvbnNoaXBJbmRleCkucmVsYXRpb25zaGlwVHlwZTtcblxuICAgICAgICAgICAgICAgIHBhZ2VEYXRhLmZhbWlsaWFyaXR5TGlzdCA9IGdsb2JhbC5mYW1pbGlhcml0eUxpc3Q7XG5cbiAgICAgICAgICAgICAgICBmYW1pbGlhcml0eUluZGV4ID0gMDtcblxuICAgICAgICAgICAgICAgIGlmIChwYWdlRGF0YS5ib3VuZERhdGEuZmFtaWxpYXJpdHlMZXZlbElkICE9PSBudWxsICYmIHBhZ2VEYXRhLmJvdW5kRGF0YS5mYW1pbGlhcml0eUxldmVsSWQudG9TdHJpbmcoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBqO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBwYWdlRGF0YS5mYW1pbGlhcml0eUxpc3QuTGlzdC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VEYXRhLmZhbWlsaWFyaXR5TGlzdC5MaXN0LmdldEl0ZW0oaikuZmFtaWxpYXJpdHlMZXZlbElkID09PSBwYWdlRGF0YS5ib3VuZERhdGEuZmFtaWxpYXJpdHlMZXZlbElkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFtaWxpYXJpdHlJbmRleCA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwYWdlRGF0YS5mYW1pbGlhcml0eUluZGV4ID0gZmFtaWxpYXJpdHlJbmRleDtcbiAgICAgICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEuZmFtaWxpYXJpdHlMZXZlbElkID0gcGFnZURhdGEuZmFtaWxpYXJpdHlMaXN0Lkxpc3QuZ2V0SXRlbShmYW1pbGlhcml0eUluZGV4KS5mYW1pbGlhcml0eUxldmVsSWQ7XG4gICAgICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLmZhbWlsaWFyaXR5TGV2ZWwgPSBwYWdlRGF0YS5mYW1pbGlhcml0eUxpc3QuTGlzdC5nZXRJdGVtKGZhbWlsaWFyaXR5SW5kZXgpLmZhbWlsaWFyaXR5TGV2ZWw7XG5cbiAgICAgICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25Mb2FkZWQoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciByZWxhdGlvbnNoaXBMaXN0UGlja2VyID0gcGFnZS5nZXRWaWV3QnlJZChcInJlbGF0aW9uc2hpcExpc3RQaWNrZXJcIik7XG4gICAgICAgIFxuICAgICAgICByZWxhdGlvbnNoaXBMaXN0UGlja2VyLm9uKFwic2VsZWN0ZWRJbmRleENoYW5nZVwiLCBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB2YXIgcmVsYXRpb25zaGlwTGFiZWwgPSBwYWdlLmdldFZpZXdCeUlkKFwicmVsYXRpb25zaGlwTGFiZWxcIik7XG4gICAgICAgICAgICB2YXIgcmVsYXRpb25zaGlwSXRlbSA9IHBhZ2VEYXRhLnJlbGF0aW9uc2hpcExpc3QuTGlzdC5nZXRJdGVtKGFyZ3Mub2JqZWN0LnNlbGVjdGVkSW5kZXgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEucmVsYXRpb25zaGlwVHlwZUlkID0gcmVsYXRpb25zaGlwSXRlbS5yZWxhdGlvbnNoaXBUeXBlSWQ7XG4gICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEucmVsYXRpb25zaGlwVHlwZSA9IHJlbGF0aW9uc2hpcEl0ZW0ucmVsYXRpb25zaGlwVHlwZTtcblxuICAgICAgICAgICAgcmVsYXRpb25zaGlwTGFiZWwudGV4dCA9IHBhZ2VEYXRhLmJvdW5kRGF0YS5yZWxhdGlvbnNoaXBUeXBlO1xuICAgICAgICAgICAgLy8gZGlhbG9ncy5hbGVydChyZWxhdGlvbnNoaXBJdGVtLnJlbGF0aW9uc2hpcFR5cGVJZCArIFwiOiBcIiArIHJlbGF0aW9uc2hpcEl0ZW0ucmVsYXRpb25zaGlwVHlwZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBmYW1pbGlhcml0eUxpc3RQaWNrZXIgPSBwYWdlLmdldFZpZXdCeUlkKFwiZmFtaWxpYXJpdHlMaXN0UGlja2VyXCIpO1xuICAgICAgICBcbiAgICAgICAgZmFtaWxpYXJpdHlMaXN0UGlja2VyLm9uKFwic2VsZWN0ZWRJbmRleENoYW5nZVwiLCBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgICB2YXIgZmFtaWxpYXJpdHlMYWJlbCA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJmYW1pbGlhcml0eUxhYmVsXCIpO1xuICAgICAgICAgICAgdmFyIGZhbWlsaWFyaXR5SXRlbSA9IHBhZ2VEYXRhLmZhbWlsaWFyaXR5TGlzdC5MaXN0LmdldEl0ZW0oYXJncy5vYmplY3Quc2VsZWN0ZWRJbmRleCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5mYW1pbGlhcml0eUxldmVsSWQgPSBmYW1pbGlhcml0eUl0ZW0uZmFtaWxpYXJpdHlMZXZlbElkO1xuICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLmZhbWlsaWFyaXR5TGV2ZWwgPSBmYW1pbGlhcml0eUl0ZW0uZmFtaWxpYXJpdHlMZXZlbDtcblxuICAgICAgICAgICAgZmFtaWxpYXJpdHlMYWJlbC50ZXh0ID0gcGFnZURhdGEuYm91bmREYXRhLmZhbWlsaWFyaXR5TGV2ZWw7XG4gICAgICAgICAgICAvLyBkaWFsb2dzLmFsZXJ0KGZhbWlsaWFyaXR5SXRlbS5mYW1pbGlhcml0eUxldmVsSWQgKyBcIjogXCIgKyBmYW1pbGlhcml0eUl0ZW0uZmFtaWxpYXJpdHlMZXZlbCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkJhY2tUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGRpc21pc3NLZXlib2FyZCgpO1xuXG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5nb0JhY2soKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydChlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uR3JpZExheW91dFRhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgZGlzbWlzc0tleWJvYXJkKCk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblNlbGVjdGlvblRhcChhcmdzKSB7XG4gICAgdHJ5XG4gICAge1xuICAgICAgICBkaXNtaXNzS2V5Ym9hcmQoKTtcblxuICAgICAgICAvLyBPbmx5IG5hdmlnYXRlIGlmIHRoaXMgaXMgYSBuZXcgcmVsYXRpb25zaGlwLlxuICAgICAgICBpZiAocGFnZURhdGEuYm91bmREYXRhLnBlcnNvbklkID09PSBudWxsIHx8IHBhZ2VEYXRhLmJvdW5kRGF0YS5wZXJzb25JZCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICAgICAgICAgIG1vZHVsZU5hbWU6IFwicHJvZmlsZXMvcHJvZmlsZXNlYXJjaC9wcm9maWxlc2VhcmNoLXBhZ2VcIixcbiAgICAgICAgICAgICAgICBjb250ZXh0OiBwYWdlRGF0YS5ib3VuZERhdGEsXG4gICAgICAgICAgICAgICAgY2xlYXJIaXN0b3J5OiBmYWxzZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7IFxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uRW1haWxUYXAoYXJncykge1xuICAgIGRpc21pc3NLZXlib2FyZCgpO1xuXG4gICAgdmFyIGVtYWlsQnV0dG9uID0gYXJncy5vYmplY3Q7XG4gICAgdmFyIGVtYWlsQWRkcmVzcyA9IGVtYWlsQnV0dG9uLnRleHQ7XG5cbiAgICBlbWFpbC5jb21wb3NlKHtcbiAgICAgICAgdG86IFtlbWFpbEFkZHJlc3NdXG4gICAgfSlcbn1cblxuZnVuY3Rpb24gb25QaG9uZVRhcChhcmdzKSB7XG4gICAgZGlzbWlzc0tleWJvYXJkKCk7XG5cbiAgICB2YXIgcGhvbmVCdXR0b24gPSBhcmdzLm9iamVjdDtcbiAgICB2YXIgcGhvbmVOdW1iZXIgPSBwaG9uZUJ1dHRvbi50ZXh0O1xuXG4gICAgcGhvbmUuZGlhbChwaG9uZU51bWJlciwgZmFsc2UpO1xufVxuXG5mdW5jdGlvbiBvblN0YWNrTGF5b3V0UmVsYXRpb25zaGlwVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBkaXNtaXNzS2V5Ym9hcmQoKTtcblxuICAgICAgICB2YXIgcmVsYXRpb25zaGlwTGlzdFBpY2tlckdyaWRMYXlvdXQgPSBwYWdlLmdldFZpZXdCeUlkKFwicmVsYXRpb25zaGlwTGlzdFBpY2tlckdyaWRMYXlvdXRcIik7XG4gICAgICAgIHZhciBmYW1pbGlhcml0eUxpc3RQaWNrZXJHcmlkTGF5b3V0ID0gcGFnZS5nZXRWaWV3QnlJZChcImZhbWlsaWFyaXR5TGlzdFBpY2tlckdyaWRMYXlvdXRcIik7XG4gICAgICAgIFxuICAgICAgICBpZiAocmVsYXRpb25zaGlwTGlzdFBpY2tlckdyaWRMYXlvdXQudmlzaWJpbGl0eSA9PT0gXCJjb2xsYXBzZVwiKSB7XG4gICAgICAgICAgICByZWxhdGlvbnNoaXBMaXN0UGlja2VyR3JpZExheW91dC52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgICAgICAgICBmYW1pbGlhcml0eUxpc3RQaWNrZXJHcmlkTGF5b3V0LnZpc2liaWxpdHkgPSBcImNvbGxhcHNlXCI7XG5cbiAgICAgICAgICAgIHBhZ2UuYWRkQ3NzKFwiI3JlbGF0aW9uc2hpcExhYmVsIHtjb2xvcjogI2NjMmQzMDt9XCIpO1xuICAgICAgICAgICAgcGFnZS5hZGRDc3MoXCIjZmFtaWxpYXJpdHlMYWJlbCB7Y29sb3I6ICM2NjY7fVwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbGF0aW9uc2hpcExpc3RQaWNrZXJHcmlkTGF5b3V0LnZpc2liaWxpdHkgPSBcImNvbGxhcHNlXCI7XG5cbiAgICAgICAgICAgIHBhZ2UuYWRkQ3NzKFwiI3JlbGF0aW9uc2hpcExhYmVsIHtjb2xvcjogIzY2Njt9XCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU3RhY2tMYXlvdXRGYW1pbGlhcml0eVRhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgZGlzbWlzc0tleWJvYXJkKCk7XG5cbiAgICAgICAgdmFyIHJlbGF0aW9uc2hpcExpc3RQaWNrZXJHcmlkTGF5b3V0ID0gcGFnZS5nZXRWaWV3QnlJZChcInJlbGF0aW9uc2hpcExpc3RQaWNrZXJHcmlkTGF5b3V0XCIpO1xuICAgICAgICB2YXIgZmFtaWxpYXJpdHlMaXN0UGlja2VyR3JpZExheW91dCA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJmYW1pbGlhcml0eUxpc3RQaWNrZXJHcmlkTGF5b3V0XCIpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGZhbWlsaWFyaXR5TGlzdFBpY2tlckdyaWRMYXlvdXQudmlzaWJpbGl0eSA9PT0gXCJjb2xsYXBzZVwiKSB7XG4gICAgICAgICAgICByZWxhdGlvbnNoaXBMaXN0UGlja2VyR3JpZExheW91dC52aXNpYmlsaXR5ID0gXCJjb2xsYXBzZVwiO1xuICAgICAgICAgICAgZmFtaWxpYXJpdHlMaXN0UGlja2VyR3JpZExheW91dC52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG5cbiAgICAgICAgICAgIHBhZ2UuYWRkQ3NzKFwiI3JlbGF0aW9uc2hpcExhYmVsIHtjb2xvcjogIzY2Njt9XCIpO1xuICAgICAgICAgICAgcGFnZS5hZGRDc3MoXCIjZmFtaWxpYXJpdHlMYWJlbCB7Y29sb3I6ICNjYzJkMzA7fVwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZhbWlsaWFyaXR5TGlzdFBpY2tlckdyaWRMYXlvdXQudmlzaWJpbGl0eSA9IFwiY29sbGFwc2VcIjtcblxuICAgICAgICAgICAgcGFnZS5hZGRDc3MoXCIjZmFtaWxpYXJpdHlMYWJlbCB7Y29sb3I6ICM2NjY7fVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblRleHRWaWV3Rm9jdXMoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciByZWxhdGlvbnNoaXBMaXN0UGlja2VyR3JpZExheW91dCA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJyZWxhdGlvbnNoaXBMaXN0UGlja2VyR3JpZExheW91dFwiKTtcbiAgICAgICAgdmFyIGZhbWlsaWFyaXR5TGlzdFBpY2tlckdyaWRMYXlvdXQgPSBwYWdlLmdldFZpZXdCeUlkKFwiZmFtaWxpYXJpdHlMaXN0UGlja2VyR3JpZExheW91dFwiKTtcblxuICAgICAgICByZWxhdGlvbnNoaXBMaXN0UGlja2VyR3JpZExheW91dC52aXNpYmlsaXR5ID0gXCJjb2xsYXBzZVwiO1xuICAgICAgICBmYW1pbGlhcml0eUxpc3RQaWNrZXJHcmlkTGF5b3V0LnZpc2liaWxpdHkgPSBcImNvbGxhcHNlXCI7XG5cbiAgICAgICAgcGFnZS5hZGRDc3MoXCIjcmVsYXRpb25zaGlwTGFiZWwge2NvbG9yOiAjNjY2O31cIik7XG4gICAgICAgIHBhZ2UuYWRkQ3NzKFwiI2ZhbWlsaWFyaXR5TGFiZWwge2NvbG9yOiAjNjY2O31cIik7XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU2F2ZVRhcChhcmdzKSB7XG4gICAgZGlzbWlzc0tleWJvYXJkKCk7XG5cbiAgICBpZiAocGFnZURhdGEuYm91bmREYXRhLnBlcnNvbklkID09PSBudWxsIHx8IHBhZ2VEYXRhLmJvdW5kRGF0YS5wZXJzb25JZCA9PT0gMCkge1xuICAgICAgICB2YXIgbGFiZWw7XG5cbiAgICAgICAgaWYgKG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxUeXBlID09PSBcImxlZ2lzbGF0b3JcIikge1xuICAgICAgICAgICAgbGFiZWwgPSBcInJlbGF0aW9uc2hpcFwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGFiZWwgPSBcImF0dGVuZGVlXCI7XG4gICAgICAgIH1cblxuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIklucHV0IFZhbGlkYXRpb25cIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiQSBwZXJzb24gbXVzdCBiZSBzZWxlY3RlZCBwcmlvciB0byBzYXZpbmcgdGhpcyBcIiArIGxhYmVsICsgXCIuXCIsXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcmVsYXRpb25zaGlwTGlzdFBpY2tlciA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJyZWxhdGlvbnNoaXBMaXN0UGlja2VyXCIpO1xuXG4gICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5yZWxhdGlvbnNoaXBUeXBlSWQgPSBwYWdlRGF0YS5yZWxhdGlvbnNoaXBMaXN0Lkxpc3QuZ2V0SXRlbShyZWxhdGlvbnNoaXBMaXN0UGlja2VyLnNlbGVjdGVkSW5kZXgpLnJlbGF0aW9uc2hpcFR5cGVJZDtcbiAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLnJlbGF0aW9uc2hpcFR5cGUgPSBwYWdlRGF0YS5yZWxhdGlvbnNoaXBMaXN0Lkxpc3QuZ2V0SXRlbShyZWxhdGlvbnNoaXBMaXN0UGlja2VyLnNlbGVjdGVkSW5kZXgpLnJlbGF0aW9uc2hpcFR5cGU7XG5cbiAgICAgICAgdmFyIGZhbWlsaWFyaXR5TGlzdFBpY2tlciA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJmYW1pbGlhcml0eUxpc3RQaWNrZXJcIik7XG5cbiAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLmZhbWlsaWFyaXR5TGV2ZWxJZCA9IHBhZ2VEYXRhLmZhbWlsaWFyaXR5TGlzdC5MaXN0LmdldEl0ZW0oZmFtaWxpYXJpdHlMaXN0UGlja2VyLnNlbGVjdGVkSW5kZXgpLmZhbWlsaWFyaXR5TGV2ZWxJZDtcbiAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLmZhbWlsaWFyaXR5TGV2ZWwgPSBwYWdlRGF0YS5mYW1pbGlhcml0eUxpc3QuTGlzdC5nZXRJdGVtKGZhbWlsaWFyaXR5TGlzdFBpY2tlci5zZWxlY3RlZEluZGV4KS5mYW1pbGlhcml0eUxldmVsO1xuICAgICAgICBcbiAgICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgdHJ1ZSk7XG5cbiAgICAgICAgaHR0cC5yZXF1ZXN0KHtcbiAgICAgICAgICAgIHVybDogZ2xvYmFsLmFwaUJhc2VTZXJ2aWNlVXJsICsgXCJ1cGRhdGVwcm9maWxlcmVsYXRpb25zaGlwXCIsXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiwgXCJBdXRob3JpemF0aW9uXCI6IGdsb2JhbC50b2tlbiB9LFxuICAgICAgICAgICAgY29udGVudDogSlNPTi5zdHJpbmdpZnkocGFnZURhdGEuYm91bmREYXRhKVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgLy8gcmVzdWx0ID0gcmVzcG9uc2UuY29udGVudC50b0pTT04oKTtcbiAgICAgICAgICAgIC8vIGRpYWxvZ3MuYWxlcnQocmVzdWx0KTtcbiAgICAgICAgICAgIC8vIGRpYWxvZ3MuYWxlcnQocGFnZURhdGEuYm91bmREYXRhLnJlc3BvbnNlSWQgKyBcIjogXCIgKyBwYWdlRGF0YS5ib3VuZERhdGEucmVzcG9uc2UpO1xuXG4gICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEucmVzdWx0ID0gXCJVcGRhdGVcIjtcblxuICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcblxuICAgICAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLmdvQmFjaygpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpc21pc3NLZXlib2FyZCgpIHtcbiAgICBpZiAocGxhdGZvcm0uaXNBbmRyb2lkKSB7XG4gICAgICAgIHZhciBub3RlcyA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJub3Rlc1wiKTtcblxuICAgICAgICBub3Rlcy5kaXNtaXNzU29mdElucHV0KCk7XG4gICAgfVxufVxuXG5leHBvcnRzLm9uTmF2aWdhdGluZ1RvID0gb25OYXZpZ2F0aW5nVG87XG5leHBvcnRzLm9uTG9hZGVkID0gb25Mb2FkZWQ7XG5leHBvcnRzLm9uQmFja1RhcCA9IG9uQmFja1RhcDtcbmV4cG9ydHMub25HcmlkTGF5b3V0VGFwID0gb25HcmlkTGF5b3V0VGFwO1xuZXhwb3J0cy5vblNlbGVjdGlvblRhcCA9IG9uU2VsZWN0aW9uVGFwO1xuZXhwb3J0cy5vbkVtYWlsVGFwID0gb25FbWFpbFRhcDtcbmV4cG9ydHMub25QaG9uZVRhcCA9IG9uUGhvbmVUYXA7XG5leHBvcnRzLm9uU3RhY2tMYXlvdXRSZWxhdGlvbnNoaXBUYXAgPSBvblN0YWNrTGF5b3V0UmVsYXRpb25zaGlwVGFwO1xuZXhwb3J0cy5vblN0YWNrTGF5b3V0RmFtaWxpYXJpdHlUYXAgPSBvblN0YWNrTGF5b3V0RmFtaWxpYXJpdHlUYXA7XG5leHBvcnRzLm9uVGV4dFZpZXdGb2N1cyA9IG9uVGV4dFZpZXdGb2N1cztcbmV4cG9ydHMub25TYXZlVGFwID0gb25TYXZlVGFwO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL3Byb2ZpbGVzL3Byb2ZpbGUvcHJvZmlsZS1wYWdlLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vcHJvZmlsZXMvcHJvZmlsZS9wcm9maWxlLXBhZ2UuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiXG5tb2R1bGUuZXhwb3J0cyA9IFwiPFBhZ2UgbmF2aWdhdGluZ1RvPVxcXCJvbk5hdmlnYXRpbmdUb1xcXCIgbG9hZGVkPVxcXCJvbkxvYWRlZFxcXCIgY2xhc3M9XFxcInBhZ2VcXFwiIHhtbG5zPVxcXCJodHRwOi8vc2NoZW1hcy5uYXRpdmVzY3JpcHQub3JnL3Rucy54c2RcXFwiID5cXG4gICAgPEFjdGlvbkJhciBjbGFzcz1cXFwiYWN0aW9uLWJhclxcXCI+XFxuICAgICAgICA8YW5kcm9pZD5cXG4gICAgICAgICAgICA8TmF2aWdhdGlvbkJ1dHRvbiBhbmRyb2lkLnN5c3RlbUljb249XFxcImljX21lbnVfYmFja1xcXCIgdGFwPVxcXCJvbkJhY2tUYXBcXFwiIC8+XFxuICAgICAgICA8L2FuZHJvaWQ+XFxuICAgICAgICA8QWN0aW9uSXRlbSB0YXA9XFxcIm9uU2F2ZVRhcFxcXCIgaW9zLnN5c3RlbUljb249XFxcIjNcXFwiIGFuZHJvaWQuc3lzdGVtSWNvbj1cXFwiaWNfbWVudV9zYXZlXFxcIiBpb3MucG9zaXRpb249XFxcInJpZ2h0XFxcIiAvPlxcbiAgICA8L0FjdGlvbkJhcj5cXG5cXG4gICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiKlxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIiB3aWR0aD1cXFwiMTAwJVxcXCIgdGFwPVxcXCJvbkdyaWRMYXlvdXRUYXBcXFwiPlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwidG9wXFxcIj5cXG4gICAgICAgICAgICA8U3RhY2tMYXlvdXQgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiPlxcbiAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCJhdXRvXFxcIiB0YXA9XFxcIm9uU2VsZWN0aW9uVGFwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxTdGFja0xheW91dCBpZD1cXFwicGVyc29uRGV0YWlsc1xcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHZpc2liaWxpdHk9XFxcInt7IGJvdW5kRGF0YS5wZXJzb25JZCA9PT0gbnVsbCB8fCBib3VuZERhdGEucGVyc29uSWQgPT09IDAgPyAnY29sbGFwc2UnIDogJ3Zpc2libGUnIH19XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImZ1bGxOYW1lTGFiZWxcXFwiIHRleHQ9XFxcInt7IGJvdW5kRGF0YS5mdWxsTmFtZSB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLW1haW4tdG9wXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwiY29tcGFueUxhYmVsXFxcIiB0ZXh0PVxcXCJ7eyBib3VuZERhdGEuY29tcGFueSB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1YlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaWQ9XFxcInRpdGxlTGFiZWxcXFwiIHRleHQ9XFxcInt7IGJvdW5kRGF0YS50aXRsZSB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1YlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImVtYWlsQWRkcmVzc0J1dHRvblxcXCIgdGV4dD1cXFwie3sgYm91bmREYXRhLmVtYWlsQWRkcmVzcyB9fVxcXCIgdGFwPVxcXCJvbkVtYWlsVGFwXFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJsZWZ0XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViLWVtYWlsXFxcIiBcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eT1cXFwie3sgYm91bmREYXRhLmVtYWlsQWRkcmVzcyAhPT0gbnVsbCAmYW1wOyZhbXA7IGJvdW5kRGF0YS5lbWFpbEFkZHJlc3MubGVuZ3RoID4gMCA/ICd2aXNpYmxlJyA6ICdjb2xsYXBzZScgfX1cXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIGlkPVxcXCJ3b3JrUGhvbmVCdXR0b25cXFwiIHRleHQ9XFxcInt7IGJvdW5kRGF0YS53b3JrUGhvbmUgfX1cXFwiIHRhcD1cXFwib25QaG9uZVRhcFxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwibGVmdFxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1Yi1waG9uZVxcXCIgXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk9XFxcInt7IGJvdW5kRGF0YS53b3JrUGhvbmUgIT09IG51bGwgJmFtcDsmYW1wOyBib3VuZERhdGEud29ya1Bob25lLmxlbmd0aCA+IDAgPyAndmlzaWJsZScgOiAnY29sbGFwc2UnIH19XFxcIi8+XFxuICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IGlkPVxcXCJzZWxlY3RQZXJzb25cXFwiIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB2aXNpYmlsaXR5PVxcXCJ7eyBib3VuZERhdGEucGVyc29uSWQgIT09IG51bGwgJmFtcDsmYW1wOyBib3VuZERhdGEucGVyc29uSWQgIT09IDAgPyAnY29sbGFwc2UnIDogJ3Zpc2libGUnIH19XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cXFwiU2VsZWN0IFBlcnNvblxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIHN0eWxlPVxcXCJjb2xvcjogIzk5OTsgZm9udC1zdHlsZTogaXRhbGljO1xcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaWQ9XFxcInJpZ2h0QXJyb3dcXFwiIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCImI3hmMTA1O1xcXCIgY2xhc3M9XFxcImZuLWxpc3Qtdmlldy1pdGVtXFxcIiB2aXNpYmlsaXR5PVxcXCJ7eyBib3VuZERhdGEucGVyc29uSWQgIT09IG51bGwgJmFtcDsmYW1wOyBib3VuZERhdGEucGVyc29uSWQgIT09IDAgPyAnY29sbGFwc2UnIDogJ3Zpc2libGUnIH19XFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICA8U3RhY2tMYXlvdXQgdGFwPVxcXCJvblN0YWNrTGF5b3V0UmVsYXRpb25zaGlwVGFwXFxcIiB2aXNpYmlsaXR5PVxcXCJ7eyBib3VuZERhdGEucmVsYXRpb25hbFR5cGUgPT09ICdsZWdpc2xhdG9yJyA/ICd2aXNpYmxlJyA6ICdjb2xsYXBzZScgfX1cXFwiPlxcbiAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIlJlbGF0aW9uc2hpcFxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaWQ9XFxcInJlbGF0aW9uc2hpcExhYmVsXFxcIiByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMVxcXCIgdGV4dD1cXFwie3sgYm91bmREYXRhLnJlbGF0aW9uc2hpcFR5cGUgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1yaWdodFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgPEdyaWRMYXlvdXQgaWQ9XFxcInJlbGF0aW9uc2hpcExpc3RQaWNrZXJHcmlkTGF5b3V0XFxcIiBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCIgdmlzaWJpbGl0eT1cXFwiY29sbGFwc2VcXFwiPlxcbiAgICAgICAgICAgICAgICA8TGlzdFBpY2tlciBpZD1cXFwicmVsYXRpb25zaGlwTGlzdFBpY2tlclxcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIGl0ZW1zPVxcXCJ7eyByZWxhdGlvbnNoaXBMaXN0Lkl0ZW1zIH19XFxcIiBzZWxlY3RlZEluZGV4PVxcXCJ7eyByZWxhdGlvbnNoaXBJbmRleCB9fVxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tcmlnaHRcXFwiPjwvTGlzdFBpY2tlcj5cXG4gICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHRhcD1cXFwib25TdGFja0xheW91dEZhbWlsaWFyaXR5VGFwXFxcIiB2aXNpYmlsaXR5PVxcXCJ7eyBib3VuZERhdGEucmVsYXRpb25hbFR5cGUgPT09ICdsZWdpc2xhdG9yJyA/ICd2aXNpYmxlJyA6ICdjb2xsYXBzZScgfX1cXFwiPlxcbiAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCJhdXRvXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tZm9ybVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIktub3dzIEhvdyBXZWxsP1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWxlZnRcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImZhbWlsaWFyaXR5TGFiZWxcXFwiIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCJ7eyBib3VuZERhdGEuZmFtaWxpYXJpdHlMZXZlbCB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIiAvPlxcbiAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICA8R3JpZExheW91dCBpZD1cXFwiZmFtaWxpYXJpdHlMaXN0UGlja2VyR3JpZExheW91dFxcXCIgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiYXV0b1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiIHZpc2liaWxpdHk9XFxcImNvbGxhcHNlXFxcIj5cXG4gICAgICAgICAgICAgICAgPExpc3RQaWNrZXIgaWQ9XFxcImZhbWlsaWFyaXR5TGlzdFBpY2tlclxcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIGl0ZW1zPVxcXCJ7eyBmYW1pbGlhcml0eUxpc3QuSXRlbXMgfX1cXFwiIHNlbGVjdGVkSW5kZXg9XFxcInt7IGZhbWlsaWFyaXR5SW5kZXggfX1cXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXJpZ2h0XFxcIj48L0xpc3RQaWNrZXI+XFxuICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgIDwhLS0gPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKlxcXCIgcm93cz1cXFwiYXV0b1xcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLWZvcm1cXFwiPlxcbiAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIk5vdGVzXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbGVmdFxcXCIgLz5cXG4gICAgICAgICAgICA8L0dyaWRMYXlvdXQ+IC0tPlxcbiAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcIipcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1mb3JtXFxcIj5cXG4gICAgICAgICAgICAgICAgPFRleHRWaWV3IGlkPVxcXCJub3Rlc1xcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcInt7IGJvdW5kRGF0YS5ub3RlcyB9fVxcXCIgZm9jdXM9XFxcIm9uVGV4dFZpZXdGb2N1c1xcXCIgaGludD1cXFwiTm90ZXNcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS10ZXh0dmlld1xcXCIgLz5cXG4gICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgPEFjdGl2aXR5SW5kaWNhdG9yIGJ1c3k9XFxcInt7IGlzTG9hZGluZyB9fVxcXCIgYW5kcm9pZDpoZWlnaHQ9XFxcIjI1JVxcXCIgYW5kcm9pZDp3aWR0aD1cXFwiMjUlXFxcIiBpb3MuYWN0aXZpdHlJbmRpY2F0b3JWaWV3U3R5bGU9XFxcIndoaXRlTGFyZ2VcXFwiIHJvd1NwYW49XFxcIjFcXFwiIGNvbFNwYW49XFxcIjFcXFwiIC8+XFxuICAgIDwvR3JpZExheW91dD5cXG48L1BhZ2U+XFxuXCI7IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vcHJvZmlsZXMvcHJvZmlsZS9wcm9maWxlLXBhZ2UueG1sXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcIm1hcmt1cFwiLCBwYXRoOiBcIi4vcHJvZmlsZXMvcHJvZmlsZS9wcm9maWxlLXBhZ2UueG1sXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IE9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpLk9ic2VydmFibGU7XG52YXIgT2JzZXJ2YWJsZUFycmF5ID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZS1hcnJheVwiKS5PYnNlcnZhYmxlQXJyYXk7XG52YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxuZnVuY3Rpb24gUmVsYXRpb25zaGlwVHlwZVZpZXdNb2RlbCgpIHtcbiAgICBjb25zdCB2aWV3TW9kZWwgPSBuZXcgT2JzZXJ2YWJsZU1vZHVsZSgpO1xuICAgIHZpZXdNb2RlbC5JdGVtcyA9IG5ldyBPYnNlcnZhYmxlQXJyYXkoKTtcbiAgICB2aWV3TW9kZWwuTGlzdCA9IG5ldyBPYnNlcnZhYmxlQXJyYXkoKTtcblxuICAgIHZpZXdNb2RlbC5sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBodHRwLnJlcXVlc3Qoe1xuICAgICAgICAgICAgdXJsOiBnbG9iYWwuYXBpQmFzZVNlcnZpY2VVcmwgKyBcInJlbGF0aW9uc2hpcHR5cGVzXCIsXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLCBcIkF1dGhvcml6YXRpb25cIjogZ2xvYmFsLnRva2VuIH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXNwb25zZS5jb250ZW50LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzdWx0KTtcblxuICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKHJlbGF0aW9uc2hpcFR5cGUpIHtcbiAgICAgICAgICAgICAgICB2aWV3TW9kZWwuSXRlbXMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25zaGlwVHlwZS5UeXBlXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5MaXN0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICByZWxhdGlvbnNoaXBUeXBlSWQ6IHJlbGF0aW9uc2hpcFR5cGUuUmVsYXRpb25zaGlwVHlwZUlkLFxuICAgICAgICAgICAgICAgICAgICByZWxhdGlvbnNoaXBUeXBlOiByZWxhdGlvbnNoaXBUeXBlLlR5cGVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmlld01vZGVsLmVtcHR5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHdoaWxlICh2aWV3TW9kZWwuSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2aWV3TW9kZWwuSXRlbXMucG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAodmlld01vZGVsLkxpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICB2aWV3TW9kZWwuTGlzdC5wb3AoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgcmV0dXJuIHZpZXdNb2RlbDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBSZWxhdGlvbnNoaXBUeXBlVmlld01vZGVsOzsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9wcm9maWxlcy9wcm9maWxlL3JlbGF0aW9uc2hpcHR5cGUtdmlldy1tb2RlbC5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL3Byb2ZpbGVzL3Byb2ZpbGUvcmVsYXRpb25zaGlwdHlwZS12aWV3LW1vZGVsLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IFByb2ZpbGVzVmlld01vZGVsID0gcmVxdWlyZShcIi4vcHJvZmlsZXMtdmlldy1tb2RlbFwiKTtcbmNvbnN0IHBsYXRmb3JtID0gcmVxdWlyZShcInBsYXRmb3JtXCIpO1xuY29uc3QgT2JzZXJ2YWJsZU1vZHVsZSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGVcIik7XG52YXIgZ2VzdHVyZXMgPSByZXF1aXJlKFwidWkvZ2VzdHVyZXNcIik7XG52YXIgaHR0cCA9IHJlcXVpcmUoXCJodHRwXCIpO1xudmFyIGZyYW1lTW9kdWxlID0gcmVxdWlyZShcInVpL2ZyYW1lXCIpO1xudmFyIGRpYWxvZ3MgPSByZXF1aXJlKFwidWkvZGlhbG9nc1wiKTtcblxuY29uc3QgTUlOX1ggPSAtODA7XG5jb25zdCBNQVhfWCA9IDA7XG5jb25zdCBUSFJFU0hPTEQgPSAwLjU7XG5cbnZhciBzd2lwZU9wZW4gPSBmYWxzZTtcbnZhciBzd2lwZWRJdGVtO1xuXG52YXIgaXNTY3JvbGxpbmcgPSBmYWxzZTtcbnZhciBpc1N3aXBpbmcgPSBmYWxzZTtcblxudmFyIHBhZ2U7XG52YXIgbW9kZWw7XG52YXIgbmF2aWdhdGlvbkNvbnRleHQ7XG5cbnZhciBwcm9maWxlc0xpc3QgPSBuZXcgUHJvZmlsZXNWaWV3TW9kZWwoW10pO1xuXG52YXIgcGFnZURhdGEgPSBuZXcgT2JzZXJ2YWJsZU1vZHVsZS5mcm9tT2JqZWN0KHtcbiAgICBib3VuZERhdGE6IG51bGwsXG4gICAgcHJvZmlsZXNMaXN0OiBwcm9maWxlc0xpc3QsXG4gICAgaXNMb2FkaW5nOiBmYWxzZVxufSk7XG5cbmZ1bmN0aW9uIG9uTmF2aWdhdGluZ1RvKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBwYWdlID0gYXJncy5vYmplY3Q7XG4gICAgICAgIFxuICAgICAgICBpZiAoYXJncy5pc0JhY2tOYXZpZ2F0aW9uKSB7XG4gICAgICAgICAgICBwcm9maWxlc0xpc3QuZW1wdHkoKTtcblxuICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuICAgIFxuICAgICAgICAgICAgcHJvZmlsZXNMaXN0LmxvYWQobmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbFR5cGUsIG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxJZCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcbiAgICBcbiAgICAgICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5hdmlnYXRpb25Db250ZXh0ID0gcGFnZS5uYXZpZ2F0aW9uQ29udGV4dDtcblxuICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhID0gbmF2aWdhdGlvbkNvbnRleHQ7XG4gICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEudXBkYXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgbGVnaXNsYXRvcklkID0gcGFnZS5nZXRWaWV3QnlJZChcImxlZ2lzbGF0b3JJZFwiKTtcbiAgICAgICAgICAgIHZhciBsZWdpc2xhdG9yTmFtZSA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJsZWdpc2xhdG9yTmFtZVwiKTtcbiAgICAgICAgXG4gICAgICAgICAgICBsZWdpc2xhdG9ySWQudGV4dCA9IG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxJZDtcbiAgICAgICAgICAgIGxlZ2lzbGF0b3JOYW1lLnRleHQgPSBuYXZpZ2F0aW9uQ29udGV4dC5mdWxsTmFtZTtcbiAgICAgICAgXG4gICAgICAgICAgICBpZiAobmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbFR5cGUgPT09IFwibGVnaXNsYXRvclwiKSB7XG4gICAgICAgICAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIlJlbGF0aW9uc2hpcHNcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIkFQQ0lBIEF0dGVuZGVlc1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBwcm9maWxlc0xpc3QuZW1wdHkoKTtcbiAgICAgICAgXG4gICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgdHJ1ZSk7XG4gICAgICAgIFxuICAgICAgICAgICAgcHJvZmlsZXNMaXN0LmxvYWQobmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbFR5cGUsIG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxJZCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBwYWdlRGF0YTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaChlKVxuICAgIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkl0ZW1Mb2FkaW5nKGFyZ3MpIHtcbiAgICBpZiAocGxhdGZvcm0uaXNJT1MpIHtcbiAgICAgICAgdmFyIGNlbGwgPSBhcmdzLmlvcztcblxuICAgICAgICBjZWxsLnNlbGVjdGlvblN0eWxlID0gVUlUYWJsZVZpZXdDZWxsU2VsZWN0aW9uU3R5bGUuVUlUYWJsZVZpZXdDZWxsU2VsZWN0aW9uU3R5bGVOb25lO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25JdGVtVGFwKGFyZ3MpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAocGxhdGZvcm0uaXNJT1MpIHtcbiAgICAgICAgICAgIGlmIChzd2lwZU9wZW4pIHtcbiAgICAgICAgICAgICAgICBzd2lwZWRJdGVtLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGU6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBzd2lwZU9wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHZpZXcgPSBhcmdzLnZpZXc7XG5cbiAgICAgICAgICAgICAgICBtb2RlbCA9IHZpZXcuYmluZGluZ0NvbnRleHQ7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZU5hbWU6IFwicHJvZmlsZXMvcHJvZmlsZS9wcm9maWxlLXBhZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dDogeyBcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uYWxUeXBlOiBuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uYWxJZDogbmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmREYXRhOiBtb2RlbFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjbGVhckhpc3Rvcnk6IGZhbHNlXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uQWRkVGFwKGFyZ3MpIHtcbiAgICB0cnlcbiAgICB7XG4gICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS51cGRhdGVkID0gdHJ1ZTtcblxuICAgICAgICB2YXIgbW9kZWwgPSB7XG4gICAgICAgICAgICByZWxhdGlvbmFsVHlwZTogbmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbFR5cGUsXG4gICAgICAgICAgICByZWxhdGlvbmFsSWQ6IG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxJZCxcbiAgICAgICAgICAgIHBlcnNvbklkOiAwLFxuICAgICAgICAgICAgZnVsbE5hbWU6IG51bGwsXG4gICAgICAgICAgICBjb21wYW55OiBudWxsLFxuICAgICAgICAgICAgdGl0bGU6IG51bGwsXG4gICAgICAgICAgICB3b3JrUGhvbmU6IG51bGwsXG4gICAgICAgICAgICBlbWFpbEFkZHJlc3M6IG51bGwsXG4gICAgICAgICAgICByZWxhdGlvbnNoaXBUeXBlSWQ6IG51bGwsXG4gICAgICAgICAgICByZWxhdGlvbnNoaXBUeXBlOiBudWxsLFxuICAgICAgICAgICAgZmFtaWxpYXJpdHlMZXZlbElkOiBudWxsLFxuICAgICAgICAgICAgZmFtaWxpYXJpdHlMZXZlbDogbnVsbCxcbiAgICAgICAgICAgIG5vdGVzOiBudWxsLFxuICAgICAgICAgICAgbW9kaWZpZWREYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgY2hlY2tlZDogZmFsc2VcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgICAgIG1vZHVsZU5hbWU6IFwicHJvZmlsZXMvcHJvZmlsZS9wcm9maWxlLXBhZ2VcIixcbiAgICAgICAgICAgIGNvbnRleHQ6IHsgXG4gICAgICAgICAgICAgICAgcmVsYXRpb25hbFR5cGU6IG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxUeXBlLFxuICAgICAgICAgICAgICAgIHJlbGF0aW9uYWxJZDogbmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbElkLFxuICAgICAgICAgICAgICAgIGJvdW5kRGF0YTogbW9kZWxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbGVhckhpc3Rvcnk6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uQmFja1RhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLmdvQmFjaygpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KGUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25EZWxldGVDbGljayhhcmdzKSB7XG4gICAgdmFyIHByb2ZpbGVUeXBlO1xuXG4gICAgaWYgKG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxUeXBlID09PSBcImxlZ2lzbGF0b3JcIikge1xuICAgICAgICBwcm9maWxlVHlwZSA9IFwiUmVsYXRpb25zaGlwXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcHJvZmlsZVR5cGUgPSBcIkF0dGVuZGVlXCI7XG4gICAgfVxuICAgIFxuICAgIGlmIChwbGF0Zm9ybS5pc0FuZHJvaWQpIHtcbiAgICAgICAgZGlhbG9ncy5jb25maXJtKHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkRlbGV0ZVwiLFxuICAgICAgICAgICAgbWVzc2FnZTogcHJvZmlsZVR5cGUgKyBcIiB3aWxsIGJlIGRlbGV0ZWQuIERlbGV0ZT9cIixcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJZZXNcIixcbiAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IFwiTm9cIlxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmlldyA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZpZXcuYmluZGluZ0NvbnRleHQuY2hlY2tlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaHR0cC5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBnbG9iYWwuYXBpQmFzZVNlcnZpY2VVcmwgKyBcImluc2VydGRlbGV0ZXByb2ZpbGVyZWxhdGlvbnNoaXBcIixcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiwgXCJBdXRob3JpemF0aW9uXCI6IGdsb2JhbC50b2tlbiB9LFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeSh2aWV3LmJpbmRpbmdDb250ZXh0KVxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlc3VsdCA9IHJlc3BvbnNlLmNvbnRlbnQudG9KU09OKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRpYWxvZ3MuYWxlcnQocmVzdWx0KTtcblxuICAgICAgICAgICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEudXBkYXRlZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgcHJvZmlsZXNMaXN0LmVtcHR5KCk7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgdHJ1ZSk7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBwcm9maWxlc0xpc3QubG9hZChuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsVHlwZSwgbmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbElkKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChwbGF0Zm9ybS5pc0lPUykge1xuICAgICAgICBkaWFsb2dzLmFjdGlvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIldvdWxkIHlvdSBsaWtlIHRvIGRlbGV0ZSB0aGlzIFwiICsgcHJvZmlsZVR5cGUudG9Mb3dlckNhc2UoKSArIFwiP1wiLFxuICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogXCJDYW5jZWxcIixcbiAgICAgICAgICAgIGFjdGlvbnM6IFtcIkRlbGV0ZVwiXVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IFwiRGVsZXRlXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmlldyA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZpZXcuYmluZGluZ0NvbnRleHQuY2hlY2tlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaHR0cC5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBnbG9iYWwuYXBpQmFzZVNlcnZpY2VVcmwgKyBcImluc2VydGRlbGV0ZXByb2ZpbGVyZWxhdGlvbnNoaXBcIixcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiwgXCJBdXRob3JpemF0aW9uXCI6IGdsb2JhbC50b2tlbiB9LFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeSh2aWV3LmJpbmRpbmdDb250ZXh0KVxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlc3VsdCA9IHJlc3BvbnNlLmNvbnRlbnQudG9KU09OKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRpYWxvZ3MuYWxlcnQocmVzdWx0KTtcblxuICAgICAgICAgICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEudXBkYXRlZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgcHJvZmlsZXNMaXN0LmVtcHR5KCk7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgdHJ1ZSk7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBwcm9maWxlc0xpc3QubG9hZChuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsVHlwZSwgbmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbElkKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gcGFnZURhdGE7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHN3aXBlT3Blbikge1xuICAgICAgICBzd2lwZWRJdGVtLmFuaW1hdGUoe1xuICAgICAgICAgICAgdHJhbnNsYXRlOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3dpcGVPcGVuID0gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkxheW91dExvYWRlZChhcmdzKSB7XG4gICAgdmFyIGxheW91dCA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgaWYgKHBsYXRmb3JtLmlzQW5kcm9pZCkge1xuICAgICAgICBsYXlvdXQub24oZ2VzdHVyZXMuR2VzdHVyZVR5cGVzLnRhcCwgZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoc3dpcGVPcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXBlZEl0ZW0uYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGU6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgc3dpcGVPcGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZpZXcgPSBhcmdzLnZpZXc7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsID0gdmlldy5iaW5kaW5nQ29udGV4dDtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlTmFtZTogXCJwcm9maWxlcy9wcm9maWxlL3Byb2ZpbGUtcGFnZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dDogeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxhdGlvbmFsVHlwZTogbmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbFR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25hbElkOiBuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm91bmREYXRhOiBtb2RlbFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySGlzdG9yeTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgZnJhbWVNb2R1bGUudG9wbW9zdCgpLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2goZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBsYXlvdXQub24oZ2VzdHVyZXMuR2VzdHVyZVR5cGVzLnBhbiwgZnVuY3Rpb24oYXJncykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGxheW91dCA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICAgICAgdmFyIHZpZXcgPSBhcmdzLnZpZXc7XG5cbiAgICAgICAgICAgIGlmIChzd2lwZU9wZW4gJiYgc3dpcGVkSXRlbSAhPT0gdW5kZWZpbmVkICYmIHN3aXBlZEl0ZW0gIT0gbGF5b3V0KSB7XG4gICAgICAgICAgICAgICAgc3dpcGVkSXRlbS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghaXNTY3JvbGxpbmcgJiYgIWlzU3dpcGluZykge1xuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhhcmdzLmRlbHRhWSkgPiBNYXRoLmFicyhhcmdzLmRlbHRhWCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNTY3JvbGxpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpc1N3aXBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGFyZ3MuZGVsdGFYKSA+IE1hdGguYWJzKGFyZ3MuZGVsdGFZKSkge1xuICAgICAgICAgICAgICAgICAgICBpc1Njcm9sbGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpc1N3aXBpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzU2Nyb2xsaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN3aXBlT3BlbiAmJiBzd2lwZWRJdGVtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpcGVkSXRlbS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZTogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3Muc3RhdGUgPT09IGdlc3R1cmVzLkdlc3R1cmVTdGF0ZVR5cGVzLmVuZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzU2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1N3aXBpbmcpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvZmlsZXNMaXN0VmlldyA9IHBhZ2UuZ2V0Vmlld0J5SWQoXCJwcm9maWxlc0xpc3RWaWV3XCIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBsYXRmb3JtLmlzQW5kcm9pZCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9maWxlc0xpc3RWaWV3Lm5hdGl2ZVZpZXcucmVxdWVzdERpc2FsbG93SW50ZXJjZXB0VG91Y2hFdmVudCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBsYXRmb3JtLmlzSU9TKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2ZpbGVzTGlzdFZpZXcuaW9zLnNjcm9sbEVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzd2lwZU9wZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN3aXBlZEl0ZW0gPSBsYXlvdXQ7XG5cbiAgICAgICAgICAgICAgICB2YXIgbmV3WCA9IGxheW91dC50cmFuc2xhdGVYICsgYXJncy5kZWx0YVg7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV3WCA+PSBNSU5fWCAmJiBuZXdYIDw9IE1BWF9YKSB7XG4gICAgICAgICAgICAgICAgICAgIGxheW91dC50cmFuc2xhdGVYID0gbmV3WDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3Muc3RhdGUgPT09IGdlc3R1cmVzLkdlc3R1cmVTdGF0ZVR5cGVzLmVuZGVkICYmICEobmV3WCA9PT0gTUlOX1ggfHwgbmV3WCA9PT0gTUFYX1gpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGluaXQgb3VyIGRlc3RpbmF0aW9uIFggY29vcmRpbmF0ZSB0byAwLCBpbiBjYXNlIG5laXRoZXIgVEhSRVNIT0xEIGhhcyBiZWVuIGhpdFxuICAgICAgICAgICAgICAgICAgICBsZXQgZGVzdFggPSAwO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdXNlciBoaXQgb3IgY3Jvc3NlZCB0aGUgVEhFU0hPTEQgZWl0aGVyIHdheSwgbGV0J3MgZmluaXNoIGluIHRoYXQgZGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdYIDw9IE1JTl9YICogVEhSRVNIT0xEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0WCA9IE1JTl9YO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5ld1ggPj0gTUFYX1ggKiBUSFJFU0hPTEQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RYID0gTUFYX1g7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGxheW91dC5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZTogeyB4OiBkZXN0WCwgeTogMCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocGxhdGZvcm0uaXNBbmRyb2lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlc0xpc3RWaWV3Lm5hdGl2ZVZpZXcucmVxdWVzdERpc2FsbG93SW50ZXJjZXB0VG91Y2hFdmVudChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxhdGZvcm0uaXNJT1MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZpbGVzTGlzdFZpZXcuaW9zLnNjcm9sbEVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaXNTd2lwaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5leHBvcnRzLm9uTmF2aWdhdGluZ1RvID0gb25OYXZpZ2F0aW5nVG87XG5leHBvcnRzLm9uSXRlbUxvYWRpbmcgPSBvbkl0ZW1Mb2FkaW5nO1xuZXhwb3J0cy5vbkl0ZW1UYXAgPSBvbkl0ZW1UYXA7XG5leHBvcnRzLm9uQWRkVGFwID0gb25BZGRUYXA7XG5leHBvcnRzLm9uQmFja1RhcCA9IG9uQmFja1RhcDtcbmV4cG9ydHMub25MYXlvdXRMb2FkZWQgPSBvbkxheW91dExvYWRlZDtcbmV4cG9ydHMub25EZWxldGVDbGljayA9IG9uRGVsZXRlQ2xpY2s7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vcHJvZmlsZXMvcHJvZmlsZXMtcGFnZS5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL3Byb2ZpbGVzL3Byb2ZpbGVzLXBhZ2UuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiXG5tb2R1bGUuZXhwb3J0cyA9IFwiPFBhZ2UgbmF2aWdhdGluZ1RvPVxcXCJvbk5hdmlnYXRpbmdUb1xcXCIgY2xhc3M9XFxcInBhZ2VcXFwiIHhtbG5zPVxcXCJodHRwOi8vc2NoZW1hcy5uYXRpdmVzY3JpcHQub3JnL3Rucy54c2RcXFwiID5cXG4gICAgPEFjdGlvbkJhciBjbGFzcz1cXFwiYWN0aW9uLWJhclxcXCI+XFxuICAgICAgICA8YW5kcm9pZD5cXG4gICAgICAgICAgICA8TmF2aWdhdGlvbkJ1dHRvbiBhbmRyb2lkLnN5c3RlbUljb249XFxcImljX21lbnVfYmFja1xcXCIgdGFwPVxcXCJvbkJhY2tUYXBcXFwiIC8+XFxuICAgICAgICA8L2FuZHJvaWQ+XFxuICAgICAgICA8QWN0aW9uSXRlbSB0YXA9XFxcIm9uQWRkVGFwXFxcIiBpb3Muc3lzdGVtSWNvbj1cXFwiNFxcXCIgYW5kcm9pZC5zeXN0ZW1JY29uPVxcXCJpY19tZW51X2FkZFxcXCIgaW9zLnBvc2l0aW9uPVxcXCJyaWdodFxcXCIgLz5cXG4gICAgPC9BY3Rpb25CYXI+XFxuXFxuICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcImF1dG8sICpcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiIGNsYXNzPVxcXCJ2aWV3LXRpdGxlXFxcIiB2aXNpYmlsaXR5PVxcXCJ7eyBib3VuZERhdGEucmVsYXRpb25hbFR5cGUgPT09ICdsZWdpc2xhdG9yJyA/ICd2aXNpYmxlJyA6ICdjb2xsYXBzZScgfX1cXFwiPlxcbiAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwibGVnaXNsYXRvcklkXFxcIiB0ZXh0PVxcXCJcXFwiIHZpc2liaWxpdHk9XFxcImNvbGxhcHNlZFxcXCIgLz5cXG4gICAgICAgICAgICA8TGFiZWwgaWQ9XFxcImxlZ2lzbGF0b3JOYW1lXFxcIiB0ZXh0PVxcXCJcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiIGhvcml6b250YWxBbGlnbm1lbnQ9XFxcImNlbnRlclxcXCIgLz5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIxXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiPlxcbiAgICAgICAgICAgIDxMaXN0VmlldyBpZD1cXFwicHJvZmlsZXNMaXN0Vmlld1xcXCIgaXRlbXM9XFxcInt7IHByb2ZpbGVzTGlzdCB9fVxcXCIgaXRlbUxvYWRpbmc9XFxcIm9uSXRlbUxvYWRpbmdcXFwiIGl0ZW1UYXA9XFxcIm9uSXRlbVRhcFxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIj5cXG4gICAgICAgICAgICAgICAgPExpc3RWaWV3Lml0ZW1UZW1wbGF0ZT5cXG4gICAgICAgICAgICAgICAgICAgIDxBYnNvbHV0ZUxheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0tIEJBQ0tHUk9VTkQ6IFN3aXBlIEFjdGlvbnMgLS0+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKiwgODBcXFwiIGFuZHJvaWQ6cm93cz1cXFwiNDhcXFwiIGlvczpyb3dzPVxcXCI1NVxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgY29sPVxcXCIwXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2w9XFxcIjFcXFwiIGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcIiosIGF1dG8sIGF1dG8sICpcXFwiIHRhcD1cXFwib25EZWxldGVDbGlja1xcXCIgY2xhc3M9XFxcInN3aXBlLWljb25zIHJlZFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHRleHQ9XFxcIlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjFcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiJiN4ZjFmODtcXFwiIGNsYXNzPVxcXCJ0YWItaWNvblxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCByb3c9XFxcIjJcXFwiIGNvbD1cXFwiMFxcXCIgdGV4dD1cXFwiRGVsZXRlXFxcIiBjbGFzcz1cXFwidGFiLWxhYmVsXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiM1xcXCIgY29sPVxcXCIwXFxcIiB0ZXh0PVxcXCJcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBGT1JFR1JPVU5EOiBMaXN0IFZpZXcgSXRlbSBEZXRhaWxzIC0tPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxTdGFja0xheW91dCBsb2FkZWQ9XFxcIm9uTGF5b3V0TG9hZGVkXFxcIiBiYWNrZ3JvdW5kQ29sb3I9XFxcIndoaXRlXFxcIiB3aWR0aD1cXFwiMTAwJVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIiosIGF1dG9cXFwiIHJvd3M9XFxcIipcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJtaWRkbGVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJ7eyBmdWxsTmFtZSB9fVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLW1haW4tdG9wXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCB0ZXh0PVxcXCJ7eyBjb21wYW55IH19XFxcIiB0ZXh0V3JhcD1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtLXN1YlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHRleHQ9XFxcIiYjeGYxMDU7XFxcIiBjbGFzcz1cXFwiZm4tbGlzdC12aWV3LWl0ZW1cXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJtaWRkbGVcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZExheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgPC9BYnNvbHV0ZUxheW91dD5cXG4gICAgICAgICAgICAgICAgPC9MaXN0Vmlldy5pdGVtVGVtcGxhdGU+XFxuICAgICAgICAgICAgPC9MaXN0Vmlldz5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8QWN0aXZpdHlJbmRpY2F0b3IgYnVzeT1cXFwie3sgaXNMb2FkaW5nIH19XFxcIiBhbmRyb2lkOmhlaWdodD1cXFwiMjUlXFxcIiBhbmRyb2lkOndpZHRoPVxcXCIyNSVcXFwiIGlvcy5hY3Rpdml0eUluZGljYXRvclZpZXdTdHlsZT1cXFwid2hpdGVMYXJnZVxcXCIgcm93U3Bhbj1cXFwiMlxcXCIgY29sU3Bhbj1cXFwiMVxcXCIgLz5cXG4gICAgPC9HcmlkTGF5b3V0PlxcbjwvUGFnZT5cXG5cIjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9wcm9maWxlcy9wcm9maWxlcy1wYWdlLnhtbFwiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJtYXJrdXBcIiwgcGF0aDogXCIuL3Byb2ZpbGVzL3Byb2ZpbGVzLXBhZ2UueG1sXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IG9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpO1xudmFyIE9ic2VydmFibGVBcnJheSA9IHJlcXVpcmUoXCJkYXRhL29ic2VydmFibGUtYXJyYXlcIikuT2JzZXJ2YWJsZUFycmF5O1xudmFyIGh0dHAgPSByZXF1aXJlKFwiaHR0cFwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG5cbmZ1bmN0aW9uIFByb2ZpbGVzVmlld01vZGVsKGl0ZW1zKSB7XG4gICAgY29uc3Qgdmlld01vZGVsID0gbmV3IE9ic2VydmFibGVBcnJheShpdGVtcyk7XG5cbiAgICB2aWV3TW9kZWwubG9hZCA9IGZ1bmN0aW9uKHJlbGF0aW9uYWxUeXBlLCByZWxhdGlvbmFsSWQpIHtcbiAgICAgICAgcmV0dXJuIGh0dHAucmVxdWVzdCh7XG4gICAgICAgICAgICB1cmw6IGdsb2JhbC5hcGlCYXNlU2VydmljZVVybCArIFwicHJvZmlsZXJlbGF0aW9uc2hpcHM/cmVsYXRpb25hbFR5cGU9XCIgKyByZWxhdGlvbmFsVHlwZSArIFwiJnJlbGF0aW9uYWxJZD1cIiArIHJlbGF0aW9uYWxJZCxcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiQXV0aG9yaXphdGlvblwiOiBnbG9iYWwudG9rZW4gfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmNvbnRlbnQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShyZXN1bHQpO1xuXG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24ocHJvZmlsZSkge1xuICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25hbFR5cGU6IHByb2ZpbGUuUmVsYXRpb25hbFR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uYWxJZDogcHJvZmlsZS5SZWxhdGlvbmFsSWQsXG4gICAgICAgICAgICAgICAgICAgIHBlcnNvbklkOiBwcm9maWxlLlBlcnNvbklkLFxuICAgICAgICAgICAgICAgICAgICBmdWxsTmFtZTogcHJvZmlsZS5GdWxsTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGFueTogcHJvZmlsZS5Db21wYW55LFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogcHJvZmlsZS5UaXRsZSxcbiAgICAgICAgICAgICAgICAgICAgd29ya1Bob25lOiBwcm9maWxlLldvcmtQaG9uZSxcbiAgICAgICAgICAgICAgICAgICAgZW1haWxBZGRyZXNzOiBwcm9maWxlLkVtYWlsQWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25zaGlwVHlwZUlkOiBwcm9maWxlLlJlbGF0aW9uc2hpcFR5cGVJZCxcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25zaGlwVHlwZTogcHJvZmlsZS5SZWxhdGlvbnNoaXBUeXBlLFxuICAgICAgICAgICAgICAgICAgICBmYW1pbGlhcml0eUxldmVsSWQ6IHByb2ZpbGUuRmFtaWxpYXJpdHlMZXZlbElkLFxuICAgICAgICAgICAgICAgICAgICBmYW1pbGlhcml0eUxldmVsOiBwcm9maWxlLkZhbWlsaWFyaXR5TGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgIG5vdGVzOiBwcm9maWxlLk5vdGVzLFxuICAgICAgICAgICAgICAgICAgICBtb2RpZmllZERhdGU6IHByb2ZpbGUuTW9kaWZpZWREYXRlLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkOiBwcm9maWxlLkNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiBwcm9maWxlLlRvdGFsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZpZXdNb2RlbC5lbXB0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB3aGlsZSAodmlld01vZGVsLmxlbmd0aCkge1xuICAgICAgICAgICAgdmlld01vZGVsLnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gdmlld01vZGVsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFByb2ZpbGVzVmlld01vZGVsO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL3Byb2ZpbGVzL3Byb2ZpbGVzLXZpZXctbW9kZWwuanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi9wcm9maWxlcy9wcm9maWxlcy12aWV3LW1vZGVsLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IHBsYXRmb3JtID0gcmVxdWlyZShcInBsYXRmb3JtXCIpO1xuY29uc3QgUHJvZmlsZVNlYXJjaFZpZXdNb2RlbCA9IHJlcXVpcmUoXCIuL3Byb2ZpbGVzZWFyY2gtdmlldy1tb2RlbFwiKTtcbmNvbnN0IE9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpO1xudmFyIGh0dHAgPSByZXF1aXJlKFwiaHR0cFwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG52YXIgcGFnZTtcbnZhciBuYXZpZ2F0aW9uQ29udGV4dDtcblxudmFyIHNlYXJjaEJhcjtcbnZhciBwcm9maWxlU2VhcmNoUGFnZVNpemUgPSAyNTtcbnZhciBwcm9maWxlU2VhcmNoU2VhcmNoVGV4dCA9IFwiXCI7XG52YXIgcHJvZmlsZVNlYXJjaFNlYXJjaFN1Ym1pdHRlZCA9IGZhbHNlO1xuXG52YXIgcHJvZmlsZVNlYXJjaExpc3QgPSBuZXcgUHJvZmlsZVNlYXJjaFZpZXdNb2RlbChbXSk7XG5cbnZhciBzd2l0Y2hUYXAgPSBmYWxzZTtcblxudmFyIHBhZ2VEYXRhID0gbmV3IE9ic2VydmFibGVNb2R1bGUuZnJvbU9iamVjdCh7XG4gICAgcHJvZmlsZVNlYXJjaExpc3Q6IHByb2ZpbGVTZWFyY2hMaXN0LFxuICAgIGlzTG9hZGluZzogZmFsc2Vcbn0pO1xuXG5mdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcGFnZSA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICBuYXZpZ2F0aW9uQ29udGV4dCA9IHBhZ2UubmF2aWdhdGlvbkNvbnRleHQ7XG4gICAgICAgIFxuICAgICAgICBpZiAobmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbFR5cGUgPT09IFwibGVnaXNsYXRvclwiKSB7XG4gICAgICAgICAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiUHJvZmlsZSBTZWFyY2hcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhZ2UuYWN0aW9uQmFyLnRpdGxlID0gXCJQQ0kgQXR0ZW5kZWUgU2VhcmNoXCI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiAocHJvZmlsZVNlYXJjaFNlYXJjaFRleHQgIT09IFwiXCIpIHtcbiAgICAgICAgLy8gICAgIHZhciBzZWFyY2hCYXIgPSBwYWdlLmdldFZpZXdCeUlkKFwic2VhcmNoQmFyXCIpO1xuXG4gICAgICAgIC8vICAgICBzZWFyY2hCYXIudGV4dCA9IHByb2ZpbGVTZWFyY2hTZWFyY2hUZXh0O1xuICAgICAgICAvLyB9XG4gICAgICAgIFxuICAgICAgICAvLyBpZiAocHJvZmlsZVNlYXJjaExpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHByb2ZpbGVTZWFyY2hTZWFyY2hUZXh0ID0gXCJcIjtcbiAgICAgICAgXG4gICAgICAgIHByb2ZpbGVTZWFyY2hMaXN0LmVtcHR5KCk7XG5cbiAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuXG4gICAgICAgIHByb2ZpbGVTZWFyY2hMaXN0LmxvYWQobmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbFR5cGUsIG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxJZCwgcHJvZmlsZVNlYXJjaFNlYXJjaFRleHQsIDEsIHByb2ZpbGVTZWFyY2hQYWdlU2l6ZSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIHBhZ2UuYmluZGluZ0NvbnRleHQgPSBwYWdlRGF0YTtcbiAgICB9XG4gICAgY2F0Y2goZSlcbiAgICB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25TZWFyY2hCYXJMb2FkZWQoYXJncylcbntcbiAgICBzZWFyY2hCYXIgPSBhcmdzLm9iamVjdDtcblxuICAgIGlmIChwbGF0Zm9ybS5pc0lPUykge1xuICAgICAgICAvLyBpT1MgU3R5bGluZ1xuICAgICAgICBzZWFyY2hCYXIuaW9zLnNlYXJjaEJhclN0eWxlID0gVUlTZWFyY2hCYXJTdHlsZS5VSVNlYXJjaEJhclN0eWxlTWluaW1hbDtcbiAgICAgICAgc2VhcmNoQmFyLmlvcy5zaG93c0NhbmNlbEJ1dHRvbiA9IHRydWU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvblN1Ym1pdChhcmdzKVxue1xuICAgIHNlYXJjaEJhciA9IGFyZ3Mub2JqZWN0O1xuXG4gICAgcHJvZmlsZVNlYXJjaFNlYXJjaFRleHQgPSBzZWFyY2hCYXIudGV4dC50cmltKCk7XG5cbiAgICBwcm9maWxlU2VhcmNoTGlzdC5lbXB0eSgpO1xuICAgIFxuICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuICAgIHByb2ZpbGVTZWFyY2hMaXN0LmxvYWQobmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbFR5cGUsIG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxJZCwgcHJvZmlsZVNlYXJjaFNlYXJjaFRleHQsIDEsIHByb2ZpbGVTZWFyY2hQYWdlU2l6ZSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCBmYWxzZSk7XG5cbiAgICAgICAgcHJvZmlsZVNlYXJjaFNlYXJjaFN1Ym1pdHRlZCA9IHRydWU7XG4gICAgXG4gICAgICAgIHNlYXJjaEJhci5kaXNtaXNzU29mdElucHV0KCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIG9uQ2xlYXIoYXJncylcbntcbiAgICBzZWFyY2hCYXIudGV4dCA9IFwiXCI7XG4gICAgcHJvZmlsZVNlYXJjaFNlYXJjaFRleHQgPSBcIlwiO1xuXG4gICAgaWYgKHByb2ZpbGVTZWFyY2hTZWFyY2hTdWJtaXR0ZWQpIHtcbiAgICAgICAgcHJvZmlsZVNlYXJjaExpc3QuZW1wdHkoKTtcbiAgICAgICAgXG4gICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuICAgICAgICBwcm9maWxlU2VhcmNoTGlzdC5sb2FkKG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxUeXBlLCBuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsSWQsIHByb2ZpbGVTZWFyY2hTZWFyY2hUZXh0LCAxLCBwcm9maWxlU2VhcmNoUGFnZVNpemUpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcblxuICAgICAgICAgICAgcHJvZmlsZVNlYXJjaFNlYXJjaFN1Ym1pdHRlZCA9IGZhbHNlO1xuICAgICAgICBcbiAgICAgICAgICAgIHNlYXJjaEJhci5kaXNtaXNzU29mdElucHV0KCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25Td2l0Y2hMb2FkZWQoYXJncykge1xuICAgIHZhciBjaGVja2VkU3dpdGNoID0gYXJncy5vYmplY3Q7XG5cbiAgICBjaGVja2VkU3dpdGNoLm9uKFwidGFwXCIsIGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgLy8gTmVjZXNzYXJ5IHRvIHByZXZlbnQgdGhlIGNoZWNrZWRDaGFuZ2UgZXZlbnQgZnJvbSBmaXJpbmcgb24gdGhlIHN3aXRjaCB3aGVuIHVzZXIgc2Nyb2xscy5cbiAgICAgICAgc3dpdGNoVGFwID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIGNoZWNrZWRTd2l0Y2gub24oXCJjaGVja2VkQ2hhbmdlXCIsIGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgaWYgKHN3aXRjaFRhcCkge1xuICAgICAgICAgICAgdmFyIHN0YWNrTGF5b3V0ID0gYXJncy5vYmplY3QucGFyZW50O1xuICAgICAgICAgICAgdmFyIGluZGV4TGFiZWwgPSBzdGFja0xheW91dC5nZXRWaWV3QnlJZChcImluZGV4TGFiZWxcIik7XG5cbiAgICAgICAgICAgIHZhciBtb2RlbCA9IHByb2ZpbGVTZWFyY2hMaXN0LmdldEl0ZW0oaW5kZXhMYWJlbC50ZXh0KTtcblxuICAgICAgICAgICAgbW9kZWwuY2hlY2tlZCA9IGFyZ3MudmFsdWU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGh0dHAucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgdXJsOiBnbG9iYWwuYXBpQmFzZVNlcnZpY2VVcmwgKyBcImluc2VydGRlbGV0ZXByb2ZpbGVyZWxhdGlvbnNoaXBcIixcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiQXV0aG9yaXphdGlvblwiOiBnbG9iYWwudG9rZW4gfSxcbiAgICAgICAgICAgICAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeShtb2RlbClcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoVGFwID0gZmFsc2U7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBvbkxvYWRNb3JlSXRlbXMoYXJncykge1xuICAgIHZhciBwcm9maWxlU2VhcmNoTGlzdENvdW50ID0gcHJvZmlsZVNlYXJjaExpc3QubGVuZ3RoO1xuICAgIHZhciBwcm9maWxlU2VhcmNoUGFnZU51bWJlciA9IE1hdGguY2VpbChwcm9maWxlU2VhcmNoTGlzdENvdW50IC8gcHJvZmlsZVNlYXJjaFBhZ2VTaXplKSArIDE7XG4gICAgdmFyIHByb2ZpbGVTZWFyY2hSZW1haW5kZXIgPSBwcm9maWxlU2VhcmNoTGlzdENvdW50ICUgcHJvZmlsZVNlYXJjaFBhZ2VTaXplO1xuXG4gICAgaWYgKHByb2ZpbGVTZWFyY2hSZW1haW5kZXIgIT09IDAgJiYgcHJvZmlsZVNlYXJjaFJlbWFpbmRlciA8IHByb2ZpbGVTZWFyY2hQYWdlU2l6ZSlcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgdHJ1ZSk7XG5cbiAgICBwcm9maWxlU2VhcmNoTGlzdC5sb2FkKG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxUeXBlLCBuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsSWQsIHByb2ZpbGVTZWFyY2hTZWFyY2hUZXh0LCBwcm9maWxlU2VhcmNoUGFnZU51bWJlciwgcHJvZmlsZVNlYXJjaFBhZ2VTaXplKS50aGVuKGZ1bmN0aW9uICgpe1xuICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuICAgIH0pO1xufVxuXG5leHBvcnRzLm9uTmF2aWdhdGluZ1RvID0gb25OYXZpZ2F0aW5nVG87XG5leHBvcnRzLm9uU2VhcmNoQmFyTG9hZGVkID0gb25TZWFyY2hCYXJMb2FkZWQ7XG5leHBvcnRzLm9uU3VibWl0ID0gb25TdWJtaXQ7XG5leHBvcnRzLm9uQ2xlYXIgPSBvbkNsZWFyO1xuZXhwb3J0cy5vblN3aXRjaExvYWRlZCA9IG9uU3dpdGNoTG9hZGVkO1xuZXhwb3J0cy5vbkxvYWRNb3JlSXRlbXMgPSBvbkxvYWRNb3JlSXRlbXM7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vcHJvZmlsZXMvcHJvZmlsZXNlYXJjaC9vbGQvcHJvZmlsZXNlYXJjaC1wYWdlLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vcHJvZmlsZXMvcHJvZmlsZXNlYXJjaC9vbGQvcHJvZmlsZXNlYXJjaC1wYWdlLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIlxubW9kdWxlLmV4cG9ydHMgPSBcIjxQYWdlIG5hdmlnYXRpbmdUbz1cXFwib25OYXZpZ2F0aW5nVG9cXFwiIGNsYXNzPVxcXCJwYWdlXFxcIiB4bWxucz1cXFwiaHR0cDovL3NjaGVtYXMubmF0aXZlc2NyaXB0Lm9yZy90bnMueHNkXFxcIiA+XFxuICAgIDxBY3Rpb25CYXIgY2xhc3M9XFxcImFjdGlvbi1iYXJcXFwiIC8+XFxuXFxuICAgIDxHcmlkTGF5b3V0IGNvbHVtbnM9XFxcIipcXFwiIHJvd3M9XFxcImF1dG8sICpcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIwXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIiBob3Jpem9udGFsQWxpZ25tZW50PVxcXCJjZW50ZXJcXFwiIGRpcmVjdGlvbj1cXFwiaG9yaXpvbnRhbFxcXCI+XFxuICAgICAgICAgICAgPFNlYXJjaEJhciByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgaWQ9XFxcInNlYXJjaEJhclxcXCIgaGludD1cXFwiU2VhcmNoXFxcIiB0ZXh0PVxcXCJcXFwiIGxvYWRlZD1cXFwib25TZWFyY2hCYXJMb2FkZWRcXFwiIHN1Ym1pdD1cXFwib25TdWJtaXRcXFwiIGNsZWFyPVxcXCJvbkNsZWFyXFxcIiAvPlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjFcXFwiIGNvbD1cXFwiMFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcInRvcFxcXCI+XFxuICAgICAgICAgICAgPExpc3RWaWV3IGl0ZW1zPVxcXCJ7eyBwcm9maWxlU2VhcmNoTGlzdCB9fVxcXCIgbG9hZE1vcmVJdGVtcz1cXFwib25Mb2FkTW9yZUl0ZW1zXFxcIiBpdGVtVGVtcGxhdGVTZWxlY3Rvcj1cXFwiJGluZGV4XFxcIiBoZWlnaHQ9XFxcIjEwMCVcXFwiPlxcbiAgICAgICAgICAgICAgICA8TGlzdFZpZXcuaXRlbVRlbXBsYXRlPlxcbiAgICAgICAgICAgICAgICAgICAgPEdyaWRMYXlvdXQgY29sdW1ucz1cXFwiKiwgYXV0b1xcXCIgcm93cz1cXFwiKlxcXCIgY2xhc3M9XFxcImxpc3Qtdmlldy1pdGVtXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJtaWRkbGVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cXFwie3sgZnVsbE5hbWUgfX1cXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1tYWluLXRvcFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcInt7IGNvbXBhbnkgfX1cXFwiIHRleHRXcmFwPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cXFwie3sgdGl0bGUgfX1cXFwiIHRleHRXcmFwPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPFN0YWNrTGF5b3V0IHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB2ZXJ0aWNhbEFsaWdubWVudD1cXFwibWlkZGxlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN3aXRjaCBpZD1cXFwiY2hlY2tlZFN3aXRjaFxcXCIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIGNoZWNrZWQ9XFxcInt7IGNoZWNrZWQgfX1cXFwiIFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVkPVxcXCJvblN3aXRjaExvYWRlZFxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwicmlnaHRcXFwiIGNsYXNzPVxcXCJzd2l0Y2hcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCBpZD1cXFwiaW5kZXhMYWJlbFxcXCIgdGV4dD1cXFwie3sgJGluZGV4IH19XFxcIiB2aXNpYmlsaXR5PVxcXCJjb2xsYXBzZVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkTGF5b3V0PlxcbiAgICAgICAgICAgICAgICA8L0xpc3RWaWV3Lml0ZW1UZW1wbGF0ZT5cXG4gICAgICAgICAgICA8L0xpc3RWaWV3PlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgIDxBY3Rpdml0eUluZGljYXRvciBidXN5PVxcXCJ7eyBpc0xvYWRpbmcgfX1cXFwiIGlvcy5hY3Rpdml0eUluZGljYXRvclZpZXdTdHlsZT1cXFwid2hpdGVMYXJnZVxcXCIgcm93U3Bhbj1cXFwiMlxcXCIgY29sU3Bhbj1cXFwiMVxcXCIgLz5cXG4gICAgPC9HcmlkTGF5b3V0PlxcbjwvUGFnZT5cXG5cIjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9wcm9maWxlcy9wcm9maWxlc2VhcmNoL29sZC9wcm9maWxlc2VhcmNoLXBhZ2UueG1sXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcIm1hcmt1cFwiLCBwYXRoOiBcIi4vcHJvZmlsZXMvcHJvZmlsZXNlYXJjaC9vbGQvcHJvZmlsZXNlYXJjaC1wYWdlLnhtbFwiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBPYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBPYnNlcnZhYmxlQXJyYXkgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlLWFycmF5XCIpLk9ic2VydmFibGVBcnJheTtcbnZhciBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xuXG5mdW5jdGlvbiBQcm9maWxlU2VhcmNoVmlld01vZGVsKGl0ZW1zKSB7XG4gICAgY29uc3Qgdmlld01vZGVsID0gbmV3IE9ic2VydmFibGVBcnJheShpdGVtcyk7XG4gICAgXG4gICAgdmlld01vZGVsLmxvYWQgPSBmdW5jdGlvbihyZWxhdGlvbmFsVHlwZSwgcmVsYXRpb25hbElkLCBmaWx0ZXIsIHBhZ2UsIHBhZ2VTaXplKSB7XG4gICAgICAgIHJldHVybiBodHRwLnJlcXVlc3Qoe1xuICAgICAgICAgICAgdXJsOiBnbG9iYWwuYXBpQmFzZVNlcnZpY2VVcmwgKyBcInByb2ZpbGVyZWxhdGlvbnNoaXBmaWx0ZXI/cmVsYXRpb25hbFR5cGU9XCIgKyByZWxhdGlvbmFsVHlwZSArIFwiJnJlbGF0aW9uYWxJZD1cIiArIHJlbGF0aW9uYWxJZCArIFwiJmZpbHRlcj1cIiArIGZpbHRlci5yZXBsYWNlKC8gL2csIFwiJTIwXCIpICsgXCImcGFnZT1cIiArIHBhZ2UgKyBcIiZwYWdlU2l6ZT1cIiArIHBhZ2VTaXplLFxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiwgXCJBdXRob3JpemF0aW9uXCI6IGdsb2JhbC50b2tlbiB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzcG9uc2UuY29udGVudC50b1N0cmluZygpO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHJlc3VsdCk7XG5cbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihwcm9maWxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb2ZpbGUuUGVyc29uSWQgIT09IG51bGwgJiYgcHJvZmlsZS5QZXJzb25JZCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hlY2tlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9maWxlLkNoZWNrZWQgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uYWxUeXBlOiBwcm9maWxlLlJlbGF0aW9uYWxUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25hbElkOiBwcm9maWxlLlJlbGF0aW9uYWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcnNvbklkOiBwcm9maWxlLlBlcnNvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVsbE5hbWU6IHByb2ZpbGUuRnVsbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wYW55OiBwcm9maWxlLkNvbXBhbnksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogcHJvZmlsZS5UaXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IGNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogcHJvZmlsZS5Ub3RhbFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGRpYWxvZ3MuYWxlcnQoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIG9rQnV0dG9uVGV4dDogXCJPS1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZpZXdNb2RlbC5lbXB0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB3aGlsZSAodmlld01vZGVsLmxlbmd0aCkge1xuICAgICAgICAgICAgdmlld01vZGVsLnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gdmlld01vZGVsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFByb2ZpbGVTZWFyY2hWaWV3TW9kZWw7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vcHJvZmlsZXMvcHJvZmlsZXNlYXJjaC9vbGQvcHJvZmlsZXNlYXJjaC12aWV3LW1vZGVsLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vcHJvZmlsZXMvcHJvZmlsZXNlYXJjaC9vbGQvcHJvZmlsZXNlYXJjaC12aWV3LW1vZGVsLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsImNvbnN0IFByb2ZpbGVTZWFyY2hWaWV3TW9kZWwgPSByZXF1aXJlKFwiLi9wcm9maWxlc2VhcmNoLXZpZXctbW9kZWxcIik7XG5jb25zdCBwbGF0Zm9ybSA9IHJlcXVpcmUoXCJwbGF0Zm9ybVwiKTtcbmNvbnN0IE9ic2VydmFibGVNb2R1bGUgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlXCIpO1xudmFyIGh0dHAgPSByZXF1aXJlKFwiaHR0cFwiKTtcbnZhciBmcmFtZU1vZHVsZSA9IHJlcXVpcmUoXCJ1aS9mcmFtZVwiKTtcbnZhciBkaWFsb2dzID0gcmVxdWlyZShcInVpL2RpYWxvZ3NcIik7XG52YXIgcGFnZTtcbnZhciBuYXZpZ2F0aW9uQ29udGV4dDtcblxudmFyIHNlYXJjaEJhcjtcbnZhciBwcm9maWxlU2VhcmNoUGFnZVNpemUgPSAyNTtcbnZhciBwcm9maWxlU2VhcmNoU2VhcmNoVGV4dCA9IFwiXCI7XG52YXIgcHJvZmlsZVNlYXJjaFNlYXJjaFN1Ym1pdHRlZCA9IGZhbHNlO1xuXG52YXIgcHJldmlvdXNTZWxlY3RlZCA9IG51bGw7XG5cbnZhciBwcm9maWxlU2VhcmNoTGlzdCA9IG5ldyBQcm9maWxlU2VhcmNoVmlld01vZGVsKFtdKTtcblxudmFyIHBhZ2VEYXRhID0gbmV3IE9ic2VydmFibGVNb2R1bGUuZnJvbU9iamVjdCh7XG4gICAgYm91bmREYXRhOiBudWxsLFxuICAgIHByb2ZpbGVTZWFyY2hMaXN0OiBwcm9maWxlU2VhcmNoTGlzdCxcbiAgICBpc0xvYWRpbmc6IGZhbHNlXG59KTtcblxuZnVuY3Rpb24gb25OYXZpZ2F0aW5nVG8oYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHBhZ2UgPSBhcmdzLm9iamVjdDtcbiAgICAgICAgbmF2aWdhdGlvbkNvbnRleHQgPSBwYWdlLm5hdmlnYXRpb25Db250ZXh0O1xuICAgICAgICBcbiAgICAgICAgaWYgKG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxUeXBlID09PSBcImxlZ2lzbGF0b3JcIikge1xuICAgICAgICAgICAgcGFnZS5hY3Rpb25CYXIudGl0bGUgPSBcIlByb2ZpbGUgU2VhcmNoXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYWdlLmFjdGlvbkJhci50aXRsZSA9IFwiUENJIEF0dGVuZGVlIFNlYXJjaFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFnZURhdGEuYm91bmREYXRhID0gbmF2aWdhdGlvbkNvbnRleHQ7XG5cbiAgICAgICAgLy8gaWYgKHByb2ZpbGVTZWFyY2hTZWFyY2hUZXh0ICE9PSBcIlwiKSB7XG4gICAgICAgIC8vICAgICB2YXIgc2VhcmNoQmFyID0gcGFnZS5nZXRWaWV3QnlJZChcInNlYXJjaEJhclwiKTtcblxuICAgICAgICAvLyAgICAgc2VhcmNoQmFyLnRleHQgPSBwcm9maWxlU2VhcmNoU2VhcmNoVGV4dDtcbiAgICAgICAgLy8gfVxuICAgICAgICBcbiAgICAgICAgLy8gaWYgKHByb2ZpbGVTZWFyY2hMaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBwcm9maWxlU2VhcmNoU2VhcmNoVGV4dCA9IFwiXCI7XG4gICAgICAgIFxuICAgICAgICBwcm9maWxlU2VhcmNoTGlzdC5lbXB0eSgpO1xuXG4gICAgICAgIHBhZ2VEYXRhLnNldChcImlzTG9hZGluZ1wiLCB0cnVlKTtcblxuICAgICAgICBwcm9maWxlU2VhcmNoTGlzdC5sb2FkKG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxUeXBlLCBuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsSWQsIHByb2ZpbGVTZWFyY2hTZWFyY2hUZXh0LCAxLCBwcm9maWxlU2VhcmNoUGFnZVNpemUpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcblxuICAgICAgICAgICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHBhZ2VEYXRhO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gfVxuXG4gICAgfVxuICAgIGNhdGNoKGUpXG4gICAge1xuICAgICAgICBkaWFsb2dzLmFsZXJ0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBva0J1dHRvblRleHQ6IFwiT0tcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU2VhcmNoQmFyTG9hZGVkKGFyZ3MpXG57XG4gICAgc2VhcmNoQmFyID0gYXJncy5vYmplY3Q7XG5cbiAgICBpZiAocGxhdGZvcm0uaXNBbmRyb2lkKSB7XG4gICAgICAgIHNlYXJjaEJhci5hbmRyb2lkLmNsZWFyRm9jdXMoKTtcbiAgICB9IGVsc2UgaWYgKHBsYXRmb3JtLmlzSU9TKSB7XG4gICAgICAgIC8vIGlPUyBTdHlsaW5nXG4gICAgICAgIHNlYXJjaEJhci5pb3Muc2VhcmNoQmFyU3R5bGUgPSBVSVNlYXJjaEJhclN0eWxlLlVJU2VhcmNoQmFyU3R5bGVNaW5pbWFsO1xuICAgICAgICBzZWFyY2hCYXIuaW9zLnNob3dzQ2FuY2VsQnV0dG9uID0gdHJ1ZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uU3VibWl0KGFyZ3MpXG57XG4gICAgc2VhcmNoQmFyID0gYXJncy5vYmplY3Q7XG5cbiAgICBwcm9maWxlU2VhcmNoU2VhcmNoVGV4dCA9IHNlYXJjaEJhci50ZXh0LnRyaW0oKTtcblxuICAgIHByb2ZpbGVTZWFyY2hMaXN0LmVtcHR5KCk7XG4gICAgXG4gICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuXG4gICAgcHJvZmlsZVNlYXJjaExpc3QubG9hZChuYXZpZ2F0aW9uQ29udGV4dC5yZWxhdGlvbmFsVHlwZSwgbmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbElkLCBwcm9maWxlU2VhcmNoU2VhcmNoVGV4dCwgMSwgcHJvZmlsZVNlYXJjaFBhZ2VTaXplKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIGZhbHNlKTtcblxuICAgICAgICBwcm9maWxlU2VhcmNoU2VhcmNoU3VibWl0dGVkID0gdHJ1ZTtcbiAgICBcbiAgICAgICAgc2VhcmNoQmFyLmRpc21pc3NTb2Z0SW5wdXQoKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gb25DbGVhcihhcmdzKVxue1xuICAgIHNlYXJjaEJhci50ZXh0ID0gXCJcIjtcbiAgICBwcm9maWxlU2VhcmNoU2VhcmNoVGV4dCA9IFwiXCI7XG5cbiAgICBpZiAocHJvZmlsZVNlYXJjaFNlYXJjaFN1Ym1pdHRlZCkge1xuICAgICAgICBwcm9maWxlU2VhcmNoTGlzdC5lbXB0eSgpO1xuICAgICAgICBcbiAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuXG4gICAgICAgIHByb2ZpbGVTZWFyY2hMaXN0LmxvYWQobmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbFR5cGUsIG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxJZCwgcHJvZmlsZVNlYXJjaFNlYXJjaFRleHQsIDEsIHByb2ZpbGVTZWFyY2hQYWdlU2l6ZSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuXG4gICAgICAgICAgICBwcm9maWxlU2VhcmNoU2VhcmNoU3VibWl0dGVkID0gZmFsc2U7XG4gICAgICAgIFxuICAgICAgICAgICAgc2VhcmNoQmFyLmRpc21pc3NTb2Z0SW5wdXQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkxvYWRNb3JlSXRlbXMoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBwcm9maWxlU2VhcmNoTGlzdENvdW50ID0gcHJvZmlsZVNlYXJjaExpc3QubGVuZ3RoO1xuICAgICAgICB2YXIgcHJvZmlsZVNlYXJjaFBhZ2VOdW1iZXIgPSBNYXRoLmNlaWwocHJvZmlsZVNlYXJjaExpc3RDb3VudCAvIHByb2ZpbGVTZWFyY2hQYWdlU2l6ZSkgKyAxO1xuICAgICAgICB2YXIgcHJvZmlsZVNlYXJjaFJlbWFpbmRlciA9IHByb2ZpbGVTZWFyY2hMaXN0Q291bnQgJSBwcm9maWxlU2VhcmNoUGFnZVNpemU7XG5cbiAgICAgICAgaWYgKHByb2ZpbGVTZWFyY2hSZW1haW5kZXIgIT09IDAgJiYgcHJvZmlsZVNlYXJjaFJlbWFpbmRlciA8IHByb2ZpbGVTZWFyY2hQYWdlU2l6ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFnZURhdGEuc2V0KFwiaXNMb2FkaW5nXCIsIHRydWUpO1xuXG4gICAgICAgIHByb2ZpbGVTZWFyY2hMaXN0LmxvYWQobmF2aWdhdGlvbkNvbnRleHQucmVsYXRpb25hbFR5cGUsIG5hdmlnYXRpb25Db250ZXh0LnJlbGF0aW9uYWxJZCwgcHJvZmlsZVNlYXJjaFNlYXJjaFRleHQsIHByb2ZpbGVTZWFyY2hQYWdlTnVtYmVyLCBwcm9maWxlU2VhcmNoUGFnZVNpemUpLnRoZW4oZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICBwYWdlRGF0YS5zZXQoXCJpc0xvYWRpbmdcIiwgZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLFxuICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkJhY2tUYXAoYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGZyYW1lTW9kdWxlLnRvcG1vc3QoKS5nb0JhY2soKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgZGlhbG9ncy5hbGVydChlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uSXRlbVRhcChhcmdzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gcGFnZURhdGEucHJvZmlsZVNlYXJjaExpc3QuZ2V0SXRlbShhcmdzLmluZGV4KTsgLy8uc2V0KFwiY2hlY2tlZFwiLCB0cnVlKTtcblxuICAgICAgICBzZWxlY3RlZC5jaGVja2VkID0gIXNlbGVjdGVkLmNoZWNrZWQ7XG5cbiAgICAgICAgaWYgKHByZXZpb3VzU2VsZWN0ZWQgIT09IG51bGwgJiBwcmV2aW91c1NlbGVjdGVkICE9PSBzZWxlY3RlZCkge1xuICAgICAgICAgICAgcHJldmlvdXNTZWxlY3RlZC5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHBhZ2UuZ2V0Vmlld0J5SWQoXCJwcm9maWxlU2VhcmNoXCIpLnJlZnJlc2goKTtcblxuICAgICAgICBpZiAoc2VsZWN0ZWQuY2hlY2tlZCkge1xuICAgICAgICAgICAgcHJldmlvdXNTZWxlY3RlZCA9IHNlbGVjdGVkO1xuXG4gICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEucGVyc29uSWQgPSBzZWxlY3RlZC5wZXJzb25JZDtcbiAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5mdWxsTmFtZSA9IHNlbGVjdGVkLmZ1bGxOYW1lO1xuICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLmNvbXBhbnkgPSBzZWxlY3RlZC5jb21wYW55O1xuICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLnRpdGxlID0gc2VsZWN0ZWQudGl0bGU7XG4gICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEuZW1haWxBZGRyZXNzID0gc2VsZWN0ZWQuZW1haWxBZGRyZXNzO1xuICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLndvcmtQaG9uZSA9IHNlbGVjdGVkLndvcmtQaG9uZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByZXZpb3VzU2VsZWN0ZWQgPSBudWxsO1xuXG4gICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEucGVyc29uSWQgPSBudWxsO1xuICAgICAgICAgICAgcGFnZURhdGEuYm91bmREYXRhLmZ1bGxOYW1lID0gbnVsbDtcbiAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS5jb21wYW55ID0gbnVsbDtcbiAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS50aXRsZSA9IG51bGw7XG4gICAgICAgICAgICBwYWdlRGF0YS5ib3VuZERhdGEuZW1haWxBZGRyZXNzID0gbnVsbDtcbiAgICAgICAgICAgIHBhZ2VEYXRhLmJvdW5kRGF0YS53b3JrUGhvbmUgPSBudWxsO1xuICAgICAgICB9XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAgIGRpYWxvZ3MuYWxlcnQoZSk7XG4gICAgfVxufVxuXG5leHBvcnRzLm9uTmF2aWdhdGluZ1RvID0gb25OYXZpZ2F0aW5nVG87XG5leHBvcnRzLm9uU2VhcmNoQmFyTG9hZGVkID0gb25TZWFyY2hCYXJMb2FkZWQ7XG5leHBvcnRzLm9uU3VibWl0ID0gb25TdWJtaXQ7XG5leHBvcnRzLm9uQ2xlYXIgPSBvbkNsZWFyO1xuZXhwb3J0cy5vbkxvYWRNb3JlSXRlbXMgPSBvbkxvYWRNb3JlSXRlbXM7XG5leHBvcnRzLm9uQmFja1RhcCA9IG9uQmFja1RhcDtcbmV4cG9ydHMub25JdGVtVGFwID0gb25JdGVtVGFwO1xuOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvcHJvZmlsZXNlYXJjaC1wYWdlLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vcHJvZmlsZXMvcHJvZmlsZXNlYXJjaC9wcm9maWxlc2VhcmNoLXBhZ2UuanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiXG5tb2R1bGUuZXhwb3J0cyA9IFwiPFBhZ2UgbmF2aWdhdGluZ1RvPVxcXCJvbk5hdmlnYXRpbmdUb1xcXCIgY2xhc3M9XFxcInBhZ2VcXFwiIHhtbG5zPVxcXCJodHRwOi8vc2NoZW1hcy5uYXRpdmVzY3JpcHQub3JnL3Rucy54c2RcXFwiID5cXG4gICAgPEFjdGlvbkJhciBjbGFzcz1cXFwiYWN0aW9uLWJhclxcXCI+XFxuICAgICAgICA8YW5kcm9pZD5cXG4gICAgICAgICAgICA8TmF2aWdhdGlvbkJ1dHRvbiBhbmRyb2lkLnN5c3RlbUljb249XFxcImljX21lbnVfYmFja1xcXCIgdGFwPVxcXCJvbkJhY2tUYXBcXFwiIC8+XFxuICAgICAgICA8L2FuZHJvaWQ+XFxuICAgIDwvQWN0aW9uQmFyPlxcblxcbiAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqXFxcIiByb3dzPVxcXCJhdXRvLCAqXFxcIiBoZWlnaHQ9XFxcIjEwMCVcXFwiIHdpZHRoPVxcXCIxMDAlXFxcIj5cXG4gICAgICAgIDxTdGFja0xheW91dCByb3c9XFxcIjBcXFwiIGNvbD1cXFwiMFxcXCIgdmVydGljYWxBbGlnbm1lbnQ9XFxcInRvcFxcXCIgaG9yaXpvbnRhbEFsaWdubWVudD1cXFwiY2VudGVyXFxcIiBkaXJlY3Rpb249XFxcImhvcml6b250YWxcXFwiPlxcbiAgICAgICAgICAgIDxTZWFyY2hCYXIgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIGlkPVxcXCJzZWFyY2hCYXJcXFwiIGhpbnQ9XFxcIlNlYXJjaFxcXCIgdGV4dD1cXFwiXFxcIiBsb2FkZWQ9XFxcIm9uU2VhcmNoQmFyTG9hZGVkXFxcIiBzdWJtaXQ9XFxcIm9uU3VibWl0XFxcIiBjbGVhcj1cXFwib25DbGVhclxcXCIgLz5cXG4gICAgICAgIDwvU3RhY2tMYXlvdXQ+XFxuICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIxXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJ0b3BcXFwiPlxcbiAgICAgICAgICAgIDxMaXN0VmlldyBpZD1cXFwicHJvZmlsZVNlYXJjaFxcXCIgaXRlbXM9XFxcInt7IHByb2ZpbGVTZWFyY2hMaXN0IH19XFxcIiBpdGVtVGFwPVxcXCJvbkl0ZW1UYXBcXFwiIGxvYWRNb3JlSXRlbXM9XFxcIm9uTG9hZE1vcmVJdGVtc1xcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIj5cXG4gICAgICAgICAgICAgICAgPExpc3RWaWV3Lml0ZW1UZW1wbGF0ZT5cXG4gICAgICAgICAgICAgICAgICAgIDxTdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZExheW91dCBjb2x1bW5zPVxcXCIqLCBhdXRvXFxcIiByb3dzPVxcXCIqXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW1cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjBcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJtaWRkbGVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHRleHQ9XFxcInt7IGZ1bGxOYW1lIH19XFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tbWFpbi10b3BcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cXFwie3sgY29tcGFueSB9fVxcXCIgdGV4dFdyYXA9XFxcInRydWVcXFwiIGNsYXNzPVxcXCJsaXN0LXZpZXctaXRlbS1zdWJcXFwiIC8+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgdGV4dD1cXFwie3sgdGl0bGUgfX1cXFwiIHRleHRXcmFwPVxcXCJ0cnVlXFxcIiBjbGFzcz1cXFwibGlzdC12aWV3LWl0ZW0tc3ViXFxcIiAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3RhY2tMYXlvdXQgcm93PVxcXCIwXFxcIiBjb2w9XFxcIjFcXFwiIHZlcnRpY2FsQWxpZ25tZW50PVxcXCJtaWRkbGVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhYmVsIHJvdz1cXFwiMFxcXCIgY29sPVxcXCIxXFxcIiB0ZXh0PVxcXCImI3hmMDBjO1xcXCIgY2xhc3M9XFxcImZuLWxpc3Qtdmlldy1pdGVtLXNtYWxsXFxcIiB2aXNpYmlsaXR5PVxcXCJ7eyBjaGVja2VkID8gJ3Zpc2libGUnIDogJ2NvbGxhcHNlJyB9fVxcXCIgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWRMYXlvdXQ+XFxuICAgICAgICAgICAgICAgICAgICA8L1N0YWNrTGF5b3V0PlxcbiAgICAgICAgICAgICAgICA8L0xpc3RWaWV3Lml0ZW1UZW1wbGF0ZT5cXG4gICAgICAgICAgICA8L0xpc3RWaWV3PlxcbiAgICAgICAgPC9TdGFja0xheW91dD5cXG4gICAgICAgIDxBY3Rpdml0eUluZGljYXRvciBidXN5PVxcXCJ7eyBpc0xvYWRpbmcgfX1cXFwiIGFuZHJvaWQ6aGVpZ2h0PVxcXCIyNSVcXFwiIGFuZHJvaWQ6d2lkdGg9XFxcIjI1JVxcXCIgaW9zLmFjdGl2aXR5SW5kaWNhdG9yVmlld1N0eWxlPVxcXCJ3aGl0ZUxhcmdlXFxcIiByb3dTcGFuPVxcXCIyXFxcIiBjb2xTcGFuPVxcXCIxXFxcIiAvPlxcbiAgICA8L0dyaWRMYXlvdXQ+XFxuPC9QYWdlPlxcblwiOyBcbmlmIChtb2R1bGUuaG90ICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSSAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkoXCIuL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvcHJvZmlsZXNlYXJjaC1wYWdlLnhtbFwiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJtYXJrdXBcIiwgcGF0aDogXCIuL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvcHJvZmlsZXNlYXJjaC1wYWdlLnhtbFwiIH0pO1xuICAgIH0pO1xufSAiLCJjb25zdCBPYnNlcnZhYmxlTW9kdWxlID0gcmVxdWlyZShcImRhdGEvb2JzZXJ2YWJsZVwiKTtcbnZhciBPYnNlcnZhYmxlQXJyYXkgPSByZXF1aXJlKFwiZGF0YS9vYnNlcnZhYmxlLWFycmF5XCIpLk9ic2VydmFibGVBcnJheTtcbnZhciBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG52YXIgZGlhbG9ncyA9IHJlcXVpcmUoXCJ1aS9kaWFsb2dzXCIpO1xuXG5mdW5jdGlvbiBQcm9maWxlU2VhcmNoVmlld01vZGVsKGl0ZW1zKSB7XG4gICAgY29uc3Qgdmlld01vZGVsID0gbmV3IE9ic2VydmFibGVBcnJheShpdGVtcyk7XG4gICAgXG4gICAgdmlld01vZGVsLmxvYWQgPSBmdW5jdGlvbihyZWxhdGlvbmFsVHlwZSwgcmVsYXRpb25hbElkLCBmaWx0ZXIsIHBhZ2UsIHBhZ2VTaXplKSB7XG4gICAgICAgIHJldHVybiBodHRwLnJlcXVlc3Qoe1xuICAgICAgICAgICAgdXJsOiBnbG9iYWwuYXBpQmFzZVNlcnZpY2VVcmwgKyBcInByb2ZpbGVyZWxhdGlvbnNoaXBmaWx0ZXI/cmVsYXRpb25hbFR5cGU9XCIgKyByZWxhdGlvbmFsVHlwZSArIFwiJnJlbGF0aW9uYWxJZD1cIiArIHJlbGF0aW9uYWxJZCArIFwiJmZpbHRlcj1cIiArIGZpbHRlci5yZXBsYWNlKC8gL2csIFwiJTIwXCIpICsgXCImcGFnZT1cIiArIHBhZ2UgKyBcIiZwYWdlU2l6ZT1cIiArIHBhZ2VTaXplLFxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiwgXCJBdXRob3JpemF0aW9uXCI6IGdsb2JhbC50b2tlbiB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzcG9uc2UuY29udGVudC50b1N0cmluZygpO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHJlc3VsdCk7XG5cbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihwcm9maWxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb2ZpbGUuUGVyc29uSWQgIT09IG51bGwgJiYgcHJvZmlsZS5QZXJzb25JZCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hlY2tlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9maWxlLkNoZWNrZWQgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlld01vZGVsLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uYWxUeXBlOiBwcm9maWxlLlJlbGF0aW9uYWxUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uYWxJZDogcHJvZmlsZS5SZWxhdGlvbmFsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyc29uSWQ6IHByb2ZpbGUuUGVyc29uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbE5hbWU6IHByb2ZpbGUuRnVsbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFueTogcHJvZmlsZS5Db21wYW55LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBwcm9maWxlLlRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsQWRkcmVzczogcHJvZmlsZS5FbWFpbEFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ya1Bob25lOiBwcm9maWxlLldvcmtQaG9uZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkOiBjaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiBwcm9maWxlLlRvdGFsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZGlhbG9ncy5hbGVydCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgb2tCdXR0b25UZXh0OiBcIk9LXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmlld01vZGVsLmVtcHR5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHdoaWxlICh2aWV3TW9kZWwubGVuZ3RoKSB7XG4gICAgICAgICAgICB2aWV3TW9kZWwucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHJldHVybiB2aWV3TW9kZWw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUHJvZmlsZVNlYXJjaFZpZXdNb2RlbDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi9wcm9maWxlcy9wcm9maWxlc2VhcmNoL3Byb2ZpbGVzZWFyY2gtdmlldy1tb2RlbC5qc1wiKSApIHtcbiAgICBcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpO1xuICAgIG1vZHVsZS5ob3QuZGlzcG9zZSgoKSA9PiB7XG4gICAgICAgIGdsb2JhbC5obXJSZWZyZXNoKHsgdHlwZTogXCJzY3JpcHRcIiwgcGF0aDogXCIuL3Byb2ZpbGVzL3Byb2ZpbGVzZWFyY2gvcHJvZmlsZXNlYXJjaC12aWV3LW1vZGVsLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIi8vIFRoZXJlIGlzIGEgYnVnIGluIGFuZ3VsYXI6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXItY2xpL3B1bGwvODU4OS9maWxlc1xuLy8gTGVnZW5kYXJ5IHN0dWZmLCBpdHMgd2VicGFjayBwbHVnaW4gcHJldHR5IG11Y2ggZG9lc24ndCB3b3JrIHdpdGggZW1wdHkgVHlwZVNjcmlwdCBmaWxlcyBpbiB2MS44LjNcbnZvaWQgMDtcbjsgXG5pZiAobW9kdWxlLmhvdCAmJiBnbG9iYWwuX2lzTW9kdWxlTG9hZGVkRm9yVUkgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJKFwiLi92ZW5kb3ItcGxhdGZvcm0uanNcIikgKSB7XG4gICAgXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKTtcbiAgICBtb2R1bGUuaG90LmRpc3Bvc2UoKCkgPT4ge1xuICAgICAgICBnbG9iYWwuaG1yUmVmcmVzaCh7IHR5cGU6IFwic2NyaXB0XCIsIHBhdGg6IFwiLi92ZW5kb3ItcGxhdGZvcm0uanNcIiB9KTtcbiAgICB9KTtcbn0gIiwiLy8gU25hcHNob3QgdGhlIH4vYXBwLmNzcyBhbmQgdGhlIHRoZW1lXG5jb25zdCBhcHBsaWNhdGlvbiA9IHJlcXVpcmUoXCJhcHBsaWNhdGlvblwiKTtcbnJlcXVpcmUoXCJ1aS9zdHlsaW5nL3N0eWxlLXNjb3BlXCIpO1xuY29uc3QgYXBwQ3NzQ29udGV4dCA9IHJlcXVpcmUuY29udGV4dChcIn4vXCIsIGZhbHNlLCAvXlxcLlxcL2FwcFxcLihjc3N8c2Nzc3xsZXNzfHNhc3MpJC8pO1xuZ2xvYmFsLnJlZ2lzdGVyV2VicGFja01vZHVsZXMoYXBwQ3NzQ29udGV4dCk7XG5hcHBsaWNhdGlvbi5sb2FkQXBwQ3NzKCk7XG5cbnJlcXVpcmUoXCIuL3ZlbmRvci1wbGF0Zm9ybVwiKTtcblxucmVxdWlyZShcImJ1bmRsZS1lbnRyeS1wb2ludHNcIik7XG47IFxuaWYgKG1vZHVsZS5ob3QgJiYgZ2xvYmFsLl9pc01vZHVsZUxvYWRlZEZvclVJICYmIGdsb2JhbC5faXNNb2R1bGVMb2FkZWRGb3JVSShcIi4vdmVuZG9yLmpzXCIpICkge1xuICAgIFxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KCk7XG4gICAgbW9kdWxlLmhvdC5kaXNwb3NlKCgpID0+IHtcbiAgICAgICAgZ2xvYmFsLmhtclJlZnJlc2goeyB0eXBlOiBcInNjcmlwdFwiLCBwYXRoOiBcIi4vdmVuZG9yLmpzXCIgfSk7XG4gICAgfSk7XG59ICIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIn4vcGFja2FnZS5qc29uXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=